var Ts=Object.defineProperty;var Ps=(i,o,s)=>o in i?Ts(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s;var xt=(i,o,s)=>Ps(i,typeof o!="symbol"?o+"":o,s);function _mergeNamespaces(i,o){for(var s=0;s<o.length;s++){const a=o[s];if(typeof a!="string"&&!Array.isArray(a)){for(const _ in a)if(_!=="default"&&!(_ in i)){const $=Object.getOwnPropertyDescriptor(a,_);$&&Object.defineProperty(i,_,$.get?$:{enumerable:!0,get:()=>a[_]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))a(_);new MutationObserver(_=>{for(const $ of _)if($.type==="childList")for(const _e of $.addedNodes)_e.tagName==="LINK"&&_e.rel==="modulepreload"&&a(_e)}).observe(document,{childList:!0,subtree:!0});function s(_){const $={};return _.integrity&&($.integrity=_.integrity),_.referrerPolicy&&($.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?$.credentials="include":_.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function a(_){if(_.ep)return;_.ep=!0;const $=s(_);fetch(_.href,$)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var o=i.default;if(typeof o=="function"){var s=function a(){return this instanceof a?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};s.prototype=o.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var _=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(s,a,_.get?_:{enumerable:!0,get:function(){return i[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,s){var a,_={},$=null,_e=null;if(o!=null)for(a in o.ref!==void 0&&(_e=o.ref),o.key!==void 0&&($=""+o.key),o)J.call(o,a)&&!L$1.hasOwnProperty(a)&&(_[a]=o[a]);var tt=arguments.length-2;if(tt===1)_.children=s;else if(1<tt){for(var nt=Array(tt),it=0;it<tt;it++)nt[it]=arguments[it+2];_.children=nt}if(i&&i.defaultProps)for(a in tt=i.defaultProps,tt)_[a]===void 0&&(_[a]=tt[a]);return{$$typeof:l$2,type:i,key:$,ref:_e,props:_,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$2,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$1(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return o[s]})}var P$2=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):o.toString(36)}function R$1(i,o,s,a,_){var $=typeof i;($==="undefined"||$==="boolean")&&(i=null);var _e=!1;if(i===null)_e=!0;else switch($){case"string":case"number":_e=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:_e=!0}}if(_e)return _e=i,_=_(_e),i=a===""?"."+Q$1(_e,0):a,I$1(_)?(s="",i!=null&&(s=i.replace(P$2,"$&/")+"/"),R$1(_,o,s,"",function(it){return it})):_!=null&&(O$1(_)&&(_=N$1(_,s+(!_.key||_e&&_e.key===_.key?"":(""+_.key).replace(P$2,"$&/")+"/")+i)),o.push(_)),1;if(_e=0,a=a===""?".":a+":",I$1(i))for(var tt=0;tt<i.length;tt++){$=i[tt];var nt=a+Q$1($,tt);_e+=R$1($,o,s,nt,_)}else if(nt=A$2(i),typeof nt=="function")for(i=nt.call(i),tt=0;!($=i.next()).done;)$=$.value,nt=a+Q$1($,tt++),_e+=R$1($,o,s,nt,_);else if($==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return _e}function S$1(i,o,s){if(i==null)return i;var a=[],_=0;return R$1(i,a,"","",function($){return o.call(s,$,_++)}),a}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,o,s){S$1(i,function(){o.apply(this,arguments)},s)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(i,o,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),_=i.key,$=i.ref,_e=i._owner;if(o!=null){if(o.ref!==void 0&&($=o.ref,_e=K$1.current),o.key!==void 0&&(_=""+o.key),i.type&&i.type.defaultProps)var tt=i.type.defaultProps;for(nt in o)J.call(o,nt)&&!L$1.hasOwnProperty(nt)&&(a[nt]=o[nt]===void 0&&tt!==void 0?tt[nt]:o[nt])}var nt=arguments.length-2;if(nt===1)a.children=s;else if(1<nt){tt=Array(nt);for(var it=0;it<nt;it++)tt[it]=arguments[it+2];a.children=tt}return{$$typeof:l$2,type:i.type,key:_,ref:$,props:a,_owner:_e}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,s){return U$1.current.useImperativeHandle(i,o,s)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,s){return U$1.current.useReducer(i,o,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,s){return U$1.current.useSyncExternalStore(i,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,o,s){var a,_={},$=null,_e=null;s!==void 0&&($=""+s),o.key!==void 0&&($=""+o.key),o.ref!==void 0&&(_e=o.ref);for(a in o)m$2.call(o,a)&&!p$2.hasOwnProperty(a)&&(_[a]=o[a]);if(i&&i.defaultProps)for(a in o=i.defaultProps,o)_[a]===void 0&&(_[a]=o[a]);return{$$typeof:k$1,type:i,key:$,ref:_e,props:_,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(At,$t){var Ft=At.length;At.push($t);e:for(;0<Ft;){var Ut=Ft-1>>>1,Kt=At[Ut];if(0<_(Kt,$t))At[Ut]=$t,At[Ft]=Kt,Ft=Ut;else break e}}function s(At){return At.length===0?null:At[0]}function a(At){if(At.length===0)return null;var $t=At[0],Ft=At.pop();if(Ft!==$t){At[0]=Ft;e:for(var Ut=0,Kt=At.length,ar=Kt>>>1;Ut<ar;){var lr=2*(Ut+1)-1,rr=At[lr],Jt=lr+1,cr=At[Jt];if(0>_(rr,Ft))Jt<Kt&&0>_(cr,rr)?(At[Ut]=cr,At[Jt]=Ft,Ut=Jt):(At[Ut]=rr,At[lr]=Ft,Ut=lr);else if(Jt<Kt&&0>_(cr,Ft))At[Ut]=cr,At[Jt]=Ft,Ut=Jt;else break e}}return $t}function _(At,$t){var Ft=At.sortIndex-$t.sortIndex;return Ft!==0?Ft:At.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;i.unstable_now=function(){return $.now()}}else{var _e=Date,tt=_e.now();i.unstable_now=function(){return _e.now()-tt}}var nt=[],it=[],ot=1,et=null,j=3,rt=!1,st=!1,at=!1,lt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dt(At){for(var $t=s(it);$t!==null;){if($t.callback===null)a(it);else if($t.startTime<=At)a(it),$t.sortIndex=$t.expirationTime,o(nt,$t);else break;$t=s(it)}}function ft(At){if(at=!1,dt(At),!st)if(s(nt)!==null)st=!0,St(ht);else{var $t=s(it);$t!==null&&Ot(ft,$t.startTime-At)}}function ht(At,$t){st=!1,at&&(at=!1,ct(yt),yt=-1),rt=!0;var Ft=j;try{for(dt($t),et=s(nt);et!==null&&(!(et.expirationTime>$t)||At&&!wt());){var Ut=et.callback;if(typeof Ut=="function"){et.callback=null,j=et.priorityLevel;var Kt=Ut(et.expirationTime<=$t);$t=i.unstable_now(),typeof Kt=="function"?et.callback=Kt:et===s(nt)&&a(nt),dt($t)}else a(nt);et=s(nt)}if(et!==null)var ar=!0;else{var lr=s(it);lr!==null&&Ot(ft,lr.startTime-$t),ar=!1}return ar}finally{et=null,j=Ft,rt=!1}}var mt=!1,bt=null,yt=-1,gt=5,vt=-1;function wt(){return!(i.unstable_now()-vt<gt)}function Ct(){if(bt!==null){var At=i.unstable_now();vt=At;var $t=!0;try{$t=bt(!0,At)}finally{$t?Rt():(mt=!1,bt=null)}}else mt=!1}var Rt;if(typeof ut=="function")Rt=function(){ut(Ct)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Pt=It.port2;It.port1.onmessage=Ct,Rt=function(){Pt.postMessage(null)}}else Rt=function(){lt(Ct,0)};function St(At){bt=At,mt||(mt=!0,Rt())}function Ot(At,$t){yt=lt(function(){At(i.unstable_now())},$t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(At){At.callback=null},i.unstable_continueExecution=function(){st||rt||(st=!0,St(ht))},i.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<At?Math.floor(1e3/At):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return s(nt)},i.unstable_next=function(At){switch(j){case 1:case 2:case 3:var $t=3;break;default:$t=j}var Ft=j;j=$t;try{return At()}finally{j=Ft}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(At,$t){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var Ft=j;j=At;try{return $t()}finally{j=Ft}},i.unstable_scheduleCallback=function(At,$t,Ft){var Ut=i.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Ut+Ft:Ut):Ft=Ut,At){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=Ft+Kt,At={id:ot++,callback:$t,priorityLevel:At,startTime:Ft,expirationTime:Kt,sortIndex:-1},Ft>Ut?(At.sortIndex=Ft,o(it,At),s(nt)===null&&At===s(it)&&(at?(ct(yt),yt=-1):at=!0,Ot(ft,Ft-Ut))):(At.sortIndex=Kt,o(nt,At),st||rt||(st=!0,St(ht))),At},i.unstable_shouldYield=wt,i.unstable_wrapCallback=function(At){var $t=j;return function(){var Ft=j;j=$t;try{return At.apply(this,arguments)}finally{j=Ft}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,s,a){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,s,a){if(o===null||typeof o>"u"||pa(i,o,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$1(i,o,s,a,_,$,_e){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=a,this.attributeNamespace=_,this.mustUseProperty=s,this.propertyName=i,this.type=o,this.sanitizeURL=$,this.removeEmptyString=_e}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z$1[o]=new v$1(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,s,a){var _=z$1.hasOwnProperty(o)?z$1[o]:null;(_!==null?_.type!==0:a||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,_,a)&&(s=null),a||_===null?oa(o)&&(s===null?i.removeAttribute(o):i.setAttribute(o,""+s)):_.mustUseProperty?i[_.propertyName]=s===null?_.type===3?!1:"":s:(o=_.attributeName,a=_.attributeNamespace,s===null?i.removeAttribute(o):(_=_.type,s=_===3||_===4&&s===!0?"":""+s,a?i.setAttributeNS(a,o,s):i.setAttribute(o,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(it){var a=it}Reflect.construct(i,[],o)}else{try{o.call()}catch(it){a=it}i.call(o.prototype)}else{try{throw Error()}catch(it){a=it}i()}}catch(it){if(it&&a&&typeof it.stack=="string"){for(var _=it.stack.split(`
`),$=a.stack.split(`
`),_e=_.length-1,tt=$.length-1;1<=_e&&0<=tt&&_[_e]!==$[tt];)tt--;for(;1<=_e&&0<=tt;_e--,tt--)if(_[_e]!==$[tt]){if(_e!==1||tt!==1)do if(_e--,tt--,0>tt||_[_e]!==$[tt]){var nt=`
`+_[_e].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=_e&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),a=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var _=s.get,$=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _.call(this)},set:function(_e){a=""+_e,$.call(this,_e)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(_e){a=""+_e},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==s?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,o){var s=o.defaultValue==null?"":o.defaultValue,a=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),i._wrapperState={initialChecked:a,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var s=Sa(o.value),a=o.type;if(s!=null)a==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,s):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var a=o.type;if(!(a!=="submit"&&a!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,s||o===i.value||(i.value=o),i.defaultValue=o}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,o,s){(o!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,o,s,a){if(i=i.options,o){o={};for(var _=0;_<s.length;_++)o["$"+s[_]]=!0;for(s=0;s<i.length;s++)_=o.hasOwnProperty("$"+i[s].value),i[s].selected!==_&&(i[s].selected=_),_&&a&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,_=0;_<i.length;_++){if(i[_].value===s){i[_].selected=!0,a&&(i[_].defaultSelected=!0);return}o!==null||i[_].disabled||(o=i[_])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}o=s}o==null&&(o=""),s=o}i._wrapperState={initialValue:Sa(s)}}function ib(i,o){var s=Sa(o.value),a=Sa(o.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),o.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),a!=null&&(i.defaultValue=""+a)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,a,_){MSApp.execUnsafeLocalFunction(function(){return i(o,s,a,_)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var s in o)if(o.hasOwnProperty(s)){var a=s.indexOf("--")===0,_=rb(s,o[s],a);s==="float"&&(s="cssFloat"),a?i.setProperty(s,_):i[s]=_}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,s){if(Ib)return i(o,s);Ib=!0;try{return Gb(i,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var s=i.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$1(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,s,a,_,$,_e,tt,nt){var it=Array.prototype.slice.call(arguments,3);try{o.apply(s,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,s,a,_,$,_e,tt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,s,a,_,$,_e,tt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$1(188));return o!==i?null:i}for(var s=i,a=o;;){var _=s.return;if(_===null)break;var $=_.alternate;if($===null){if(a=_.return,a!==null){s=a;continue}break}if(_.child===$.child){for($=_.child;$;){if($===s)return Xb(_),i;if($===a)return Xb(_),o;$=$.sibling}throw Error(p$1(188))}if(s.return!==a.return)s=_,a=$;else{for(var _e=!1,tt=_.child;tt;){if(tt===s){_e=!0,s=_,a=$;break}if(tt===a){_e=!0,a=_,s=$;break}tt=tt.sibling}if(!_e){for(tt=$.child;tt;){if(tt===s){_e=!0,s=$,a=_;break}if(tt===a){_e=!0,a=$,s=_;break}tt=tt.sibling}if(!_e)throw Error(p$1(189))}}if(s.alternate!==a)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var s=i.pendingLanes;if(s===0)return 0;var a=0,_=i.suspendedLanes,$=i.pingedLanes,_e=s&268435455;if(_e!==0){var tt=_e&~_;tt!==0?a=tc(tt):($&=_e,$!==0&&(a=tc($)))}else _e=s&~_,_e!==0?a=tc(_e):$!==0&&(a=tc($));if(a===0)return 0;if(o!==0&&o!==a&&!(o&_)&&(_=a&-a,$=o&-o,_>=$||_===16&&($&4194240)!==0))return o;if(a&4&&(a|=s&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=a;0<o;)s=31-oc(o),_=1<<s,a|=i[s],o&=~_;return a}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var s=i.suspendedLanes,a=i.pingedLanes,_=i.expirationTimes,$=i.pendingLanes;0<$;){var _e=31-oc($),tt=1<<_e,nt=_[_e];nt===-1?(!(tt&s)||tt&a)&&(_[_e]=vc(tt,o)):nt<=o&&(i.expiredLanes|=tt),$&=~tt}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Ac(i,o,s){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=s}function Bc(i,o){var s=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<s;){var _=31-oc(s),$=1<<_;o[_]=0,a[_]=-1,i[_]=-1,s&=~$}}function Cc(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var a=31-oc(s),_=1<<a;_&o|i[a]&o&&(i[a]|=o),s&=~_}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,s,a,_,$){return i===null||i.nativeEvent!==$?(i={blockedOn:o,domEventName:s,eventSystemFlags:a,nativeEvent:$,targetContainers:[_]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=a,o=i.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),i)}function Uc(i,o,s,a,_){switch(o){case"focusin":return Lc=Tc(Lc,i,o,s,a,_),!0;case"dragenter":return Mc=Tc(Mc,i,o,s,a,_),!0;case"mouseover":return Nc=Tc(Nc,i,o,s,a,_),!0;case"pointerover":var $=_.pointerId;return Oc.set($,Tc(Oc.get($)||null,i,o,s,a,_)),!0;case"gotpointercapture":return $=_.pointerId,Pc.set($,Tc(Pc.get($)||null,i,o,s,a,_)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return o=Cb(s),o!==null&&Fc(o),i.blockedOn=s,!1;o.shift()}return!0}function Zc(i,o,s){Xc(i)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o(_){return ad(_,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(i,o,s,a){var _=C,$=cd.transition;cd.transition=null;try{C=1,fd(i,o,s,a)}finally{C=_,cd.transition=$}}function gd(i,o,s,a){var _=C,$=cd.transition;cd.transition=null;try{C=4,fd(i,o,s,a)}finally{C=_,cd.transition=$}}function fd(i,o,s,a){if(dd){var _=Yc(i,o,s,a);if(_===null)hd(i,o,a,id,s),Sc(i,a);else if(Uc(_,i,o,s,a))a.stopPropagation();else if(Sc(i,a),o&4&&-1<Rc.indexOf(i)){for(;_!==null;){var $=Cb(_);if($!==null&&Ec($),$=Yc(i,o,s,a),$===null&&hd(i,o,a,id,s),$===_)break;_=$}_!==null&&a.stopPropagation()}else hd(i,o,a,null,s)}}var id=null;function Yc(i,o,s,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(s=o.tag,s===13){if(i=Wb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,s=o.length,a,_="value"in kd?kd.value:kd.textContent,$=_.length;for(i=0;i<s&&o[i]===_[i];i++);var _e=s-i;for(a=1;a<=_e&&o[s-a]===_[$-a];a++);return md=_.slice(i,1<a?1-a:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(s,a,_,$,_e){this._reactName=s,this._targetInst=_,this.type=a,this.nativeEvent=$,this.target=_e,this.currentTarget=null;for(var tt in i)i.hasOwnProperty(tt)&&(s=i[tt],this[tt]=s?s($):$[tt]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id$5=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id$5),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,s,a){Eb(a),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,a),i.push({event:s,listeners:o}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re,o)}}function Ce(i,o,s){i==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),a=Object.keys(o);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var _=s[a];if(!ja.call(o,_)||!He(i[_],o[_]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,o){var s=Je(i);i=0;for(var a;s;){if(s.nodeType===3){if(a=i+s.textContent.length,i<=o&&a>=o)return{node:s,offset:o-i};i=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe(i){var o=Me(),s=i.focusedElem,a=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(o=a.start,i=a.end,i===void 0&&(i=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(i,s.value.length);else if(i=(o=s.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var _=s.textContent.length,$=Math.min(a.start,_);a=a.end===void 0?$:Math.min(a.end,_),!i.extend&&$>a&&(_=a,a=$,$=_),_=Ke(s,$);var _e=Ke(s,a);_&&_e&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==_e.node||i.focusOffset!==_e.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),i.removeAllRanges(),$>a?(i.addRange(o),i.extend(_e.node,_e.offset)):(o.setEnd(_e.node,_e.offset),i.addRange(o)))}}for(o=[],i=s;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)i=o[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,o,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(o=new td("onSelect","select",null,o,s),i.push({event:o,listeners:a}),o.target=Qe)))}function Ve(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[i]=o[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,s){var a=i.type||"unknown-event";i.currentTarget=s,Ub(a,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var a=i[s],_=a.event;a=a.listeners;e:{var $=void 0;if(o)for(var _e=a.length-1;0<=_e;_e--){var tt=a[_e],nt=tt.instance,it=tt.currentTarget;if(tt=tt.listener,nt!==$&&_.isPropagationStopped())break e;nf(_,tt,it),$=nt}else for(_e=0;_e<a.length;_e++){if(tt=a[_e],nt=tt.instance,it=tt.currentTarget,tt=tt.listener,nt!==$&&_.isPropagationStopped())break e;nf(_,tt,it),$=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var a=i+"__bubble";s.has(a)||(pf(o,i,2,!1),s.add(a))}function qf(i,o,s){var a=0;o&&(a|=4),pf(s,i,a,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,s,a){switch(jd(o)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}s=_.bind(null,o,s,i),_=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),a?_!==void 0?i.addEventListener(o,s,{capture:!0,passive:_}):i.addEventListener(o,s,!0):_!==void 0?i.addEventListener(o,s,{passive:_}):i.addEventListener(o,s,!1)}function hd(i,o,s,a,_){var $=a;if(!(o&1)&&!(o&2)&&a!==null)e:for(;;){if(a===null)return;var _e=a.tag;if(_e===3||_e===4){var tt=a.stateNode.containerInfo;if(tt===_||tt.nodeType===8&&tt.parentNode===_)break;if(_e===4)for(_e=a.return;_e!==null;){var nt=_e.tag;if((nt===3||nt===4)&&(nt=_e.stateNode.containerInfo,nt===_||nt.nodeType===8&&nt.parentNode===_))return;_e=_e.return}for(;tt!==null;){if(_e=Wc(tt),_e===null)return;if(nt=_e.tag,nt===5||nt===6){a=$=_e;continue e}tt=tt.parentNode}}a=a.return}Jb(function(){var it=$,ot=xb(s),et=[];e:{var j=df.get(i);if(j!==void 0){var rt=td,st=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":st="focus",rt=Fd;break;case"focusout":st="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var at=(o&4)!==0,lt=!at&&i==="scroll",ct=at?j!==null?j+"Capture":null:j;at=[];for(var ut=it,dt;ut!==null;){dt=ut;var ft=dt.stateNode;if(dt.tag===5&&ft!==null&&(dt=ft,ct!==null&&(ft=Kb(ut,ct),ft!=null&&at.push(tf(ut,ft,dt)))),lt)break;ut=ut.return}0<at.length&&(j=new rt(j,st,null,s,ot),et.push({event:j,listeners:at}))}}if(!(o&7)){e:{if(j=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",j&&s!==wb&&(st=s.relatedTarget||s.fromElement)&&(Wc(st)||st[uf]))break e;if((rt||j)&&(j=ot.window===ot?ot:(j=ot.ownerDocument)?j.defaultView||j.parentWindow:window,rt?(st=s.relatedTarget||s.toElement,rt=it,st=st?Wc(st):null,st!==null&&(lt=Vb(st),st!==lt||st.tag!==5&&st.tag!==6)&&(st=null)):(rt=null,st=it),rt!==st)){if(at=Bd,ft="onMouseLeave",ct="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(at=Td,ft="onPointerLeave",ct="onPointerEnter",ut="pointer"),lt=rt==null?j:ue(rt),dt=st==null?j:ue(st),j=new at(ft,ut+"leave",rt,s,ot),j.target=lt,j.relatedTarget=dt,ft=null,Wc(ot)===it&&(at=new at(ct,ut+"enter",st,s,ot),at.target=dt,at.relatedTarget=lt,ft=at),lt=ft,rt&&st)t:{for(at=rt,ct=st,ut=0,dt=at;dt;dt=vf(dt))ut++;for(dt=0,ft=ct;ft;ft=vf(ft))dt++;for(;0<ut-dt;)at=vf(at),ut--;for(;0<dt-ut;)ct=vf(ct),dt--;for(;ut--;){if(at===ct||ct!==null&&at===ct.alternate)break t;at=vf(at),ct=vf(ct)}at=null}else at=null;rt!==null&&wf(et,j,rt,at,!1),st!==null&&lt!==null&&wf(et,lt,st,at,!0)}}e:{if(j=it?ue(it):window,rt=j.nodeName&&j.nodeName.toLowerCase(),rt==="select"||rt==="input"&&j.type==="file")var ht=ve;else if(me(j))if(we)ht=Fe;else{ht=De;var mt=Ce}else(rt=j.nodeName)&&rt.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(ht=Ee);if(ht&&(ht=ht(i,it))){ne(et,ht,s,ot);break e}mt&&mt(i,j,it),i==="focusout"&&(mt=j._wrapperState)&&mt.controlled&&j.type==="number"&&cb(j,"number",j.value)}switch(mt=it?ue(it):window,i){case"focusin":(me(mt)||mt.contentEditable==="true")&&(Qe=mt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(et,s,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(et,s,ot)}var bt;if(ae)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(i,s)&&(yt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(de&&s.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(bt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),mt=oe(it,yt),0<mt.length&&(yt=new Ld(yt,i,null,s,ot),et.push({event:yt,listeners:mt}),bt?yt.data=bt:(bt=he(s),bt!==null&&(yt.data=bt)))),(bt=ce?je(i,s):ke(i,s))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,s,ot),et.push({event:ot,listeners:it}),ot.data=bt))}se(et,o)})}function tf(i,o,s){return{instance:i,listener:o,currentTarget:s}}function oe(i,o){for(var s=o+"Capture",a=[];i!==null;){var _=i,$=_.stateNode;_.tag===5&&$!==null&&(_=$,$=Kb(i,s),$!=null&&a.unshift(tf(i,$,_)),$=Kb(i,o),$!=null&&a.push(tf(i,$,_))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,s,a,_){for(var $=o._reactName,_e=[];s!==null&&s!==a;){var tt=s,nt=tt.alternate,it=tt.stateNode;if(nt!==null&&nt===a)break;tt.tag===5&&it!==null&&(tt=it,_?(nt=Kb(s,$),nt!=null&&_e.unshift(tf(s,nt,tt))):_||(nt=Kb(s,$),nt!=null&&_e.push(tf(s,nt,tt)))),s=s.return}_e.length!==0&&i.push({event:o,listeners:_e})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,s){if(o=zf(o),zf(i)!==o&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var s=o,a=0;do{var _=s.nextSibling;if(i.removeChild(s),_&&_.nodeType===8)if(s=_.data,s==="/$"){if(a===0){i.removeChild(_),bd(o);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=_}while(s);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var s=i.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return o}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var s=i.type.contextTypes;if(!s)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===o)return a.__reactInternalMemoizedMaskedChildContext;var _={},$;for($ in s)_[$]=o[$];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,s){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,s)}function bg(i,o,s){var a=i.stateNode;if(o=o.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var _ in a)if(!(_ in o))throw Error(p$1(108,Ra(i)||"Unknown",_));return A$1({},s,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,s){var a=i.stateNode;if(!a)throw Error(p$1(169));s?(i=bg(i,o,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var s=eg;for(C=1;i<s.length;i++){var a=s[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var _=32-oc(a)-1;a&=~(1<<_),s+=1;var $=32-oc(o)+_;if(30<$){var _e=_-_%5;$=(a&(1<<_e)-1).toString(32),a>>=_e,_-=_e,rg=1<<32-oc(o)+_|s<<_|a,sg=$+i}else rg=1<<$|s<<_|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=i,o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)}function Cg(i,o){switch(i.tag){case 5:var s=i.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var s=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$1(418));o=Lf(s.nextSibling);var a=xg;o&&Cg(i,o)?Ag(a,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(i,o,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var a=s.stateNode}if(!a)throw Error(p$1(147,i));var _=a,$=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===$?o.ref:(o=function(_e){var tt=_.refs;_e===null?delete tt[$]:tt[$]=_e},o._stringRef=$,o)}if(typeof i!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,i))}return i}function Mg(i,o){throw i=Object.prototype.toString.call(o),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ng(i){var o=i._init;return o(i._payload)}function Og(i){function o(ct,ut){if(i){var dt=ct.deletions;dt===null?(ct.deletions=[ut],ct.flags|=16):dt.push(ut)}}function s(ct,ut){if(!i)return null;for(;ut!==null;)o(ct,ut),ut=ut.sibling;return null}function a(ct,ut){for(ct=new Map;ut!==null;)ut.key!==null?ct.set(ut.key,ut):ct.set(ut.index,ut),ut=ut.sibling;return ct}function _(ct,ut){return ct=Pg(ct,ut),ct.index=0,ct.sibling=null,ct}function $(ct,ut,dt){return ct.index=dt,i?(dt=ct.alternate,dt!==null?(dt=dt.index,dt<ut?(ct.flags|=2,ut):dt):(ct.flags|=2,ut)):(ct.flags|=1048576,ut)}function _e(ct){return i&&ct.alternate===null&&(ct.flags|=2),ct}function tt(ct,ut,dt,ft){return ut===null||ut.tag!==6?(ut=Qg(dt,ct.mode,ft),ut.return=ct,ut):(ut=_(ut,dt),ut.return=ct,ut)}function nt(ct,ut,dt,ft){var ht=dt.type;return ht===ya?ot(ct,ut,dt.props.children,ft,dt.key):ut!==null&&(ut.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===ut.type)?(ft=_(ut,dt.props),ft.ref=Lg(ct,ut,dt),ft.return=ct,ft):(ft=Rg(dt.type,dt.key,dt.props,null,ct.mode,ft),ft.ref=Lg(ct,ut,dt),ft.return=ct,ft)}function it(ct,ut,dt,ft){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==dt.containerInfo||ut.stateNode.implementation!==dt.implementation?(ut=Sg(dt,ct.mode,ft),ut.return=ct,ut):(ut=_(ut,dt.children||[]),ut.return=ct,ut)}function ot(ct,ut,dt,ft,ht){return ut===null||ut.tag!==7?(ut=Tg(dt,ct.mode,ft,ht),ut.return=ct,ut):(ut=_(ut,dt),ut.return=ct,ut)}function et(ct,ut,dt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=Qg(""+ut,ct.mode,dt),ut.return=ct,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return dt=Rg(ut.type,ut.key,ut.props,null,ct.mode,dt),dt.ref=Lg(ct,null,ut),dt.return=ct,dt;case wa:return ut=Sg(ut,ct.mode,dt),ut.return=ct,ut;case Ha:var ft=ut._init;return et(ct,ft(ut._payload),dt)}if(eb(ut)||Ka(ut))return ut=Tg(ut,ct.mode,dt,null),ut.return=ct,ut;Mg(ct,ut)}return null}function j(ct,ut,dt,ft){var ht=ut!==null?ut.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ht!==null?null:tt(ct,ut,""+dt,ft);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return dt.key===ht?nt(ct,ut,dt,ft):null;case wa:return dt.key===ht?it(ct,ut,dt,ft):null;case Ha:return ht=dt._init,j(ct,ut,ht(dt._payload),ft)}if(eb(dt)||Ka(dt))return ht!==null?null:ot(ct,ut,dt,ft,null);Mg(ct,dt)}return null}function rt(ct,ut,dt,ft,ht){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return ct=ct.get(dt)||null,tt(ut,ct,""+ft,ht);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return ct=ct.get(ft.key===null?dt:ft.key)||null,nt(ut,ct,ft,ht);case wa:return ct=ct.get(ft.key===null?dt:ft.key)||null,it(ut,ct,ft,ht);case Ha:var mt=ft._init;return rt(ct,ut,dt,mt(ft._payload),ht)}if(eb(ft)||Ka(ft))return ct=ct.get(dt)||null,ot(ut,ct,ft,ht,null);Mg(ut,ft)}return null}function st(ct,ut,dt,ft){for(var ht=null,mt=null,bt=ut,yt=ut=0,gt=null;bt!==null&&yt<dt.length;yt++){bt.index>yt?(gt=bt,bt=null):gt=bt.sibling;var vt=j(ct,bt,dt[yt],ft);if(vt===null){bt===null&&(bt=gt);break}i&&bt&&vt.alternate===null&&o(ct,bt),ut=$(vt,ut,yt),mt===null?ht=vt:mt.sibling=vt,mt=vt,bt=gt}if(yt===dt.length)return s(ct,bt),I&&tg(ct,yt),ht;if(bt===null){for(;yt<dt.length;yt++)bt=et(ct,dt[yt],ft),bt!==null&&(ut=$(bt,ut,yt),mt===null?ht=bt:mt.sibling=bt,mt=bt);return I&&tg(ct,yt),ht}for(bt=a(ct,bt);yt<dt.length;yt++)gt=rt(bt,ct,yt,dt[yt],ft),gt!==null&&(i&&gt.alternate!==null&&bt.delete(gt.key===null?yt:gt.key),ut=$(gt,ut,yt),mt===null?ht=gt:mt.sibling=gt,mt=gt);return i&&bt.forEach(function(wt){return o(ct,wt)}),I&&tg(ct,yt),ht}function at(ct,ut,dt,ft){var ht=Ka(dt);if(typeof ht!="function")throw Error(p$1(150));if(dt=ht.call(dt),dt==null)throw Error(p$1(151));for(var mt=ht=null,bt=ut,yt=ut=0,gt=null,vt=dt.next();bt!==null&&!vt.done;yt++,vt=dt.next()){bt.index>yt?(gt=bt,bt=null):gt=bt.sibling;var wt=j(ct,bt,vt.value,ft);if(wt===null){bt===null&&(bt=gt);break}i&&bt&&wt.alternate===null&&o(ct,bt),ut=$(wt,ut,yt),mt===null?ht=wt:mt.sibling=wt,mt=wt,bt=gt}if(vt.done)return s(ct,bt),I&&tg(ct,yt),ht;if(bt===null){for(;!vt.done;yt++,vt=dt.next())vt=et(ct,vt.value,ft),vt!==null&&(ut=$(vt,ut,yt),mt===null?ht=vt:mt.sibling=vt,mt=vt);return I&&tg(ct,yt),ht}for(bt=a(ct,bt);!vt.done;yt++,vt=dt.next())vt=rt(bt,ct,yt,vt.value,ft),vt!==null&&(i&&vt.alternate!==null&&bt.delete(vt.key===null?yt:vt.key),ut=$(vt,ut,yt),mt===null?ht=vt:mt.sibling=vt,mt=vt);return i&&bt.forEach(function(Ct){return o(ct,Ct)}),I&&tg(ct,yt),ht}function lt(ct,ut,dt,ft){if(typeof dt=="object"&&dt!==null&&dt.type===ya&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:e:{for(var ht=dt.key,mt=ut;mt!==null;){if(mt.key===ht){if(ht=dt.type,ht===ya){if(mt.tag===7){s(ct,mt.sibling),ut=_(mt,dt.props.children),ut.return=ct,ct=ut;break e}}else if(mt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===mt.type){s(ct,mt.sibling),ut=_(mt,dt.props),ut.ref=Lg(ct,mt,dt),ut.return=ct,ct=ut;break e}s(ct,mt);break}else o(ct,mt);mt=mt.sibling}dt.type===ya?(ut=Tg(dt.props.children,ct.mode,ft,dt.key),ut.return=ct,ct=ut):(ft=Rg(dt.type,dt.key,dt.props,null,ct.mode,ft),ft.ref=Lg(ct,ut,dt),ft.return=ct,ct=ft)}return _e(ct);case wa:e:{for(mt=dt.key;ut!==null;){if(ut.key===mt)if(ut.tag===4&&ut.stateNode.containerInfo===dt.containerInfo&&ut.stateNode.implementation===dt.implementation){s(ct,ut.sibling),ut=_(ut,dt.children||[]),ut.return=ct,ct=ut;break e}else{s(ct,ut);break}else o(ct,ut);ut=ut.sibling}ut=Sg(dt,ct.mode,ft),ut.return=ct,ct=ut}return _e(ct);case Ha:return mt=dt._init,lt(ct,ut,mt(dt._payload),ft)}if(eb(dt))return st(ct,ut,dt,ft);if(Ka(dt))return at(ct,ut,dt,ft);Mg(ct,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,ut!==null&&ut.tag===6?(s(ct,ut.sibling),ut=_(ut,dt),ut.return=ct,ct=ut):(s(ct,ut),ut=Qg(dt,ct.mode,ft),ut.return=ct,ct=ut),_e(ct)):s(ct,ut)}return lt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var o=Wg.current;E(Wg),i._currentValue=o}function bh(i,o,s){for(;i!==null;){var a=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),i===s)break;i=i.return}}function ch(i,o){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(dh=!0),i.firstContext=null)}function eh(i){var o=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return o}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,o,s,a){var _=o.interleaved;return _===null?(s.next=s,gh(o)):(s.next=_.next,_.next=s),o.interleaved=s,ih(i,a)}function ih(i,o){i.lanes|=o;var s=i.alternate;for(s!==null&&(s.lanes|=o),s=i,i=i.return;i!==null;)i.childLanes|=o,s=i.alternate,s!==null&&(s.childLanes|=o),s=i,i=i.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(i,o,s){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var _=a.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),a.pending=o,ih(i,s)}return _=a.interleaved,_===null?(o.next=o,gh(a)):(o.next=_.next,_.next=o),a.interleaved=o,ih(i,s)}function oh(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var a=o.lanes;a&=i.pendingLanes,s|=a,o.lanes=s,Cc(i,s)}}function ph(i,o){var s=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var _=null,$=null;if(s=s.firstBaseUpdate,s!==null){do{var _e={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};$===null?_=$=_e:$=$.next=_e,s=s.next}while(s!==null);$===null?_=$=o:$=$.next=o}else _=$=o;s={baseState:a.baseState,firstBaseUpdate:_,lastBaseUpdate:$,shared:a.shared,effects:a.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}function qh(i,o,s,a){var _=i.updateQueue;jh=!1;var $=_.firstBaseUpdate,_e=_.lastBaseUpdate,tt=_.shared.pending;if(tt!==null){_.shared.pending=null;var nt=tt,it=nt.next;nt.next=null,_e===null?$=it:_e.next=it,_e=nt;var ot=i.alternate;ot!==null&&(ot=ot.updateQueue,tt=ot.lastBaseUpdate,tt!==_e&&(tt===null?ot.firstBaseUpdate=it:tt.next=it,ot.lastBaseUpdate=nt))}if($!==null){var et=_.baseState;_e=0,ot=it=nt=null,tt=$;do{var j=tt.lane,rt=tt.eventTime;if((a&j)===j){ot!==null&&(ot=ot.next={eventTime:rt,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var st=i,at=tt;switch(j=o,rt=s,at.tag){case 1:if(st=at.payload,typeof st=="function"){et=st.call(rt,et,j);break e}et=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=at.payload,j=typeof st=="function"?st.call(rt,et,j):st,j==null)break e;et=A$1({},et,j);break e;case 2:jh=!0}}tt.callback!==null&&tt.lane!==0&&(i.flags|=64,j=_.effects,j===null?_.effects=[tt]:j.push(tt))}else rt={eventTime:rt,lane:j,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},ot===null?(it=ot=rt,nt=et):ot=ot.next=rt,_e|=j;if(tt=tt.next,tt===null){if(tt=_.shared.pending,tt===null)break;j=tt,tt=j.next,j.next=null,_.lastBaseUpdate=j,_.shared.pending=null}}while(!0);if(ot===null&&(nt=et),_.baseState=nt,_.firstBaseUpdate=it,_.lastBaseUpdate=ot,o=_.shared.interleaved,o!==null){_=o;do _e|=_.lane,_=_.next;while(_!==o)}else $===null&&(_.shared.lanes=0);rh|=_e,i.lanes=_e,i.memoizedState=et}}function sh(i,o,s){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var a=i[o],_=a.callback;if(_!==null){if(a.callback=null,a=s,typeof _!="function")throw Error(p$1(191,_));_.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,o){switch(G(wh,o),G(vh,i),G(uh,th),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var o=xh(uh.current),s=lb(o,i.type);o!==s&&(G(vh,i),G(uh,s))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!He(i[s],o[s]))return!1;return!0}function Nh(i,o,s,a,_,$){if(Hh=$,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=s(a,_),Jh){$=0;do{if(Jh=!1,Kh=0,25<=$)throw Error(p$1(301));$+=1,O=N=null,o.updateQueue=null,Fh.current=Qh,i=s(a,_)}while(Jh)}if(Fh.current=Rh,o=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,o)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,o){return typeof o=="function"?o(i):o}function Wh(i){var o=Uh(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var a=N,_=a.baseQueue,$=s.pending;if($!==null){if(_!==null){var _e=_.next;_.next=$.next,$.next=_e}a.baseQueue=_=$,s.pending=null}if(_!==null){$=_.next,a=a.baseState;var tt=_e=null,nt=null,it=$;do{var ot=it.lane;if((Hh&ot)===ot)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),a=it.hasEagerState?it.eagerState:i(a,it.action);else{var et={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(tt=nt=et,_e=a):nt=nt.next=et,M.lanes|=ot,rh|=ot}it=it.next}while(it!==null&&it!==$);nt===null?_e=a:nt.next=tt,He(a,o.memoizedState)||(dh=!0),o.memoizedState=a,o.baseState=_e,o.baseQueue=nt,s.lastRenderedState=a}if(i=s.interleaved,i!==null){_=i;do $=_.lane,M.lanes|=$,rh|=$,_=_.next;while(_!==i)}else _===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function Xh(i){var o=Uh(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var a=s.dispatch,_=s.pending,$=o.memoizedState;if(_!==null){s.pending=null;var _e=_=_.next;do $=i($,_e.action),_e=_e.next;while(_e!==_);He($,o.memoizedState)||(dh=!0),o.memoizedState=$,o.baseQueue===null&&(o.baseState=$),s.lastRenderedState=$}return[$,a]}function Yh(){}function Zh(i,o){var s=M,a=Uh(),_=o(),$=!He(a.memoizedState,_);if($&&(a.memoizedState=_,dh=!0),a=a.queue,$h(ai.bind(null,s,a,i),[i]),a.getSnapshot!==o||$||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,_,o),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(s,o,_)}return _}function di(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function ci(i,o,s,a){o.value=s,o.getSnapshot=a,ei(o)&&fi(i)}function ai(i,o,s){return s(function(){ei(o)&&fi(i)})}function ei(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!He(i,s)}catch{return!0}}function fi(i){var o=ih(i,1);o!==null&&gi(o,i,1,-1)}function hi(i){var o=Th();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},o.queue=i,i=i.dispatch=ii.bind(null,M,i),[o.memoizedState,i]}function bi(i,o,s,a){return i={tag:i,create:o,destroy:s,deps:a,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=i.next=i):(s=o.lastEffect,s===null?o.lastEffect=i.next=i:(a=s.next,s.next=i,i.next=a,o.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,o,s,a){var _=Th();M.flags|=i,_.memoizedState=bi(1|o,s,void 0,a===void 0?null:a)}function li(i,o,s,a){var _=Uh();a=a===void 0?null:a;var $=void 0;if(N!==null){var _e=N.memoizedState;if($=_e.destroy,a!==null&&Mh(a,_e.deps)){_.memoizedState=bi(o,s,$,a);return}}M.flags|=i,_.memoizedState=bi(1|o,s,$,a)}function mi(i,o){return ki(8390656,8,i,o)}function $h(i,o){return li(2048,8,i,o)}function ni(i,o){return li(4,2,i,o)}function oi(i,o){return li(4,4,i,o)}function pi(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function qi(i,o,s){return s=s!=null?s.concat([i]):null,li(4,4,pi.bind(null,o,i),s)}function ri(){}function si(i,o){var s=Uh();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Mh(o,a[1])?a[0]:(s.memoizedState=[i,o],i)}function ti(i,o){var s=Uh();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Mh(o,a[1])?a[0]:(i=i(),s.memoizedState=[i,o],i)}function ui(i,o,s){return Hh&21?(He(s,o)||(s=yc(),M.lanes|=s,rh|=s,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=s)}function vi(i,o){var s=C;C=s!==0&&4>s?s:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),o()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,o,s){var a=yi(i);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(o,s);else if(s=hh(i,o,s,a),s!==null){var _=R();gi(s,i,a,_),Bi(s,o,a)}}function ii(i,o,s){var a=yi(i),_={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(o,_);else{var $=i.alternate;if(i.lanes===0&&($===null||$.lanes===0)&&($=o.lastRenderedReducer,$!==null))try{var _e=o.lastRenderedState,tt=$(_e,s);if(_.hasEagerState=!0,_.eagerState=tt,He(tt,_e)){var nt=o.interleaved;nt===null?(_.next=_,gh(o)):(_.next=nt.next,nt.next=_),o.interleaved=_;return}}catch{}finally{}s=hh(i,o,_,a),s!==null&&(_=R(),gi(s,i,a,_),Bi(s,o,a))}}function zi(i){var o=i.alternate;return i===M||o!==null&&o===M}function Ai(i,o){Jh=Ih=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function Bi(i,o,s){if(s&4194240){var a=o.lanes;a&=i.pendingLanes,s|=a,o.lanes=s,Cc(i,s)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,o){return Th().memoizedState=[i,o===void 0?null:o],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,o,s){return s=s!=null?s.concat([i]):null,ki(4194308,4,pi.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ki(4194308,4,i,o)},useInsertionEffect:function(i,o){return ki(4,2,i,o)},useMemo:function(i,o){var s=Th();return o=o===void 0?null:o,i=i(),s.memoizedState=[i,o],i},useReducer:function(i,o,s){var a=Th();return o=s!==void 0?s(o):o,a.memoizedState=a.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var o=Th();return i={current:i},o.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),o=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,s){var a=M,_=Th();if(I){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=o(),Q===null)throw Error(p$1(349));Hh&30||di(a,o,s)}_.memoizedState=s;var $={value:s,getSnapshot:o};return _.queue=$,mi(ai.bind(null,a,$,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,$,s,o),void 0,null),s},useId:function(){var i=Th(),o=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,o=":"+o+"R"+s,s=Kh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Lh++,o=":"+o+"r"+s.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var o=Uh();return ui(o,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],o=Uh().memoizedState;return[i,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var o=Uh();return N===null?o.memoizedState=i:ui(o,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],o=Uh().memoizedState;return[i,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,o){if(i&&i.defaultProps){o=A$1({},o),i=i.defaultProps;for(var s in i)o[s]===void 0&&(o[s]=i[s]);return o}return o}function Di(i,o,s,a){o=i.memoizedState,s=s(a,o),s=s==null?o:A$1({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,s){i=i._reactInternals;var a=R(),_=yi(i),$=mh(a,_);$.payload=o,s!=null&&($.callback=s),o=nh(i,$,_),o!==null&&(gi(o,i,_,a),oh(o,i,_))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var a=R(),_=yi(i),$=mh(a,_);$.tag=1,$.payload=o,s!=null&&($.callback=s),o=nh(i,$,_),o!==null&&(gi(o,i,_,a),oh(o,i,_))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=R(),a=yi(i),_=mh(s,a);_.tag=2,o!=null&&(_.callback=o),o=nh(i,_,a),o!==null&&(gi(o,i,a,s),oh(o,i,a))}};function Fi(i,o,s,a,_,$,_e){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,$,_e):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,a)||!Ie(_,$):!0}function Gi(i,o,s){var a=!1,_=Vf,$=o.contextType;return typeof $=="object"&&$!==null?$=eh($):(_=Zf(o)?Xf:H.current,a=o.contextTypes,$=(a=a!=null)?Yf(i,_):Vf),o=new o(s,$),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei,i.stateNode=o,o._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=$),o}function Hi(i,o,s,a){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,a),o.state!==i&&Ei.enqueueReplaceState(o,o.state,null)}function Ii(i,o,s,a){var _=i.stateNode;_.props=s,_.state=i.memoizedState,_.refs={},kh(i);var $=o.contextType;typeof $=="object"&&$!==null?_.context=eh($):($=Zf(o)?Xf:H.current,_.context=Yf(i,$)),_.state=i.memoizedState,$=o.getDerivedStateFromProps,typeof $=="function"&&(Di(i,o,$,s),_.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&Ei.enqueueReplaceState(_,_.state,null),qh(i,s,_,a),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,o){try{var s="",a=o;do s+=Pa(a),a=a.return;while(a);var _=s}catch($){_=`
Error generating stack: `+$.message+`
`+$.stack}return{value:i,source:o,stack:_,digest:null}}function Ki(i,o,s){return{value:i,source:null,stack:s??null,digest:o??null}}function Li(i,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,o,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=o.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,o)},s}function Qi(i,o,s){s=mh(-1,s),s.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var _=o.value;s.payload=function(){return a(_)},s.callback=function(){Li(i,o)}}var $=i.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){Li(i,o),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var _e=o.stack;this.componentDidCatch(o.value,{componentStack:_e!==null?_e:""})}),s}function Si(i,o,s){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var _=new Set;a.set(o,_)}else _=a.get(o),_===void 0&&(_=new Set,a.set(o,_));_.has(s)||(_.add(s),i=Ti.bind(null,i,o,s),o.then(i,i))}function Ui(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Vi(i,o,s,a,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===o?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=mh(-1,1),o.tag=2,nh(s,o,1))),s.lanes|=1),i)}var Wi=ua$1.ReactCurrentOwner,dh=!1;function Xi(i,o,s,a){o.child=i===null?Vg(o,null,s,a):Ug(o,i.child,s,a)}function Yi(i,o,s,a,_){s=s.render;var $=o.ref;return ch(o,_),a=Nh(i,o,s,a,$,_),s=Sh(),i!==null&&!dh?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_,Zi(i,o,_)):(I&&s&&vg(o),o.flags|=1,Xi(i,o,a,_),o.child)}function $i(i,o,s,a,_){if(i===null){var $=s.type;return typeof $=="function"&&!aj($)&&$.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=$,bj(i,o,$,a,_)):(i=Rg(s.type,null,a,o,o.mode,_),i.ref=o.ref,i.return=o,o.child=i)}if($=i.child,!(i.lanes&_)){var _e=$.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(_e,a)&&i.ref===o.ref)return Zi(i,o,_)}return o.flags|=1,i=Pg($,a),i.ref=o.ref,i.return=o,o.child=i}function bj(i,o,s,a,_){if(i!==null){var $=i.memoizedProps;if(Ie($,a)&&i.ref===o.ref)if(dh=!1,o.pendingProps=a=$,(i.lanes&_)!==0)i.flags&131072&&(dh=!0);else return o.lanes=i.lanes,Zi(i,o,_)}return cj(i,o,s,a,_)}function dj(i,o,s){var a=o.pendingProps,_=a.children,$=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return i=$!==null?$.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=$!==null?$.baseLanes:s,G(ej,fj),fj|=a}else $!==null?(a=$.baseLanes|s,o.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(i,o,_,s),o.child}function gj(i,o){var s=o.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function cj(i,o,s,a,_){var $=Zf(s)?Xf:H.current;return $=Yf(o,$),ch(o,_),s=Nh(i,o,s,a,$,_),a=Sh(),i!==null&&!dh?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_,Zi(i,o,_)):(I&&a&&vg(o),o.flags|=1,Xi(i,o,s,_),o.child)}function hj(i,o,s,a,_){if(Zf(s)){var $=!0;cg(o)}else $=!1;if(ch(o,_),o.stateNode===null)ij(i,o),Gi(o,s,a),Ii(o,s,a,_),a=!0;else if(i===null){var _e=o.stateNode,tt=o.memoizedProps;_e.props=tt;var nt=_e.context,it=s.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(s)?Xf:H.current,it=Yf(o,it));var ot=s.getDerivedStateFromProps,et=typeof ot=="function"||typeof _e.getSnapshotBeforeUpdate=="function";et||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(tt!==a||nt!==it)&&Hi(o,_e,a,it),jh=!1;var j=o.memoizedState;_e.state=j,qh(o,a,_e,_),nt=o.memoizedState,tt!==a||j!==nt||Wf.current||jh?(typeof ot=="function"&&(Di(o,s,ot,a),nt=o.memoizedState),(tt=jh||Fi(o,s,tt,a,j,nt,it))?(et||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount()),typeof _e.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _e.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=nt),_e.props=a,_e.state=nt,_e.context=it,a=tt):(typeof _e.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{_e=o.stateNode,lh(i,o),tt=o.memoizedProps,it=o.type===o.elementType?tt:Ci(o.type,tt),_e.props=it,et=o.pendingProps,j=_e.context,nt=s.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(s)?Xf:H.current,nt=Yf(o,nt));var rt=s.getDerivedStateFromProps;(ot=typeof rt=="function"||typeof _e.getSnapshotBeforeUpdate=="function")||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(tt!==et||j!==nt)&&Hi(o,_e,a,nt),jh=!1,j=o.memoizedState,_e.state=j,qh(o,a,_e,_);var st=o.memoizedState;tt!==et||j!==st||Wf.current||jh?(typeof rt=="function"&&(Di(o,s,rt,a),st=o.memoizedState),(it=jh||Fi(o,s,it,a,j,st,nt)||!1)?(ot||typeof _e.UNSAFE_componentWillUpdate!="function"&&typeof _e.componentWillUpdate!="function"||(typeof _e.componentWillUpdate=="function"&&_e.componentWillUpdate(a,st,nt),typeof _e.UNSAFE_componentWillUpdate=="function"&&_e.UNSAFE_componentWillUpdate(a,st,nt)),typeof _e.componentDidUpdate=="function"&&(o.flags|=4),typeof _e.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _e.componentDidUpdate!="function"||tt===i.memoizedProps&&j===i.memoizedState||(o.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&j===i.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=st),_e.props=a,_e.state=st,_e.context=nt,a=it):(typeof _e.componentDidUpdate!="function"||tt===i.memoizedProps&&j===i.memoizedState||(o.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&j===i.memoizedState||(o.flags|=1024),a=!1)}return jj(i,o,s,a,$,_)}function jj(i,o,s,a,_,$){gj(i,o);var _e=(o.flags&128)!==0;if(!a&&!_e)return _&&dg(o,s,!1),Zi(i,o,$);a=o.stateNode,Wi.current=o;var tt=_e&&typeof s.getDerivedStateFromError!="function"?null:a.render();return o.flags|=1,i!==null&&_e?(o.child=Ug(o,i.child,null,$),o.child=Ug(o,null,tt,$)):Xi(i,o,tt,$),o.memoizedState=a.state,_&&dg(o,s,!0),o.child}function kj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),yh(i,o.containerInfo)}function lj(i,o,s,a,_){return Ig(),Jg(_),o.flags|=256,Xi(i,o,s,a),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,o,s){var a=o.pendingProps,_=L.current,$=!1,_e=(o.flags&128)!==0,tt;if((tt=_e)||(tt=i!==null&&i.memoizedState===null?!1:(_&2)!==0),tt?($=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),G(L,_&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(_e=a.children,i=a.fallback,$?(a=o.mode,$=o.child,_e={mode:"hidden",children:_e},!(a&1)&&$!==null?($.childLanes=0,$.pendingProps=_e):$=pj(_e,a,0,null),i=Tg(i,a,s,null),$.return=o,i.return=o,$.sibling=i,o.child=$,o.child.memoizedState=nj(s),o.memoizedState=mj,i):qj(o,_e));if(_=i.memoizedState,_!==null&&(tt=_.dehydrated,tt!==null))return rj(i,o,_e,a,tt,_,s);if($){$=a.fallback,_e=o.mode,_=i.child,tt=_.sibling;var nt={mode:"hidden",children:a.children};return!(_e&1)&&o.child!==_?(a=o.child,a.childLanes=0,a.pendingProps=nt,o.deletions=null):(a=Pg(_,nt),a.subtreeFlags=_.subtreeFlags&14680064),tt!==null?$=Pg(tt,$):($=Tg($,_e,s,null),$.flags|=2),$.return=o,a.return=o,a.sibling=$,o.child=a,a=$,$=o.child,_e=i.child.memoizedState,_e=_e===null?nj(s):{baseLanes:_e.baseLanes|s,cachePool:null,transitions:_e.transitions},$.memoizedState=_e,$.childLanes=i.childLanes&~s,o.memoizedState=mj,a}return $=i.child,i=$.sibling,a=Pg($,{mode:"visible",children:a.children}),!(o.mode&1)&&(a.lanes=s),a.return=o,a.sibling=null,i!==null&&(s=o.deletions,s===null?(o.deletions=[i],o.flags|=16):s.push(i)),o.child=a,o.memoizedState=null,a}function qj(i,o){return o=pj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function sj(i,o,s,a){return a!==null&&Jg(a),Ug(o,i.child,null,s),i=qj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function rj(i,o,s,a,_,$,_e){if(s)return o.flags&256?(o.flags&=-257,a=Ki(Error(p$1(422))),sj(i,o,_e,a)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):($=a.fallback,_=o.mode,a=pj({mode:"visible",children:a.children},_,0,null),$=Tg($,_,_e,null),$.flags|=2,a.return=o,$.return=o,a.sibling=$,o.child=a,o.mode&1&&Ug(o,i.child,null,_e),o.child.memoizedState=nj(_e),o.memoizedState=mj,$);if(!(o.mode&1))return sj(i,o,_e,null);if(_.data==="$!"){if(a=_.nextSibling&&_.nextSibling.dataset,a)var tt=a.dgst;return a=tt,$=Error(p$1(419)),a=Ki($,a,void 0),sj(i,o,_e,a)}if(tt=(_e&i.childLanes)!==0,dh||tt){if(a=Q,a!==null){switch(_e&-_e){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(a.suspendedLanes|_e)?0:_,_!==0&&_!==$.retryLane&&($.retryLane=_,ih(i,_),gi(a,i,_,-1))}return tj(),a=Ki(Error(p$1(421))),sj(i,o,_e,a)}return _.data==="$?"?(o.flags|=128,o.child=i.child,o=uj.bind(null,i),_._reactRetry=o,null):(i=$.treeContext,yg=Lf(_.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=qj(o,a.children),o.flags|=4096,o)}function vj(i,o,s){i.lanes|=o;var a=i.alternate;a!==null&&(a.lanes|=o),bh(i.return,o,s)}function wj(i,o,s,a,_){var $=i.memoizedState;$===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:_}:($.isBackwards=o,$.rendering=null,$.renderingStartTime=0,$.last=a,$.tail=s,$.tailMode=_)}function xj(i,o,s){var a=o.pendingProps,_=a.revealOrder,$=a.tail;if(Xi(i,o,a.children,s),a=L.current,a&2)a=a&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,s,o);else if(i.tag===19)vj(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(o.mode&1))o.memoizedState=null;else switch(_){case"forwards":for(s=o.child,_=null;s!==null;)i=s.alternate,i!==null&&Ch(i)===null&&(_=s),s=s.sibling;s=_,s===null?(_=o.child,o.child=null):(_=s.sibling,s.sibling=null),wj(o,!1,_,s,$);break;case"backwards":for(s=null,_=o.child,o.child=null;_!==null;){if(i=_.alternate,i!==null&&Ch(i)===null){o.child=_;break}i=_.sibling,_.sibling=s,s=_,_=i}wj(o,!0,s,null,$);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Zi(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),rh|=o.lanes,!(s&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$1(153));if(o.child!==null){for(i=o.child,s=Pg(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=Pg(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function yj(i,o,s){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var a=o.type._context,_=o.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=_;break;case 13:if(a=o.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):s&o.child.childLanes?oj(i,o,s):(G(L,L.current&1),i=Zi(i,o,s),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&o.childLanes)!==0,i.flags&128){if(a)return xj(i,o,s);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return o.lanes=0,dj(i,o,s)}return Zi(i,o,s)}var zj,Aj,Bj,Cj;zj=function(i,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(i,o,s,a){var _=i.memoizedProps;if(_!==a){i=o.stateNode,xh(uh.current);var $=null;switch(s){case"input":_=Ya(i,_),a=Ya(i,a),$=[];break;case"select":_=A$1({},_,{value:void 0}),a=A$1({},a,{value:void 0}),$=[];break;case"textarea":_=gb(i,_),a=gb(i,a),$=[];break;default:typeof _.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(s,a);var _e;s=null;for(it in _)if(!a.hasOwnProperty(it)&&_.hasOwnProperty(it)&&_[it]!=null)if(it==="style"){var tt=_[it];for(_e in tt)tt.hasOwnProperty(_e)&&(s||(s={}),s[_e]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?$||($=[]):($=$||[]).push(it,null));for(it in a){var nt=a[it];if(tt=_!=null?_[it]:void 0,a.hasOwnProperty(it)&&nt!==tt&&(nt!=null||tt!=null))if(it==="style")if(tt){for(_e in tt)!tt.hasOwnProperty(_e)||nt&&nt.hasOwnProperty(_e)||(s||(s={}),s[_e]="");for(_e in nt)nt.hasOwnProperty(_e)&&tt[_e]!==nt[_e]&&(s||(s={}),s[_e]=nt[_e])}else s||($||($=[]),$.push(it,s)),s=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,tt=tt?tt.__html:void 0,nt!=null&&tt!==nt&&($=$||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||($=$||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D("scroll",i),$||tt===nt||($=[])):($=$||[]).push(it,nt))}s&&($=$||[]).push("style",s);var it=$;(o.updateQueue=it)&&(o.flags|=4)}};Cj=function(i,o,s,a){s!==a&&(o.flags|=4)};function Dj(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,a=0;if(o)for(var _=i.child;_!==null;)s|=_.lanes|_.childLanes,a|=_.subtreeFlags&14680064,a|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)s|=_.lanes|_.childLanes,a|=_.subtreeFlags,a|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=a,i.childLanes=s,o}function Ej(i,o,s){var a=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return a=o.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,o),S(o),null;case 5:Bh(o);var _=xh(wh.current);if(s=o.type,i!==null&&o.stateNode!=null)Bj(i,o,s,a,_),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!a){if(o.stateNode===null)throw Error(p$1(166));return S(o),null}if(i=xh(uh.current),Gg(o)){a=o.stateNode,s=o.type;var $=o.memoizedProps;switch(a[Of]=o,a[Pf]=$,i=(o.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,$),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!$.multiple},D("invalid",a);break;case"textarea":hb(a,$),D("invalid",a)}ub(s,$),_=null;for(var _e in $)if($.hasOwnProperty(_e)){var tt=$[_e];_e==="children"?typeof tt=="string"?a.textContent!==tt&&($.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",tt]):typeof tt=="number"&&a.textContent!==""+tt&&($.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",""+tt]):ea.hasOwnProperty(_e)&&tt!=null&&_e==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,$,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(a.onclick=Bf)}a=_,o.updateQueue=a,a!==null&&(o.flags|=4)}else{_e=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=_e.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=_e.createElement(s,{is:a.is}):(i=_e.createElement(s),s==="select"&&(_e=i,a.multiple?_e.multiple=!0:a.size&&(_e.size=a.size))):i=_e.createElementNS(i,s),i[Of]=o,i[Pf]=a,zj(i,o,!1,!1),o.stateNode=i;e:{switch(_e=vb(s,a),s){case"dialog":D("cancel",i),D("close",i),_=a;break;case"iframe":case"object":case"embed":D("load",i),_=a;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],i);_=a;break;case"source":D("error",i),_=a;break;case"img":case"image":case"link":D("error",i),D("load",i),_=a;break;case"details":D("toggle",i),_=a;break;case"input":Za(i,a),_=Ya(i,a),D("invalid",i);break;case"option":_=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_=A$1({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),_=gb(i,a),D("invalid",i);break;default:_=a}ub(s,_),tt=_;for($ in tt)if(tt.hasOwnProperty($)){var nt=tt[$];$==="style"?sb(i,nt):$==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):$==="children"?typeof nt=="string"?(s!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?nt!=null&&$==="onScroll"&&D("scroll",i):nt!=null&&ta(i,$,nt,_e))}switch(s){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,$=a.value,$!=null?fb(i,!!a.multiple,$,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Cj(i,o,i.memoizedProps,a);else{if(typeof a!="string"&&o.stateNode===null)throw Error(p$1(166));if(s=xh(wh.current),xh(uh.current),Gg(o)){if(a=o.stateNode,s=o.memoizedProps,a[Of]=o,($=a.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(i.mode&1)!==0)}$&&(o.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=o,o.stateNode=a}return S(o),null;case 13:if(E(L),a=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,$=!1;else if($=Gg(o),a!==null&&a.dehydrated!==null){if(i===null){if(!$)throw Error(p$1(318));if($=o.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$1(317));$[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),$=!1}else zg!==null&&(Fj(zg),zg=null),$=!0;if(!$)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(o.child.flags|=8192,o.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return zh(),Aj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return ah(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(L),$=o.memoizedState,$===null)return S(o),null;if(a=(o.flags&128)!==0,_e=$.rendering,_e===null)if(a)Dj($,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(_e=Ch(i),_e!==null){for(o.flags|=128,Dj($,!1),a=_e.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),o.subtreeFlags=0,a=s,s=o.child;s!==null;)$=s,i=a,$.flags&=14680066,_e=$.alternate,_e===null?($.childLanes=0,$.lanes=i,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=_e.childLanes,$.lanes=_e.lanes,$.child=_e.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=_e.memoizedProps,$.memoizedState=_e.memoizedState,$.updateQueue=_e.updateQueue,$.type=_e.type,i=_e.dependencies,$.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(L,L.current&1|2),o.child}i=i.sibling}$.tail!==null&&B()>Gj&&(o.flags|=128,a=!0,Dj($,!1),o.lanes=4194304)}else{if(!a)if(i=Ch(_e),i!==null){if(o.flags|=128,a=!0,s=i.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Dj($,!0),$.tail===null&&$.tailMode==="hidden"&&!_e.alternate&&!I)return S(o),null}else 2*B()-$.renderingStartTime>Gj&&s!==1073741824&&(o.flags|=128,a=!0,Dj($,!1),o.lanes=4194304);$.isBackwards?(_e.sibling=o.child,o.child=_e):(s=$.last,s!==null?s.sibling=_e:o.child=_e,$.last=_e)}return $.tail!==null?(o=$.tail,$.rendering=o,$.tail=o.sibling,$.renderingStartTime=B(),o.sibling=null,s=L.current,G(L,a?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Hj(),a=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(o.flags|=8192),a&&o.mode&1?fj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Ij(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,o){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(i,o,a)}else s.current=null}function Mj(i,o,s){try{s()}catch(a){W(i,o,a)}}var Nj=!1;function Oj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var _=a.anchorOffset,$=a.focusNode;a=a.focusOffset;try{s.nodeType,$.nodeType}catch{s=null;break e}var _e=0,tt=-1,nt=-1,it=0,ot=0,et=i,j=null;t:for(;;){for(var rt;et!==s||_!==0&&et.nodeType!==3||(tt=_e+_),et!==$||a!==0&&et.nodeType!==3||(nt=_e+a),et.nodeType===3&&(_e+=et.nodeValue.length),(rt=et.firstChild)!==null;)j=et,et=rt;for(;;){if(et===i)break t;if(j===s&&++it===_&&(tt=_e),j===$&&++ot===a&&(nt=_e),(rt=et.nextSibling)!==null)break;et=j,j=et.parentNode}et=rt}s=tt===-1||nt===-1?null:{start:tt,end:nt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var st=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var at=st.memoizedProps,lt=st.memoizedState,ct=o.stateNode,ut=ct.getSnapshotBeforeUpdate(o.elementType===o.type?at:Ci(o.type,at),lt);ct.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var dt=o.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ft){W(o,o.return,ft)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return st=Nj,Nj=!1,st}function Pj(i,o,s){var a=o.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var _=a=a.next;do{if((_.tag&i)===i){var $=_.destroy;_.destroy=void 0,$!==void 0&&Mj(o,s,$)}_=_.next}while(_!==a)}}function Qj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&i)===i){var a=s.create;s.destroy=a()}s=s.next}while(s!==o)}}function Rj(i){var o=i.ref;if(o!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof o=="function"?o(i):o.current=i}}function Sj(i){var o=i.alternate;o!==null&&(i.alternate=null,Sj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,o,s){var a=i.tag;if(a===5||a===6)i=i.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(i,o):s.insertBefore(i,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(i,s)):(o=s,o.appendChild(i)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,o,s),i=i.sibling;i!==null;)Vj(i,o,s),i=i.sibling}function Wj(i,o,s){var a=i.tag;if(a===5||a===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,o,s),i=i.sibling;i!==null;)Wj(i,o,s),i=i.sibling}var X$1=null,Xj=!1;function Yj(i,o,s){for(s=s.child;s!==null;)Zj(i,o,s),s=s.sibling}function Zj(i,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,o);case 6:var a=X$1,_=Xj;X$1=null,Yj(i,o,s),X$1=a,Xj=_,X$1!==null&&(Xj?(i=X$1,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(i=X$1,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X$1,s.stateNode));break;case 4:a=X$1,_=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(i,o,s),X$1=a,Xj=_;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){_=a=a.next;do{var $=_,_e=$.destroy;$=$.tag,_e!==void 0&&($&2||$&4)&&Mj(s,o,_e),_=_.next}while(_!==a)}Yj(i,o,s);break;case 1:if(!U&&(Lj(s,o),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(tt){W(s,o,tt)}Yj(i,o,s);break;case 21:Yj(i,o,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(i,o,s),U=a):Yj(i,o,s);break;default:Yj(i,o,s)}}function ak(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Kj),o.forEach(function(a){var _=bk.bind(null,i,a);s.has(a)||(s.add(a),a.then(_,_))})}}function ck(i,o){var s=o.deletions;if(s!==null)for(var a=0;a<s.length;a++){var _=s[a];try{var $=i,_e=o,tt=_e;e:for(;tt!==null;){switch(tt.tag){case 5:X$1=tt.stateNode,Xj=!1;break e;case 3:X$1=tt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=tt.stateNode.containerInfo,Xj=!0;break e}tt=tt.return}if(X$1===null)throw Error(p$1(160));Zj($,_e,_),X$1=null,Xj=!1;var nt=_.alternate;nt!==null&&(nt.return=null),_.return=null}catch(it){W(_,o,it)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,i),o=o.sibling}function dk(i,o){var s=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(o,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(at){W(i,i.return,at)}try{Pj(5,i,i.return)}catch(at){W(i,i.return,at)}}break;case 1:ck(o,i),ek(i),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(o,i),ek(i),a&512&&s!==null&&Lj(s,s.return),i.flags&32){var _=i.stateNode;try{ob(_,"")}catch(at){W(i,i.return,at)}}if(a&4&&(_=i.stateNode,_!=null)){var $=i.memoizedProps,_e=s!==null?s.memoizedProps:$,tt=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{tt==="input"&&$.type==="radio"&&$.name!=null&&ab(_,$),vb(tt,_e);var it=vb(tt,$);for(_e=0;_e<nt.length;_e+=2){var ot=nt[_e],et=nt[_e+1];ot==="style"?sb(_,et):ot==="dangerouslySetInnerHTML"?nb(_,et):ot==="children"?ob(_,et):ta(_,ot,et,it)}switch(tt){case"input":bb(_,$);break;case"textarea":ib(_,$);break;case"select":var j=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!$.multiple;var rt=$.value;rt!=null?fb(_,!!$.multiple,rt,!1):j!==!!$.multiple&&($.defaultValue!=null?fb(_,!!$.multiple,$.defaultValue,!0):fb(_,!!$.multiple,$.multiple?[]:"",!1))}_[Pf]=$}catch(at){W(i,i.return,at)}}break;case 6:if(ck(o,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$1(162));_=i.stateNode,$=i.memoizedProps;try{_.nodeValue=$}catch(at){W(i,i.return,at)}}break;case 3:if(ck(o,i),ek(i),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(at){W(i,i.return,at)}break;case 4:ck(o,i),ek(i);break;case 13:ck(o,i),ek(i),_=i.child,_.flags&8192&&($=_.memoizedState!==null,_.stateNode.isHidden=$,!$||_.alternate!==null&&_.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(ot=s!==null&&s.memoizedState!==null,i.mode&1?(U=(it=U)||ot,ck(o,i),U=it):ck(o,i),ek(i),a&8192){if(it=i.memoizedState!==null,(i.stateNode.isHidden=it)&&!ot&&i.mode&1)for(V=i,ot=i.child;ot!==null;){for(et=V=ot;V!==null;){switch(j=V,rt=j.child,j.tag){case 0:case 11:case 14:case 15:Pj(4,j,j.return);break;case 1:Lj(j,j.return);var st=j.stateNode;if(typeof st.componentWillUnmount=="function"){a=j,s=j.return;try{o=a,st.props=o.memoizedProps,st.state=o.memoizedState,st.componentWillUnmount()}catch(at){W(a,s,at)}}break;case 5:Lj(j,j.return);break;case 22:if(j.memoizedState!==null){gk(et);continue}}rt!==null?(rt.return=j,V=rt):gk(et)}ot=ot.sibling}e:for(ot=null,et=i;;){if(et.tag===5){if(ot===null){ot=et;try{_=et.stateNode,it?($=_.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(tt=et.stateNode,nt=et.memoizedProps.style,_e=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,tt.style.display=rb("display",_e))}catch(at){W(i,i.return,at)}}}else if(et.tag===6){if(ot===null)try{et.stateNode.nodeValue=it?"":et.memoizedProps}catch(at){W(i,i.return,at)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===i)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===i)break e;for(;et.sibling===null;){if(et.return===null||et.return===i)break e;ot===et&&(ot=null),et=et.return}ot===et&&(ot=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:ck(o,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(o,i),ek(i)}}function ek(i){var o=i.flags;if(o&2){try{e:{for(var s=i.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p$1(160))}switch(a.tag){case 5:var _=a.stateNode;a.flags&32&&(ob(_,""),a.flags&=-33);var $=Uj(i);Wj(i,$,_);break;case 3:case 4:var _e=a.stateNode.containerInfo,tt=Uj(i);Vj(i,tt,_e);break;default:throw Error(p$1(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function hk(i,o,s){V=i,ik(i)}function ik(i,o,s){for(var a=(i.mode&1)!==0;V!==null;){var _=V,$=_.child;if(_.tag===22&&a){var _e=_.memoizedState!==null||Jj;if(!_e){var tt=_.alternate,nt=tt!==null&&tt.memoizedState!==null||U;tt=Jj;var it=U;if(Jj=_e,(U=nt)&&!it)for(V=_;V!==null;)_e=V,nt=_e.child,_e.tag===22&&_e.memoizedState!==null?jk(_):nt!==null?(nt.return=_e,V=nt):jk(_);for(;$!==null;)V=$,ik($),$=$.sibling;V=_,Jj=tt,U=it}kk(i)}else _.subtreeFlags&8772&&$!==null?($.return=_,V=$):kk(i)}}function kk(i){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var a=o.stateNode;if(o.flags&4&&!U)if(s===null)a.componentDidMount();else{var _=o.elementType===o.type?s.memoizedProps:Ci(o.type,s.memoizedProps);a.componentDidUpdate(_,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var $=o.updateQueue;$!==null&&sh(o,$,a);break;case 3:var _e=o.updateQueue;if(_e!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}sh(o,_e,s)}break;case 5:var tt=o.stateNode;if(s===null&&o.flags&4){s=tt;var nt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&s.focus();break;case"img":nt.src&&(s.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var it=o.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var et=ot.dehydrated;et!==null&&bd(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Rj(o)}catch(j){W(o,o.return,j)}}if(o===i){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function gk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function jk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Qj(4,o)}catch(nt){W(o,s,nt)}break;case 1:var a=o.stateNode;if(typeof a.componentDidMount=="function"){var _=o.return;try{a.componentDidMount()}catch(nt){W(o,_,nt)}}var $=o.return;try{Rj(o)}catch(nt){W(o,$,nt)}break;case 5:var _e=o.return;try{Rj(o)}catch(nt){W(o,_e,nt)}}}catch(nt){W(o,o.return,nt)}if(o===i){V=null;break}var tt=o.sibling;if(tt!==null){tt.return=o.return,V=tt;break}V=o.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K=0,Q=null,Y$1=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,o,s,a){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,s,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(i,Z)),Dk(i,a),s===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,o){var s=i.callbackNode;wc(i,o);var a=uc(i,i===Q?Z:0);if(a===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(o=a&-a,i.callbackPriority!==o){if(s!=null&&bc(s),o===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,i))}i.callbackPriority=o,i.callbackNode=s}}function Gk(i,o){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var s=i.callbackNode;if(Hk()&&i.callbackNode!==s)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||o)o=Ik(i,a);else{o=a;var _=K;K|=2;var $=Jk();(Q!==i||Z!==o)&&(uk=null,Gj=B()+500,Kk(i,o));do try{Lk();break}catch(tt){Mk(i,tt)}while(!0);$g(),mk.current=$,K=_,Y$1!==null?o=0:(Q=null,Z=0,o=T)}if(o!==0){if(o===2&&(_=xc(i),_!==0&&(a=_,o=Nk(i,_))),o===1)throw s=pk,Kk(i,0),Ck(i,a),Dk(i,B()),s;if(o===6)Ck(i,a);else{if(_=i.current.alternate,!(a&30)&&!Ok(_)&&(o=Ik(i,a),o===2&&($=xc(i),$!==0&&(a=$,o=Nk(i,$))),o===1))throw s=pk,Kk(i,0),Ck(i,a),Dk(i,B()),s;switch(i.finishedWork=_,i.finishedLanes=a,o){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(o=fk+500-B(),10<o)){if(uc(i,0)!==0)break;if(_=i.suspendedLanes,(_&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),o);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(o=i.eventTimes,_=-1;0<a;){var _e=31-oc(a);$=1<<_e,_e=o[_e],_e>_&&(_=_e),a&=~$}if(a=_,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===s?Gk.bind(null,i):null}function Nk(i,o){var s=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,o).flags|=256),i=Ik(i,o),i!==2&&(o=tk,tk=s,o!==null&&Fj(o)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var o=i;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var _=s[a],$=_.getSnapshot;_=_.value;try{if(!He($(),_))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(i,o){for(o&=~rk,o&=~qk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var s=31-oc(o),a=1<<s;i[s]=-1,o&=~a}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var o=uc(i,0);if(!(o&1))return Dk(i,B()),null;var s=Ik(i,o);if(i.tag!==0&&s===2){var a=xc(i);a!==0&&(o=a,s=Nk(i,a))}if(s===1)throw s=pk,Kk(i,0),Ck(i,o),Dk(i,B()),s;if(s===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,o){var s=K;K|=1;try{return i(o)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=s,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,o){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=i,Y$1=i=Pg(i.current,null),Z=fj=o,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(s=fh[o],a=s.interleaved,a!==null){s.interleaved=null;var _=a.next,$=s.pending;if($!==null){var _e=$.next;$.next=_,a.next=_e}s.pending=a}fh=null}return i}function Mk(i,o){do{var s=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var _=a.queue;_!==null&&(_.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=o,Y$1=null;break}e:{var $=i,_e=s.return,tt=s,nt=o;if(o=Z,tt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,ot=tt,et=ot.tag;if(!(ot.mode&1)&&(et===0||et===11||et===15)){var j=ot.alternate;j?(ot.updateQueue=j.updateQueue,ot.memoizedState=j.memoizedState,ot.lanes=j.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var rt=Ui(_e);if(rt!==null){rt.flags&=-257,Vi(rt,_e,tt,$,o),rt.mode&1&&Si($,it,o),o=rt,nt=it;var st=o.updateQueue;if(st===null){var at=new Set;at.add(nt),o.updateQueue=at}else st.add(nt);break e}else{if(!(o&1)){Si($,it,o),tj();break e}nt=Error(p$1(426))}}else if(I&&tt.mode&1){var lt=Ui(_e);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Vi(lt,_e,tt,$,o),Jg(Ji(nt,tt));break e}}$=nt=Ji(nt,tt),T!==4&&(T=2),sk===null?sk=[$]:sk.push($),$=_e;do{switch($.tag){case 3:$.flags|=65536,o&=-o,$.lanes|=o;var ct=Ni($,nt,o);ph($,ct);break e;case 1:tt=nt;var ut=$.type,dt=$.stateNode;if(!($.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Ri===null||!Ri.has(dt)))){$.flags|=65536,o&=-o,$.lanes|=o;var ft=Qi($,tt,o);ph($,ft);break e}}$=$.return}while($!==null)}Sk(s)}catch(ht){o=ht,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,o){var s=K;K|=2;var a=Jk();(Q!==i||Z!==o)&&(uk=null,Kk(i,o));do try{Tk();break}catch(_){Mk(i,_)}while(!0);if($g(),K=s,mk.current=a,Y$1!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(i){var o=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,o===null?Sk(i):Y$1=o,nk.current=null}function Sk(i){var o=i;do{var s=o.alternate;if(i=o.return,o.flags&32768){if(s=Ij(s,o),s!==null){s.flags&=32767,Y$1=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y$1=null;return}}else if(s=Ej(s,o,fj),s!==null){Y$1=s;return}if(o=o.sibling,o!==null){Y$1=o;return}Y$1=o=i}while(o!==null);T===0&&(T=5)}function Pk(i,o,s){var a=C,_=ok.transition;try{ok.transition=null,C=1,Wk(i,o,s,a)}finally{ok.transition=_,C=a}return null}function Wk(i,o,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));s=i.finishedWork;var _=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var $=s.lanes|s.childLanes;if(Bc(i,$),i===Q&&(Y$1=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),$=(s.flags&15990)!==0,s.subtreeFlags&15990||$){$=ok.transition,ok.transition=null;var _e=C;C=1;var tt=K;K|=4,nk.current=null,Oj(i,s),dk(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,hk(s),dc(),K=tt,C=_e,ok.transition=$}else i.current=s;if(vk&&(vk=!1,wk=i,xk=_),$=i.pendingLanes,$===0&&(Ri=null),mc(s.stateNode),Dk(i,B()),o!==null)for(a=i.onRecoverableError,s=0;s<o.length;s++)_=o[s],a(_.value,{componentStack:_.stack,digest:_.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),$=i.pendingLanes,$&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),o=ok.transition,s=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var _=K;for(K|=4,V=i.current;V!==null;){var $=V,_e=$.child;if(V.flags&16){var tt=$.deletions;if(tt!==null){for(var nt=0;nt<tt.length;nt++){var it=tt[nt];for(V=it;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Pj(8,ot,$)}var et=ot.child;if(et!==null)et.return=ot,V=et;else for(;V!==null;){ot=V;var j=ot.sibling,rt=ot.return;if(Sj(ot),ot===it){V=null;break}if(j!==null){j.return=rt,V=j;break}V=rt}}}var st=$.alternate;if(st!==null){var at=st.child;if(at!==null){st.child=null;do{var lt=at.sibling;at.sibling=null,at=lt}while(at!==null)}}V=$}}if($.subtreeFlags&2064&&_e!==null)_e.return=$,V=_e;else e:for(;V!==null;){if($=V,$.flags&2048)switch($.tag){case 0:case 11:case 15:Pj(9,$,$.return)}var ct=$.sibling;if(ct!==null){ct.return=$.return,V=ct;break e}V=$.return}}var ut=i.current;for(V=ut;V!==null;){_e=V;var dt=_e.child;if(_e.subtreeFlags&2064&&dt!==null)dt.return=_e,V=dt;else e:for(_e=ut;V!==null;){if(tt=V,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Qj(9,tt)}}catch(ht){W(tt,tt.return,ht)}if(tt===_e){V=null;break e}var ft=tt.sibling;if(ft!==null){ft.return=tt.return,V=ft;break e}V=tt.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=s,ok.transition=o}}return!1}function Xk(i,o,s){o=Ji(s,o),o=Ni(i,o,1),i=nh(i,o,1),o=R(),i!==null&&(Ac(i,1,o),Dk(i,o))}function W(i,o,s){if(i.tag===3)Xk(i,i,s);else for(;o!==null;){if(o.tag===3){Xk(o,i,s);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(s,i),i=Qi(o,i,1),o=nh(o,i,1),i=R(),o!==null&&(Ac(o,1,i),Dk(o,i));break}}o=o.return}}function Ti(i,o,s){var a=i.pingCache;a!==null&&a.delete(o),o=R(),i.pingedLanes|=i.suspendedLanes&s,Q===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=s),Dk(i,o)}function Yk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=R();i=ih(i,o),i!==null&&(Ac(i,o,s),Dk(i,s))}function uj(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Yk(i,s)}function bk(i,o){var s=0;switch(i.tag){case 13:var a=i.stateNode,_=i.memoizedState;_!==null&&(s=_.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(o),Yk(i,s)}var Vk;Vk=function(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&s)&&!(o.flags&128))return dh=!1,yj(i,o,s);dh=!!(i.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var a=o.type;ij(i,o),i=o.pendingProps;var _=Yf(o,H.current);ch(o,s),_=Nh(null,o,a,i,_,s);var $=Sh();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(a)?($=!0,cg(o)):$=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,kh(o),_.updater=Ei,o.stateNode=_,_._reactInternals=o,Ii(o,a,i,s),o=jj(null,o,a,!0,$,s)):(o.tag=0,I&&$&&vg(o),Xi(null,o,_,s),o=o.child),o;case 16:a=o.elementType;e:{switch(ij(i,o),i=o.pendingProps,_=a._init,a=_(a._payload),o.type=a,_=o.tag=Zk(a),i=Ci(a,i),_){case 0:o=cj(null,o,a,i,s);break e;case 1:o=hj(null,o,a,i,s);break e;case 11:o=Yi(null,o,a,i,s);break e;case 14:o=$i(null,o,a,Ci(a.type,i),s);break e}throw Error(p$1(306,a,""))}return o;case 0:return a=o.type,_=o.pendingProps,_=o.elementType===a?_:Ci(a,_),cj(i,o,a,_,s);case 1:return a=o.type,_=o.pendingProps,_=o.elementType===a?_:Ci(a,_),hj(i,o,a,_,s);case 3:e:{if(kj(o),i===null)throw Error(p$1(387));a=o.pendingProps,$=o.memoizedState,_=$.element,lh(i,o),qh(o,a,null,s);var _e=o.memoizedState;if(a=_e.element,$.isDehydrated)if($={element:a,isDehydrated:!1,cache:_e.cache,pendingSuspenseBoundaries:_e.pendingSuspenseBoundaries,transitions:_e.transitions},o.updateQueue.baseState=$,o.memoizedState=$,o.flags&256){_=Ji(Error(p$1(423)),o),o=lj(i,o,a,s,_);break e}else if(a!==_){_=Ji(Error(p$1(424)),o),o=lj(i,o,a,s,_);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Vg(o,null,a,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===_){o=Zi(i,o,s);break e}Xi(i,o,a,s)}o=o.child}return o;case 5:return Ah(o),i===null&&Eg(o),a=o.type,_=o.pendingProps,$=i!==null?i.memoizedProps:null,_e=_.children,Ef(a,_)?_e=null:$!==null&&Ef(a,$)&&(o.flags|=32),gj(i,o),Xi(i,o,_e,s),o.child;case 6:return i===null&&Eg(o),null;case 13:return oj(i,o,s);case 4:return yh(o,o.stateNode.containerInfo),a=o.pendingProps,i===null?o.child=Ug(o,null,a,s):Xi(i,o,a,s),o.child;case 11:return a=o.type,_=o.pendingProps,_=o.elementType===a?_:Ci(a,_),Yi(i,o,a,_,s);case 7:return Xi(i,o,o.pendingProps,s),o.child;case 8:return Xi(i,o,o.pendingProps.children,s),o.child;case 12:return Xi(i,o,o.pendingProps.children,s),o.child;case 10:e:{if(a=o.type._context,_=o.pendingProps,$=o.memoizedProps,_e=_.value,G(Wg,a._currentValue),a._currentValue=_e,$!==null)if(He($.value,_e)){if($.children===_.children&&!Wf.current){o=Zi(i,o,s);break e}}else for($=o.child,$!==null&&($.return=o);$!==null;){var tt=$.dependencies;if(tt!==null){_e=$.child;for(var nt=tt.firstContext;nt!==null;){if(nt.context===a){if($.tag===1){nt=mh(-1,s&-s),nt.tag=2;var it=$.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?nt.next=nt:(nt.next=ot.next,ot.next=nt),it.pending=nt}}$.lanes|=s,nt=$.alternate,nt!==null&&(nt.lanes|=s),bh($.return,s,o),tt.lanes|=s;break}nt=nt.next}}else if($.tag===10)_e=$.type===o.type?null:$.child;else if($.tag===18){if(_e=$.return,_e===null)throw Error(p$1(341));_e.lanes|=s,tt=_e.alternate,tt!==null&&(tt.lanes|=s),bh(_e,s,o),_e=$.sibling}else _e=$.child;if(_e!==null)_e.return=$;else for(_e=$;_e!==null;){if(_e===o){_e=null;break}if($=_e.sibling,$!==null){$.return=_e.return,_e=$;break}_e=_e.return}$=_e}Xi(i,o,_.children,s),o=o.child}return o;case 9:return _=o.type,a=o.pendingProps.children,ch(o,s),_=eh(_),a=a(_),o.flags|=1,Xi(i,o,a,s),o.child;case 14:return a=o.type,_=Ci(a,o.pendingProps),_=Ci(a.type,_),$i(i,o,a,_,s);case 15:return bj(i,o,o.type,o.pendingProps,s);case 17:return a=o.type,_=o.pendingProps,_=o.elementType===a?_:Ci(a,_),ij(i,o),o.tag=1,Zf(a)?(i=!0,cg(o)):i=!1,ch(o,s),Gi(o,a,_),Ii(o,a,_,s),jj(null,o,a,!0,i,s);case 19:return xj(i,o,s);case 22:return dj(i,o,s)}throw Error(p$1(156,o.tag))};function Fk(i,o){return ac(i,o)}function $k(i,o,s,a){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,s,a){return new $k(i,o,s,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,o){var s=i.alternate;return s===null?(s=Bg(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function Rg(i,o,s,a,_,$){var _e=2;if(a=i,typeof i=="function")aj(i)&&(_e=1);else if(typeof i=="string")_e=5;else e:switch(i){case ya:return Tg(s.children,_,$,o);case za:_e=8,_|=8;break;case Aa:return i=Bg(12,s,o,_|2),i.elementType=Aa,i.lanes=$,i;case Ea:return i=Bg(13,s,o,_),i.elementType=Ea,i.lanes=$,i;case Fa:return i=Bg(19,s,o,_),i.elementType=Fa,i.lanes=$,i;case Ia:return pj(s,_,$,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:_e=10;break e;case Ca:_e=9;break e;case Da:_e=11;break e;case Ga:_e=14;break e;case Ha:_e=16,a=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return o=Bg(_e,s,o,_),o.elementType=i,o.type=a,o.lanes=$,o}function Tg(i,o,s,a){return i=Bg(7,i,a,o),i.lanes=s,i}function pj(i,o,s,a){return i=Bg(22,i,a,o),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function Qg(i,o,s){return i=Bg(6,i,null,o),i.lanes=s,i}function Sg(i,o,s){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function al(i,o,s,a,_){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function bl(i,o,s,a,_,$,_e,tt,nt){return i=new al(i,o,s,tt,nt),o===1?(o=1,$===!0&&(o|=8)):o=0,$=Bg(3,null,null,o),i.current=$,$.stateNode=i,$.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh($),i}function cl(i,o,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:o,implementation:s}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,o)}return o}function el(i,o,s,a,_,$,_e,tt,nt){return i=bl(s,a,!0,i,_,$,_e,tt,nt),i.context=dl(null),s=i.current,a=R(),_=yi(s),$=mh(a,_),$.callback=o??null,nh(s,$,_),i.current.lanes=_,Ac(i,_,a),Dk(i,a),i}function fl(i,o,s,a){var _=o.current,$=R(),_e=yi(_);return s=dl(s),o.context===null?o.context=s:o.pendingContext=s,o=mh($,_e),o.payload={element:i},a=a===void 0?null:a,a!==null&&(o.callback=a),i=nh(_,o,_e),i!==null&&(gi(i,_,_e,$),oh(i,_,_e)),_e}function gl$1(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function il(i,o){hl(i,o),(i=i.alternate)&&hl(i,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$1(409));fl(i,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rk(function(){fl(null,i,null,null)}),o[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,o,s,a,_){if(_){if(typeof a=="function"){var $=a;a=function(){var it=gl$1(_e);$.call(it)}}var _e=el(o,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=_e,i[uf]=_e.current,sf(i.nodeType===8?i.parentNode:i),Rk(),_e}for(;_=i.lastChild;)i.removeChild(_);if(typeof a=="function"){var tt=a;a=function(){var it=gl$1(nt);tt.call(it)}}var nt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(o,nt,s,a)}),nt}function rl(i,o,s,a,_){var $=s._reactRootContainer;if($){var _e=$;if(typeof _=="function"){var tt=_;_=function(){var nt=gl$1(_e);tt.call(nt)}}fl(o,_e,i,_)}else _e=ql(s,o,i,_,a);return gl$1(_e)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var _=R();gi(a,i,1,_)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var o=ih(i,134217728);if(o!==null){var s=R();gi(o,i,134217728,s)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var o=yi(i),s=ih(i,o);if(s!==null){var a=R();gi(s,i,o,a)}il(i,o)}};Hc=function(){return C};Ic=function(i,o){var s=C;try{return C=i,o()}finally{C=s}};yb=function(i,o,s){switch(o){case"input":if(bb(i,s),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var a=s[o];if(a!==i&&a.form===i.form){var _=Db(a);if(!_)throw Error(p$1(90));Wa(a),bb(a,_)}}}break;case"textarea":ib(i,s);break;case"select":o=s.value,o!=null&&fb(i,!!s.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p$1(200));return cl(i,o,null,s)};reactDom_production_min.createRoot=function(i,o){if(!nl(i))throw Error(p$1(299));var s=!1,a="",_=kl;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=bl(i,1,!1,null,null,s,!1,a,_),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ll(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,o,s){if(!ol(o))throw Error(p$1(200));return rl(null,i,o,!0,s)};reactDom_production_min.hydrateRoot=function(i,o,s){if(!nl(i))throw Error(p$1(405));var a=s!=null&&s.hydratedSources||null,_=!1,$="",_e=kl;if(s!=null&&(s.unstable_strictMode===!0&&(_=!0),s.identifierPrefix!==void 0&&($=s.identifierPrefix),s.onRecoverableError!==void 0&&(_e=s.onRecoverableError)),o=el(o,null,i,1,s??null,_,!1,$,_e),i[uf]=o.current,sf(i),a)for(i=0;i<a.length;i++)s=a[i],_=s._getVersion,_=_(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,_]:o.mutableSourceEagerHydrationData.push(s,_);return new ml(o)};reactDom_production_min.render=function(i,o,s){if(!ol(o))throw Error(p$1(200));return rl(null,i,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,s,a){if(!ol(s))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,o,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;const cx=(...i)=>i.filter(Boolean).map(o=>o.trim()).join(" ");function getErrorMessage$1(i,o){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${o}`}function createContext$1(i={}){const{name:o,strict:s=!0,hookName:a="useContext",providerName:_="Provider",errorMessage:$,defaultValue:_e}=i,tt=reactExports.createContext(_e);tt.displayName=o;function nt(){var ot;const it=reactExports.useContext(tt);if(!it&&s){const et=new Error($??getErrorMessage$1(a,_));throw et.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,et,nt),et}return it}return[tt.Provider,nt,tt]}function callAll$1(...i){return function(...s){i.forEach(a=>a==null?void 0:a(...s))}}const clsx$1=(...i)=>i.map(o=>{var s;return(s=o==null?void 0:o.trim)==null?void 0:s.call(o)}).filter(Boolean).join(" "),eventRegex=/^on[A-Z]/;function mergeProps$1(...i){let o={};for(let s of i){for(let a in o){if(eventRegex.test(a)&&typeof o[a]=="function"&&typeof s[a]=="function"){o[a]=callAll$1(o[a],s[a]);continue}if(a==="className"||a==="class"){o[a]=clsx$1(o[a],s[a]);continue}if(a==="style"){o[a]=Object.assign({},o[a]??{},s[a]??{});continue}o[a]=s[a]!==void 0?s[a]:o[a]}for(let a in s)o[a]===void 0&&(o[a]=s[a])}return o}const EMPTY_STYLES=Object.freeze({}),EMPTY_SLOT_STYLES=Object.freeze({});function memoize(i){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=i(s)),o[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid$1=memoize(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91});function sheetForTag(i){if(i.sheet)return i.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===i)return document.styleSheets[o]}function createStyleElement(i){var o=document.createElement("style");return o.setAttribute("data-emotion",i.key),i.nonce!==void 0&&o.setAttribute("nonce",i.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function i(s){var a=this;this._insertTag=function(_){var $;a.tags.length===0?a.insertionPoint?$=a.insertionPoint.nextSibling:a.prepend?$=a.container.firstChild:$=a.before:$=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(_,$),a.tags.push(_)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=i.prototype;return o.hydrate=function(a){a.forEach(this._insertTag)},o.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _=this.tags[this.tags.length-1];if(this.isSpeedy){var $=sheetForTag(_);try{$.insertRule(a,$.cssRules.length)}catch{}}else _.appendChild(document.createTextNode(a));this.ctr++},o.flush=function(){this.tags.forEach(function(a){var _;return(_=a.parentNode)==null?void 0:_.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(i,o){return charat(i,0)^45?(((o<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match$3(i,o){return(i=o.exec(i))?i[0]:i}function replace(i,o,s){return i.replace(o,s)}function indexof(i,o){return i.indexOf(o)}function charat(i,o){return i.charCodeAt(o)|0}function substr(i,o,s){return i.slice(o,s)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,o){return o.push(i),i}function combine(i,o){return i.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,o,s,a,_,$,_e){return{value:i,root:o,parent:s,type:a,props:_,children:$,line,column,length:_e,return:""}}function copy$1(i,o){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},o)}function char(){return character}function prev$1(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next$1(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(i,o){return substr(characters,i,o)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice$1(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next$1();return token(i)>2||token(character)>3?"":" "}function escaping(i,o){for(;--o&&next$1()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(i,caret()+(o<6&&peek()==32&&next$1()==32))}function delimiter(i){for(;next$1();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next$1();break}return position}function commenter(i,o){for(;next$1()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice$1(o,position-1)+"*"+from(i===47?i:next$1())}function identifier(i){for(;!token(peek());)next$1();return slice$1(i,position)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,o,s,a,_,$,_e,tt,nt){for(var it=0,ot=0,et=_e,j=0,rt=0,st=0,at=1,lt=1,ct=1,ut=0,dt="",ft=_,ht=$,mt=a,bt=dt;lt;)switch(st=ut,ut=next$1()){case 40:if(st!=108&&charat(bt,et-1)==58){indexof(bt+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(ct=-1);break}case 34:case 39:case 91:bt+=delimit(ut);break;case 9:case 10:case 13:case 32:bt+=whitespace(st);break;case 92:bt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next$1(),caret()),o,s),nt);break;default:bt+="/"}break;case 123*at:tt[it++]=strlen(bt)*ct;case 125*at:case 59:case 0:switch(ut){case 0:case 125:lt=0;case 59+ot:ct==-1&&(bt=replace(bt,/\f/g,"")),rt>0&&strlen(bt)-et&&append(rt>32?declaration(bt+";",a,s,et-1):declaration(replace(bt," ","")+";",a,s,et-2),nt);break;case 59:bt+=";";default:if(append(mt=ruleset(bt,o,s,it,ot,_,tt,dt,ft=[],ht=[],et),$),ut===123)if(ot===0)parse$1(bt,o,mt,mt,ft,$,et,tt,ht);else switch(j===99&&charat(bt,3)===110?100:j){case 100:case 108:case 109:case 115:parse$1(i,mt,mt,a&&append(ruleset(i,mt,mt,0,0,_,tt,dt,_,ft=[],et),ht),_,ht,et,tt,a?ft:ht);break;default:parse$1(bt,mt,mt,mt,[""],ht,0,tt,ht)}}it=ot=rt=0,at=ct=1,dt=bt="",et=_e;break;case 58:et=1+strlen(bt),rt=st;default:if(at<1){if(ut==123)--at;else if(ut==125&&at++==0&&prev$1()==125)continue}switch(bt+=from(ut),ut*at){case 38:ct=ot>0?1:(bt+="\f",-1);break;case 44:tt[it++]=(strlen(bt)-1)*ct,ct=1;break;case 64:peek()===45&&(bt+=delimit(next$1())),j=peek(),ot=et=strlen(dt=bt+=identifier(caret())),ut++;break;case 45:st===45&&strlen(bt)==2&&(at=0)}}return $}function ruleset(i,o,s,a,_,$,_e,tt,nt,it,ot){for(var et=_-1,j=_===0?$:[""],rt=sizeof(j),st=0,at=0,lt=0;st<a;++st)for(var ct=0,ut=substr(i,et+1,et=abs(at=_e[st])),dt=i;ct<rt;++ct)(dt=trim(at>0?j[ct]+" "+ut:replace(ut,/&\f/g,j[ct])))&&(nt[lt++]=dt);return node(i,o,s,_===0?RULESET:tt,nt,it,ot)}function comment(i,o,s){return node(i,o,s,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,o,s,a){return node(i,o,s,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize$1(i,o){for(var s="",a=sizeof(i),_=0;_<a;_++)s+=o(i[_],_,i,o)||"";return s}function stringify$2(i,o,s,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize$1(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(s=serialize$1(i.children,a))?i.return=i.value+"{"+s+"}":""}function middleware(i){var o=sizeof(i);return function(s,a,_,$){for(var _e="",tt=0;tt<o;tt++)_e+=i[tt](s,a,_,$)||"";return _e}}function rulesheet(i){return function(o){o.root||(o=o.return)&&i(o)}}var identifierWithPointTracking=function(o,s,a){for(var _=0,$=0;_=$,$=peek(),_===38&&$===12&&(s[a]=1),!token($);)next$1();return slice$1(o,position)},toRules=function(o,s){var a=-1,_=44;do switch(token(_)){case 0:_===38&&peek()===12&&(s[a]=1),o[a]+=identifierWithPointTracking(position-1,s,a);break;case 2:o[a]+=delimit(_);break;case 4:if(_===44){o[++a]=peek()===58?"&\f":"",s[a]=o[a].length;break}default:o[a]+=from(_)}while(_=next$1());return o},getRules=function(o,s){return dealloc(toRules(alloc(o),s))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,a=o.parent,_=o.column===a.column&&o.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(a))&&!_){fixedElements.set(o,!0);for(var $=[],_e=getRules(s,$),tt=a.props,nt=0,it=0;nt<_e.length;nt++)for(var ot=0;ot<tt.length;ot++,it++)o.props[it]=$[nt]?_e[nt].replace(/&\f/g,tt[ot]):tt[ot]+" "+_e[nt]}}},removeLabel=function(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix$1(i,o){switch(hash(i,o)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-o>6)switch(charat(i,o+1)){case 109:if(charat(i,o+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,o+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix$1(replace(i,"stretch","fill-available"),o)+i:i}break;case 4949:if(charat(i,o+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,o+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(o,s,a,_){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix$1(o.value,o.length);break;case KEYFRAMES:return serialize$1([copy$1(o,{value:replace(o.value,"@","@"+WEBKIT)})],_);case RULESET:if(o.length)return combine(o.props,function($){switch(match$3($,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$1(o,{props:[replace($,/:(read-\w+)/,":"+MOZ+"$1")]})],_);case"::placeholder":return serialize$1([copy$1(o,{props:[replace($,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(o,{props:[replace($,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(o,{props:[replace($,/:(plac\w+)/,MS+"input-$1")]})],_)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var s=o.key;if(s==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(at){var lt=at.getAttribute("data-emotion");lt.indexOf(" ")!==-1&&(document.head.appendChild(at),at.setAttribute("data-s",""))})}var _=o.stylisPlugins||defaultStylisPlugins,$={},_e,tt=[];_e=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(at){for(var lt=at.getAttribute("data-emotion").split(" "),ct=1;ct<lt.length;ct++)$[lt[ct]]=!0;tt.push(at)});var nt,it=[compat,removeLabel];{var ot,et=[stringify$2,rulesheet(function(at){ot.insert(at)})],j=middleware(it.concat(_,et)),rt=function(lt){return serialize$1(compile(lt),j)};nt=function(lt,ct,ut,dt){ot=ut,rt(lt?lt+"{"+ct.styles+"}":ct.styles),dt&&(st.inserted[ct.name]=!0)}}var st={key:s,sheet:new StyleSheet({key:s,container:_e,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:$,registered:{},insert:nt};return st.sheet.hydrate(tt),st},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w$1=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case c:switch(i=i.type,i){case l:case m:case e:case g:case f:case p:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t:case r:case h:return i;default:return o}}case d:return o}}}function A(i){return z(i)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z(i)===n};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t};reactIs_production_min.isMemo=function(i){return z(i)===r};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f};reactIs_production_min.isSuspense=function(i){return z(i)===p};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m||i===g||i===f||i===p||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w$1||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,o,s){var a="";return s.split(" ").forEach(function(_){i[_]!==void 0?o.push(i[_]+";"):_&&(a+=_+" ")}),a}var registerStyles=function(o,s,a){var _=o.key+"-"+s.name;(a===!1||isBrowser$1===!1)&&o.registered[_]===void 0&&(o.registered[_]=s.styles)},insertStyles=function(o,s,a){registerStyles(o,s,a);var _=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var $=s;do o.insert(s===$?"."+_:"",$,o.sheet,!0),$=$.next;while($!==void 0)}};function murmur2(i){for(var o=0,s,a=0,_=i.length;_>=4;++a,_-=4)s=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(_){case 3:o^=(i.charCodeAt(a+2)&255)<<16;case 2:o^=(i.charCodeAt(a+1)&255)<<8;case 1:o^=i.charCodeAt(a)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(a,_,$){return cursor$1={name:_,styles:$,next:cursor$1},_})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s};function handleInterpolation(i,o,s){if(s==null)return"";var a=s;if(a.__emotion_styles!==void 0)return a;switch(typeof s){case"boolean":return"";case"object":{var _=s;if(_.anim===1)return cursor$1={name:_.name,styles:_.styles,next:cursor$1},_.name;var $=s;if($.styles!==void 0){var _e=$.next;if(_e!==void 0)for(;_e!==void 0;)cursor$1={name:_e.name,styles:_e.styles,next:cursor$1},_e=_e.next;var tt=$.styles+";";return tt}return createStringFromObject(i,o,s)}case"function":{if(i!==void 0){var nt=cursor$1,it=s(i);return cursor$1=nt,handleInterpolation(i,o,it)}break}}var ot=s;if(o==null)return ot;var et=o[ot];return et!==void 0?et:ot}function createStringFromObject(i,o,s){var a="";if(Array.isArray(s))for(var _=0;_<s.length;_++)a+=handleInterpolation(i,o,s[_])+";";else for(var $ in s){var _e=s[$];if(typeof _e!="object"){var tt=_e;o!=null&&o[tt]!==void 0?a+=$+"{"+o[tt]+"}":isProcessableValue(tt)&&(a+=processStyleName($)+":"+processStyleValue($,tt)+";")}else if(Array.isArray(_e)&&typeof _e[0]=="string"&&(o==null||o[_e[0]]===void 0))for(var nt=0;nt<_e.length;nt++)isProcessableValue(_e[nt])&&(a+=processStyleName($)+":"+processStyleValue($,_e[nt])+";");else{var it=handleInterpolation(i,o,_e);switch($){case"animation":case"animationName":{a+=processStyleName($)+":"+it+";";break}default:a+=$+"{"+it+"}"}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor$1;function serializeStyles(i,o,s){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,_="";cursor$1=void 0;var $=i[0];if($==null||$.raw===void 0)a=!1,_+=handleInterpolation(s,o,$);else{var _e=$;_+=_e[0]}for(var tt=1;tt<i.length;tt++)if(_+=handleInterpolation(s,o,i[tt]),a){var nt=$;_+=nt[tt]}labelPattern.lastIndex=0;for(var it="",ot;(ot=labelPattern.exec(_))!==null;)it+="-"+ot[1];var et=murmur2(_)+it;return{name:et,styles:_,next:cursor$1}}var syncFallback=function(o){return o()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(o){return reactExports.forwardRef(function(s,a){var _=reactExports.useContext(EmotionCacheContext);return o(s,_,a)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(o,s){var a={};for(var _ in s)hasOwn.call(s,_)&&(a[_]=s[_]);return a[typePropName]=o,a},Insertion$1=function(o){var s=o.cache,a=o.serialized,_=o.isStringTag;return registerStyles(s,a,_),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,a,_)}),null},Emotion=withEmotionCache(function(i,o,s){var a=i.css;typeof a=="string"&&o.registered[a]!==void 0&&(a=o.registered[a]);var _=i[typePropName],$=[a],_e="";typeof i.className=="string"?_e=getRegisteredStyles(o.registered,$,i.className):i.className!=null&&(_e=i.className+" ");var tt=serializeStyles($,void 0,reactExports.useContext(ThemeContext));_e+=o.key+"-"+tt.name;var nt={};for(var it in i)hasOwn.call(i,it)&&it!=="css"&&it!==typePropName&&(nt[it]=i[it]);return nt.className=_e,s&&(nt.ref=s),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:o,serialized:tt,isStringTag:typeof _=="string"}),reactExports.createElement(_,nt))}),Emotion$1=Emotion,jsx=function(o,s){var a=arguments;if(s==null||!hasOwn.call(s,"css"))return reactExports.createElement.apply(void 0,a);var _=a.length,$=new Array(_);$[0]=Emotion$1,$[1]=createEmotionProps(o,s);for(var _e=2;_e<_;_e++)$[_e]=a[_e];return reactExports.createElement.apply(null,$)};(function(i){var o;o||(o=i.JSX||(i.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(i,o){var s=i.styles,a=serializeStyles([s],void 0,reactExports.useContext(ThemeContext)),_=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var $=o.key+"-global",_e=new o.sheet.constructor({key:$,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),tt=!1,nt=document.querySelector('style[data-emotion="'+$+" "+a.name+'"]');return o.sheet.tags.length&&(_e.before=o.sheet.tags[0]),nt!==null&&(tt=!0,nt.setAttribute("data-emotion",$),_e.hydrate([nt])),_.current=[_e,tt],function(){_e.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var $=_.current,_e=$[0],tt=$[1];if(tt){$[1]=!1;return}if(a.next!==void 0&&insertStyles(o,a.next,!0),_e.tags.length){var nt=_e.tags[_e.tags.length-1].nextElementSibling;_e.before=nt,_e.flush()}o.insert("",a,_e,!1)},[o,a.name]),null});function css$2(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return serializeStyles(o)}function assignRef(i,o){if(i!=null){if(typeof i=="function"){i(o);return}try{i.current=o}catch{throw new Error(`Cannot assign value '${o}' to ref '${i}'`)}}}function mergeRefs(...i){return o=>{i.forEach(s=>{assignRef(s,o)})}}function compact$1(i){const o=Object.assign({},i);for(let s in o)o[s]===void 0&&delete o[s];return o}function interopDefault(i){return i.default||i}const isObject$4=i=>i!=null&&typeof i=="object"&&!Array.isArray(i),isString$3=i=>typeof i=="string",isFunction$2=i=>typeof i=="function";function getElementRef(i){var s;const o=reactExports.version;return!isString$3(o)||o.startsWith("18.")?i==null?void 0:i.ref:(s=i==null?void 0:i.props)==null?void 0:s.ref}const[ChakraContextProvider,useChakraContext]=createContext$1({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function ChakraProvider(i){const{value:o,children:s}=i;return jsxRuntimeExports.jsxs(ChakraContextProvider,{value:o,children:[!o._config.disableLayers&&jsxRuntimeExports.jsx(Global,{styles:o.layers.atRule}),jsxRuntimeExports.jsx(Global,{styles:o._global}),s]})}const splitPropFn=(i,o)=>{const s={},a={},_=Object.keys(i);for(const $ of _)o($)?a[$]=i[$]:s[$]=i[$];return[a,s]},splitProps=(i,o)=>{const s=isFunction$2(o)?o:a=>o.includes(a);return splitPropFn(i,s)},htmlProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function isHtmlProp(i){return typeof i=="string"&&htmlProps.has(i)}function useResolvedProps(i,o,s){const{css:a,isValidProperty:_}=useChakraContext(),{children:$,..._e}=i,tt=reactExports.useMemo(()=>{const[j,rt]=splitProps(_e,ut=>s(ut,o.variantKeys)),[st,at]=splitProps(rt,o.variantKeys),[lt,ct]=splitProps(at,_);return{forwardedProps:j,variantProps:st,styleProps:lt,elementProps:ct}},[o.variantKeys,s,_e,_]),{css:nt,...it}=tt.styleProps,ot=reactExports.useMemo(()=>{const j={...tt.variantProps};return o.variantKeys.includes("colorPalette")||(j.colorPalette=_e.colorPalette),o.variantKeys.includes("orientation")||(j.orientation=_e.orientation),o(j)},[o,tt.variantProps,_e.colorPalette,_e.orientation]);return{styles:reactExports.useMemo(()=>a(ot,...toArray$1(nt),it),[a,ot,nt,it]),props:{...tt.forwardedProps,...tt.elementProps,children:$}}}const toArray$1=i=>(Array.isArray(i)?i:[i]).filter(Boolean).flat(),isPropValid=interopDefault(isPropValid$1),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=i=>i!=="theme",composeShouldForwardProps=(i,o,s)=>{let a;if(o){const _=o.shouldForwardProp;a=i.__emotion_forwardProp&&_?$=>i.__emotion_forwardProp($)&&_($):_}return typeof a!="function"&&s&&(a=i.__emotion_forwardProp),a};let isBrowser=typeof document<"u";const Insertion=({cache:i,serialized:o,isStringTag:s})=>{registerStyles(i,o,s);const a=useInsertionEffectAlwaysWithSyncFallback(()=>insertStyles(i,o,s));if(!isBrowser&&a!==void 0){let _=o.name,$=o.next;for(;$!==void 0;)_=cx(_,$.name),$=$.next;return jsxRuntimeExports.jsx("style",{"data-emotion":cx(i.key,_),dangerouslySetInnerHTML:{__html:a},nonce:i.sheet.nonce})}return null},createStyled=(i,o={},s={})=>{const a=i.__emotion_real===i,_=a&&i.__emotion_base||i;let $,_e;s!==void 0&&($=s.label,_e=s.target);let tt=[];const nt=withEmotionCache((it,ot,et)=>{var It;const{cva:j,isValidProperty:rt}=useChakraContext(),st=o.__cva__?o:j(o),at=mergeCva$1(i.__emotion_cva,st),lt=Pt=>(St,Ot)=>Pt.includes(St)?!0:!(Ot!=null&&Ot.includes(St))&&!rt(St);!s.shouldForwardProp&&s.forwardProps&&(s.shouldForwardProp=lt(s.forwardProps));const ct=(Pt,St)=>{const Ot=typeof i=="string"&&i.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent,At=!(St!=null&&St.includes(Pt))&&!rt(Pt);return Ot(Pt)&&At},ut=composeShouldForwardProps(i,s,a)||ct,dt=reactExports.useMemo(()=>Object.assign({},s.defaultProps,compact$1(it)),[it]),{props:ft,styles:ht}=useResolvedProps(dt,at,ut);let mt="",bt=[ht],yt=ft;if(ft.theme==null){yt={};for(let Pt in ft)yt[Pt]=ft[Pt];yt.theme=reactExports.useContext(ThemeContext)}typeof ft.className=="string"?mt=getRegisteredStyles(ot.registered,bt,ft.className):ft.className!=null&&(mt=cx(mt,ft.className));const gt=serializeStyles(tt.concat(bt),ot.registered,yt);mt=cx(mt,`${ot.key}-${gt.name}`),_e!==void 0&&(mt=cx(mt,_e));const vt=!ut("as");let wt=vt&&ft.as||_,Ct={};for(let Pt in ft)if(!(vt&&Pt==="as")){if(isHtmlProp(Pt)){const St=Pt.replace("html","").toLowerCase();Ct[St]=ft[Pt];continue}ut(Pt)&&(Ct[Pt]=ft[Pt])}Ct.className=mt.trim(),Ct.ref=et;const Rt=s.forwardAsChild||((It=s.forwardProps)==null?void 0:It.includes("asChild"));if(ft.asChild&&!Rt){const Pt=reactExports.Children.only(ft.children);wt=Pt.type,Ct.children=null,Reflect.deleteProperty(Ct,"asChild"),Ct=mergeProps$1(Ct,Pt.props),Ct.ref=mergeRefs(et,getElementRef(Pt))}return Ct.as&&Rt?(Ct.as=void 0,jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ot,serialized:gt,isStringTag:typeof wt=="string"}),jsxRuntimeExports.jsx(wt,{asChild:!0,...Ct,children:jsxRuntimeExports.jsx(ft.as,{children:Ct.children})})]})):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ot,serialized:gt,isStringTag:typeof wt=="string"}),jsxRuntimeExports.jsx(wt,{...Ct})]})});return nt.displayName=$!==void 0?$:`chakra(${typeof _=="string"?_:_.displayName||_.name||"Component"})`,nt.__emotion_real=nt,nt.__emotion_base=_,nt.__emotion_forwardProp=s.shouldForwardProp,nt.__emotion_cva=o,Object.defineProperty(nt,"toString",{value(){return`.${_e}`}}),nt},styledFn=createStyled.bind(),cache=new Map,chakraImpl=new Proxy(styledFn,{apply(i,o,s){return styledFn(...s)},get(i,o){return cache.has(o)||cache.set(o,styledFn(o)),cache.get(o)}}),chakra=chakraImpl,mergeCva$1=(i,o)=>i&&!o?i:!i&&o?o:i.merge(o);function useRecipe(i){const{key:o,recipe:s}=i,a=useChakraContext();return reactExports.useMemo(()=>{const _=s||(o!=null?a.getRecipe(o):{});return a.cva(structuredClone(_))},[o,s,a])}const upperFirst$1=i=>i.charAt(0).toUpperCase()+i.slice(1);function createRecipeContext(i){const{key:o,recipe:s}=i,a=upperFirst$1(o||s.className||"Component"),[_,$]=createContext$1({strict:!1,name:`${a}PropsContext`,providerName:`${a}PropsContext`});function _e(it){const{unstyled:ot,...et}=it,j=useRecipe({key:o,recipe:et.recipe||s}),[rt,st]=reactExports.useMemo(()=>j.splitVariantProps(et),[j,et]);return{styles:ot?EMPTY_STYLES:j(rt),className:j.className,props:st}}const tt=(it,ot)=>{const et=chakra(it,{},ot),j=reactExports.forwardRef((rt,st)=>{const at=$(),lt=reactExports.useMemo(()=>mergeProps$1(at,rt),[rt,at]),{styles:ct,className:ut,props:dt}=_e(lt);return jsxRuntimeExports.jsx(et,{...dt,ref:st,css:[ct,lt.css],className:cx(ut,lt.className)})});return j.displayName=it.displayName||it.name,j};function nt(){return _}return{withContext:tt,PropsProvider:_,withPropsProvider:nt,usePropsContext:$,useRecipeResult:_e}}var wrap$3=(i,o)=>i.map((s,a)=>i[(Math.max(o,0)+a)%i.length]),pipe=(...i)=>o=>i.reduce((s,a)=>a(s),o),noop$5=()=>{},isObject$3=i=>typeof i=="object"&&i!==null,MAX_Z_INDEX=2147483647,dataAttr$1=i=>i?"":void 0,ariaAttr=i=>i?"true":void 0,ELEMENT_NODE=1,DOCUMENT_NODE=9,DOCUMENT_FRAGMENT_NODE=11,isHTMLElement$1=i=>isObject$3(i)&&i.nodeType===ELEMENT_NODE&&typeof i.nodeName=="string",isDocument=i=>isObject$3(i)&&i.nodeType===DOCUMENT_NODE,isWindow=i=>isObject$3(i)&&i===i.window,getNodeName$1=i=>isHTMLElement$1(i)?i.localName||"":"#document";function isRootElement(i){return["html","body","#document"].includes(getNodeName$1(i))}var isNode$2=i=>isObject$3(i)&&i.nodeType!==void 0,isShadowRoot$1=i=>isNode$2(i)&&i.nodeType===DOCUMENT_FRAGMENT_NODE&&"host"in i,isInputElement=i=>isHTMLElement$1(i)&&i.localName==="input",isAnchorElement=i=>!!(i!=null&&i.matches("a[href]")),isElementVisible=i=>isHTMLElement$1(i)?i.offsetWidth>0||i.offsetHeight>0||i.getClientRects().length>0:!1,TEXTAREA_SELECT_REGEX=/(textarea|select)/;function isEditableElement(i){if(i==null||!isHTMLElement$1(i))return!1;try{return isInputElement(i)&&i.selectionStart!=null||TEXTAREA_SELECT_REGEX.test(i.localName)||i.isContentEditable||i.getAttribute("contenteditable")==="true"||i.getAttribute("contenteditable")===""}catch{return!1}}function contains(i,o){var a;if(!i||!o||!isHTMLElement$1(i)||!isHTMLElement$1(o))return!1;const s=(a=o.getRootNode)==null?void 0:a.call(o);if(i===o||i.contains(o))return!0;if(s&&isShadowRoot$1(s)){let _=o;for(;_;){if(i===_)return!0;_=_.parentNode||_.host}}return!1}function getDocument(i){return isDocument(i)?i:isWindow(i)?i.document:(i==null?void 0:i.ownerDocument)??document}function getDocumentElement$1(i){return getDocument(i).documentElement}function getWindow$1(i){var o;return isShadowRoot$1(i)?getWindow$1(i.host):isDocument(i)?i.defaultView??window:isHTMLElement$1(i)?((o=i.ownerDocument)==null?void 0:o.defaultView)??window:window}function getActiveElement(i){let o=i.activeElement;for(;o!=null&&o.shadowRoot;){const s=o.shadowRoot.activeElement;if(s===o)break;o=s}return o}function getParentNode$2(i){if(getNodeName$1(i)==="html")return i;const o=i.assignedSlot||i.parentNode||isShadowRoot$1(i)&&i.host||getDocumentElement$1(i);return isShadowRoot$1(o)?o.host:o}var styleCache=new WeakMap;function getComputedStyle$2(i){return styleCache.has(i)||styleCache.set(i,getWindow$1(i).getComputedStyle(i)),styleCache.get(i)}var isDom=()=>typeof document<"u";function getPlatform(){const i=navigator.userAgentData;return(i==null?void 0:i.platform)??navigator.platform}function getUserAgent(){const i=navigator.userAgentData;return i&&Array.isArray(i.brands)?i.brands.map(({brand:o,version:s})=>`${o}/${s}`).join(" "):navigator.userAgent}var pt=i=>isDom()&&i.test(getPlatform()),ua=i=>isDom()&&i.test(getUserAgent()),vn=i=>isDom()&&i.test(navigator.vendor),isTouchDevice=()=>isDom()&&!!navigator.maxTouchPoints,isIPhone=()=>pt(/^iPhone/i),isIPad=()=>pt(/^iPad/i)||isMac()&&navigator.maxTouchPoints>1,isIos=()=>isIPhone()||isIPad(),isApple=()=>isMac()||isIos(),isMac=()=>pt(/^Mac/i),isSafari=()=>isApple()&&vn(/apple/i),isFirefox=()=>ua(/Firefox/i),isAndroid=()=>ua(/Android/i);function getComposedPath(i){var o,s,a;return((o=i.composedPath)==null?void 0:o.call(i))??((a=(s=i.nativeEvent)==null?void 0:s.composedPath)==null?void 0:a.call(s))}function getEventTarget(i){const o=getComposedPath(i);return(o==null?void 0:o[0])??i.target}var isSelfTarget=i=>contains(i.currentTarget,getEventTarget(i));function isOpeningInNewTab(i){const o=i.currentTarget;if(!o)return!1;const s=isApple();if(s&&!i.metaKey||!s&&!i.ctrlKey)return!1;const a=o.localName;return a==="a"||a==="button"&&o.type==="submit"||a==="input"&&o.type==="submit"}function isDownloadingEvent(i){const o=i.currentTarget;if(!o)return!1;const s=o.localName;return i.altKey?s==="a"||s==="button"&&o.type==="submit"||s==="input"&&o.type==="submit":!1}function isComposingEvent(i){return getNativeEvent(i).isComposing||i.keyCode===229}function isPrintableKey(i){return i.key.length===1&&!i.ctrlKey&&!i.metaKey}function isVirtualClick(i){return i.mozInputSource===0&&i.isTrusted?!0:isAndroid()&&i.pointerType?i.type==="click"&&i.buttons===1:i.detail===0&&!i.pointerType}var isLeftClick=i=>i.button===0,isContextMenuEvent=i=>i.button===2||isMac()&&i.ctrlKey&&i.button===0,isModifierKey=i=>i.ctrlKey||i.altKey||i.metaKey,isTouchEvent=i=>"touches"in i&&i.touches.length>0,keyMap={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},rtlKeyMap={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function getEventKey(i,o={}){const{dir:s="ltr",orientation:a="horizontal"}=o;let _=i.key;return _=keyMap[_]??_,s==="rtl"&&a==="horizontal"&&_ in rtlKeyMap&&(_=rtlKeyMap[_]),_}function getNativeEvent(i){return i.nativeEvent??i}var pageKeys=new Set(["PageUp","PageDown"]),arrowKeys=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function getEventStep(i){return i.ctrlKey||i.metaKey?.1:pageKeys.has(i.key)||i.shiftKey&&arrowKeys.has(i.key)?10:1}function getEventPoint(i,o="client"){const s=isTouchEvent(i)?i.touches[0]||i.changedTouches[0]:i;return{x:s[`${o}X`],y:s[`${o}Y`]}}var addDomEvent=(i,o,s,a)=>{const _=typeof i=="function"?i():i;return _==null||_.addEventListener(o,s,a),()=>{_==null||_.removeEventListener(o,s,a)}};function getDescriptor(i,o){const{type:s="HTMLInputElement",property:a="value"}=o,_=getWindow$1(i)[s].prototype;return Object.getOwnPropertyDescriptor(_,a)??{}}function getElementType(i){if(i.localName==="input")return"HTMLInputElement";if(i.localName==="textarea")return"HTMLTextAreaElement";if(i.localName==="select")return"HTMLSelectElement"}function setElementValue(i,o,s="value"){var _;if(!i)return;const a=getElementType(i);a&&((_=getDescriptor(i,{type:a,property:s}).set)==null||_.call(i,o)),i.setAttribute(s,o)}function setElementChecked(i,o){var a;if(!i)return;(a=getDescriptor(i,{type:"HTMLInputElement",property:"checked"}).set)==null||a.call(i,o),o?i.setAttribute("checked",""):i.removeAttribute("checked")}function dispatchInputCheckedEvent(i,o){const{checked:s,bubbles:a=!0}=o;if(!i)return;const _=getWindow$1(i);i instanceof _.HTMLInputElement&&(setElementChecked(i,s),i.dispatchEvent(new _.Event("click",{bubbles:a})))}function getClosestForm(i){return isFormElement(i)?i.form:i.closest("form")}function isFormElement(i){return i.matches("textarea, input, select, button")}function trackFormReset(i,o){if(!i)return;const s=getClosestForm(i),a=_=>{_.defaultPrevented||o()};return s==null||s.addEventListener("reset",a,{passive:!0}),()=>s==null?void 0:s.removeEventListener("reset",a)}function trackFieldsetDisabled(i,o){const s=i==null?void 0:i.closest("fieldset");if(!s)return;o(s.disabled);const a=getWindow$1(s),_=new a.MutationObserver(()=>o(s.disabled));return _.observe(s,{attributes:!0,attributeFilter:["disabled"]}),()=>_.disconnect()}function trackFormControl(i,o){if(!i)return;const{onFieldsetDisabledChange:s,onFormReset:a}=o,_=[trackFormReset(i,a),trackFieldsetDisabled(i,s)];return()=>_.forEach($=>$==null?void 0:$())}var isFrame=i=>isHTMLElement$1(i)&&i.tagName==="IFRAME",hasTabIndex=i=>!Number.isNaN(parseInt(i.getAttribute("tabindex")||"0",10)),hasNegativeTabIndex=i=>parseInt(i.getAttribute("tabindex")||"0",10)<0,focusableSelector="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",getFocusables=(i,o=!1)=>{if(!i)return[];const s=Array.from(i.querySelectorAll(focusableSelector));(o==!0||o=="if-empty"&&s.length===0)&&isHTMLElement$1(i)&&isFocusable(i)&&s.unshift(i);const _=s.filter(isFocusable);return _.forEach(($,_e)=>{if(isFrame($)&&$.contentDocument){const tt=$.contentDocument.body;_.splice(_e,1,...getFocusables(tt))}}),_};function isFocusable(i){return!i||i.closest("[inert]")?!1:i.matches(focusableSelector)&&isElementVisible(i)}function getTabbables(i,o){if(!i)return[];const a=Array.from(i.querySelectorAll(focusableSelector)).filter(isTabbable);return a.forEach((_,$)=>{if(isFrame(_)&&_.contentDocument){const _e=_.contentDocument.body,tt=getTabbables(_e);a.splice($,1,...tt)}}),a.length,a}function isTabbable(i){return i!=null&&i.tabIndex>0?!0:isFocusable(i)&&!hasNegativeTabIndex(i)}function getTabbableEdges(i,o){const s=getTabbables(i,o),a=s[0]||null,_=s[s.length-1]||null;return[a,_]}function getTabIndex(i){return i.tabIndex<0&&(/^(audio|video|details)$/.test(i.localName)||isEditableElement(i))&&!hasTabIndex(i)?0:i.tabIndex}function getInitialFocus(i){const{root:o,getInitialEl:s,filter:a,enabled:_=!0}=i;if(!_)return;let $=null;if($||($=typeof s=="function"?s():s),$||($=o==null?void 0:o.querySelector("[data-autofocus],[autofocus]")),!$){const _e=getTabbables(o);$=a?_e.filter(a)[0]:_e[0]}return $||o||void 0}function isValidTabEvent(i){const o=i.currentTarget;if(!o)return!1;const[s,a]=getTabbableEdges(o),_=o.ownerDocument||document;return!(_.activeElement===s&&i.shiftKey||_.activeElement===a&&!i.shiftKey||!s&&!a)}function nextTick(i){const o=new Set;function s(a){const _=globalThis.requestAnimationFrame(a);o.add(()=>globalThis.cancelAnimationFrame(_))}return s(()=>s(i)),function(){o.forEach(_=>_())}}function raf$1(i){let o;const s=globalThis.requestAnimationFrame(()=>{o=i()});return()=>{globalThis.cancelAnimationFrame(s),o==null||o()}}function queueBeforeEvent(i,o,s){const a=raf$1(()=>{i.removeEventListener(o,_,!0),s()}),_=()=>{a(),s()};return i.addEventListener(o,_,{once:!0,capture:!0}),a}function observeAttributesImpl(i,o){if(!i)return;const{attributes:s,callback:a}=o,_=i.ownerDocument.defaultView||window,$=new _.MutationObserver(_e=>{for(const tt of _e)tt.type==="attributes"&&tt.attributeName&&s.includes(tt.attributeName)&&a(tt)});return $.observe(i,{attributes:!0,attributeFilter:s}),()=>$.disconnect()}function observeAttributes(i,o){const{defer:s}=o,a=s?raf$1:$=>$(),_=[];return _.push(a(()=>{const $=typeof i=="function"?i():i;_.push(observeAttributesImpl($,o))})),()=>{_.forEach($=>$==null?void 0:$())}}function clickIfLink(i){const o=()=>i.click();isFirefox()?queueBeforeEvent(i,"keyup",o):queueMicrotask(o)}function getNearestOverflowAncestor$1(i){const o=getParentNode$2(i);return isRootElement(o)?getDocument(o).body:isHTMLElement$1(o)&&isOverflowElement$1(o)?o:getNearestOverflowAncestor$1(o)}function getOverflowAncestors$1(i,o=[]){const s=getNearestOverflowAncestor$1(i),a=s===i.ownerDocument.body,_=getWindow$1(s);return a?o.concat(_,_.visualViewport||[],isOverflowElement$1(s)?s:[]):o.concat(s,getOverflowAncestors$1(s,[]))}var OVERFLOW_RE=/auto|scroll|overlay|hidden|clip/;function isOverflowElement$1(i){const o=getWindow$1(i),{overflow:s,overflowX:a,overflowY:_,display:$}=o.getComputedStyle(i);return OVERFLOW_RE.test(s+_+a)&&!["inline","contents"].includes($)}function isScrollable(i){return i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth}function scrollIntoView(i,o){const{rootEl:s,...a}=o||{};!i||!s||!isOverflowElement$1(s)||!isScrollable(s)||i.scrollIntoView(a)}function requestPointerLock(i,o){const s=i.body,a="pointerLockElement"in i||"mozPointerLockElement"in i,_=()=>!!i.pointerLockElement;function $(){}function _e(nt){_(),console.error("PointerLock error occurred:",nt),i.exitPointerLock()}if(!a)return;try{s.requestPointerLock()}catch{}const tt=[addDomEvent(i,"pointerlockchange",$,!1),addDomEvent(i,"pointerlockerror",_e,!1)];return()=>{tt.forEach(nt=>nt()),i.exitPointerLock()}}function trackPress(i){const{pointerNode:o,keyboardNode:s=o,onPress:a,onPressStart:_,onPressEnd:$,isValidKey:_e=dt=>dt.key==="Enter"}=i;if(!o)return noop$5;const tt=getWindow$1(o),nt=getDocument(o);let it=noop$5,ot=noop$5,et=noop$5;const j=dt=>({point:getEventPoint(dt),event:dt});function rt(dt){_==null||_(j(dt))}function st(dt){$==null||$(j(dt))}const lt=addDomEvent(o,"pointerdown",dt=>{ot();const ht=addDomEvent(tt,"pointerup",bt=>{const yt=getEventTarget(bt);contains(o,yt)?a==null||a(j(bt)):$==null||$(j(bt))},{passive:!a,once:!0}),mt=addDomEvent(tt,"pointercancel",st,{passive:!$,once:!0});ot=pipe(ht,mt),nt.activeElement===s&&dt.pointerType==="mouse"&&dt.preventDefault(),rt(dt)},{passive:!_}),ct=addDomEvent(s,"focus",ut);it=pipe(lt,ct);function ut(){const dt=bt=>{if(!_e(bt))return;const yt=vt=>{if(!_e(vt))return;const wt=new tt.PointerEvent("pointerup"),Ct=j(wt);a==null||a(Ct),$==null||$(Ct)};ot(),ot=addDomEvent(s,"keyup",yt);const gt=new tt.PointerEvent("pointerdown");rt(gt)},ft=()=>{const bt=new tt.PointerEvent("pointercancel");st(bt)},ht=addDomEvent(s,"keydown",dt),mt=addDomEvent(s,"blur",ft);et=pipe(ht,mt)}return()=>{it(),ot(),et()}}function queryAll(i,o){return Array.from((i==null?void 0:i.querySelectorAll(o))??[])}var defaultItemToId=i=>i.id;function itemById(i,o,s=defaultItemToId){return i.find(a=>s(a)===o)}function indexOfId(i,o,s=defaultItemToId){const a=itemById(i,o,s);return a?i.indexOf(a):-1}function nextById(i,o,s=!0){let a=indexOfId(i,o);return a=s?(a+1)%i.length:Math.min(a+1,i.length-1),i[a]}function prevById(i,o,s=!0){let a=indexOfId(i,o);return a===-1?s?i[i.length-1]:null:(a=s?(a-1+i.length)%i.length:Math.max(0,a-1),i[a])}function trackElementRect(i,o){const{onEntry:s,measure:a,box:_="border-box"}=o,$=(Array.isArray(i)?i:[i]).filter(isHTMLElement$1),_e=getWindow$1($[0]),tt=it=>{const ot=$.map(et=>a(et));s({rects:ot,entries:it})};tt([]);const nt=new _e.ResizeObserver(tt);return $.forEach(it=>nt.observe(it,{box:_})),()=>nt.disconnect()}var sanitize=i=>i.split("").map(o=>{const s=o.charCodeAt(0);return s>0&&s<128?o:s>=128&&s<=255?`/x${s.toString(16)}`.replace("/","\\"):""}).join("").trim(),getValueText=i=>{var o;return sanitize(((o=i.dataset)==null?void 0:o.valuetext)??i.textContent??"")},match$2=(i,o)=>i.trim().toLowerCase().startsWith(o.toLowerCase());function getByText(i,o,s,a=defaultItemToId){const _=s?indexOfId(i,s,a):-1;let $=s?wrap$3(i,_):i;return o.length===1&&($=$.filter(tt=>a(tt)!==s)),$.find(tt=>match$2(getValueText(tt),o))}function setStyle(i,o){if(!i)return noop$5;const s=Object.keys(o).reduce((a,_)=>(a[_]=i.style.getPropertyValue(_),a),{});return Object.assign(i.style,o),()=>{Object.assign(i.style,s),i.style.length===0&&i.removeAttribute("style")}}function setStyleProperty(i,o,s){if(!i)return noop$5;const a=i.style.getPropertyValue(o);return i.style.setProperty(o,s),()=>{i.style.setProperty(o,a),i.style.length===0&&i.removeAttribute("style")}}function getByTypeaheadImpl(i,o){const{state:s,activeId:a,key:_,timeout:$=350,itemToId:_e}=o,tt=s.keysSoFar+_,it=tt.length>1&&Array.from(tt).every(st=>st===tt[0])?tt[0]:tt;let ot=i.slice();const et=getByText(ot,it,a,_e);function j(){clearTimeout(s.timer),s.timer=-1}function rt(st){s.keysSoFar=st,j(),st!==""&&(s.timer=+setTimeout(()=>{rt(""),j()},$))}return rt(tt),et}var getByTypeahead=Object.assign(getByTypeaheadImpl,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:isValidTypeaheadEvent});function isValidTypeaheadEvent(i){return i.key.length===1&&!i.ctrlKey&&!i.metaKey}var visuallyHiddenStyle={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},fps=1e3/60;function waitForElement(i,o){const s=i();if(isHTMLElement$1(s)&&s.isConnected)return o(s),()=>{};{const a=setInterval(()=>{const _=i();isHTMLElement$1(_)&&_.isConnected&&(o(_),clearInterval(a))},fps);return()=>clearInterval(a)}}function waitForElements(i,o){const s=[];return i==null||i.forEach(a=>{const _=waitForElement(a,o);s.push(_)}),()=>{s.forEach(a=>a())}}function getErrorMessage(i,o){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${o}`}function createContext(i={}){const{name:o,strict:s=!0,hookName:a="useContext",providerName:_="Provider",errorMessage:$,defaultValue:_e}=i,tt=reactExports.createContext(_e);tt.displayName=o;function nt(){var ot;const it=reactExports.useContext(tt);if(!it&&s){const et=new Error($??getErrorMessage(a,_));throw et.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,et,nt),et}return it}return[tt.Provider,nt,tt]}const[LocaleContextProvider,useLocaleContext]=createContext({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function composeRefs(...i){return o=>{const s=[];for(const a of i)if(typeof a=="function"){const _=a(o);typeof _=="function"&&s.push(_)}else a&&(a.current=o);if(s.length)return()=>{for(const a of s)a()}}}function toArray(i){return i?Array.isArray(i)?i:[i]:[]}var first=i=>i[0],last=i=>i[i.length-1],has=(i,o)=>i.indexOf(o)!==-1,add$1=(i,...o)=>i.concat(o),remove$1=(i,...o)=>i.filter(s=>!o.includes(s)),addOrRemove=(i,o)=>has(i,o)?remove$1(i,o):add$1(i,o);function nextIndex(i,o,s={}){const{step:a=1,loop:_=!0}=s,$=o+a,_e=i.length,tt=_e-1;return o===-1?a>0?0:tt:$<0?_?tt:0:$>=_e?_?0:o>_e?_e:o:$}function next(i,o,s={}){return i[nextIndex(i,o,s)]}function prevIndex(i,o,s={}){const{step:a=1,loop:_=!0}=s;return nextIndex(i,o,{step:-a,loop:_})}function prev(i,o,s={}){return i[prevIndex(i,o,s)]}var isArrayLike=i=>(i==null?void 0:i.constructor.name)==="Array",isArrayEqual=(i,o)=>{if(i.length!==o.length)return!1;for(let s=0;s<i.length;s++)if(!isEqual(i[s],o[s]))return!1;return!0},isEqual=(i,o)=>{if(Object.is(i,o))return!0;if(i==null&&o!=null||i!=null&&o==null)return!1;if(typeof(i==null?void 0:i.isEqual)=="function"&&typeof(o==null?void 0:o.isEqual)=="function")return i.isEqual(o);if(typeof i=="function"&&typeof o=="function")return i.toString()===o.toString();if(isArrayLike(i)&&isArrayLike(o))return isArrayEqual(Array.from(i),Array.from(o));if(typeof i!="object"||typeof o!="object")return!1;const s=Object.keys(o??Object.create(null)),a=s.length;for(let _=0;_<a;_++)if(!Reflect.has(i,s[_]))return!1;for(let _=0;_<a;_++){const $=s[_];if(!isEqual(i[$],o[$]))return!1}return!0},isArray=i=>Array.isArray(i),isObjectLike=i=>i!=null&&typeof i=="object",isObject$2=i=>isObjectLike(i)&&!isArray(i),isString$2=i=>typeof i=="string",isFunction$1=i=>typeof i=="function",isNull=i=>i==null,hasProp=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),fnToString=Function.prototype.toString;fnToString.call(Object);var runIfFn=(i,...o)=>(typeof i=="function"?i(...o):i)??void 0,identity$2=i=>i(),noop$4=()=>{},callAll=(...i)=>(...o)=>{i.forEach(function(s){s==null||s(...o)})},uuid=(()=>{let i=0;return()=>(i++,i.toString(36))})(),{floor:floor$1,round:round$1,min:min$1,max:max$1}=Math,isNaN$1=i=>Number.isNaN(i),nan=i=>isNaN$1(i)?0:i,wrap$2=(i,o)=>(i%o+o)%o,isValueAtMax=(i,o)=>nan(i)>=o,isValueAtMin=(i,o)=>nan(i)<=o,isValueWithinRange=(i,o,s)=>nan(i)>=o&&nan(i)<=s,clampValue=(i,o,s)=>min$1(max$1(nan(i),o),s),roundToDpr=(i,o)=>typeof o=="number"?floor$1(i*o+.5)/o:round$1(i),countDecimals=i=>{if(!Number.isFinite(i))return 0;let o=1,s=0;for(;Math.round(i*o)/o!==i;)o*=10,s+=1;return s},decimalOp=(i,o,s)=>{let a=o==="+"?i+s:i-s;if(i%1!==0||s%1!==0){const _=10**Math.max(countDecimals(i),countDecimals(s));i=Math.round(i*_),s=Math.round(s*_),a=o==="+"?i+s:i-s,a/=_}return a},incrementValue=(i,o)=>decimalOp(nan(i),"+",o),decrementValue=(i,o)=>decimalOp(nan(i),"-",o);function compact(i){if(!isPlainObject2(i)||i===void 0)return i;const o=Reflect.ownKeys(i).filter(a=>typeof a=="string"),s={};for(const a of o){const _=i[a];_!==void 0&&(s[a]=compact(_))}return s}var isPlainObject2=i=>i&&typeof i=="object"&&i.constructor===Object;function setRafTimeout(i,o){const s=performance.now();let a;function _($){a=requestAnimationFrame(_),$-s>=o&&i()}return a=requestAnimationFrame(_),()=>cancelAnimationFrame(a)}function warn$1(...i){i.length===1?i[0]:i[1],i.length===2&&i[0]}function ensure(i,o){if(i==null)throw new Error(o())}function ensureProps(i,o,s){let a=[];for(const _ of o)i[_]==null&&a.push(_);if(a.length>0)throw new Error(`[zag-js${` > ${s}`}] missing required props: ${a.join(", ")}`)}var clsx=(...i)=>i.map(o=>{var s;return(s=o==null?void 0:o.trim)==null?void 0:s.call(o)}).filter(Boolean).join(" "),CSS_REGEX=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,serialize=i=>{const o={};let s;for(;s=CSS_REGEX.exec(i);)o[s[1]]=s[2];return o},css$1=(i,o)=>{if(isString$2(i)){if(isString$2(o))return`${i};${o}`;i=serialize(i)}else isString$2(o)&&(o=serialize(o));return Object.assign({},i??{},o??{})};function mergeProps(...i){let o={};for(let s of i){for(let a in o){if(a.startsWith("on")&&typeof o[a]=="function"&&typeof s[a]=="function"){o[a]=callAll(s[a],o[a]);continue}if(a==="className"||a==="class"){o[a]=clsx(o[a],s[a]);continue}if(a==="style"){o[a]=css$1(o[a],s[a]);continue}o[a]=s[a]!==void 0?s[a]:o[a]}for(let a in s)o[a]===void 0&&(o[a]=s[a])}return o}function memo$2(i,o,s){let a=[],_;return $=>{const _e=i($);return(_e.length!==a.length||_e.some((nt,it)=>!isEqual(a[it],nt)))&&(a=_e,_=o(..._e)),_}}function createGuards(){return{and:(...i)=>function(s){return i.every(a=>s.guard(a))},or:(...i)=>function(s){return i.some(a=>s.guard(a))},not:i=>function(s){return!s.guard(i)}}}function createMachine$1(i){return i}function setup(){return{guards:createGuards(),createMachine:i=>i,choose:i=>function({choose:s}){var a;return(a=s(i))==null?void 0:a.actions}}}var MachineStatus=(i=>(i.NotStarted="Not Started",i.Started="Started",i.Stopped="Stopped",i))(MachineStatus||{}),INIT_STATE="__init__";function createScope(i){const o=()=>{var tt;return((tt=i.getRootNode)==null?void 0:tt.call(i))??document},s=()=>getDocument(o()),a=()=>s().defaultView??window,_=()=>getActiveElement(o());return{...i,getRootNode:o,getDoc:s,getWin:a,getActiveElement:_,isActiveElement:tt=>tt===_(),getById:tt=>o().getElementById(tt)}}function getRef(i){var a,_;let o=(a=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:a.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?i.ref:(o=(_=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:_.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?i.props.ref:i.props.ref||i.ref)}const withAsChild=i=>{const o=reactExports.memo(reactExports.forwardRef((s,a)=>{const{asChild:_,children:$,..._e}=s;if(!_)return reactExports.createElement(i,{..._e,ref:a},$);const tt=reactExports.Children.only($);if(!reactExports.isValidElement(tt))return null;const nt=getRef(tt);return reactExports.cloneElement(tt,{...mergeProps(_e,tt.props),ref:a?composeRefs(a,nt):nt})}));return o.displayName=i.displayName||i.name,o},jsxFactory=()=>{const i=new Map;return new Proxy(withAsChild,{apply(o,s,a){return withAsChild(a[0])},get(o,s){const a=s;return i.has(a)||i.set(a,withAsChild(a)),i.get(a)}})},ark=jsxFactory(),createSplitProps=()=>(i,o)=>o.reduce((s,a)=>{const[_,$]=s,_e=a;return $[_e]!==void 0&&(_[_e]=$[_e]),delete $[_e],[_,$]},[{},{...i}]),splitPresenceProps=i=>createSplitProps()(i,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function createNormalizer(i){return new Proxy({},{get(o,s){return s==="style"?a=>i({style:a}).style:i}})}var createProps$1=()=>i=>Array.from(new Set(i));function connect$9(i,o){const{state:s,send:a,context:_}=i,$=s.matches("mounted","unmountSuspended");return{skip:!_.get("initial"),present:$,setNode(_e){_e&&a({type:"NODE.SET",node:_e})},unmount(){a({type:"UNMOUNT"})}}}var machine$9={props({props:i}){return{...i,present:!!i.present}},initialState({prop:i}){return i("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:i}){return{unmountAnimationName:i(()=>({defaultValue:null})),prevAnimationName:i(()=>({defaultValue:null})),present:i(()=>({defaultValue:!1})),initial:i(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:i,action:o,prop:s}){i([()=>s("present")],()=>{o(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:i})=>{i.get("initial")||queueMicrotask(()=>{i.set("initial",!0)})},clearInitial:({context:i})=>{i.set("initial",!1)},cleanupNode:({refs:i})=>{i.set("node",null),i.set("styles",null)},invokeOnExitComplete:({prop:i})=>{var o;(o=i("onExitComplete"))==null||o()},setNode:({refs:i,event:o})=>{i.set("node",o.node)},setStyles:({refs:i,event:o})=>{i.set("styles",getComputedStyle$2(o.node))},syncPresence:({context:i,refs:o,send:s,prop:a})=>{const _=a("present");if(_)return s({type:"MOUNT",src:"presence.changed"});const $=o.get("node");if(!_&&($==null?void 0:$.ownerDocument.visibilityState)==="hidden")return s({type:"UNMOUNT",src:"visibilitychange"});raf$1(()=>{var tt,nt;const _e=getAnimationName(o.get("styles"));i.set("unmountAnimationName",_e),_e==="none"||_e===i.get("prevAnimationName")||((tt=o.get("styles"))==null?void 0:tt.display)==="none"||((nt=o.get("styles"))==null?void 0:nt.animationDuration)==="0s"?s({type:"UNMOUNT",src:"presence.changed"}):s({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:i,refs:o})=>{raf$1(()=>{i.set("prevAnimationName",getAnimationName(o.get("styles")))})},clearPrevAnimationName:({context:i})=>{i.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:i,refs:o,send:s})=>{const a=o.get("node");if(!a)return;const _=tt=>{var it,ot;(((ot=(it=tt.composedPath)==null?void 0:it.call(tt))==null?void 0:ot[0])??tt.target)===a&&i.set("prevAnimationName",getAnimationName(o.get("styles")))},$=tt=>{const nt=getAnimationName(o.get("styles"));getEventTarget(tt)===a&&nt===i.get("unmountAnimationName")&&s({type:"UNMOUNT",src:"animationend"})};a.addEventListener("animationstart",_),a.addEventListener("animationcancel",$),a.addEventListener("animationend",$);const _e=setStyle(a,{animationFillMode:"forwards"});return()=>{a.removeEventListener("animationstart",_),a.removeEventListener("animationcancel",$),a.removeEventListener("animationend",$),nextTick(()=>_e())}}}}};function getAnimationName(i){return(i==null?void 0:i.animationName)||"none"}createProps$1()(["onExitComplete","present","immediate"]);var useSafeLayoutEffect$1=typeof globalThis.document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useBindable(i){const o=i().value??i().defaultValue,s=i().isEqual??Object.is,[a]=reactExports.useState(o),[_,$]=reactExports.useState(a),_e=i().value!==void 0,tt=reactExports.useRef(_);tt.current=_e?i().value:_;const nt=reactExports.useRef(tt.current);useSafeLayoutEffect$1(()=>{nt.current=tt.current},[_,i().value]);const it=et=>{var st,at;const j=nt.current,rt=isFunction$1(et)?et(j):et;i().debug&&console.log(`[bindable > ${i().debug}] setValue`,{next:rt,prev:j}),_e||$(rt),s(rt,j)||(at=(st=i()).onChange)==null||at.call(st,rt,j)};function ot(){return _e?i().value:_}return{initial:a,ref:tt,get:ot,set(et){(i().sync?reactDomExports.flushSync:identity$2)(()=>it(et))},invoke(et,j){var rt,st;(st=(rt=i()).onChange)==null||st.call(rt,et,j)},hash(et){var j,rt;return((rt=(j=i()).hash)==null?void 0:rt.call(j,et))??String(et)}}}useBindable.cleanup=i=>{reactExports.useEffect(()=>i,[])};useBindable.ref=i=>{const o=reactExports.useRef(i);return{get:()=>o.current,set:s=>{o.current=s}}};function useRefs(i){const o=reactExports.useRef(i);return{get(s){return o.current[s]},set(s,a){o.current[s]=a}}}var useTrack=(i,o)=>{const s=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(s.current&&a.current)return o();a.current=!0},[...(i??[]).map(_=>typeof _=="function"?_():_)]),reactExports.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[])};function useMachine(i,o={}){var wt,Ct,Rt,It;const s=reactExports.useMemo(()=>{const{id:Pt,ids:St,getRootNode:Ot}=o;return createScope({id:Pt,ids:St,getRootNode:Ot})},[o]),a=(...Pt)=>{i.debug&&console.log(...Pt)},_=((wt=i.props)==null?void 0:wt.call(i,{props:compact(o),scope:s}))??o,$=useProp(_),_e=(Ct=i.context)==null?void 0:Ct.call(i,{prop:$,bindable:useBindable,scope:s,flush,getContext(){return nt},getComputed(){return ht},getRefs(){return at}}),tt=useLiveRef(_e),nt={get(Pt){var St;return(St=tt.current)==null?void 0:St[Pt].ref.current},set(Pt,St){var Ot;(Ot=tt.current)==null||Ot[Pt].set(St)},initial(Pt){var St;return(St=tt.current)==null?void 0:St[Pt].initial},hash(Pt){var Ot,At;const St=(Ot=tt.current)==null?void 0:Ot[Pt].get();return(At=tt.current)==null?void 0:At[Pt].hash(St)}},it=reactExports.useRef(new Map),ot=reactExports.useRef(null),et=reactExports.useRef(null),j=reactExports.useRef({type:""}),rt=()=>({...j.current,current(){return j.current},previous(){return et.current}}),st=()=>({...mt,matches(...Pt){return Pt.includes(mt.ref.current)},hasTag(Pt){var St,Ot;return!!((Ot=(St=i.states[mt.ref.current])==null?void 0:St.tags)!=null&&Ot.includes(Pt))}}),at=useRefs(((Rt=i.refs)==null?void 0:Rt.call(i,{prop:$,context:nt}))??{}),lt=()=>({state:st(),context:nt,event:rt(),prop:$,send:vt,action:ct,guard:ut,track:useTrack,refs:at,computed:ht,flush,scope:s,choose:ft}),ct=Pt=>{const St=isFunction$1(Pt)?Pt(lt()):Pt;if(!St)return;const Ot=St.map(At=>{var Ft,Ut;const $t=(Ut=(Ft=i.implementations)==null?void 0:Ft.actions)==null?void 0:Ut[At];return $t||warn$1(`[zag-js] No implementation found for action "${JSON.stringify(At)}"`),$t});for(const At of Ot)At==null||At(lt())},ut=Pt=>{var St,Ot;return isFunction$1(Pt)?Pt(lt()):(Ot=(St=i.implementations)==null?void 0:St.guards)==null?void 0:Ot[Pt](lt())},dt=Pt=>{const St=isFunction$1(Pt)?Pt(lt()):Pt;if(!St)return;const Ot=St.map($t=>{var Ut,Kt;const Ft=(Kt=(Ut=i.implementations)==null?void 0:Ut.effects)==null?void 0:Kt[$t];return Ft||warn$1(`[zag-js] No implementation found for effect "${JSON.stringify($t)}"`),Ft}),At=[];for(const $t of Ot){const Ft=$t==null?void 0:$t(lt());Ft&&At.push(Ft)}return()=>At.forEach($t=>$t==null?void 0:$t())},ft=Pt=>toArray(Pt).find(St=>{let Ot=!St.guard;return isString$2(St.guard)?Ot=!!ut(St.guard):isFunction$1(St.guard)&&(Ot=St.guard(lt())),Ot}),ht=Pt=>{ensure(i.computed,()=>"[zag-js] No computed object found on machine");const St=i.computed[Pt];return St({context:nt,event:rt(),prop:$,refs:at,scope:s,computed:ht})},mt=useBindable(()=>({defaultValue:i.initialState({prop:$}),onChange(Pt,St){var At,$t,Ft,Ut;if(St){const Kt=it.current.get(St);Kt==null||Kt(),it.current.delete(St)}St&&ct((At=i.states[St])==null?void 0:At.exit),ct(($t=ot.current)==null?void 0:$t.actions);const Ot=dt((Ft=i.states[Pt])==null?void 0:Ft.effects);if(Ot&&it.current.set(Pt,Ot),St===INIT_STATE){ct(i.entry);const Kt=dt(i.effects);Kt&&it.current.set(INIT_STATE,Kt)}ct((Ut=i.states[Pt])==null?void 0:Ut.entry)}})),bt=reactExports.useRef(void 0),yt=reactExports.useRef(MachineStatus.NotStarted);useSafeLayoutEffect$1(()=>{queueMicrotask(()=>{const Ot=yt.current===MachineStatus.Started;yt.current=MachineStatus.Started,a(Ot?"rehydrating...":"initializing...");const At=bt.current??mt.initial;mt.invoke(At,Ot?mt.get():INIT_STATE)});const Pt=it.current,St=mt.ref.current;return()=>{a("unmounting..."),bt.current=St,yt.current=MachineStatus.Stopped,Pt.forEach(Ot=>Ot==null?void 0:Ot()),it.current=new Map,ot.current=null,queueMicrotask(()=>{ct(i.exit)})}},[]);const gt=()=>"ref"in mt?mt.ref.current:mt.get(),vt=Pt=>{queueMicrotask(()=>{var Ut,Kt;if(yt.current!==MachineStatus.Started)return;et.current=j.current,j.current=Pt,a("send",Pt);let St=gt();const Ot=((Ut=i.states[St].on)==null?void 0:Ut[Pt.type])??((Kt=i.on)==null?void 0:Kt[Pt.type]),At=ft(Ot);if(!At)return;ot.current=At;const $t=At.target??St;a("transition",At);const Ft=$t!==St;Ft?reactDomExports.flushSync(()=>mt.set($t)):At.reenter&&!Ft?mt.invoke(St,St):ct(At.actions??[])})};return(It=i.watch)==null||It.call(i,lt()),{state:st(),send:vt,context:nt,prop:$,scope:s,refs:at,computed:ht,event:rt(),getStatus:()=>yt.current}}function useLiveRef(i){const o=reactExports.useRef(i);return o.current=i,o}function useProp(i){const o=useLiveRef(i);return function(a){return o.current[a]}}function flush(i){queueMicrotask(()=>{reactDomExports.flushSync(()=>i())})}var normalizeProps=createNormalizer(i=>i);function useEvent(i,o={}){const{sync:s=!1}=o,a=useLatestRef(i);return reactExports.useCallback((..._)=>{var $;return s?queueMicrotask(()=>{var _e;return(_e=a.current)==null?void 0:_e.call(a,..._)}):($=a.current)==null?void 0:$.call(a,..._)},[s,a])}function useLatestRef(i){const o=reactExports.useRef(i);return o.current=i,o}const usePresence=(i={})=>{const{lazyMount:o,unmountOnExit:s,present:a,skipAnimationOnMount:_=!1,...$}=i,_e=reactExports.useRef(!1),tt={...$,present:a,onExitComplete:useEvent(i.onExitComplete)},nt=useMachine(machine$9,tt),it=connect$9(nt);it.present&&(_e.current=!0);const ot=!it.present&&!_e.current&&o||s&&!it.present&&_e.current,et=()=>({"data-state":it.skip&&_?void 0:a?"open":"closed",hidden:!it.present});return{ref:it.setNode,getPresenceProps:et,present:it.present,unmounted:ot}},[PresenceProvider,usePresenceContext]=createContext({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function useSlotRecipe(i){const{key:o,recipe:s}=i,a=useChakraContext();return reactExports.useMemo(()=>{const _=s||(o!=null?a.getSlotRecipe(o):{});return a.sva(structuredClone(_))},[o,s,a])}const upperFirst=i=>i.charAt(0).toUpperCase()+i.slice(1),createSlotRecipeContext=i=>{const{key:o,recipe:s}=i,a=upperFirst(o||s.className||"Component"),[_,$]=createContext$1({name:`${a}StylesContext`,errorMessage:`use${a}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${a}.Root />" `}),[_e,tt]=createContext$1({name:`${a}ClassNameContext`,errorMessage:`use${a}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${a}.Root />" `,strict:!1}),[nt,it]=createContext$1({strict:!1,name:`${a}PropsContext`,providerName:`${a}PropsContext`,defaultValue:{}});function ot(st){const{unstyled:at,...lt}=st,ct=useSlotRecipe({key:o,recipe:lt.recipe||s}),[ut,dt]=reactExports.useMemo(()=>ct.splitVariantProps(lt),[lt,ct]);return{styles:reactExports.useMemo(()=>at?EMPTY_SLOT_STYLES:ct(ut),[at,ut,ct]),classNames:ct.classNameMap,props:dt}}function et(st,at={}){const{defaultProps:lt}=at,ct=ut=>{const dt=it(),ft=reactExports.useMemo(()=>mergeProps$1(lt,dt,ut),[dt,ut]),{styles:ht,classNames:mt,props:bt}=ot(ft);return jsxRuntimeExports.jsx(_,{value:ht,children:jsxRuntimeExports.jsx(_e,{value:mt,children:jsxRuntimeExports.jsx(st,{...bt})})})};return ct.displayName=st.displayName||st.name,ct}return{StylesProvider:_,ClassNamesProvider:_e,PropsProvider:nt,usePropsContext:it,useRecipeResult:ot,withProvider:(st,at,lt)=>{const{defaultProps:ct,...ut}=lt??{},dt=chakra(st,{},ut),ft=reactExports.forwardRef((ht,mt)=>{var It;const bt=it(),yt=reactExports.useMemo(()=>mergeProps$1(ct??{},bt,ht),[bt,ht]),{styles:gt,props:vt,classNames:wt}=ot(yt),Ct=wt[at],Rt=jsxRuntimeExports.jsx(_,{value:gt,children:jsxRuntimeExports.jsx(_e,{value:wt,children:jsxRuntimeExports.jsx(dt,{ref:mt,...vt,css:[gt[at],yt.css],className:cx(yt.className,Ct)})})});return((It=lt==null?void 0:lt.wrapElement)==null?void 0:It.call(lt,Rt,yt))??Rt});return ft.displayName=st.displayName||st.name,ft},withContext:(st,at,lt)=>{const ct=chakra(st,{},lt),ut=reactExports.forwardRef((dt,ft)=>{const ht=$(),mt=tt(),bt=mt==null?void 0:mt[at];return jsxRuntimeExports.jsx(ct,{...dt,css:[at?ht[at]:void 0,dt.css],ref:ft,className:cx(dt.className,bt)})});return ut.displayName=st.displayName||st.name,ut},withRootProvider:et,useStyles:$,useClassNames:tt}},CheckIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:jsxRuntimeExports.jsx("path",{d:"M20 6 9 17l-5-5"})}),ChevronUpIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:jsxRuntimeExports.jsx("path",{d:"m18 15-6-6-6 6"})}),ChevronDownIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:jsxRuntimeExports.jsx("path",{d:"m6 9 6 6 6-6"})}),CheckCircleIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),WarningIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...i,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),CloseIcon=i=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"currentColor",...i,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),CopyIcon=i=>jsxRuntimeExports.jsxs(chakra.svg,{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[jsxRuntimeExports.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),jsxRuntimeExports.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]});function useCallbackRef(i,o=[]){const s=reactExports.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return reactExports.useInsertionEffect(()=>{s.current=i}),reactExports.useCallback((...a)=>{var _;return(_=s.current)==null?void 0:_.call(s,...a)},o)}function useDisclosure(i={}){const o=useCallbackRef(i.onOpen),s=useCallbackRef(i.onClose),[a,_]=reactExports.useState(i.defaultOpen||!1),$=i.open!==void 0?i.open:a,_e=i.open!==void 0,tt=reactExports.useCallback(()=>{_e||_(!1),s==null||s()},[_e,s]),nt=reactExports.useCallback(()=>{_e||_(!0),o==null||o()},[_e,o]),it=reactExports.useCallback(()=>{$?tt():nt()},[$,nt,tt]);return{open:$,onOpen:nt,onClose:tt,onToggle:it,setOpen:_}}var createAnatomy=(i,o=[])=>({parts:(...s)=>{if(isEmpty(o))return createAnatomy(i,s);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...s)=>createAnatomy(i,[...o,...s]),rename:s=>createAnatomy(s,o),keys:()=>o,build:()=>[...new Set(o)].reduce((s,a)=>Object.assign(s,{[a]:{selector:[`&[data-scope="${toKebabCase(i)}"][data-part="${toKebabCase(a)}"]`,`& [data-scope="${toKebabCase(i)}"][data-part="${toKebabCase(a)}"]`].join(", "),attrs:{"data-scope":toKebabCase(i),"data-part":toKebabCase(a)}}}),{})}),toKebabCase=i=>i.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),isEmpty=i=>i.length===0,anatomy$n=createAnatomy("collapsible").parts("root","trigger","content","indicator");anatomy$n.build();createProps$1()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const[EnvironmentContextProvider,useEnvironmentContext]=createContext({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=i=>({x:i,y:i}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(i,o,s){return max(i,min(o,s))}function evaluate(i,o){return typeof i=="function"?i(o):i}function getSide(i){return i.split("-")[0]}function getAlignment(i){return i.split("-")[1]}function getOppositeAxis(i){return i==="x"?"y":"x"}function getAxisLength(i){return i==="y"?"height":"width"}function getSideAxis(i){return["top","bottom"].includes(getSide(i))?"y":"x"}function getAlignmentAxis(i){return getOppositeAxis(getSideAxis(i))}function getAlignmentSides(i,o,s){s===void 0&&(s=!1);const a=getAlignment(i),_=getAlignmentAxis(i),$=getAxisLength(_);let _e=_==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return o.reference[$]>o.floating[$]&&(_e=getOppositePlacement(_e)),[_e,getOppositePlacement(_e)]}function getExpandedPlacements(i){const o=getOppositePlacement(i);return[getOppositeAlignmentPlacement(i),o,getOppositeAlignmentPlacement(o)]}function getOppositeAlignmentPlacement(i){return i.replace(/start|end/g,o=>oppositeAlignmentMap[o])}function getSideList(i,o,s){const a=["left","right"],_=["right","left"],$=["top","bottom"],_e=["bottom","top"];switch(i){case"top":case"bottom":return s?o?_:a:o?a:_;case"left":case"right":return o?$:_e;default:return[]}}function getOppositeAxisPlacements(i,o,s,a){const _=getAlignment(i);let $=getSideList(getSide(i),s==="start",a);return _&&($=$.map(_e=>_e+"-"+_),o&&($=$.concat($.map(getOppositeAlignmentPlacement)))),$}function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,o=>oppositeSideMap[o])}function expandPaddingObject(i){return{top:0,right:0,bottom:0,left:0,...i}}function getPaddingObject(i){return typeof i!="number"?expandPaddingObject(i):{top:i,right:i,bottom:i,left:i}}function rectToClientRect(i){const{x:o,y:s,width:a,height:_}=i;return{width:a,height:_,top:s,left:o,right:o+a,bottom:s+_,x:o,y:s}}function computeCoordsFromPlacement(i,o,s){let{reference:a,floating:_}=i;const $=getSideAxis(o),_e=getAlignmentAxis(o),tt=getAxisLength(_e),nt=getSide(o),it=$==="y",ot=a.x+a.width/2-_.width/2,et=a.y+a.height/2-_.height/2,j=a[tt]/2-_[tt]/2;let rt;switch(nt){case"top":rt={x:ot,y:a.y-_.height};break;case"bottom":rt={x:ot,y:a.y+a.height};break;case"right":rt={x:a.x+a.width,y:et};break;case"left":rt={x:a.x-_.width,y:et};break;default:rt={x:a.x,y:a.y}}switch(getAlignment(o)){case"start":rt[_e]-=j*(s&&it?-1:1);break;case"end":rt[_e]+=j*(s&&it?-1:1);break}return rt}const computePosition$1=async(i,o,s)=>{const{placement:a="bottom",strategy:_="absolute",middleware:$=[],platform:_e}=s,tt=$.filter(Boolean),nt=await(_e.isRTL==null?void 0:_e.isRTL(o));let it=await _e.getElementRects({reference:i,floating:o,strategy:_}),{x:ot,y:et}=computeCoordsFromPlacement(it,a,nt),j=a,rt={},st=0;for(let at=0;at<tt.length;at++){const{name:lt,fn:ct}=tt[at],{x:ut,y:dt,data:ft,reset:ht}=await ct({x:ot,y:et,initialPlacement:a,placement:j,strategy:_,middlewareData:rt,rects:it,platform:_e,elements:{reference:i,floating:o}});ot=ut??ot,et=dt??et,rt={...rt,[lt]:{...rt[lt],...ft}},ht&&st<=50&&(st++,typeof ht=="object"&&(ht.placement&&(j=ht.placement),ht.rects&&(it=ht.rects===!0?await _e.getElementRects({reference:i,floating:o,strategy:_}):ht.rects),{x:ot,y:et}=computeCoordsFromPlacement(it,j,nt)),at=-1)}return{x:ot,y:et,placement:j,strategy:_,middlewareData:rt}};async function detectOverflow(i,o){var s;o===void 0&&(o={});const{x:a,y:_,platform:$,rects:_e,elements:tt,strategy:nt}=i,{boundary:it="clippingAncestors",rootBoundary:ot="viewport",elementContext:et="floating",altBoundary:j=!1,padding:rt=0}=evaluate(o,i),st=getPaddingObject(rt),lt=tt[j?et==="floating"?"reference":"floating":et],ct=rectToClientRect(await $.getClippingRect({element:(s=await($.isElement==null?void 0:$.isElement(lt)))==null||s?lt:lt.contextElement||await($.getDocumentElement==null?void 0:$.getDocumentElement(tt.floating)),boundary:it,rootBoundary:ot,strategy:nt})),ut=et==="floating"?{x:a,y:_,width:_e.floating.width,height:_e.floating.height}:_e.reference,dt=await($.getOffsetParent==null?void 0:$.getOffsetParent(tt.floating)),ft=await($.isElement==null?void 0:$.isElement(dt))?await($.getScale==null?void 0:$.getScale(dt))||{x:1,y:1}:{x:1,y:1},ht=rectToClientRect($.convertOffsetParentRelativeRectToViewportRelativeRect?await $.convertOffsetParentRelativeRectToViewportRelativeRect({elements:tt,rect:ut,offsetParent:dt,strategy:nt}):ut);return{top:(ct.top-ht.top+st.top)/ft.y,bottom:(ht.bottom-ct.bottom+st.bottom)/ft.y,left:(ct.left-ht.left+st.left)/ft.x,right:(ht.right-ct.right+st.right)/ft.x}}const arrow$1=i=>({name:"arrow",options:i,async fn(o){const{x:s,y:a,placement:_,rects:$,platform:_e,elements:tt,middlewareData:nt}=o,{element:it,padding:ot=0}=evaluate(i,o)||{};if(it==null)return{};const et=getPaddingObject(ot),j={x:s,y:a},rt=getAlignmentAxis(_),st=getAxisLength(rt),at=await _e.getDimensions(it),lt=rt==="y",ct=lt?"top":"left",ut=lt?"bottom":"right",dt=lt?"clientHeight":"clientWidth",ft=$.reference[st]+$.reference[rt]-j[rt]-$.floating[st],ht=j[rt]-$.reference[rt],mt=await(_e.getOffsetParent==null?void 0:_e.getOffsetParent(it));let bt=mt?mt[dt]:0;(!bt||!await(_e.isElement==null?void 0:_e.isElement(mt)))&&(bt=tt.floating[dt]||$.floating[st]);const yt=ft/2-ht/2,gt=bt/2-at[st]/2-1,vt=min(et[ct],gt),wt=min(et[ut],gt),Ct=vt,Rt=bt-at[st]-wt,It=bt/2-at[st]/2+yt,Pt=clamp$1(Ct,It,Rt),St=!nt.arrow&&getAlignment(_)!=null&&It!==Pt&&$.reference[st]/2-(It<Ct?vt:wt)-at[st]/2<0,Ot=St?It<Ct?It-Ct:It-Rt:0;return{[rt]:j[rt]+Ot,data:{[rt]:Pt,centerOffset:It-Pt-Ot,...St&&{alignmentOffset:Ot}},reset:St}}}),flip$1=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(o){var s,a;const{placement:_,middlewareData:$,rects:_e,initialPlacement:tt,platform:nt,elements:it}=o,{mainAxis:ot=!0,crossAxis:et=!0,fallbackPlacements:j,fallbackStrategy:rt="bestFit",fallbackAxisSideDirection:st="none",flipAlignment:at=!0,...lt}=evaluate(i,o);if((s=$.arrow)!=null&&s.alignmentOffset)return{};const ct=getSide(_),ut=getSideAxis(tt),dt=getSide(tt)===tt,ft=await(nt.isRTL==null?void 0:nt.isRTL(it.floating)),ht=j||(dt||!at?[getOppositePlacement(tt)]:getExpandedPlacements(tt)),mt=st!=="none";!j&&mt&&ht.push(...getOppositeAxisPlacements(tt,at,st,ft));const bt=[tt,...ht],yt=await detectOverflow(o,lt),gt=[];let vt=((a=$.flip)==null?void 0:a.overflows)||[];if(ot&&gt.push(yt[ct]),et){const It=getAlignmentSides(_,_e,ft);gt.push(yt[It[0]],yt[It[1]])}if(vt=[...vt,{placement:_,overflows:gt}],!gt.every(It=>It<=0)){var wt,Ct;const It=(((wt=$.flip)==null?void 0:wt.index)||0)+1,Pt=bt[It];if(Pt)return{data:{index:It,overflows:vt},reset:{placement:Pt}};let St=(Ct=vt.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,At)=>Ot.overflows[1]-At.overflows[1])[0])==null?void 0:Ct.placement;if(!St)switch(rt){case"bestFit":{var Rt;const Ot=(Rt=vt.filter(At=>{if(mt){const $t=getSideAxis(At.placement);return $t===ut||$t==="y"}return!0}).map(At=>[At.placement,At.overflows.filter($t=>$t>0).reduce(($t,Ft)=>$t+Ft,0)]).sort((At,$t)=>At[1]-$t[1])[0])==null?void 0:Rt[0];Ot&&(St=Ot);break}case"initialPlacement":St=tt;break}if(_!==St)return{reset:{placement:St}}}return{}}}};function getSideOffsets(i,o){return{top:i.top-o.height,right:i.right-o.width,bottom:i.bottom-o.height,left:i.left-o.width}}function isAnySideFullyClipped(i){return sides.some(o=>i[o]>=0)}const hide$1=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(o){const{rects:s}=o,{strategy:a="referenceHidden",..._}=evaluate(i,o);switch(a){case"referenceHidden":{const $=await detectOverflow(o,{..._,elementContext:"reference"}),_e=getSideOffsets($,s.reference);return{data:{referenceHiddenOffsets:_e,referenceHidden:isAnySideFullyClipped(_e)}}}case"escaped":{const $=await detectOverflow(o,{..._,altBoundary:!0}),_e=getSideOffsets($,s.floating);return{data:{escapedOffsets:_e,escaped:isAnySideFullyClipped(_e)}}}default:return{}}}}};async function convertValueToCoords(i,o){const{placement:s,platform:a,elements:_}=i,$=await(a.isRTL==null?void 0:a.isRTL(_.floating)),_e=getSide(s),tt=getAlignment(s),nt=getSideAxis(s)==="y",it=["left","top"].includes(_e)?-1:1,ot=$&&nt?-1:1,et=evaluate(o,i);let{mainAxis:j,crossAxis:rt,alignmentAxis:st}=typeof et=="number"?{mainAxis:et,crossAxis:0,alignmentAxis:null}:{mainAxis:et.mainAxis||0,crossAxis:et.crossAxis||0,alignmentAxis:et.alignmentAxis};return tt&&typeof st=="number"&&(rt=tt==="end"?st*-1:st),nt?{x:rt*ot,y:j*it}:{x:j*it,y:rt*ot}}const offset$1=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(o){var s,a;const{x:_,y:$,placement:_e,middlewareData:tt}=o,nt=await convertValueToCoords(o,i);return _e===((s=tt.offset)==null?void 0:s.placement)&&(a=tt.arrow)!=null&&a.alignmentOffset?{}:{x:_+nt.x,y:$+nt.y,data:{...nt,placement:_e}}}}},shift$1=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(o){const{x:s,y:a,placement:_}=o,{mainAxis:$=!0,crossAxis:_e=!1,limiter:tt={fn:lt=>{let{x:ct,y:ut}=lt;return{x:ct,y:ut}}},...nt}=evaluate(i,o),it={x:s,y:a},ot=await detectOverflow(o,nt),et=getSideAxis(getSide(_)),j=getOppositeAxis(et);let rt=it[j],st=it[et];if($){const lt=j==="y"?"top":"left",ct=j==="y"?"bottom":"right",ut=rt+ot[lt],dt=rt-ot[ct];rt=clamp$1(ut,rt,dt)}if(_e){const lt=et==="y"?"top":"left",ct=et==="y"?"bottom":"right",ut=st+ot[lt],dt=st-ot[ct];st=clamp$1(ut,st,dt)}const at=tt.fn({...o,[j]:rt,[et]:st});return{...at,data:{x:at.x-s,y:at.y-a,enabled:{[j]:$,[et]:_e}}}}}},limitShift$1=function(i){return i===void 0&&(i={}),{options:i,fn(o){const{x:s,y:a,placement:_,rects:$,middlewareData:_e}=o,{offset:tt=0,mainAxis:nt=!0,crossAxis:it=!0}=evaluate(i,o),ot={x:s,y:a},et=getSideAxis(_),j=getOppositeAxis(et);let rt=ot[j],st=ot[et];const at=evaluate(tt,o),lt=typeof at=="number"?{mainAxis:at,crossAxis:0}:{mainAxis:0,crossAxis:0,...at};if(nt){const dt=j==="y"?"height":"width",ft=$.reference[j]-$.floating[dt]+lt.mainAxis,ht=$.reference[j]+$.reference[dt]-lt.mainAxis;rt<ft?rt=ft:rt>ht&&(rt=ht)}if(it){var ct,ut;const dt=j==="y"?"width":"height",ft=["top","left"].includes(getSide(_)),ht=$.reference[et]-$.floating[dt]+(ft&&((ct=_e.offset)==null?void 0:ct[et])||0)+(ft?0:lt.crossAxis),mt=$.reference[et]+$.reference[dt]+(ft?0:((ut=_e.offset)==null?void 0:ut[et])||0)-(ft?lt.crossAxis:0);st<ht?st=ht:st>mt&&(st=mt)}return{[j]:rt,[et]:st}}}},size$1=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(o){var s,a;const{placement:_,rects:$,platform:_e,elements:tt}=o,{apply:nt=()=>{},...it}=evaluate(i,o),ot=await detectOverflow(o,it),et=getSide(_),j=getAlignment(_),rt=getSideAxis(_)==="y",{width:st,height:at}=$.floating;let lt,ct;et==="top"||et==="bottom"?(lt=et,ct=j===(await(_e.isRTL==null?void 0:_e.isRTL(tt.floating))?"start":"end")?"left":"right"):(ct=et,lt=j==="end"?"top":"bottom");const ut=at-ot.top-ot.bottom,dt=st-ot.left-ot.right,ft=min(at-ot[lt],ut),ht=min(st-ot[ct],dt),mt=!o.middlewareData.shift;let bt=ft,yt=ht;if((s=o.middlewareData.shift)!=null&&s.enabled.x&&(yt=dt),(a=o.middlewareData.shift)!=null&&a.enabled.y&&(bt=ut),mt&&!j){const vt=max(ot.left,0),wt=max(ot.right,0),Ct=max(ot.top,0),Rt=max(ot.bottom,0);rt?yt=st-2*(vt!==0||wt!==0?vt+wt:max(ot.left,ot.right)):bt=at-2*(Ct!==0||Rt!==0?Ct+Rt:max(ot.top,ot.bottom))}await nt({...o,availableWidth:yt,availableHeight:bt});const gt=await _e.getDimensions(tt.floating);return st!==gt.width||at!==gt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(i){return isNode$1(i)?(i.nodeName||"").toLowerCase():"#document"}function getWindow(i){var o;return(i==null||(o=i.ownerDocument)==null?void 0:o.defaultView)||window}function getDocumentElement(i){var o;return(o=(isNode$1(i)?i.ownerDocument:i.document)||window.document)==null?void 0:o.documentElement}function isNode$1(i){return hasWindow()?i instanceof Node||i instanceof getWindow(i).Node:!1}function isElement$1(i){return hasWindow()?i instanceof Element||i instanceof getWindow(i).Element:!1}function isHTMLElement(i){return hasWindow()?i instanceof HTMLElement||i instanceof getWindow(i).HTMLElement:!1}function isShadowRoot(i){return!hasWindow()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof getWindow(i).ShadowRoot}function isOverflowElement(i){const{overflow:o,overflowX:s,overflowY:a,display:_}=getComputedStyle$1(i);return/auto|scroll|overlay|hidden|clip/.test(o+a+s)&&!["inline","contents"].includes(_)}function isTableElement(i){return["table","td","th"].includes(getNodeName(i))}function isTopLayer(i){return[":popover-open",":modal"].some(o=>{try{return i.matches(o)}catch{return!1}})}function isContainingBlock(i){const o=isWebKit(),s=isElement$1(i)?getComputedStyle$1(i):i;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!o&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!o&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function getContainingBlock(i){let o=getParentNode$1(i);for(;isHTMLElement(o)&&!isLastTraversableNode(o);){if(isContainingBlock(o))return o;if(isTopLayer(o))return null;o=getParentNode$1(o)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(i){return["html","body","#document"].includes(getNodeName(i))}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function getNodeScroll(i){return isElement$1(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function getParentNode$1(i){if(getNodeName(i)==="html")return i;const o=i.assignedSlot||i.parentNode||isShadowRoot(i)&&i.host||getDocumentElement(i);return isShadowRoot(o)?o.host:o}function getNearestOverflowAncestor(i){const o=getParentNode$1(i);return isLastTraversableNode(o)?i.ownerDocument?i.ownerDocument.body:i.body:isHTMLElement(o)&&isOverflowElement(o)?o:getNearestOverflowAncestor(o)}function getOverflowAncestors(i,o,s){var a;o===void 0&&(o=[]),s===void 0&&(s=!0);const _=getNearestOverflowAncestor(i),$=_===((a=i.ownerDocument)==null?void 0:a.body),_e=getWindow(_);if($){const tt=getFrameElement(_e);return o.concat(_e,_e.visualViewport||[],isOverflowElement(_)?_:[],tt&&s?getOverflowAncestors(tt):[])}return o.concat(_,getOverflowAncestors(_,[],s))}function getFrameElement(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function getCssDimensions(i){const o=getComputedStyle$1(i);let s=parseFloat(o.width)||0,a=parseFloat(o.height)||0;const _=isHTMLElement(i),$=_?i.offsetWidth:s,_e=_?i.offsetHeight:a,tt=round(s)!==$||round(a)!==_e;return tt&&(s=$,a=_e),{width:s,height:a,$:tt}}function unwrapElement(i){return isElement$1(i)?i:i.contextElement}function getScale(i){const o=unwrapElement(i);if(!isHTMLElement(o))return createCoords(1);const s=o.getBoundingClientRect(),{width:a,height:_,$}=getCssDimensions(o);let _e=($?round(s.width):s.width)/a,tt=($?round(s.height):s.height)/_;return(!_e||!Number.isFinite(_e))&&(_e=1),(!tt||!Number.isFinite(tt))&&(tt=1),{x:_e,y:tt}}const noOffsets=createCoords(0);function getVisualOffsets(i){const o=getWindow(i);return!isWebKit()||!o.visualViewport?noOffsets:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function shouldAddVisualOffsets(i,o,s){return o===void 0&&(o=!1),!s||o&&s!==getWindow(i)?!1:o}function getBoundingClientRect(i,o,s,a){o===void 0&&(o=!1),s===void 0&&(s=!1);const _=i.getBoundingClientRect(),$=unwrapElement(i);let _e=createCoords(1);o&&(a?isElement$1(a)&&(_e=getScale(a)):_e=getScale(i));const tt=shouldAddVisualOffsets($,s,a)?getVisualOffsets($):createCoords(0);let nt=(_.left+tt.x)/_e.x,it=(_.top+tt.y)/_e.y,ot=_.width/_e.x,et=_.height/_e.y;if($){const j=getWindow($),rt=a&&isElement$1(a)?getWindow(a):a;let st=j,at=getFrameElement(st);for(;at&&a&&rt!==st;){const lt=getScale(at),ct=at.getBoundingClientRect(),ut=getComputedStyle$1(at),dt=ct.left+(at.clientLeft+parseFloat(ut.paddingLeft))*lt.x,ft=ct.top+(at.clientTop+parseFloat(ut.paddingTop))*lt.y;nt*=lt.x,it*=lt.y,ot*=lt.x,et*=lt.y,nt+=dt,it+=ft,st=getWindow(at),at=getFrameElement(st)}}return rectToClientRect({width:ot,height:et,x:nt,y:it})}function getWindowScrollBarX(i,o){const s=getNodeScroll(i).scrollLeft;return o?o.left+s:getBoundingClientRect(getDocumentElement(i)).left+s}function getHTMLOffset(i,o,s){s===void 0&&(s=!1);const a=i.getBoundingClientRect(),_=a.left+o.scrollLeft-(s?0:getWindowScrollBarX(i,a)),$=a.top+o.scrollTop;return{x:_,y:$}}function convertOffsetParentRelativeRectToViewportRelativeRect(i){let{elements:o,rect:s,offsetParent:a,strategy:_}=i;const $=_==="fixed",_e=getDocumentElement(a),tt=o?isTopLayer(o.floating):!1;if(a===_e||tt&&$)return s;let nt={scrollLeft:0,scrollTop:0},it=createCoords(1);const ot=createCoords(0),et=isHTMLElement(a);if((et||!et&&!$)&&((getNodeName(a)!=="body"||isOverflowElement(_e))&&(nt=getNodeScroll(a)),isHTMLElement(a))){const rt=getBoundingClientRect(a);it=getScale(a),ot.x=rt.x+a.clientLeft,ot.y=rt.y+a.clientTop}const j=_e&&!et&&!$?getHTMLOffset(_e,nt,!0):createCoords(0);return{width:s.width*it.x,height:s.height*it.y,x:s.x*it.x-nt.scrollLeft*it.x+ot.x+j.x,y:s.y*it.y-nt.scrollTop*it.y+ot.y+j.y}}function getClientRects(i){return Array.from(i.getClientRects())}function getDocumentRect(i){const o=getDocumentElement(i),s=getNodeScroll(i),a=i.ownerDocument.body,_=max(o.scrollWidth,o.clientWidth,a.scrollWidth,a.clientWidth),$=max(o.scrollHeight,o.clientHeight,a.scrollHeight,a.clientHeight);let _e=-s.scrollLeft+getWindowScrollBarX(i);const tt=-s.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(_e+=max(o.clientWidth,a.clientWidth)-_),{width:_,height:$,x:_e,y:tt}}function getViewportRect(i,o){const s=getWindow(i),a=getDocumentElement(i),_=s.visualViewport;let $=a.clientWidth,_e=a.clientHeight,tt=0,nt=0;if(_){$=_.width,_e=_.height;const it=isWebKit();(!it||it&&o==="fixed")&&(tt=_.offsetLeft,nt=_.offsetTop)}return{width:$,height:_e,x:tt,y:nt}}function getInnerBoundingClientRect(i,o){const s=getBoundingClientRect(i,!0,o==="fixed"),a=s.top+i.clientTop,_=s.left+i.clientLeft,$=isHTMLElement(i)?getScale(i):createCoords(1),_e=i.clientWidth*$.x,tt=i.clientHeight*$.y,nt=_*$.x,it=a*$.y;return{width:_e,height:tt,x:nt,y:it}}function getClientRectFromClippingAncestor(i,o,s){let a;if(o==="viewport")a=getViewportRect(i,s);else if(o==="document")a=getDocumentRect(getDocumentElement(i));else if(isElement$1(o))a=getInnerBoundingClientRect(o,s);else{const _=getVisualOffsets(i);a={x:o.x-_.x,y:o.y-_.y,width:o.width,height:o.height}}return rectToClientRect(a)}function hasFixedPositionAncestor(i,o){const s=getParentNode$1(i);return s===o||!isElement$1(s)||isLastTraversableNode(s)?!1:getComputedStyle$1(s).position==="fixed"||hasFixedPositionAncestor(s,o)}function getClippingElementAncestors(i,o){const s=o.get(i);if(s)return s;let a=getOverflowAncestors(i,[],!1).filter(tt=>isElement$1(tt)&&getNodeName(tt)!=="body"),_=null;const $=getComputedStyle$1(i).position==="fixed";let _e=$?getParentNode$1(i):i;for(;isElement$1(_e)&&!isLastTraversableNode(_e);){const tt=getComputedStyle$1(_e),nt=isContainingBlock(_e);!nt&&tt.position==="fixed"&&(_=null),($?!nt&&!_:!nt&&tt.position==="static"&&!!_&&["absolute","fixed"].includes(_.position)||isOverflowElement(_e)&&!nt&&hasFixedPositionAncestor(i,_e))?a=a.filter(ot=>ot!==_e):_=tt,_e=getParentNode$1(_e)}return o.set(i,a),a}function getClippingRect(i){let{element:o,boundary:s,rootBoundary:a,strategy:_}=i;const _e=[...s==="clippingAncestors"?isTopLayer(o)?[]:getClippingElementAncestors(o,this._c):[].concat(s),a],tt=_e[0],nt=_e.reduce((it,ot)=>{const et=getClientRectFromClippingAncestor(o,ot,_);return it.top=max(et.top,it.top),it.right=min(et.right,it.right),it.bottom=min(et.bottom,it.bottom),it.left=max(et.left,it.left),it},getClientRectFromClippingAncestor(o,tt,_));return{width:nt.right-nt.left,height:nt.bottom-nt.top,x:nt.left,y:nt.top}}function getDimensions(i){const{width:o,height:s}=getCssDimensions(i);return{width:o,height:s}}function getRectRelativeToOffsetParent(i,o,s){const a=isHTMLElement(o),_=getDocumentElement(o),$=s==="fixed",_e=getBoundingClientRect(i,!0,$,o);let tt={scrollLeft:0,scrollTop:0};const nt=createCoords(0);if(a||!a&&!$)if((getNodeName(o)!=="body"||isOverflowElement(_))&&(tt=getNodeScroll(o)),a){const j=getBoundingClientRect(o,!0,$,o);nt.x=j.x+o.clientLeft,nt.y=j.y+o.clientTop}else _&&(nt.x=getWindowScrollBarX(_));const it=_&&!a&&!$?getHTMLOffset(_,tt):createCoords(0),ot=_e.left+tt.scrollLeft-nt.x-it.x,et=_e.top+tt.scrollTop-nt.y-it.y;return{x:ot,y:et,width:_e.width,height:_e.height}}function isStaticPositioned(i){return getComputedStyle$1(i).position==="static"}function getTrueOffsetParent(i,o){if(!isHTMLElement(i)||getComputedStyle$1(i).position==="fixed")return null;if(o)return o(i);let s=i.offsetParent;return getDocumentElement(i)===s&&(s=s.ownerDocument.body),s}function getOffsetParent(i,o){const s=getWindow(i);if(isTopLayer(i))return s;if(!isHTMLElement(i)){let _=getParentNode$1(i);for(;_&&!isLastTraversableNode(_);){if(isElement$1(_)&&!isStaticPositioned(_))return _;_=getParentNode$1(_)}return s}let a=getTrueOffsetParent(i,o);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,o);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?s:a||getContainingBlock(i)||s}const getElementRects=async function(i){const o=this.getOffsetParent||getOffsetParent,s=this.getDimensions,a=await s(i.floating);return{reference:getRectRelativeToOffsetParent(i.reference,await o(i.floating),i.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(i){return getComputedStyle$1(i).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function rectsAreEqual(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height}function observeMove(i,o){let s=null,a;const _=getDocumentElement(i);function $(){var tt;clearTimeout(a),(tt=s)==null||tt.disconnect(),s=null}function _e(tt,nt){tt===void 0&&(tt=!1),nt===void 0&&(nt=1),$();const it=i.getBoundingClientRect(),{left:ot,top:et,width:j,height:rt}=it;if(tt||o(),!j||!rt)return;const st=floor(et),at=floor(_.clientWidth-(ot+j)),lt=floor(_.clientHeight-(et+rt)),ct=floor(ot),dt={rootMargin:-st+"px "+-at+"px "+-lt+"px "+-ct+"px",threshold:max(0,min(1,nt))||1};let ft=!0;function ht(mt){const bt=mt[0].intersectionRatio;if(bt!==nt){if(!ft)return _e();bt?_e(!1,bt):a=setTimeout(()=>{_e(!1,1e-7)},1e3)}bt===1&&!rectsAreEqual(it,i.getBoundingClientRect())&&_e(),ft=!1}try{s=new IntersectionObserver(ht,{...dt,root:_.ownerDocument})}catch{s=new IntersectionObserver(ht,dt)}s.observe(i)}return _e(!0),$}function autoUpdate(i,o,s,a){a===void 0&&(a={});const{ancestorScroll:_=!0,ancestorResize:$=!0,elementResize:_e=typeof ResizeObserver=="function",layoutShift:tt=typeof IntersectionObserver=="function",animationFrame:nt=!1}=a,it=unwrapElement(i),ot=_||$?[...it?getOverflowAncestors(it):[],...getOverflowAncestors(o)]:[];ot.forEach(ct=>{_&&ct.addEventListener("scroll",s,{passive:!0}),$&&ct.addEventListener("resize",s)});const et=it&&tt?observeMove(it,s):null;let j=-1,rt=null;_e&&(rt=new ResizeObserver(ct=>{let[ut]=ct;ut&&ut.target===it&&rt&&(rt.unobserve(o),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var dt;(dt=rt)==null||dt.observe(o)})),s()}),it&&!nt&&rt.observe(it),rt.observe(o));let st,at=nt?getBoundingClientRect(i):null;nt&&lt();function lt(){const ct=getBoundingClientRect(i);at&&!rectsAreEqual(at,ct)&&s(),at=ct,st=requestAnimationFrame(lt)}return s(),()=>{var ct;ot.forEach(ut=>{_&&ut.removeEventListener("scroll",s),$&&ut.removeEventListener("resize",s)}),et==null||et(),(ct=rt)==null||ct.disconnect(),rt=null,nt&&cancelAnimationFrame(st)}}const offset=offset$1,shift=shift$1,flip=flip$1,size=size$1,hide=hide$1,arrow=arrow$1,limitShift=limitShift$1,computePosition=(i,o,s)=>{const a=new Map,_={platform,...s},$={..._.platform,_c:a};return computePosition$1(i,o,{..._,platform:$})};function createDOMRect(i=0,o=0,s=0,a=0){if(typeof DOMRect=="function")return new DOMRect(i,o,s,a);const _={x:i,y:o,width:s,height:a,top:o,right:i+s,bottom:o+a,left:i};return{..._,toJSON:()=>_}}function getDOMRect(i){if(!i)return createDOMRect();const{x:o,y:s,width:a,height:_}=i;return createDOMRect(o,s,a,_)}function getAnchorElement(i,o){return{contextElement:isHTMLElement$1(i)?i:void 0,getBoundingClientRect:()=>{const s=i,a=o==null?void 0:o(s);return a||!s?getDOMRect(a):s.getBoundingClientRect()}}}var toVar=i=>({variable:i,reference:`var(${i})`}),cssVars={arrowSize:toVar("--arrow-size"),arrowSizeHalf:toVar("--arrow-size-half"),arrowBg:toVar("--arrow-background"),transformOrigin:toVar("--transform-origin"),arrowOffset:toVar("--arrow-offset")},getTransformOrigin=i=>({top:"bottom center","top-start":i?`${i.x}px bottom`:"left bottom","top-end":i?`${i.x}px bottom`:"right bottom",bottom:"top center","bottom-start":i?`${i.x}px top`:"top left","bottom-end":i?`${i.x}px top`:"top right",left:"right center","left-start":i?`right ${i.y}px`:"right top","left-end":i?`right ${i.y}px`:"right bottom",right:"left center","right-start":i?`left ${i.y}px`:"left top","right-end":i?`left ${i.y}px`:"left bottom"}),transformOriginMiddleware={name:"transformOrigin",fn({placement:i,elements:o,middlewareData:s}){const{arrow:a}=s,_=getTransformOrigin(a)[i],{floating:$}=o;return $.style.setProperty(cssVars.transformOrigin.variable,_),{data:{transformOrigin:_}}}},rectMiddleware={name:"rects",fn({rects:i}){return{data:i}}},shiftArrowMiddleware=i=>{if(i)return{name:"shiftArrow",fn({placement:o,middlewareData:s}){if(!s.arrow)return{};const{x:a,y:_}=s.arrow,$=o.split("-")[0];return Object.assign(i.style,{left:a!=null?`${a}px`:"",top:_!=null?`${_}px`:"",[$]:`calc(100% + ${cssVars.arrowOffset.reference})`}),{}}}};function getPlacementDetails(i){const[o,s]=i.split("-");return{side:o,align:s,hasAlign:s!=null}}function getPlacementSide(i){return i.split("-")[0]}var defaultOptions$3={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function roundByDpr(i,o){const s=i.devicePixelRatio||1;return Math.round(o*s)/s}function getBoundaryMiddleware(i){return runIfFn(i.boundary)}function getArrowMiddleware(i,o){if(i)return arrow({element:i,padding:o.arrowPadding})}function getOffsetMiddleware(i,o){if(!isNull(o.offset??o.gutter))return offset(({placement:s})=>{var it,ot;const a=((i==null?void 0:i.clientHeight)||0)/2,_=((it=o.offset)==null?void 0:it.mainAxis)??o.gutter,$=typeof _=="number"?_+a:_??a,{hasAlign:_e}=getPlacementDetails(s),tt=_e?void 0:o.shift,nt=((ot=o.offset)==null?void 0:ot.crossAxis)??tt;return compact({crossAxis:nt,mainAxis:$,alignmentAxis:o.shift})})}function getFlipMiddleware(i){if(i.flip)return flip({boundary:getBoundaryMiddleware(i),padding:i.overflowPadding,fallbackPlacements:i.flip===!0?void 0:i.flip})}function getShiftMiddleware(i){if(!(!i.slide&&!i.overlap))return shift({boundary:getBoundaryMiddleware(i),mainAxis:i.slide,crossAxis:i.overlap,padding:i.overflowPadding,limiter:limitShift()})}function getSizeMiddleware(i){return size({padding:i.overflowPadding,apply({elements:o,rects:s,availableHeight:a,availableWidth:_}){const $=o.floating,_e=Math.round(s.reference.width);_=Math.floor(_),a=Math.floor(a),$.style.setProperty("--reference-width",`${_e}px`),$.style.setProperty("--available-width",`${_}px`),$.style.setProperty("--available-height",`${a}px`)}})}function hideWhenDetachedMiddleware(i){var o;if(i.hideWhenDetached)return hide({strategy:"referenceHidden",boundary:((o=i.boundary)==null?void 0:o.call(i))??"clippingAncestors"})}function getAutoUpdateOptions(i){return i?i===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:i:{}}function getPlacementImpl(i,o,s={}){const a=getAnchorElement(i,s.getAnchorRect);if(!o||!a)return;const _=Object.assign({},defaultOptions$3,s),$=o.querySelector("[data-part=arrow]"),_e=[getOffsetMiddleware($,_),getFlipMiddleware(_),getShiftMiddleware(_),getArrowMiddleware($,_),shiftArrowMiddleware($),transformOriginMiddleware,getSizeMiddleware(_),hideWhenDetachedMiddleware(_),rectMiddleware],{placement:tt,strategy:nt,onComplete:it,onPositioned:ot}=_,et=async()=>{var ft;if(!a||!o)return;const at=await computePosition(a,o,{placement:tt,middleware:_e,strategy:nt});it==null||it(at),ot==null||ot({placed:!0});const lt=getWindow$1(o),ct=roundByDpr(lt,at.x),ut=roundByDpr(lt,at.y);o.style.setProperty("--x",`${ct}px`),o.style.setProperty("--y",`${ut}px`),_.hideWhenDetached&&(((ft=at.middlewareData.hide)==null?void 0:ft.referenceHidden)?(o.style.setProperty("visibility","hidden"),o.style.setProperty("pointer-events","none")):(o.style.removeProperty("visibility"),o.style.removeProperty("pointer-events")));const dt=o.firstElementChild;if(dt){const ht=getComputedStyle$2(dt);o.style.setProperty("--z-index",ht.zIndex)}},j=async()=>{s.updatePosition?(await s.updatePosition({updatePosition:et}),ot==null||ot({placed:!0})):await et()},rt=getAutoUpdateOptions(_.listeners),st=_.listeners?autoUpdate(a,o,j,rt):noop$4;return j(),()=>{st==null||st(),ot==null||ot({placed:!1})}}function getPlacement(i,o,s={}){const{defer:a,..._}=s,$=a?raf$1:tt=>tt(),_e=[];return _e.push($(()=>{const tt=typeof i=="function"?i():i,nt=typeof o=="function"?o():o;_e.push(getPlacementImpl(tt,nt,_))})),()=>{_e.forEach(tt=>tt==null?void 0:tt())}}var ARROW_FLOATING_STYLE={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function getPlacementStyles(i={}){const{placement:o,sameWidth:s,fitViewport:a,strategy:_="absolute"}=i;return{arrow:{position:"absolute",width:cssVars.arrowSize.reference,height:cssVars.arrowSize.reference,[cssVars.arrowSizeHalf.variable]:`calc(${cssVars.arrowSize.reference} / 2)`,[cssVars.arrowOffset.variable]:`calc(${cssVars.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:o?ARROW_FLOATING_STYLE[o.split("-")[0]]:void 0,background:cssVars.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:_,isolation:"isolate",minWidth:s?void 0:"max-content",width:s?"var(--reference-width)":void 0,maxWidth:a?"var(--available-width)":void 0,maxHeight:a?"var(--available-height)":void 0,pointerEvents:o?void 0:"none",top:"0px",left:"0px",transform:o?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function getWindowFrames(i){const o={each(s){var a;for(let _=0;_<((a=i.frames)==null?void 0:a.length);_+=1){const $=i.frames[_];$&&s($)}},addEventListener(s,a,_){return o.each($=>{try{$.document.addEventListener(s,a,_)}catch{}}),()=>{try{o.removeEventListener(s,a,_)}catch{}}},removeEventListener(s,a,_){o.each($=>{try{$.document.removeEventListener(s,a,_)}catch{}})}};return o}function getParentWindow(i){const o=i.frameElement!=null?i.parent:null;return{addEventListener:(s,a,_)=>{try{o==null||o.addEventListener(s,a,_)}catch{}return()=>{try{o==null||o.removeEventListener(s,a,_)}catch{}}},removeEventListener:(s,a,_)=>{try{o==null||o.removeEventListener(s,a,_)}catch{}}}}var POINTER_OUTSIDE_EVENT="pointerdown.outside",FOCUS_OUTSIDE_EVENT="focus.outside";function isComposedPathFocusable(i){for(const o of i)if(isHTMLElement$1(o)&&isFocusable(o))return!0;return!1}var isPointerEvent=i=>"clientY"in i;function isEventPointWithin(i,o){if(!isPointerEvent(o)||!i)return!1;const s=i.getBoundingClientRect();return s.width===0||s.height===0?!1:s.top<=o.clientY&&o.clientY<=s.top+s.height&&s.left<=o.clientX&&o.clientX<=s.left+s.width}function isPointInRect(i,o){return i.y<=o.y&&o.y<=i.y+i.height&&i.x<=o.x&&o.x<=i.x+i.width}function isEventWithinScrollbar(i,o){if(!o||!isPointerEvent(i))return!1;const s=o.scrollHeight>o.clientHeight,a=s&&i.clientX>o.offsetLeft+o.clientWidth,_=o.scrollWidth>o.clientWidth,$=_&&i.clientY>o.offsetTop+o.clientHeight,_e={x:o.offsetLeft,y:o.offsetTop,width:o.clientWidth+(s?16:0),height:o.clientHeight+(_?16:0)},tt={x:i.clientX,y:i.clientY};return isPointInRect(_e,tt)?a||$:!1}function trackInteractOutsideImpl(i,o){const{exclude:s,onFocusOutside:a,onPointerDownOutside:_,onInteractOutside:$,defer:_e}=o;if(!i)return;const tt=getDocument(i),nt=getWindow$1(i),it=getWindowFrames(nt),ot=getParentWindow(nt);function et(ut,dt){if(!isHTMLElement$1(dt)||!dt.isConnected||contains(i,dt)||isEventPointWithin(i,ut))return!1;const ft=tt.querySelector(`[aria-controls="${i.id}"]`);if(ft){const mt=getNearestOverflowAncestor$1(ft);if(isEventWithinScrollbar(ut,mt))return!1}const ht=getNearestOverflowAncestor$1(i);return isEventWithinScrollbar(ut,ht)?!1:!(s!=null&&s(dt))}const j=new Set,rt=isShadowRoot$1(i==null?void 0:i.getRootNode());function st(ut){function dt(ft){var yt;const ht=_e&&!isTouchDevice()?raf$1:gt=>gt(),mt=ft??ut,bt=((yt=mt==null?void 0:mt.composedPath)==null?void 0:yt.call(mt))??[mt==null?void 0:mt.target];ht(()=>{const gt=rt?bt[0]:getEventTarget(ut);if(!(!i||!et(ut,gt))){if(_||$){const vt=callAll(_,$);i.addEventListener(POINTER_OUTSIDE_EVENT,vt,{once:!0})}fireCustomEvent(i,POINTER_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:mt,contextmenu:isContextMenuEvent(mt),focusable:isComposedPathFocusable(bt),target:gt}})}})}ut.pointerType==="touch"?(j.forEach(ft=>ft()),j.add(addDomEvent(tt,"click",dt,{once:!0})),j.add(ot.addEventListener("click",dt,{once:!0})),j.add(it.addEventListener("click",dt,{once:!0}))):dt()}const at=new Set,lt=setTimeout(()=>{at.add(addDomEvent(tt,"pointerdown",st,!0)),at.add(ot.addEventListener("pointerdown",st,!0)),at.add(it.addEventListener("pointerdown",st,!0))},0);function ct(ut){(_e?raf$1:ft=>ft())(()=>{const ft=getEventTarget(ut);if(!(!i||!et(ut,ft))){if(a||$){const ht=callAll(a,$);i.addEventListener(FOCUS_OUTSIDE_EVENT,ht,{once:!0})}fireCustomEvent(i,FOCUS_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:ut,contextmenu:!1,focusable:isFocusable(ft),target:ft}})}})}return isTouchDevice()||(at.add(addDomEvent(tt,"focusin",ct,!0)),at.add(ot.addEventListener("focusin",ct,!0)),at.add(it.addEventListener("focusin",ct,!0))),()=>{clearTimeout(lt),j.forEach(ut=>ut()),at.forEach(ut=>ut())}}function trackInteractOutside(i,o){const{defer:s}=o,a=s?raf$1:$=>$(),_=[];return _.push(a(()=>{const $=typeof i=="function"?i():i;_.push(trackInteractOutsideImpl($,o))})),()=>{_.forEach($=>$==null?void 0:$())}}function fireCustomEvent(i,o,s){const a=i.ownerDocument.defaultView||window,_=new a.CustomEvent(o,s);return i.dispatchEvent(_)}function trackEscapeKeydown(i,o){const s=a=>{a.key==="Escape"&&(a.isComposing||o==null||o(a))};return addDomEvent(getDocument(i),"keydown",s,{capture:!0})}var layerStack={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(i=>i.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(i){var a;const o=this.indexOf(i),s=this.topMostPointerBlockingLayer()?this.indexOf((a=this.topMostPointerBlockingLayer())==null?void 0:a.node):-1;return o<s},isTopMost(i){const o=this.layers[this.count()-1];return(o==null?void 0:o.node)===i},getNestedLayers(i){return Array.from(this.layers).slice(this.indexOf(i)+1)},isInNestedLayer(i,o){return this.getNestedLayers(i).some(s=>contains(s.node,o))},isInBranch(i){return Array.from(this.branches).some(o=>contains(o,i))},add(i){const o=this.layers.push(i);i.node.style.setProperty("--layer-index",`${o}`)},addBranch(i){this.branches.push(i)},remove(i){const o=this.indexOf(i);o<0||(o<this.count()-1&&this.getNestedLayers(i).forEach(a=>a.dismiss()),this.layers.splice(o,1),i.style.removeProperty("--layer-index"))},removeBranch(i){const o=this.branches.indexOf(i);o>=0&&this.branches.splice(o,1)},indexOf(i){return this.layers.findIndex(o=>o.node===i)},dismiss(i){var o;(o=this.layers[this.indexOf(i)])==null||o.dismiss()},clear(){this.remove(this.layers[0].node)}},originalBodyPointerEvents;function assignPointerEventToLayers(){layerStack.layers.forEach(({node:i})=>{i.style.pointerEvents=layerStack.isBelowPointerBlockingLayer(i)?"none":"auto"})}function clearPointerEvent(i){i.style.pointerEvents=""}function disablePointerEventsOutside(i,o){const s=getDocument(i),a=[];if(layerStack.hasPointerBlockingLayer()&&!s.body.hasAttribute("data-inert")&&(originalBodyPointerEvents=document.body.style.pointerEvents,queueMicrotask(()=>{s.body.style.pointerEvents="none",s.body.setAttribute("data-inert","")})),o){const _=waitForElements(o,$=>{a.push(setStyle($,{pointerEvents:"auto"}))});a.push(_)}return()=>{layerStack.hasPointerBlockingLayer()||(queueMicrotask(()=>{s.body.style.pointerEvents=originalBodyPointerEvents,s.body.removeAttribute("data-inert"),s.body.style.length===0&&s.body.removeAttribute("style")}),a.forEach(_=>_()))}}function trackDismissableElementImpl(i,o){const{warnOnMissingNode:s=!0}=o;if(s&&!i){warn$1("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!i)return;const{onDismiss:a,pointerBlocking:_,exclude:$,debug:_e}=o,tt={dismiss:a,node:i,pointerBlocking:_};layerStack.add(tt),assignPointerEventToLayers();function nt(rt){var at,lt;const st=getEventTarget(rt.detail.originalEvent);layerStack.isBelowPointerBlockingLayer(i)||layerStack.isInBranch(st)||((at=o.onPointerDownOutside)==null||at.call(o,rt),(lt=o.onInteractOutside)==null||lt.call(o,rt),!rt.defaultPrevented&&(_e&&console.log("onPointerDownOutside:",rt.detail.originalEvent),a==null||a()))}function it(rt){var at,lt;const st=getEventTarget(rt.detail.originalEvent);layerStack.isInBranch(st)||((at=o.onFocusOutside)==null||at.call(o,rt),(lt=o.onInteractOutside)==null||lt.call(o,rt),!rt.defaultPrevented&&(_e&&console.log("onFocusOutside:",rt.detail.originalEvent),a==null||a()))}function ot(rt){var st;layerStack.isTopMost(i)&&((st=o.onEscapeKeyDown)==null||st.call(o,rt),!rt.defaultPrevented&&a&&(rt.preventDefault(),a()))}function et(rt){var ct;if(!i)return!1;const st=typeof $=="function"?$():$,at=Array.isArray(st)?st:[st],lt=(ct=o.persistentElements)==null?void 0:ct.map(ut=>ut()).filter(isHTMLElement$1);return lt&&at.push(...lt),at.some(ut=>contains(ut,rt))||layerStack.isInNestedLayer(i,rt)}const j=[_?disablePointerEventsOutside(i,o.persistentElements):void 0,trackEscapeKeydown(i,ot),trackInteractOutside(i,{exclude:et,onFocusOutside:it,onPointerDownOutside:nt,defer:o.defer})];return()=>{layerStack.remove(i),assignPointerEventToLayers(),clearPointerEvent(i),j.forEach(rt=>rt==null?void 0:rt())}}function trackDismissableElement(i,o){const{defer:s}=o,a=s?raf$1:$=>$(),_=[];return _.push(a(()=>{const $=isFunction$1(i)?i():i;_.push(trackDismissableElementImpl($,o))})),()=>{_.forEach($=>$==null?void 0:$())}}function trackDismissableBranch(i,o={}){const{defer:s}=o,a=s?raf$1:$=>$(),_=[];return _.push(a(()=>{const $=isFunction$1(i)?i():i;if(!$){warn$1("[@zag-js/dismissable] branch node is `null` or `undefined`");return}layerStack.addBranch($),_.push(()=>{layerStack.removeBranch($)})})),()=>{_.forEach($=>$==null?void 0:$())}}var anatomy$m=createAnatomy("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);anatomy$m.build();createProps$1()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);createProps$1()(["xChannel","yChannel"]);createProps$1()(["channel","orientation"]);createProps$1()(["value","disabled"]);createProps$1()(["value","respectAlpha"]);createProps$1()(["size"]);const[RenderStrategyPropsProvider,useRenderStrategyPropsContext]=createContext({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),splitRenderStrategyProps=i=>createSplitProps()(i,["lazyMount","unmountOnExit"]);var anatomy$l=createAnatomy("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");anatomy$l.build();createProps$1()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);createProps$1()(["value","disabled"]);var anatomy$k=createAnatomy("avatar").parts("root","image","fallback");anatomy$k.build();createProps$1()(["dir","id","ids","onStatusChange","getRootNode"]);function isValidKey(i){return!(i.metaKey||!isMac()&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}var nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function isKeyboardFocusEvent(i,o,s){const a=s?getEventTarget(s):null,_=getWindow$1(a);return i=i||a instanceof _.HTMLInputElement&&!nonTextInputTypes.has(a==null?void 0:a.type)||a instanceof _.HTMLTextAreaElement||a instanceof _.HTMLElement&&a.isContentEditable,!(i&&o==="keyboard"&&s instanceof _.KeyboardEvent&&!Reflect.has(FOCUS_VISIBLE_INPUT_KEYS,s.key))}var currentModality=null,changeHandlers=new Set,listenerMap=new Map,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function triggerChangeHandlers(i,o){for(let s of changeHandlers)s(i,o)}function handleKeyboardEvent(i){hasEventBeforeFocus=!0,isValidKey(i)&&(currentModality="keyboard",triggerChangeHandlers("keyboard",i))}function handlePointerEvent(i){currentModality="pointer",(i.type==="mousedown"||i.type==="pointerdown")&&(hasEventBeforeFocus=!0,triggerChangeHandlers("pointer",i))}function handleClickEvent(i){isVirtualClick(i)&&(hasEventBeforeFocus=!0,currentModality="virtual")}function handleFocusEvent(i){const o=getEventTarget(i);o===getWindow$1(o)||o===getDocument(o)||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(currentModality="virtual",triggerChangeHandlers("virtual",i)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function handleWindowBlur(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function setupGlobalFocusEvents(i){if(typeof window>"u"||listenerMap.get(getWindow$1(i)))return;const o=getWindow$1(i),s=getDocument(i);let a=o.HTMLElement.prototype.focus;o.HTMLElement.prototype.focus=function(){currentModality="virtual",triggerChangeHandlers("virtual",null),hasEventBeforeFocus=!0,a.apply(this,arguments)},s.addEventListener("keydown",handleKeyboardEvent,!0),s.addEventListener("keyup",handleKeyboardEvent,!0),s.addEventListener("click",handleClickEvent,!0),o.addEventListener("focus",handleFocusEvent,!0),o.addEventListener("blur",handleWindowBlur,!1),typeof o.PointerEvent<"u"?(s.addEventListener("pointerdown",handlePointerEvent,!0),s.addEventListener("pointermove",handlePointerEvent,!0),s.addEventListener("pointerup",handlePointerEvent,!0)):(s.addEventListener("mousedown",handlePointerEvent,!0),s.addEventListener("mousemove",handlePointerEvent,!0),s.addEventListener("mouseup",handlePointerEvent,!0)),o.addEventListener("beforeunload",()=>{tearDownWindowFocusTracking(i)},{once:!0}),listenerMap.set(o,{focus:a})}var tearDownWindowFocusTracking=(i,o)=>{const s=getWindow$1(i),a=getDocument(i);listenerMap.has(s)&&(s.HTMLElement.prototype.focus=listenerMap.get(s).focus,a.removeEventListener("keydown",handleKeyboardEvent,!0),a.removeEventListener("keyup",handleKeyboardEvent,!0),a.removeEventListener("click",handleClickEvent,!0),s.removeEventListener("focus",handleFocusEvent,!0),s.removeEventListener("blur",handleWindowBlur,!1),typeof s.PointerEvent<"u"?(a.removeEventListener("pointerdown",handlePointerEvent,!0),a.removeEventListener("pointermove",handlePointerEvent,!0),a.removeEventListener("pointerup",handlePointerEvent,!0)):(a.removeEventListener("mousedown",handlePointerEvent,!0),a.removeEventListener("mousemove",handlePointerEvent,!0),a.removeEventListener("mouseup",handlePointerEvent,!0)),listenerMap.delete(s))};function isFocusVisible(){return currentModality==="keyboard"}function trackFocusVisible(i={}){const{isTextInput:o,autoFocus:s,onChange:a,root:_}=i;setupGlobalFocusEvents(_),a==null||a({isFocusVisible:s||isFocusVisible(),modality:currentModality});const $=(_e,tt)=>{isKeyboardFocusEvent(!!o,_e,tt)&&(a==null||a({isFocusVisible:isFocusVisible(),modality:_e}))};return changeHandlers.add($),()=>{changeHandlers.delete($)}}var anatomy$j=createAnatomy("checkbox").parts("root","label","control","indicator");anatomy$j.build();createProps$1()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const checkboxAnatomy=anatomy$j.extendWith("group"),[FieldProvider,useFieldContext]=createContext({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),[ClipboardProvider,useClipboardContext]=createContext({name:"ClipboardContext",hookName:"useClipboardContext",providerName:"<ClipboardProvider />"}),ClipboardControl=reactExports.forwardRef((i,o)=>{const s=useClipboardContext(),a=mergeProps(s.getControlProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});ClipboardControl.displayName="ClipboardControl";const ClipboardIndicator$1=reactExports.forwardRef((i,o)=>{const{children:s,copied:a,..._}=i,$=useClipboardContext(),_e=mergeProps($.getIndicatorProps({copied:$.copied}),_);return jsxRuntimeExports.jsx(ark.div,{..._e,ref:o,children:$.copied?a:s})});ClipboardIndicator$1.displayName="ClipboardIndicator";const ClipboardInput$1=reactExports.forwardRef((i,o)=>{const s=useClipboardContext(),a=mergeProps(s.getInputProps(),i);return jsxRuntimeExports.jsx(ark.input,{...a,ref:o})});ClipboardInput$1.displayName="ClipboardInput";const ClipboardLabel$1=reactExports.forwardRef((i,o)=>{const s=useClipboardContext(),a=mergeProps(s.getLabelProps(),i);return jsxRuntimeExports.jsx(ark.label,{...a,ref:o})});ClipboardLabel$1.displayName="ClipboardLabel";var anatomy$i=createAnatomy("clipboard").parts("root","control","trigger","indicator","input","label"),parts$9=anatomy$i.build(),getRootId$5=i=>{var o;return((o=i.ids)==null?void 0:o.root)??`clip:${i.id}`},getInputId$1=i=>{var o;return((o=i.ids)==null?void 0:o.input)??`clip:${i.id}:input`},getLabelId$3=i=>{var o;return((o=i.ids)==null?void 0:o.label)??`clip:${i.id}:label`},getInputEl$1=i=>i.getById(getInputId$1(i)),writeToClipboard=(i,o)=>copyText(i.getDoc(),o);function createNode(i,o){const s=i.createElement("pre");return Object.assign(s.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),s.textContent=o,s}function copyNode(i){const s=getWindow$1(i).getSelection();if(s==null)return Promise.reject(new Error);s.removeAllRanges();const a=i.ownerDocument,_=a.createRange();return _.selectNodeContents(i),s.addRange(_),a.execCommand("copy"),s.removeAllRanges(),Promise.resolve()}function copyText(i,o){var _;const s=i.defaultView||window;if(((_=s.navigator.clipboard)==null?void 0:_.writeText)!==void 0)return s.navigator.clipboard.writeText(o);if(!i.body)return Promise.reject(new Error);const a=createNode(i,o);return i.body.appendChild(a),copyNode(a),i.body.removeChild(a),Promise.resolve()}function connect$8(i,o){const{state:s,send:a,context:_,scope:$}=i,_e=s.matches("copied");return{copied:_e,value:_.get("value"),setValue(tt){a({type:"VALUE.SET",value:tt})},copy(){a({type:"COPY"})},getRootProps(){return o.element({...parts$9.root.attrs,"data-copied":dataAttr$1(_e),id:getRootId$5($)})},getLabelProps(){return o.label({...parts$9.label.attrs,htmlFor:getInputId$1($),"data-copied":dataAttr$1(_e),id:getLabelId$3($)})},getControlProps(){return o.element({...parts$9.control.attrs,"data-copied":dataAttr$1(_e)})},getInputProps(){return o.input({...parts$9.input.attrs,defaultValue:_.get("value"),"data-copied":dataAttr$1(_e),readOnly:!0,"data-readonly":"true",id:getInputId$1($),onFocus(tt){tt.currentTarget.select()},onCopy(){a({type:"INPUT.COPY"})}})},getTriggerProps(){return o.button({...parts$9.trigger.attrs,type:"button","aria-label":_e?"Copied to clipboard":"Copy to clipboard","data-copied":dataAttr$1(_e),onClick(){a({type:"COPY"})}})},getIndicatorProps(tt){return o.element({...parts$9.indicator.attrs,hidden:tt.copied!==_e})}}}var machine$8={props({props:i}){return{timeout:3e3,defaultValue:"",...i}},initialState(){return"idle"},context({prop:i,bindable:o}){return{value:o(()=>({defaultValue:i("defaultValue"),value:i("value"),onChange(s){var a;(a=i("onValueChange"))==null||a({value:s})}}))}},watch({track:i,context:o,action:s}){i([()=>o.get("value")],()=>{s(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:i,send:o}){return setRafTimeout(()=>{o({type:"COPY.DONE"})},i("timeout"))}},actions:{setValue({context:i,event:o}){i.set("value",o.value)},copyToClipboard({context:i,scope:o}){writeToClipboard(o,i.get("value"))},invokeOnCopy({prop:i}){var o;(o=i("onStatusChange"))==null||o({copied:!0})},syncInputElement({context:i,scope:o}){const s=getInputEl$1(o);s&&setElementValue(s,i.get("value"))}}}};createProps$1()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]);createProps$1()(["copied"]);const useClipboard=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),a={id:o,getRootNode:s,...i},_=useMachine(machine$8,a);return connect$8(_,normalizeProps)},ClipboardRoot$2=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["defaultValue","id","ids","onStatusChange","onValueChange","timeout","value"]),_=useClipboard(s),$=mergeProps(_.getRootProps(),a);return jsxRuntimeExports.jsx(ClipboardProvider,{value:_,children:jsxRuntimeExports.jsx(ark.div,{ref:o,...$})})});ClipboardRoot$2.displayName="ClipboardRoot";const ClipboardRootProvider=reactExports.forwardRef((i,o)=>{const[{value:s},a]=createSplitProps()(i,["value"]),_=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(ClipboardProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{ref:o,..._})})});ClipboardRootProvider.displayName="ClipboardRootProvider";const ClipboardTrigger$1=reactExports.forwardRef((i,o)=>{const s=useClipboardContext(),a=mergeProps(s.getTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});ClipboardTrigger$1.displayName="ClipboardTrigger";const ClipboardValueText=reactExports.forwardRef((i,o)=>{const s=useClipboardContext();return jsxRuntimeExports.jsx(ark.span,{...i,ref:o,children:i.children||s.value})});ClipboardValueText.displayName="ClipboardValueText";const colorPickerAnatomy$1=anatomy$m.extendWith("view");var __defProp$1=Object.defineProperty,__defNormalProp$1=(i,o,s)=>o in i?__defProp$1(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField$1=(i,o,s)=>__defNormalProp$1(i,typeof o!="symbol"?o+"":o,s),fallback$1={itemToValue(i){return typeof i=="string"?i:isObject$2(i)&&hasProp(i,"value")?i.value:""},itemToString(i){return typeof i=="string"?i:isObject$2(i)&&hasProp(i,"label")?i.label:fallback$1.itemToValue(i)},isItemDisabled(i){return isObject$2(i)&&hasProp(i,"disabled")?!!i.disabled:!1}},ListCollection=class ws{constructor(o){this.options=o,__publicField$1(this,"items"),__publicField$1(this,"copy",s=>new ws({...this.options,items:s??[...this.items]})),__publicField$1(this,"isEqual",s=>isEqual(this.items,s.items)),__publicField$1(this,"setItems",s=>this.copy(s)),__publicField$1(this,"getValues",(s=this.items)=>Array.from(s).map(a=>this.getItemValue(a)).filter(Boolean)),__publicField$1(this,"find",s=>{if(s==null)return null;const a=this.items.findIndex(_=>this.getItemValue(_)===s);return a!=null?this.items[a]:null}),__publicField$1(this,"findMany",s=>Array.from(s).map(a=>this.find(a)).filter(a=>a!=null)),__publicField$1(this,"at",s=>this.items[s]??null),__publicField$1(this,"sortFn",(s,a)=>{const _=this.indexOf(s),$=this.indexOf(a);return(_??0)-($??0)}),__publicField$1(this,"sort",s=>[...s].sort(this.sortFn.bind(this))),__publicField$1(this,"getItemValue",s=>{var a,_;return s==null?null:((_=(a=this.options).itemToValue)==null?void 0:_.call(a,s))??fallback$1.itemToValue(s)}),__publicField$1(this,"getItemDisabled",s=>{var a,_;return s==null?!1:((_=(a=this.options).isItemDisabled)==null?void 0:_.call(a,s))??fallback$1.isItemDisabled(s)}),__publicField$1(this,"stringifyItem",s=>{var a,_;return s==null?null:((_=(a=this.options).itemToString)==null?void 0:_.call(a,s))??fallback$1.itemToString(s)}),__publicField$1(this,"stringify",s=>s==null?null:this.stringifyItem(this.find(s))),__publicField$1(this,"stringifyItems",(s,a=", ")=>Array.from(s).map(_=>this.stringifyItem(_)).filter(Boolean).join(a)),__publicField$1(this,"stringifyMany",(s,a)=>this.stringifyItems(this.findMany(s),a)),__publicField$1(this,"has",s=>this.indexOf(s)!==-1),__publicField$1(this,"hasItem",s=>s==null?!1:this.has(this.getItemValue(s))),__publicField$1(this,"getNextValue",(s,a=1,_=!1)=>{let $=this.indexOf(s);if($===-1)return null;for($=_?Math.min($+a,this.size-1):$+a;$<=this.size&&this.getItemDisabled(this.at($));)$++;return this.getItemValue(this.at($))}),__publicField$1(this,"getPreviousValue",(s,a=1,_=!1)=>{let $=this.indexOf(s);if($===-1)return null;for($=_?Math.max($-a,0):$-a;$>=0&&this.getItemDisabled(this.at($));)$--;return this.getItemValue(this.at($))}),__publicField$1(this,"indexOf",s=>s==null?-1:this.items.findIndex(a=>this.getItemValue(a)===s)),__publicField$1(this,"getByText",(s,a)=>{let _=a!=null?wrap$1(this.items,this.indexOf(a)):this.items;return s.length===1&&(_=_.filter(_e=>this.getItemValue(_e)!==a)),_.find(_e=>match$1(this.stringifyItem(_e),s))}),__publicField$1(this,"search",(s,a)=>{const{state:_,currentValue:$,timeout:_e=350}=a,tt=_.keysSoFar+s,it=tt.length>1&&Array.from(tt).every(st=>st===tt[0])?tt[0]:tt,ot=this.getByText(it,$),et=this.getItemValue(ot);function j(){clearTimeout(_.timer),_.timer=-1}function rt(st){_.keysSoFar=st,j(),st!==""&&(_.timer=+setTimeout(()=>{rt(""),j()},_e))}return rt(tt),et}),__publicField$1(this,"update",(s,a)=>{let _=this.items.findIndex($=>this.getItemValue($)===s);return _===-1?this:this.copy([...this.items.slice(0,_),a,...this.items.slice(_+1)])}),__publicField$1(this,"insert",(s,...a)=>this.copy(insert(this.items,s,...a))),__publicField$1(this,"insertBefore",(s,...a)=>{let _=this.indexOf(s);if(_===-1)if(this.items.length===0)_=0;else return this;return this.copy(insert(this.items,_,...a))}),__publicField$1(this,"insertAfter",(s,...a)=>{let _=this.indexOf(s);if(_===-1)if(this.items.length===0)_=0;else return this;return this.copy(insert(this.items,_+1,...a))}),__publicField$1(this,"prepend",(...s)=>this.copy(insert(this.items,0,...s))),__publicField$1(this,"append",(...s)=>this.copy(insert(this.items,this.items.length,...s))),__publicField$1(this,"remove",(...s)=>{const a=s.map(_=>typeof _=="string"?_:this.getItemValue(_));return this.copy(this.items.filter(_=>{const $=this.getItemValue(_);return $==null?!1:!a.includes($)}))}),__publicField$1(this,"move",(s,a)=>{const _=this.indexOf(s);return _===-1?this:this.copy(move(this.items,[_],a))}),__publicField$1(this,"reorder",(s,a)=>this.copy(move(this.items,[s],a))),__publicField$1(this,"compareValue",(s,a)=>{const _=this.indexOf(s),$=this.indexOf(a);return _<$?-1:_>$?1:0}),__publicField$1(this,"range",(s,a)=>{let _=[],$=s;for(;$!=null;){if(this.find($)&&_.push($),$===a)return _;$=this.getNextValue($)}return[]}),__publicField$1(this,"getValueRange",(s,a)=>s&&a?this.compareValue(s,a)<=0?this.range(s,a):this.range(a,s):[]),__publicField$1(this,"toString",()=>{let s="";for(const a of this.items){const _=this.getItemValue(a),$=this.stringifyItem(a),_e=this.getItemDisabled(a),tt=[_,$,_e].filter(Boolean).join(":");s+=tt+","}return s}),__publicField$1(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...o.items]}get size(){return this.items.length}get firstValue(){let o=0;for(;this.getItemDisabled(this.at(o));)o++;return this.getItemValue(this.at(o))}get lastValue(){let o=this.size-1;for(;this.getItemDisabled(this.at(o));)o--;return this.getItemValue(this.at(o))}*[Symbol.iterator](){yield*this.items}},match$1=(i,o)=>!!(i!=null&&i.toLowerCase().startsWith(o.toLowerCase())),wrap$1=(i,o)=>i.map((s,a)=>i[(Math.max(o,0)+a)%i.length]);function insert(i,o,...s){return[...i.slice(0,o),...s,...i.slice(o)]}function move(i,o,s){o=[...o].sort((_,$)=>_-$);const a=o.map(_=>i[_]);for(let _=o.length-1;_>=0;_--)i=[...i.slice(0,o[_]),...i.slice(o[_]+1)];return s=Math.max(0,s-o.filter(_=>_<s).length),[...i.slice(0,s),...a,...i.slice(s)]}const createListCollection=i=>new ListCollection(i);var counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=i=>i&&(i.host||unwrapHost(i.parentNode)),correctTargets=(i,o)=>o.map(s=>{if(i.contains(s))return s;const a=unwrapHost(s);return a&&i.contains(a)?a:(console.error("[zag-js > ariaHidden] target",s,"in not contained inside",i,". Doing nothing"),null)}).filter(s=>!!s),isIgnoredNode=i=>i.localName==="next-route-announcer"||i.localName==="script"||i.hasAttribute("aria-live")?!0:i.matches("[data-live-announcer]"),walkTreeOutside=(i,o)=>{const{parentNode:s,markerName:a,controlAttribute:_}=o,$=correctTargets(s,Array.isArray(i)?i:[i]);markerMap[a]||(markerMap[a]=new WeakMap);const _e=markerMap[a],tt=[],nt=new Set,it=new Set($),ot=j=>{!j||nt.has(j)||(nt.add(j),ot(j.parentNode))};$.forEach(ot);const et=j=>{!j||it.has(j)||Array.prototype.forEach.call(j.children,rt=>{if(nt.has(rt))et(rt);else try{if(isIgnoredNode(rt))return;const at=rt.getAttribute(_)==="true",lt=(counterMap.get(rt)||0)+1,ct=(_e.get(rt)||0)+1;counterMap.set(rt,lt),_e.set(rt,ct),tt.push(rt),lt===1&&at&&uncontrolledNodes.set(rt,!0),ct===1&&rt.setAttribute(a,""),at||rt.setAttribute(_,"true")}catch(st){console.error("[zag-js > ariaHidden] cannot operate on ",rt,st)}})};return et(s),nt.clear(),lockCount++,()=>{tt.forEach(j=>{const rt=counterMap.get(j)-1,st=_e.get(j)-1;counterMap.set(j,rt),_e.set(j,st),rt||(uncontrolledNodes.has(j)||j.removeAttribute(_),uncontrolledNodes.delete(j)),st||j.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},getParentNode=i=>(Array.isArray(i)?i[0]:i).ownerDocument.body,hideOthers=(i,o=getParentNode(i),s="data-aria-hidden")=>{if(o)return walkTreeOutside(i,{parentNode:o,markerName:s,controlAttribute:"aria-hidden"})},raf=i=>{const o=requestAnimationFrame(()=>i());return()=>cancelAnimationFrame(o)};function ariaHidden(i,o={}){const{defer:s=!0}=o,a=s?raf:$=>$(),_=[];return _.push(a(()=>{const _e=(typeof i=="function"?i():i).filter(Boolean);_e.length!==0&&_.push(hideOthers(_e))})),()=>{_.forEach($=>$==null?void 0:$())}}const[DialogProvider,useDialogContext]=createContext({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),DialogBackdrop=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=useRenderStrategyPropsContext(),_=usePresence({...a,present:s.open}),$=mergeProps(s.getBackdropProps(),_.getPresenceProps(),i);return _.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(_.ref,o)})});DialogBackdrop.displayName="DialogBackdrop";const DialogCloseTrigger=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=mergeProps(s.getCloseTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});DialogCloseTrigger.displayName="DialogCloseTrigger";const DialogContent=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=usePresenceContext(),_=mergeProps(s.getContentProps(),a.getPresenceProps(),i);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{..._,ref:composeRefs(a.ref,o)})});DialogContent.displayName="DialogContent";const DialogDescription=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=mergeProps(s.getDescriptionProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});DialogDescription.displayName="DialogDescription";const DialogPositioner=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=mergeProps(s.getPositionerProps(),i);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});DialogPositioner.displayName="DialogPositioner";var __defProp=Object.defineProperty,__defNormalProp=(i,o,s)=>o in i?__defProp(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField=(i,o,s)=>__defNormalProp(i,typeof o!="symbol"?o+"":o,s),activeFocusTraps={activateTrap(i,o){if(i.length>0){const a=i[i.length-1];a!==o&&a.pause()}const s=i.indexOf(o);s===-1||i.splice(s,1),i.push(o)},deactivateTrap(i,o){const s=i.indexOf(o);s!==-1&&i.splice(s,1),i.length>0&&i[i.length-1].unpause()}},sharedTrapStack=[],FocusTrap=class{constructor(i,o){__publicField(this,"trapStack"),__publicField(this,"config"),__publicField(this,"doc"),__publicField(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),__publicField(this,"listenerCleanups",[]),__publicField(this,"handleFocus",a=>{const _=getEventTarget(a),$=this.findContainerIndex(_,a)>=0;if($||isDocument(_))$&&(this.state.mostRecentlyFocusedNode=_);else{a.stopImmediatePropagation();let _e,tt=!0;if(this.state.mostRecentlyFocusedNode)if(getTabIndex(this.state.mostRecentlyFocusedNode)>0){const nt=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:it}=this.state.containerGroups[nt];if(it.length>0){const ot=it.findIndex(et=>et===this.state.mostRecentlyFocusedNode);ot>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?ot+1<it.length&&(_e=it[ot+1],tt=!1):ot-1>=0&&(_e=it[ot-1],tt=!1))}}else this.state.containerGroups.some(nt=>nt.tabbableNodes.some(it=>getTabIndex(it)>0))||(tt=!1);else tt=!1;tt&&(_e=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),_e?this.tryFocus(_e):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),__publicField(this,"handlePointerDown",a=>{const _=getEventTarget(a);if(!(this.findContainerIndex(_,a)>=0)){if(valueOrHandler(this.config.clickOutsideDeactivates,a)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}valueOrHandler(this.config.allowOutsideClick,a)||a.preventDefault()}}),__publicField(this,"handleClick",a=>{const _=getEventTarget(a);this.findContainerIndex(_,a)>=0||valueOrHandler(this.config.clickOutsideDeactivates,a)||valueOrHandler(this.config.allowOutsideClick,a)||(a.preventDefault(),a.stopImmediatePropagation())}),__publicField(this,"handleTabKey",a=>{if(this.config.isKeyForward(a)||this.config.isKeyBackward(a)){this.state.recentNavEvent=a;const _=this.config.isKeyBackward(a),$=this.findNextNavNode({event:a,isBackward:_});if(!$)return;isTabEvent(a)&&a.preventDefault(),this.tryFocus($)}}),__publicField(this,"handleEscapeKey",a=>{isEscapeEvent(a)&&valueOrHandler(this.config.escapeDeactivates,a)!==!1&&(a.preventDefault(),this.deactivate())}),__publicField(this,"_mutationObserver"),__publicField(this,"setupMutationObserver",()=>{const a=this.doc.defaultView||window;this._mutationObserver=new a.MutationObserver(_=>{_.some(_e=>Array.from(_e.removedNodes).some(nt=>nt===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),__publicField(this,"updateObservedNodes",()=>{var a;(a=this._mutationObserver)==null||a.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(_=>{var $;($=this._mutationObserver)==null||$.observe(_,{subtree:!0,childList:!0})})}),__publicField(this,"getInitialFocusNode",()=>{let a=this.getNodeForOption("initialFocus",{hasFallback:!0});if(a===!1)return!1;if(a===void 0||a&&!isFocusable(a))if(this.findContainerIndex(this.doc.activeElement)>=0)a=this.doc.activeElement;else{const _=this.state.tabbableGroups[0];a=_&&_.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else a===null&&(a=this.getNodeForOption("fallbackFocus"));if(!a)throw new Error("Your focus-trap needs to have at least one focusable element");return a.isConnected||(a=this.getNodeForOption("fallbackFocus")),a}),__publicField(this,"tryFocus",a=>{if(a!==!1&&a!==getActiveElement(this.doc)){if(!a||!a.focus){this.tryFocus(this.getInitialFocusNode());return}a.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=a,isSelectableInput(a)&&a.select()}}),__publicField(this,"deactivate",a=>{if(!this.state.active)return this;const _={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...a};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),activeFocusTraps.deactivateTrap(this.trapStack,this);const $=this.getOption(_,"onDeactivate"),_e=this.getOption(_,"onPostDeactivate"),tt=this.getOption(_,"checkCanReturnFocus"),nt=this.getOption(_,"returnFocus","returnFocusOnDeactivate");$==null||$();const it=()=>{delay(()=>{if(nt){const ot=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(ot)}_e==null||_e()})};if(nt&&tt){const ot=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return tt(ot).then(it,it),this}return it(),this}),__publicField(this,"pause",a=>{if(this.state.paused||!this.state.active)return this;const _=this.getOption(a,"onPause"),$=this.getOption(a,"onPostPause");return this.state.paused=!0,_==null||_(),this.removeListeners(),this.updateObservedNodes(),$==null||$(),this}),__publicField(this,"unpause",a=>{if(!this.state.paused||!this.state.active)return this;const _=this.getOption(a,"onUnpause"),$=this.getOption(a,"onPostUnpause");return this.state.paused=!1,_==null||_(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),$==null||$(),this}),__publicField(this,"updateContainerElements",a=>(this.state.containers=Array.isArray(a)?a.filter(Boolean):[a].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),__publicField(this,"getReturnFocusNode",a=>{const _=this.getNodeForOption("setReturnFocus",{params:[a]});return _||(_===!1?!1:a)}),__publicField(this,"getOption",(a,_,$)=>a&&a[_]!==void 0?a[_]:this.config[$||_]),__publicField(this,"getNodeForOption",(a,{hasFallback:_=!1,params:$=[]}={})=>{let _e=this.config[a];if(typeof _e=="function"&&(_e=_e(...$)),_e===!0&&(_e=void 0),!_e){if(_e===void 0||_e===!1)return _e;throw new Error(`\`${a}\` was specified but was not a node, or did not return a node`)}let tt=_e;if(typeof _e=="string"){try{tt=this.doc.querySelector(_e)}catch(nt){throw new Error(`\`${a}\` appears to be an invalid selector; error="${nt.message}"`)}if(!tt&&!_)throw new Error(`\`${a}\` as selector refers to no known node`)}return tt}),__publicField(this,"findNextNavNode",a=>{const{event:_,isBackward:$=!1}=a,_e=a.target||getEventTarget(_);this.updateTabbableNodes();let tt=null;if(this.state.tabbableGroups.length>0){const nt=this.findContainerIndex(_e,_),it=nt>=0?this.state.containerGroups[nt]:void 0;if(nt<0)$?tt=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:tt=this.state.tabbableGroups[0].firstTabbableNode;else if($){let ot=this.state.tabbableGroups.findIndex(({firstTabbableNode:et})=>_e===et);if(ot<0&&((it==null?void 0:it.container)===_e||isFocusable(_e)&&!isTabbable(_e)&&!(it!=null&&it.nextTabbableNode(_e,!1)))&&(ot=nt),ot>=0){const et=ot===0?this.state.tabbableGroups.length-1:ot-1,j=this.state.tabbableGroups[et];tt=getTabIndex(_e)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else isTabEvent(_)||(tt=it==null?void 0:it.nextTabbableNode(_e,!1))}else{let ot=this.state.tabbableGroups.findIndex(({lastTabbableNode:et})=>_e===et);if(ot<0&&((it==null?void 0:it.container)===_e||isFocusable(_e)&&!isTabbable(_e)&&!(it!=null&&it.nextTabbableNode(_e)))&&(ot=nt),ot>=0){const et=ot===this.state.tabbableGroups.length-1?0:ot+1,j=this.state.tabbableGroups[et];tt=getTabIndex(_e)>=0?j.firstTabbableNode:j.firstDomTabbableNode}else isTabEvent(_)||(tt=it==null?void 0:it.nextTabbableNode(_e))}}else tt=this.getNodeForOption("fallbackFocus");return tt}),this.trapStack=o.trapStack||sharedTrapStack;const s={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(a){return isTabEvent(a)&&!a.shiftKey},isKeyBackward(a){return isTabEvent(a)&&a.shiftKey},...o};this.doc=s.document||getDocument(Array.isArray(i)?i[0]:i),this.config=s,this.updateContainerElements(i),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(i,o){const s=typeof(o==null?void 0:o.composedPath)=="function"?o.composedPath():void 0;return this.state.containerGroups.findIndex(({container:a,tabbableNodes:_})=>a.contains(i)||(s==null?void 0:s.includes(a))||_.find($=>$===i))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(i=>{const o=getTabbables(i),s=getFocusables(i),a=o.length>0?o[0]:void 0,_=o.length>0?o[o.length-1]:void 0,$=s.find(it=>isTabbable(it)),_e=s.slice().reverse().find(it=>isTabbable(it)),tt=!!o.find(it=>getTabIndex(it)>0);function nt(it,ot=!0){const et=o.indexOf(it);return et<0?ot?s.slice(s.indexOf(it)+1).find(j=>isTabbable(j)):s.slice(0,s.indexOf(it)).reverse().find(j=>isTabbable(j)):o[et+(ot?1:-1)]}return{container:i,tabbableNodes:o,focusableNodes:s,posTabIndexesFound:tt,firstTabbableNode:a,lastTabbableNode:_,firstDomTabbableNode:$,lastDomTabbableNode:_e,nextTabbableNode:nt}}),this.state.tabbableGroups=this.state.containerGroups.filter(i=>i.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(i=>i.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return activeFocusTraps.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?delay(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(addDomEvent(this.doc,"focusin",this.handleFocus,!0),addDomEvent(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(i=>i()),this.listenerCleanups=[],this}activate(i){if(this.state.active)return this;const o=this.getOption(i,"onActivate"),s=this.getOption(i,"onPostActivate"),a=this.getOption(i,"checkCanFocusTrap");a||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,o==null||o();const _=()=>{a&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s()};return a?(a(this.state.containers.concat()).then(_,_),this):(_(),this)}},isTabEvent=i=>i.key==="Tab",valueOrHandler=(i,...o)=>typeof i=="function"?i(...o):i,isEscapeEvent=i=>!i.isComposing&&i.key==="Escape",delay=i=>setTimeout(i,0),isSelectableInput=i=>i.localName==="input"&&"select"in i&&typeof i.select=="function";function trapFocus(i,o={}){let s;const a=raf$1(()=>{const _=typeof i=="function"?i():i;if(_){s=new FocusTrap(_,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:_,...o,document:getDocument(_)});try{s.activate()}catch{}}});return function(){s==null||s.deactivate(),a()}}var LOCK_CLASSNAME="data-scroll-lock";function getPaddingProperty(i){const o=i.getBoundingClientRect().left;return Math.round(o)+i.scrollLeft?"paddingLeft":"paddingRight"}function preventBodyScroll(i){const o=i??document,s=o.defaultView??window,{documentElement:a,body:_}=o;if(_.hasAttribute(LOCK_CLASSNAME))return;_.setAttribute(LOCK_CLASSNAME,"");const _e=s.innerWidth-a.clientWidth,tt=()=>setStyleProperty(a,"--scrollbar-width",`${_e}px`),nt=getPaddingProperty(a),it=()=>setStyle(_,{overflow:"hidden",[nt]:`${_e}px`}),ot=()=>{const{scrollX:j,scrollY:rt,visualViewport:st}=s,at=(st==null?void 0:st.offsetLeft)??0,lt=(st==null?void 0:st.offsetTop)??0,ct=setStyle(_,{position:"fixed",overflow:"hidden",top:`${-(rt-Math.floor(lt))}px`,left:`${-(j-Math.floor(at))}px`,right:"0",[nt]:`${_e}px`});return()=>{ct==null||ct(),s.scrollTo({left:j,top:rt,behavior:"instant"})}},et=[tt(),isIos()?ot():it()];return()=>{et.forEach(j=>j==null?void 0:j()),_.removeAttribute(LOCK_CLASSNAME)}}var anatomy$h=createAnatomy("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),parts$8=anatomy$h.build(),getPositionerId$3=i=>{var o;return((o=i.ids)==null?void 0:o.positioner)??`dialog:${i.id}:positioner`},getBackdropId=i=>{var o;return((o=i.ids)==null?void 0:o.backdrop)??`dialog:${i.id}:backdrop`},getContentId$4=i=>{var o;return((o=i.ids)==null?void 0:o.content)??`dialog:${i.id}:content`},getTriggerId$4=i=>{var o;return((o=i.ids)==null?void 0:o.trigger)??`dialog:${i.id}:trigger`},getTitleId$1=i=>{var o;return((o=i.ids)==null?void 0:o.title)??`dialog:${i.id}:title`},getDescriptionId$1=i=>{var o;return((o=i.ids)==null?void 0:o.description)??`dialog:${i.id}:description`},getCloseTriggerId$1=i=>{var o;return((o=i.ids)==null?void 0:o.closeTrigger)??`dialog:${i.id}:close`},getContentEl$3=i=>i.getById(getContentId$4(i)),getPositionerEl$3=i=>i.getById(getPositionerId$3(i)),getBackdropEl=i=>i.getById(getBackdropId(i)),getTriggerEl$4=i=>i.getById(getTriggerId$4(i)),getTitleEl=i=>i.getById(getTitleId$1(i)),getDescriptionEl=i=>i.getById(getDescriptionId$1(i)),getCloseTriggerEl=i=>i.getById(getCloseTriggerId$1(i));function connect$7(i,o){const{state:s,send:a,context:_,prop:$,scope:_e}=i,tt=$("aria-label"),nt=s.matches("open");return{open:nt,setOpen(it){s.matches("open")!==it&&a({type:it?"OPEN":"CLOSE"})},getTriggerProps(){return o.button({...parts$8.trigger.attrs,dir:$("dir"),id:getTriggerId$4(_e),"aria-haspopup":"dialog",type:"button","aria-expanded":nt,"data-state":nt?"open":"closed","aria-controls":getContentId$4(_e),onClick(it){it.defaultPrevented||a({type:"TOGGLE"})}})},getBackdropProps(){return o.element({...parts$8.backdrop.attrs,dir:$("dir"),hidden:!nt,id:getBackdropId(_e),"data-state":nt?"open":"closed"})},getPositionerProps(){return o.element({...parts$8.positioner.attrs,dir:$("dir"),id:getPositionerId$3(_e),style:{pointerEvents:nt?void 0:"none"}})},getContentProps(){const it=_.get("rendered");return o.element({...parts$8.content.attrs,dir:$("dir"),role:$("role"),hidden:!nt,id:getContentId$4(_e),tabIndex:-1,"data-state":nt?"open":"closed","aria-modal":!0,"aria-label":tt||void 0,"aria-labelledby":tt||!it.title?void 0:getTitleId$1(_e),"aria-describedby":it.description?getDescriptionId$1(_e):void 0})},getTitleProps(){return o.element({...parts$8.title.attrs,dir:$("dir"),id:getTitleId$1(_e)})},getDescriptionProps(){return o.element({...parts$8.description.attrs,dir:$("dir"),id:getDescriptionId$1(_e)})},getCloseTriggerProps(){return o.button({...parts$8.closeTrigger.attrs,dir:$("dir"),id:getCloseTriggerId$1(_e),type:"button",onClick(it){it.defaultPrevented||(it.stopPropagation(),a({type:"CLOSE"}))}})}}}var machine$7={props({props:i,scope:o}){const s=i.role==="alertdialog";return{role:"dialog",modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!s,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:s?()=>getCloseTriggerEl(o):void 0,...i}},initialState({prop:i}){return i("open")||i("defaultOpen")?"open":"closed"},context({bindable:i}){return{rendered:i(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:i,action:o,prop:s}){i([()=>s("open")],()=>{o(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:i})=>i("open")!=null},effects:{trackDismissableElement({scope:i,send:o,prop:s}){return trackDismissableElement(()=>getContentEl$3(i),{defer:!0,pointerBlocking:s("modal"),exclude:[getTriggerEl$4(i)],onInteractOutside(_){var $;($=s("onInteractOutside"))==null||$(_),s("closeOnInteractOutside")||_.preventDefault()},persistentElements:s("persistentElements"),onFocusOutside:s("onFocusOutside"),onPointerDownOutside:s("onPointerDownOutside"),onEscapeKeyDown(_){var $;($=s("onEscapeKeyDown"))==null||$(_),s("closeOnEscape")||_.preventDefault()},onDismiss(){o({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:i,prop:o}){if(o("preventScroll"))return preventBodyScroll(i.getDoc())},trapFocus({scope:i,prop:o}){return!o("trapFocus")||!o("modal")?void 0:trapFocus(()=>getContentEl$3(i),{preventScroll:!0,returnFocusOnDeactivate:!!o("restoreFocus"),initialFocus:o("initialFocusEl"),setReturnFocus:a=>{var _;return((_=o("finalFocusEl"))==null?void 0:_())??a}})},hideContentBelow({scope:i,prop:o}){return o("modal")?ariaHidden(()=>[getContentEl$3(i)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:i,scope:o}){raf$1(()=>{i.set("rendered",{title:!!getTitleEl(o),description:!!getDescriptionEl(o)})})},syncZIndex({scope:i}){raf$1(()=>{const o=getContentEl$3(i);if(!o)return;const s=getComputedStyle$2(o);[getPositionerEl$3(i),getBackdropEl(i)].forEach(_=>{_==null||_.style.setProperty("--z-index",s.zIndex)})})},invokeOnClose({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!1})},invokeOnOpen({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!0})},toggleVisibility({prop:i,send:o,event:s}){o({type:i("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:s})}}}};createProps$1()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const useDialog=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),_={id:o,getRootNode:s,dir:a,...i},$=useMachine(machine$7,_);return connect$7($,normalizeProps)},DialogRoot=i=>{const[o,{children:s,...a}]=splitPresenceProps(i),[_]=splitRenderStrategyProps(o),$=useDialog(a),_e=usePresence(mergeProps({present:$.open},o));return jsxRuntimeExports.jsx(DialogProvider,{value:$,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:_,children:jsxRuntimeExports.jsx(PresenceProvider,{value:_e,children:s})})})},DialogRootProvider=i=>{const[o,{value:s,children:a}]=splitPresenceProps(i),[_]=splitRenderStrategyProps(o),$=usePresence(mergeProps({present:s.open},o));return jsxRuntimeExports.jsx(DialogProvider,{value:s,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:_,children:jsxRuntimeExports.jsx(PresenceProvider,{value:$,children:a})})})},DialogTitle=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=mergeProps(s.getTitleProps(),i);return jsxRuntimeExports.jsx(ark.h2,{...a,ref:o})});DialogTitle.displayName="DialogTitle";const DialogTrigger=reactExports.forwardRef((i,o)=>{const s=useDialogContext(),a=usePresenceContext(),_=mergeProps({...s.getTriggerProps(),"aria-controls":a.unmounted?void 0:s.getTriggerProps()["aria-controls"]},i);return jsxRuntimeExports.jsx(ark.button,{..._,ref:o})});DialogTrigger.displayName="DialogTrigger";var anatomy$g=createAnatomy("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");anatomy$g.build();createProps$1()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const FieldErrorText$1=reactExports.forwardRef((i,o)=>{const s=useFieldContext(),a=mergeProps(s.getErrorTextProps(),i);return s!=null&&s.invalid?jsxRuntimeExports.jsx(ark.span,{...a,ref:o}):null});FieldErrorText$1.displayName="FieldErrorText";const FieldHelperText$1=reactExports.forwardRef((i,o)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getHelperTextProps(),i);return jsxRuntimeExports.jsx(ark.span,{...a,ref:o})});FieldHelperText$1.displayName="FieldHelperText";const FieldInput=reactExports.forwardRef((i,o)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getInputProps(),i);return jsxRuntimeExports.jsx(ark.input,{...a,ref:o})});FieldInput.displayName="FieldInput";const FieldLabel$1=reactExports.forwardRef((i,o)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getLabelProps(),i);return jsxRuntimeExports.jsx(ark.label,{...a,ref:o})});FieldLabel$1.displayName="FieldLabel";const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,[FieldsetProvider,useFieldsetContext]=createContext({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),fieldAnatomy$1=createAnatomy("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),parts$7=fieldAnatomy$1.build(),useField=(i={})=>{const o=useFieldsetContext(),{ids:s,disabled:a=!!(o!=null&&o.disabled),invalid:_=!1,readOnly:$=!1,required:_e=!1}=i,[tt,nt]=reactExports.useState(!1),[it,ot]=reactExports.useState(!1),et=i.id??reactExports.useId(),j=reactExports.useRef(null),rt=(s==null?void 0:s.control)??`field::${et}`,st=(s==null?void 0:s.errorText)??`field::${et}::error-text`,at=(s==null?void 0:s.helperText)??`field::${et}::helper-text`,lt=(s==null?void 0:s.label)??`field::${et}::label`;useSafeLayoutEffect(()=>{const wt=j.current;if(!wt)return;const Ct=getWindow$1(wt),Rt=Ct.document,It=()=>{nt(!!Rt.getElementById(st)),ot(!!Rt.getElementById(at))};It();const Pt=new Ct.MutationObserver(It);return Pt.observe(wt,{childList:!0,subtree:!0}),()=>Pt.disconnect()},[st,at]);const ct=reactExports.useMemo(()=>{const wt=[];return tt&&_&&wt.push(st),it&&wt.push(at),wt.join(" ")||void 0},[_,st,at,tt,it]),ut=reactExports.useMemo(()=>()=>({...parts$7.root.attrs,id:rt,ref:j,role:"group","data-disabled":dataAttr$1(a),"data-invalid":dataAttr$1(_),"data-readonly":dataAttr$1($)}),[a,_,$,rt]),dt=reactExports.useMemo(()=>()=>({...parts$7.label.attrs,id:lt,"data-disabled":dataAttr$1(a),"data-invalid":dataAttr$1(_),"data-readonly":dataAttr$1($),htmlFor:et}),[a,_,$,et,lt]),ft=reactExports.useMemo(()=>()=>({"aria-describedby":ct,"aria-invalid":ariaAttr(_),"data-invalid":dataAttr$1(_),"data-required":dataAttr$1(_e),"data-readonly":dataAttr$1($),id:et,required:_e,disabled:a,readOnly:$}),[ct,_,_e,$,et,a]),ht=reactExports.useMemo(()=>()=>({...ft(),...parts$7.input.attrs}),[ft]),mt=reactExports.useMemo(()=>()=>({...ft(),...parts$7.textarea.attrs}),[ft]),bt=reactExports.useMemo(()=>()=>({...ft(),...parts$7.select.attrs}),[ft]),yt=reactExports.useMemo(()=>()=>({id:at,...parts$7.helperText.attrs,"data-disabled":dataAttr$1(a)}),[a,at]),gt=reactExports.useMemo(()=>()=>({id:st,...parts$7.errorText.attrs,"aria-live":"polite"}),[st]),vt=reactExports.useMemo(()=>()=>({"aria-hidden":!0,...parts$7.requiredIndicator.attrs}),[]);return{ariaDescribedby:ct,ids:{root:rt,control:et,label:lt,errorText:st,helperText:at},refs:{rootRef:j},disabled:a,invalid:_,readOnly:$,required:_e,getLabelProps:dt,getRootProps:ut,getInputProps:ht,getTextareaProps:mt,getSelectProps:bt,getHelperTextProps:yt,getErrorTextProps:gt,getRequiredIndicatorProps:vt}},FieldRoot$1=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["id","ids","disabled","invalid","readOnly","required"]),_=useField(s),$=mergeProps(_.getRootProps(),a);return jsxRuntimeExports.jsx(FieldProvider,{value:_,children:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(o,_.refs.rootRef)})})});FieldRoot$1.displayName="FieldRoot";var autoresizeTextarea=i=>{var it,ot;if(!i)return;const o=getComputedStyle$2(i),s=getWindow$1(i),a=getDocument(i),_=()=>{requestAnimationFrame(()=>{i.style.height="auto";let et;o.boxSizing==="content-box"?et=i.scrollHeight-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)):et=i.scrollHeight+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),o.maxHeight!=="none"&&et>parseFloat(o.maxHeight)?(o.overflowY==="hidden"&&(i.style.overflowY="scroll"),et=parseFloat(o.maxHeight)):o.overflowY!=="hidden"&&(i.style.overflowY="hidden"),i.style.height=`${et}px`})};i.addEventListener("input",_),(it=i.form)==null||it.addEventListener("reset",_);const $=Object.getPrototypeOf(i),_e=Object.getOwnPropertyDescriptor($,"value");Object.defineProperty(i,"value",{..._e,set(){var et;(et=_e==null?void 0:_e.set)==null||et.apply(this,arguments),_()}});const tt=new s.ResizeObserver(()=>{requestAnimationFrame(()=>_())});tt.observe(i);const nt=new s.MutationObserver(()=>_());return nt.observe(i,{attributes:!0,attributeFilter:["rows","placeholder"]}),(ot=a.fonts)==null||ot.addEventListener("loadingdone",_),()=>{var et,j;i.removeEventListener("input",_),(et=i.form)==null||et.removeEventListener("reset",_),(j=a.fonts)==null||j.removeEventListener("loadingdone",_),tt.disconnect(),nt.disconnect()}};const FieldTextarea=reactExports.forwardRef((i,o)=>{const{autoresize:s,...a}=i,_=reactExports.useRef(null),$=useFieldContext(),_e=mergeProps($==null?void 0:$.getTextareaProps(),{style:{resize:s?"none":void 0}},a);return reactExports.useEffect(()=>{if(s)return autoresizeTextarea(_.current)},[s]),jsxRuntimeExports.jsx(ark.textarea,{..._e,ref:composeRefs(o,_)})});FieldTextarea.displayName="FieldTextarea";const fieldsetAnatomy$1=createAnatomy("fieldset").parts("root","errorText","helperText","legend");fieldsetAnatomy$1.build();var anatomy$f=createAnatomy("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");anatomy$f.build();createProps$1()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);createProps$1()(["file"]);var anatomy$e=createAnatomy("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");anatomy$e.build();createProps$1()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);const[MenuProvider,useMenuContext]=createContext({name:"MenuContext",hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),MenuArrow=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getArrowProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});MenuArrow.displayName="MenuArrow";const MenuArrowTip$1=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getArrowTipProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});MenuArrowTip$1.displayName="MenuArrowTip";const[MenuItemProvider,useMenuItemContext]=createContext({name:"MenuItemContext",hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[MenuOptionItemPropsProvider,useMenuOptionItemPropsContext]=createContext({name:"MenuOptionItemPropsContext",hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),MenuCheckboxItem=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),_={...s,type:"checkbox"},$=useMenuContext(),_e=mergeProps($.getOptionItemProps(_),a),tt=$.getOptionItemState(_);return jsxRuntimeExports.jsx(MenuOptionItemPropsProvider,{value:_,children:jsxRuntimeExports.jsx(MenuItemProvider,{value:tt,children:jsxRuntimeExports.jsx(ark.div,{..._e,ref:o})})})});MenuCheckboxItem.displayName="MenuCheckboxItem";const MenuContent$1=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=usePresenceContext(),_=mergeProps(s.getContentProps(),a.getPresenceProps(),i);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{..._,ref:composeRefs(a.ref,o)})});MenuContent$1.displayName="MenuContent";const MenuContextTrigger=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getContextTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});MenuContextTrigger.displayName="MenuContextTrigger";const MenuIndicator=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getIndicatorProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});MenuIndicator.displayName="MenuIndicator";const MenuItem=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["closeOnSelect","disabled","value","valueText","onSelect"]),_=useMenuContext(),$=mergeProps(_.getItemProps(s),a),_e=_.getItemState(s);return reactExports.useEffect(()=>_.addItemListener({id:_e.id,onSelect:s.onSelect}),[_e.id,s.onSelect]),jsxRuntimeExports.jsx(MenuItemProvider,{value:_e,children:jsxRuntimeExports.jsx(ark.div,{...$,ref:o})})});MenuItem.displayName="MenuItem";const[MenuItemGroupProvider,useMenuItemGroupContext]=createContext({name:"MenuItemGroupContext",hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),MenuItemGroup=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["id"]),_=useMenuContext(),_e={id:reactExports.useId(),...s},tt=mergeProps(_.getItemGroupProps(_e),a);return jsxRuntimeExports.jsx(MenuItemGroupProvider,{value:_e,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})});MenuItemGroup.displayName="MenuItemGroup";const MenuItemGroupLabel=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=useMenuItemGroupContext(),_=mergeProps(s.getItemGroupLabelProps({htmlFor:a.id}),i);return jsxRuntimeExports.jsx(ark.div,{..._,ref:o})});MenuItemGroupLabel.displayName="MenuItemGroupLabel";const MenuItemIndicator$1=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=useMenuOptionItemPropsContext(),_=mergeProps(s.getItemIndicatorProps(a),i);return jsxRuntimeExports.jsx(ark.div,{..._,ref:o})});MenuItemIndicator$1.displayName="MenuItemIndicator";const MenuItemText=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=useMenuOptionItemPropsContext(),_=mergeProps(s.getItemTextProps(a),i);return jsxRuntimeExports.jsx(ark.div,{..._,ref:o})});MenuItemText.displayName="MenuItemText";const MenuPositioner$1=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getPositionerProps(),i);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});MenuPositioner$1.displayName="MenuPositioner";const MenuRadioItem$1=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["closeOnSelect","disabled","value","valueText"]),_=useMenuContext(),$=useMenuItemGroupContext(),_e={...s,checked:$.value===s.value,type:"radio",onCheckedChange:()=>{var it;return(it=$.onValueChange)==null?void 0:it.call($,{value:s.value})}},tt=mergeProps(_.getOptionItemProps(_e),a),nt=_.getOptionItemState(_e);return jsxRuntimeExports.jsx(MenuOptionItemPropsProvider,{value:_e,children:jsxRuntimeExports.jsx(MenuItemProvider,{value:nt,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})})});MenuRadioItem$1.displayName="MenuRadioItem";const MenuRadioItemGroup$1=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["id","onValueChange","value"]),_=useMenuContext(),_e={id:reactExports.useId(),...s},tt=mergeProps(_.getItemGroupProps({id:_e.id}),a);return jsxRuntimeExports.jsx(MenuItemGroupProvider,{value:_e,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})});MenuRadioItemGroup$1.displayName="MenuRadioItemGroup";const useEffectOnce=i=>{const o=reactExports.useRef(i),s=reactExports.useRef(!1);reactExports.useEffect(()=>{o.current=i}),reactExports.useEffect(()=>{s.current!==!0&&(s.current=!0,o.current())},[])};var createPoint=(i,o)=>({x:i,y:o});function createRect(i){const{x:o,y:s,width:a,height:_}=i,$=o+a/2,_e=s+_/2;return{x:o,y:s,width:a,height:_,minX:o,minY:s,maxX:o+a,maxY:s+_,midX:$,midY:_e,center:createPoint($,_e)}}function getRectCorners(i){const o=createPoint(i.minX,i.minY),s=createPoint(i.maxX,i.minY),a=createPoint(i.maxX,i.maxY),_=createPoint(i.minX,i.maxY);return{top:o,right:s,bottom:a,left:_}}function getElementPolygon(i,o){const s=createRect(i),{top:a,right:_,left:$,bottom:_e}=getRectCorners(s),[tt]=o.split("-");return{top:[$,a,_,_e],right:[a,_,_e,$],bottom:[a,$,_e,_],left:[_,a,$,_e]}[tt]}function isPointInPolygon(i,o){const{x:s,y:a}=o;let _=!1;for(let $=0,_e=i.length-1;$<i.length;_e=$++){const tt=i[$].x,nt=i[$].y,it=i[_e].x,ot=i[_e].y;nt>a!=ot>a&&s<(it-tt)*(a-nt)/(ot-nt)+tt&&(_=!_)}return _}var anatomy$d=createAnatomy("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),parts$6=anatomy$d.build(),getTriggerId$3=i=>{var o;return((o=i.ids)==null?void 0:o.trigger)??`menu:${i.id}:trigger`},getContextTriggerId=i=>{var o;return((o=i.ids)==null?void 0:o.contextTrigger)??`menu:${i.id}:ctx-trigger`},getContentId$3=i=>{var o;return((o=i.ids)==null?void 0:o.content)??`menu:${i.id}:content`},getArrowId$1=i=>{var o;return((o=i.ids)==null?void 0:o.arrow)??`menu:${i.id}:arrow`},getPositionerId$2=i=>{var o;return((o=i.ids)==null?void 0:o.positioner)??`menu:${i.id}:popper`},getGroupId=(i,o)=>{var s,a;return((a=(s=i.ids)==null?void 0:s.group)==null?void 0:a.call(s,o))??`menu:${i.id}:group:${o}`},getItemId$1=(i,o)=>`${i.id}/${o}`,getItemValue=i=>(i==null?void 0:i.dataset.value)??null,getGroupLabelId=(i,o)=>{var s,a;return((a=(s=i.ids)==null?void 0:s.groupLabel)==null?void 0:a.call(s,o))??`menu:${i.id}:group-label:${o}`},getContentEl$2=i=>i.getById(getContentId$3(i)),getPositionerEl$2=i=>i.getById(getPositionerId$2(i)),getTriggerEl$3=i=>i.getById(getTriggerId$3(i)),getItemEl$1=(i,o)=>o?i.getById(getItemId$1(i,o)):null,getContextTriggerEl=i=>i.getById(getContextTriggerId(i)),getElements$1=i=>{const s=`[role^="menuitem"][data-ownedby=${CSS.escape(getContentId$3(i))}]:not([data-disabled])`;return queryAll(getContentEl$2(i),s)},getFirstEl=i=>first(getElements$1(i)),getLastEl=i=>last(getElements$1(i)),isMatch=(i,o)=>o?i.id===o||i.dataset.value===o:!1,getNextEl=(i,o)=>{const s=getElements$1(i),a=s.findIndex(_=>isMatch(_,o.value));return next(s,a,{loop:o.loop??o.loopFocus})},getPrevEl=(i,o)=>{const s=getElements$1(i),a=s.findIndex(_=>isMatch(_,o.value));return prev(s,a,{loop:o.loop??o.loopFocus})},getElemByKey=(i,o)=>{const s=getElements$1(i),a=s.find(_=>isMatch(_,o.value));return getByTypeahead(s,{state:o.typeaheadState,key:o.key,activeId:(a==null?void 0:a.id)??null})},isTargetDisabled=i=>isHTMLElement$1(i)&&(i.dataset.disabled===""||i.hasAttribute("disabled")),isTriggerItem=i=>{var o;return!!((o=i==null?void 0:i.getAttribute("role"))!=null&&o.startsWith("menuitem"))&&!!(i!=null&&i.hasAttribute("aria-controls"))},itemSelectEvent="menu:select";function dispatchSelectionEvent(i,o){if(!i)return;const s=getWindow$1(i),a=new s.CustomEvent(itemSelectEvent,{detail:{value:o}});i.dispatchEvent(a)}function connect$6(i,o){const{context:s,send:a,state:_,computed:$,prop:_e,scope:tt}=i,nt=_.hasTag("open"),it=$("isSubmenu"),ot=$("isTypingAhead"),et=_e("composite"),j=s.get("currentPlacement"),rt=s.get("anchorPoint"),st=s.get("highlightedValue"),at=getPlacementStyles({..._e("positioning"),placement:rt?"bottom":j});function lt(ft){return{id:getItemId$1(tt,ft.value),disabled:!!ft.disabled,highlighted:st===ft.value}}function ct(ft){const ht=ft.valueText??ft.value;return{...ft,id:ft.value,valueText:ht}}function ut(ft){return{...lt(ct(ft)),checked:!!ft.checked}}function dt(ft){const{closeOnSelect:ht,valueText:mt,value:bt}=ft,yt=lt(ft),gt=getItemId$1(tt,bt);return o.element({...parts$6.item.attrs,id:gt,role:"menuitem","aria-disabled":ariaAttr(yt.disabled),"data-disabled":dataAttr$1(yt.disabled),"data-ownedby":getContentId$3(tt),"data-highlighted":dataAttr$1(yt.highlighted),"data-value":bt,"data-valuetext":mt,onDragStart(vt){vt.currentTarget.matches("a[href]")&&vt.preventDefault()},onPointerMove(vt){if(yt.disabled||vt.pointerType!=="mouse")return;const wt=vt.currentTarget;yt.highlighted||a({type:"ITEM_POINTERMOVE",id:gt,target:wt,closeOnSelect:ht})},onPointerLeave(vt){var Rt;if(yt.disabled||vt.pointerType!=="mouse"||!((Rt=i.event.previous())==null?void 0:Rt.type.includes("POINTER")))return;const Ct=vt.currentTarget;a({type:"ITEM_POINTERLEAVE",id:gt,target:Ct,closeOnSelect:ht})},onPointerDown(vt){if(yt.disabled)return;const wt=vt.currentTarget;a({type:"ITEM_POINTERDOWN",target:wt,id:gt,closeOnSelect:ht})},onClick(vt){if(isDownloadingEvent(vt)||isOpeningInNewTab(vt)||yt.disabled)return;const wt=vt.currentTarget;a({type:"ITEM_CLICK",target:wt,id:gt,closeOnSelect:ht})}})}return{highlightedValue:st,open:nt,setOpen(ft){_.hasTag("open")!==ft&&a({type:ft?"OPEN":"CLOSE"})},setHighlightedValue(ft){a({type:"HIGHLIGHTED.SET",value:ft})},setParent(ft){a({type:"PARENT.SET",value:ft,id:ft.prop("id")})},setChild(ft){a({type:"CHILD.SET",value:ft,id:ft.prop("id")})},reposition(ft={}){a({type:"POSITIONING.SET",options:ft})},addItemListener(ft){const ht=tt.getById(ft.id);if(!ht)return;const mt=()=>{var bt;return(bt=ft.onSelect)==null?void 0:bt.call(ft)};return ht.addEventListener(itemSelectEvent,mt),()=>ht.removeEventListener(itemSelectEvent,mt)},getContextTriggerProps(){return o.element({...parts$6.contextTrigger.attrs,dir:_e("dir"),id:getContextTriggerId(tt),onPointerDown(ft){if(ft.pointerType==="mouse")return;const ht=getEventPoint(ft);a({type:"CONTEXT_MENU_START",point:ht})},onPointerCancel(ft){ft.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(ft){ft.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(ft){ft.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(ft){const ht=getEventPoint(ft);a({type:"CONTEXT_MENU",point:ht}),ft.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(ft){const ht=ft.getTriggerProps();return mergeProps(dt({value:ht.id}),ht)},getTriggerProps(){return o.button({...it?parts$6.triggerItem.attrs:parts$6.trigger.attrs,"data-placement":s.get("currentPlacement"),type:"button",dir:_e("dir"),id:getTriggerId$3(tt),"data-uid":_e("id"),"aria-haspopup":et?"menu":"dialog","aria-controls":getContentId$3(tt),"aria-expanded":nt||void 0,"data-state":nt?"open":"closed",onPointerMove(ft){if(ft.pointerType!=="mouse"||isTargetDisabled(ft.currentTarget)||!it)return;const mt=getEventPoint(ft);a({type:"TRIGGER_POINTERMOVE",target:ft.currentTarget,point:mt})},onPointerLeave(ft){if(isTargetDisabled(ft.currentTarget)||ft.pointerType!=="mouse"||!it)return;const ht=getEventPoint(ft);a({type:"TRIGGER_POINTERLEAVE",target:ft.currentTarget,point:ht})},onPointerDown(ft){isTargetDisabled(ft.currentTarget)||isContextMenuEvent(ft)||ft.preventDefault()},onClick(ft){ft.defaultPrevented||isTargetDisabled(ft.currentTarget)||a({type:"TRIGGER_CLICK",target:ft.currentTarget})},onBlur(){a({type:"TRIGGER_BLUR"})},onFocus(){a({type:"TRIGGER_FOCUS"})},onKeyDown(ft){if(ft.defaultPrevented)return;const ht={ArrowDown(){a({type:"ARROW_DOWN"})},ArrowUp(){a({type:"ARROW_UP"})},Enter(){a({type:"ARROW_DOWN",src:"enter"})},Space(){a({type:"ARROW_DOWN",src:"space"})}},mt=getEventKey(ft,{orientation:"vertical",dir:_e("dir")}),bt=ht[mt];bt&&(ft.preventDefault(),bt(ft))}})},getIndicatorProps(){return o.element({...parts$6.indicator.attrs,dir:_e("dir"),"data-state":nt?"open":"closed"})},getPositionerProps(){return o.element({...parts$6.positioner.attrs,dir:_e("dir"),id:getPositionerId$2(tt),style:at.floating})},getArrowProps(){return o.element({id:getArrowId$1(tt),...parts$6.arrow.attrs,dir:_e("dir"),style:at.arrow})},getArrowTipProps(){return o.element({...parts$6.arrowTip.attrs,dir:_e("dir"),style:at.arrowTip})},getContentProps(){return o.element({...parts$6.content.attrs,id:getContentId$3(tt),"aria-label":_e("aria-label"),hidden:!nt,"data-state":nt?"open":"closed",role:et?"menu":"dialog",tabIndex:0,dir:_e("dir"),"aria-activedescendant":$("highlightedId")||void 0,"aria-labelledby":getTriggerId$3(tt),"data-placement":j,onPointerEnter(ft){ft.pointerType==="mouse"&&a({type:"MENU_POINTERENTER"})},onKeyDown(ft){if(ft.defaultPrevented||!isSelfTarget(ft))return;const ht=getEventTarget(ft);if(!((ht==null?void 0:ht.closest("[role=menu]"))===ft.currentTarget||ht===ft.currentTarget))return;if(ft.key==="Tab"&&!isValidTabEvent(ft)){ft.preventDefault();return}const bt=getItemEl$1(tt,st),yt={ArrowDown(){a({type:"ARROW_DOWN"})},ArrowUp(){a({type:"ARROW_UP"})},ArrowLeft(){a({type:"ARROW_LEFT"})},ArrowRight(){a({type:"ARROW_RIGHT"})},Enter(){var wt;a({type:"ENTER"}),isAnchorElement(bt)&&((wt=_e("navigate"))==null||wt({value:st,node:bt}))},Space(wt){var Ct;ot?a({type:"TYPEAHEAD",key:wt.key}):(Ct=yt.Enter)==null||Ct.call(yt,wt)},Home(){a({type:"HOME"})},End(){a({type:"END"})}},gt=getEventKey(ft,{dir:_e("dir")}),vt=yt[gt];if(vt){vt(ft),ft.stopPropagation(),ft.preventDefault();return}_e("typeahead")&&isPrintableKey(ft)&&(isModifierKey(ft)||isEditableElement(ht)||(a({type:"TYPEAHEAD",key:ft.key}),ft.preventDefault()))}})},getSeparatorProps(){return o.element({...parts$6.separator.attrs,role:"separator",dir:_e("dir"),"aria-orientation":"horizontal"})},getItemState:lt,getItemProps:dt,getOptionItemState:ut,getOptionItemProps(ft){const{type:ht,disabled:mt,onCheckedChange:bt,closeOnSelect:yt}=ft,gt=ct(ft),vt=ut(ft);return{...dt(gt),...o.element({"data-type":ht,...parts$6.item.attrs,dir:_e("dir"),"data-value":gt.value,role:`menuitem${ht}`,"aria-checked":!!vt.checked,"data-state":vt.checked?"checked":"unchecked",onClick(wt){if(mt||isDownloadingEvent(wt)||isOpeningInNewTab(wt))return;const Ct=wt.currentTarget;a({type:"ITEM_CLICK",target:Ct,option:gt,closeOnSelect:yt}),bt==null||bt(!vt.checked)}})}},getItemIndicatorProps(ft){const ht=ut(ft);return o.element({...parts$6.itemIndicator.attrs,dir:_e("dir"),"data-disabled":dataAttr$1(ht.disabled),"data-highlighted":dataAttr$1(ht.highlighted),"data-state":ht.checked?"checked":"unchecked",hidden:!ht.checked})},getItemTextProps(ft){const ht=ut(ft);return o.element({...parts$6.itemText.attrs,dir:_e("dir"),"data-disabled":dataAttr$1(ht.disabled),"data-highlighted":dataAttr$1(ht.highlighted),"data-state":ht.checked?"checked":"unchecked"})},getItemGroupLabelProps(ft){return o.element({...parts$6.itemGroupLabel.attrs,id:getGroupLabelId(tt,ft.htmlFor),dir:_e("dir")})},getItemGroupProps(ft){return o.element({id:getGroupId(tt,ft.id),...parts$6.itemGroup.attrs,dir:_e("dir"),"aria-labelledby":getGroupLabelId(tt,ft.id),role:"group"})}}}var{not:not$6,and:and$3,or:or$1}=createGuards(),machine$6={props({props:i}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(o){clickIfLink(o.node)},...i,positioning:{placement:"bottom-start",gutter:8,...i.positioning}}},initialState({prop:i}){return i("open")||i("defaultOpen")?"open":"idle"},context({bindable:i,prop:o}){return{suspendPointer:i(()=>({defaultValue:!1})),highlightedValue:i(()=>({defaultValue:o("defaultHighlightedValue")||null,value:o("highlightedValue"),onChange(s){var a;(a=o("onHighlightChange"))==null||a({highlightedValue:s})}})),lastHighlightedValue:i(()=>({defaultValue:null})),currentPlacement:i(()=>({defaultValue:void 0})),intentPolygon:i(()=>({defaultValue:null})),anchorPoint:i(()=>({defaultValue:null,hash(s){return`x: ${s==null?void 0:s.x}, y: ${s==null?void 0:s.y}`}}))}},refs(){return{parent:null,children:{},typeaheadState:{...getByTypeahead.defaultOptions},positioningOverride:{}}},computed:{isSubmenu:({refs:i})=>i.get("parent")!=null,isRtl:({prop:i})=>i("dir")==="rtl",isTypingAhead:({refs:i})=>i.get("typeaheadState").keysSoFar!=="",highlightedId:({context:i,scope:o,refs:s})=>resolveItemId(s.get("children"),i.get("highlightedValue"),o)},watch({track:i,action:o,context:s,computed:a,prop:_}){i([()=>a("isSubmenu")],()=>{o(["setSubmenuPlacement"])}),i([()=>s.hash("anchorPoint")],()=>{o(["reposition"])}),i([()=>_("open")],()=>{o(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:not$6("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:or$1("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:and$3(not$6("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:not$6("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:and$3("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:not$6("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:and$3(not$6("isPointerSuspended"),not$6("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:i,event:o})=>!!((o==null?void 0:o.closeOnSelect)??i("closeOnSelect")),isTriggerItem:({event:i})=>isTriggerItem(i.target),isTriggerItemHighlighted:({event:i,scope:o,computed:s})=>{const a=i.target??o.getById(s("highlightedId"));return!!(a!=null&&a.hasAttribute("aria-controls"))},isSubmenu:({computed:i})=>i("isSubmenu"),isPointerSuspended:({context:i})=>i.get("suspendPointer"),isHighlightedItemEditable:({scope:i,computed:o})=>isEditableElement(i.getById(o("highlightedId"))),isOpenControlled:({prop:i})=>i("open")!==void 0,isArrowLeftEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="ARROW_LEFT"},isArrowUpEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="ARROW_UP"},isArrowDownEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:i}){const o=setTimeout(()=>{i({type:"DELAY.OPEN"})},100);return()=>clearTimeout(o)},waitForCloseDelay({send:i}){const o=setTimeout(()=>{i({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(o)},waitForLongPress({send:i}){const o=setTimeout(()=>{i({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(o)},trackPositioning({context:i,prop:o,scope:s,refs:a}){if(getContextTriggerEl(s))return;const _={...o("positioning"),...a.get("positioningOverride")};i.set("currentPlacement",_.placement);const $=()=>getPositionerEl$2(s);return getPlacement(getTriggerEl$3(s),$,{..._,defer:!0,onComplete(_e){i.set("currentPlacement",_e.placement)}})},trackInteractOutside({refs:i,scope:o,prop:s,computed:a,send:_}){const $=()=>getContentEl$2(o);let _e=!0;return trackDismissableElement($,{defer:!0,exclude:[getTriggerEl$3(o)],onInteractOutside:s("onInteractOutside"),onFocusOutside:s("onFocusOutside"),onEscapeKeyDown(tt){var nt;(nt=s("onEscapeKeyDown"))==null||nt(tt),a("isSubmenu")&&tt.preventDefault(),closeRootMenu({parent:i.get("parent")})},onPointerDownOutside(tt){var ot;const nt=getEventTarget(tt.detail.originalEvent);if(contains(getContextTriggerEl(o),nt)&&tt.detail.contextmenu){tt.preventDefault();return}_e=!tt.detail.focusable,(ot=s("onPointerDownOutside"))==null||ot(tt)},onDismiss(){_({type:"CLOSE",src:"interact-outside",restoreFocus:_e})}})},trackPointerMove({context:i,scope:o,send:s,refs:a,flush:_}){const $=a.get("parent");_(()=>{$.context.set("suspendPointer",!0)});const _e=o.getDoc();return addDomEvent(_e,"pointermove",tt=>{isWithinPolygon(i.get("intentPolygon"),{x:tt.clientX,y:tt.clientY})||(s({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),$.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:i,scope:o,computed:s}){const a=()=>{if(i.type.startsWith("ITEM_POINTER"))return;const $=o.getById(s("highlightedId")),_e=getContentEl$2(o);scrollIntoView($,{rootEl:_e,block:"nearest"})};return raf$1(()=>a()),observeAttributes(()=>getContentEl$2(o),{defer:!0,attributes:["aria-activedescendant"],callback:a})}},actions:{setAnchorPoint({context:i,event:o}){i.set("anchorPoint",o.point)},setSubmenuPlacement({computed:i,refs:o}){if(!i("isSubmenu"))return;const s=i("isRtl")?"left-start":"right-start";o.set("positioningOverride",{placement:s,gutter:0})},reposition({context:i,scope:o,prop:s,event:a,refs:_}){const $=()=>getPositionerEl$2(o),_e=i.get("anchorPoint"),tt=_e?()=>({width:0,height:0,..._e}):void 0,nt={...s("positioning"),..._.get("positioningOverride")};getPlacement(getTriggerEl$3(o),$,{...nt,defer:!0,getAnchorRect:tt,...a.options??{},listeners:!1,onComplete(it){i.set("currentPlacement",it.placement)}})},setOptionState({event:i}){if(!i.option)return;const{checked:o,onCheckedChange:s,type:a}=i.option;a==="radio"?s==null||s(!0):a==="checkbox"&&(s==null||s(!o))},clickHighlightedItem({scope:i,computed:o}){const s=i.getById(o("highlightedId"));!s||s.dataset.disabled||queueMicrotask(()=>s.click())},setIntentPolygon({context:i,scope:o,event:s}){const a=getContentEl$2(o),_=i.get("currentPlacement");if(!a||!_)return;const $=a.getBoundingClientRect(),_e=getElementPolygon($,_);if(!_e)return;const nt=getPlacementSide(_)==="right"?-5:5;i.set("intentPolygon",[{...s.point,x:s.point.x+nt},..._e])},clearIntentPolygon({context:i}){i.set("intentPolygon",null)},resumePointer({refs:i,flush:o}){const s=i.get("parent");s&&o(()=>{s.context.set("suspendPointer",!1)})},setHighlightedItem({context:i,event:o}){const s=o.value||getItemValue(o.target);i.set("highlightedValue",s)},clearHighlightedItem({context:i}){i.set("highlightedValue",null)},focusMenu({scope:i}){raf$1(()=>{const o=getContentEl$2(i),s=getInitialFocus({root:o,enabled:!contains(o,i.getActiveElement()),filter(a){var _;return!((_=a.role)!=null&&_.startsWith("menuitem"))}});s==null||s.focus({preventScroll:!0})})},highlightFirstItem({context:i,scope:o}){(getContentEl$2(o)?queueMicrotask:raf$1)(()=>{const a=getFirstEl(o);a&&i.set("highlightedValue",getItemValue(a))})},highlightLastItem({context:i,scope:o}){(getContentEl$2(o)?queueMicrotask:raf$1)(()=>{const a=getLastEl(o);a&&i.set("highlightedValue",getItemValue(a))})},highlightNextItem({context:i,scope:o,event:s,prop:a}){const _=getNextEl(o,{loop:s.loop,value:i.get("highlightedValue"),loopFocus:a("loopFocus")});i.set("highlightedValue",getItemValue(_))},highlightPrevItem({context:i,scope:o,event:s,prop:a}){const _=getPrevEl(o,{loop:s.loop,value:i.get("highlightedValue"),loopFocus:a("loopFocus")});i.set("highlightedValue",getItemValue(_))},invokeOnSelect({context:i,prop:o,scope:s}){var $;const a=i.get("highlightedValue");if(a==null)return;const _=getItemEl$1(s,a);dispatchSelectionEvent(_,a),($=o("onSelect"))==null||$({value:a})},focusTrigger({scope:i,context:o,event:s,computed:a}){a("isSubmenu")||o.get("anchorPoint")||s.restoreFocus===!1||queueMicrotask(()=>{var _;return(_=getTriggerEl$3(i))==null?void 0:_.focus({preventScroll:!0})})},highlightMatchedItem({scope:i,context:o,event:s,refs:a}){const _=getElemByKey(i,{key:s.key,value:o.get("highlightedValue"),typeaheadState:a.get("typeaheadState")});_&&o.set("highlightedValue",getItemValue(_))},setParentMenu({refs:i,event:o}){i.set("parent",o.value)},setChildMenu({refs:i,event:o}){const s=i.get("children");s[o.id]=o.value,i.set("children",s)},closeRootMenu({refs:i}){closeRootMenu({parent:i.get("parent")})},openSubmenu({refs:i,scope:o,computed:s}){const a=o.getById(s("highlightedId")),_=a==null?void 0:a.getAttribute("data-uid"),$=i.get("children"),_e=_?$[_]:null;_e==null||_e.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:i}){var o;(o=i.get("parent"))==null||o.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:i,event:o}){i.set("lastHighlightedValue",getItemValue(o.target))},restoreHighlightedItem({context:i}){i.get("lastHighlightedValue")&&(i.set("highlightedValue",i.get("lastHighlightedValue")),i.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:i}){var o;(o=i.get("parent"))==null||o.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!0})},invokeOnClose({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!1})},toggleVisibility({prop:i,event:o,send:s}){s({type:i("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:o})}}}};function closeRootMenu(i){let o=i.parent;for(;o&&o.computed("isSubmenu");)o=o.refs.get("parent");o==null||o.send({type:"CLOSE"})}function isWithinPolygon(i,o){return i?isPointInPolygon(i,o):!1}function resolveItemId(i,o,s){const a=Object.keys(i).length>0;if(!o)return null;if(!a)return getItemId$1(s,o);for(const _ in i){const $=i[_],_e=getTriggerId$3($.scope);if(_e===o)return _e}return getItemId$1(s,o)}createProps$1()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);createProps$1()(["closeOnSelect","disabled","value","valueText"]);createProps$1()(["htmlFor"]);createProps$1()(["id"]);createProps$1()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const useMenu=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),_={id:o,dir:a,getRootNode:s,...i},$=useMachine(machine$6,_);return{api:connect$6($,normalizeProps),service:$}},[MenuMachineProvider,useMenuMachineContext]=createContext({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[MenuTriggerItemProvider,useMenuTriggerItemContext]=createContext({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),MenuRoot$1=i=>{const[o,s]=splitPresenceProps(i),[a,_]=createSplitProps()(s,["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),$=useMenuContext(),_e=useMenuMachineContext(),{api:tt,service:nt}=useMenu(a),it=usePresence(mergeProps({present:tt.open},o));useEffectOnce(()=>{_e&&$&&($.setChild(nt),tt.setParent(_e))});const ot=reactExports.useCallback(()=>$==null?void 0:$.getTriggerItemProps(tt),[tt,$]);return jsxRuntimeExports.jsx(MenuTriggerItemProvider,{value:ot,children:jsxRuntimeExports.jsx(MenuMachineProvider,{value:nt,children:jsxRuntimeExports.jsx(MenuProvider,{value:tt,children:jsxRuntimeExports.jsx(PresenceProvider,{value:it,..._})})})})},MenuRootProvider=i=>{const o=useMenuContext(),s=useMenuMachineContext(),[a,{value:_,children:$}]=splitPresenceProps(i),{api:_e,service:tt}=_,nt=usePresence(mergeProps({present:_e.open},a));useEffectOnce(()=>{s&&o&&(o.setChild(tt),_e.setParent(s))});const it=reactExports.useCallback(()=>o==null?void 0:o.getTriggerItemProps(_e),[_e,o]);return jsxRuntimeExports.jsx(MenuTriggerItemProvider,{value:it,children:jsxRuntimeExports.jsx(MenuMachineProvider,{value:tt,children:jsxRuntimeExports.jsx(MenuProvider,{value:_e,children:jsxRuntimeExports.jsx(PresenceProvider,{value:nt,children:$})})})})},MenuSeparator=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=mergeProps(s.getSeparatorProps(),i);return jsxRuntimeExports.jsx(ark.hr,{...a,ref:o})});MenuSeparator.displayName="MenuSeparator";const MenuTrigger$1=reactExports.forwardRef((i,o)=>{const s=useMenuContext(),a=usePresenceContext(),_=mergeProps({...s.getTriggerProps(),"aria-controls":a.unmounted?void 0:s.getTriggerProps()["aria-controls"]},i);return jsxRuntimeExports.jsx(ark.button,{..._,ref:o})});MenuTrigger$1.displayName="MenuTrigger";const MenuTriggerItem=reactExports.forwardRef((i,o)=>{const s=useMenuTriggerItemContext(),a=mergeProps((s==null?void 0:s())??{},i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});MenuTriggerItem.displayName="MenuTriggerItem";const[NumberInputProvider,useNumberInputContext]=createContext({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),NumberInputControl$1=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getControlProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});NumberInputControl$1.displayName="NumberInputControl";const NumberInputDecrementTrigger$1=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getDecrementTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});NumberInputDecrementTrigger$1.displayName="NumberInputDecrementTrigger";const NumberInputIncrementTrigger$1=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getIncrementTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});NumberInputIncrementTrigger$1.displayName="NumberInputIncrementTrigger";const NumberInputInput$1=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getInputProps(),i),_=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":_==null?void 0:_.ariaDescribedby,...a,ref:o})});NumberInputInput$1.displayName="NumberInputInput";const NumberInputLabel=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getLabelProps(),i);return jsxRuntimeExports.jsx(ark.label,{...a,ref:o})});NumberInputLabel.displayName="NumberInputLabel";let $488c6ddbf4ef74c2$var$formatterCache=new Map,$488c6ddbf4ef74c2$var$supportsSignDisplay=!1;try{$488c6ddbf4ef74c2$var$supportsSignDisplay=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $488c6ddbf4ef74c2$var$supportsUnit=!1;try{$488c6ddbf4ef74c2$var$supportsUnit=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const $488c6ddbf4ef74c2$var$UNITS={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5{format(o){let s="";if(!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null?s=$488c6ddbf4ef74c2$export$711b50b3c525e0f2(this.numberFormatter,this.options.signDisplay,o):s=this.numberFormatter.format(o),this.options.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var a;let{unit:_,unitDisplay:$="short",locale:_e}=this.resolvedOptions();if(!_)return s;let tt=(a=$488c6ddbf4ef74c2$var$UNITS[_])===null||a===void 0?void 0:a[$];s+=tt[_e]||tt.default}return s}formatToParts(o){return this.numberFormatter.formatToParts(o)}formatRange(o,s){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(o,s);if(s<o)throw new RangeError("End date must be >= start date");return`${this.format(o)} – ${this.format(s)}`}formatRangeToParts(o,s){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(o,s);if(s<o)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(o),_=this.numberFormatter.formatToParts(s);return[...a.map($=>({...$,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},..._.map($=>({...$,source:"endRange"}))]}resolvedOptions(){let o=this.numberFormatter.resolvedOptions();return!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null&&(o={...o,signDisplay:this.options.signDisplay}),!$488c6ddbf4ef74c2$var$supportsUnit&&this.options.style==="unit"&&(o={...o,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),o}constructor(o,s={}){this.numberFormatter=$488c6ddbf4ef74c2$var$getCachedNumberFormatter(o,s),this.options=s}}function $488c6ddbf4ef74c2$var$getCachedNumberFormatter(i,o={}){let{numberingSystem:s}=o;if(s&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${s}`),o.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var a;let{unit:_e,unitDisplay:tt="short"}=o;if(!_e)throw new Error('unit option must be provided with style: "unit"');if(!(!((a=$488c6ddbf4ef74c2$var$UNITS[_e])===null||a===void 0)&&a[tt]))throw new Error(`Unsupported unit ${_e} with unitDisplay = ${tt}`);o={...o,style:"decimal"}}let _=i+(o?Object.entries(o).sort((_e,tt)=>_e[0]<tt[0]?-1:1).join():"");if($488c6ddbf4ef74c2$var$formatterCache.has(_))return $488c6ddbf4ef74c2$var$formatterCache.get(_);let $=new Intl.NumberFormat(i,o);return $488c6ddbf4ef74c2$var$formatterCache.set(_,$),$}function $488c6ddbf4ef74c2$export$711b50b3c525e0f2(i,o,s){if(o==="auto")return i.format(s);if(o==="never")return i.format(Math.abs(s));{let a=!1;if(o==="always"?a=s>0||Object.is(s,0):o==="exceptZero"&&(Object.is(s,-0)||Object.is(s,0)?s=Math.abs(s):a=s>0),a){let _=i.format(-s),$=i.format(s),_e=_.replace($,"").replace(/\u200e|\u061C/,"");return[..._e].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),_.replace($,"!!!").replace(_e,"+").replace("!!!",$)}else return i.format(s)}}const $6c7bd7858deea686$var$CURRENCY_SIGN_REGEX=new RegExp("^.*\\(.*\\).*$"),$6c7bd7858deea686$var$NUMBERING_SYSTEMS=["latn","arab","hanidec","deva","beng"];class $6c7bd7858deea686$export$cd11ab140839f11d{parse(o){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,o).parse(o)}isValidPartialNumber(o,s,a){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,o).isValidPartialNumber(o,s,a)}getNumberingSystem(o){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,o).options.numberingSystem}constructor(o,s={}){this.locale=o,this.options=s}}const $6c7bd7858deea686$var$numberParserCache=new Map;function $6c7bd7858deea686$var$getNumberParserImpl(i,o,s){let a=$6c7bd7858deea686$var$getCachedNumberParser(i,o);if(!i.includes("-nu-")&&!a.isValidPartialNumber(s)){for(let _ of $6c7bd7858deea686$var$NUMBERING_SYSTEMS)if(_!==a.options.numberingSystem){let $=$6c7bd7858deea686$var$getCachedNumberParser(i+(i.includes("-u-")?"-nu-":"-u-nu-")+_,o);if($.isValidPartialNumber(s))return $}}return a}function $6c7bd7858deea686$var$getCachedNumberParser(i,o){let s=i+(o?Object.entries(o).sort((_,$)=>_[0]<$[0]?-1:1).join():""),a=$6c7bd7858deea686$var$numberParserCache.get(s);return a||(a=new $6c7bd7858deea686$var$NumberParserImpl(i,o),$6c7bd7858deea686$var$numberParserCache.set(s,a)),a}class $6c7bd7858deea686$var$NumberParserImpl{parse(o){let s=this.sanitize(o);if(this.symbols.group&&(s=$6c7bd7858deea686$var$replaceAll(s,this.symbols.group,"")),this.symbols.decimal&&(s=s.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(s=s.replace(this.symbols.minusSign,"-")),s=s.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let _e=s.indexOf("-");s=s.replace("-","");let tt=s.indexOf(".");tt===-1&&(tt=s.length),s=s.replace(".",""),tt-2===0?s=`0.${s}`:tt-2===-1?s=`0.0${s}`:tt-2===-2?s="0.00":s=`${s.slice(0,tt-2)}.${s.slice(tt-2)}`,_e>-1&&(s=`-${s}`)}let a=s?+s:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var _,$;let _e={...this.options,style:"decimal",minimumFractionDigits:Math.min(((_=this.options.minimumFractionDigits)!==null&&_!==void 0?_:0)+2,20),maximumFractionDigits:Math.min((($=this.options.maximumFractionDigits)!==null&&$!==void 0?$:0)+2,20)};return new $6c7bd7858deea686$export$cd11ab140839f11d(this.locale,_e).parse(new $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5(this.locale,_e).format(a))}return this.options.currencySign==="accounting"&&$6c7bd7858deea686$var$CURRENCY_SIGN_REGEX.test(o)&&(a=-1*a),a}sanitize(o){return o=o.replace(this.symbols.literals,""),this.symbols.minusSign&&(o=o.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(o=o.replace(",",this.symbols.decimal),o=o.replace("،",this.symbols.decimal)),this.symbols.group&&(o=$6c7bd7858deea686$var$replaceAll(o,".",this.symbols.group))),this.options.locale==="fr-FR"&&(o=$6c7bd7858deea686$var$replaceAll(o,"."," ")),o}isValidPartialNumber(o,s=-1/0,a=1/0){return o=this.sanitize(o),this.symbols.minusSign&&o.startsWith(this.symbols.minusSign)&&s<0?o=o.slice(this.symbols.minusSign.length):this.symbols.plusSign&&o.startsWith(this.symbols.plusSign)&&a>0&&(o=o.slice(this.symbols.plusSign.length)),this.symbols.group&&o.startsWith(this.symbols.group)||this.symbols.decimal&&o.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(o=$6c7bd7858deea686$var$replaceAll(o,this.symbols.group,"")),o=o.replace(this.symbols.numeral,""),this.symbols.decimal&&(o=o.replace(this.symbols.decimal,"")),o.length===0)}constructor(o,s={}){this.locale=o,this.formatter=new Intl.NumberFormat(o,s),this.options=this.formatter.resolvedOptions(),this.symbols=$6c7bd7858deea686$var$getSymbols(o,this.formatter,this.options,s);var a,_;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((_=this.options.maximumFractionDigits)!==null&&_!==void 0?_:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const $6c7bd7858deea686$var$nonLiteralParts=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),$6c7bd7858deea686$var$pluralNumbers=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function $6c7bd7858deea686$var$getSymbols(i,o,s,a){var _,$,_e,tt;let nt=new Intl.NumberFormat(i,{...s,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),it=nt.formatToParts(-10000.111),ot=nt.formatToParts(10000.111),et=$6c7bd7858deea686$var$pluralNumbers.map(vt=>nt.formatToParts(vt));var j;let rt=(j=(_=it.find(vt=>vt.type==="minusSign"))===null||_===void 0?void 0:_.value)!==null&&j!==void 0?j:"-",st=($=ot.find(vt=>vt.type==="plusSign"))===null||$===void 0?void 0:$.value;!st&&((a==null?void 0:a.signDisplay)==="exceptZero"||(a==null?void 0:a.signDisplay)==="always")&&(st="+");let lt=(_e=new Intl.NumberFormat(i,{...s,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(vt=>vt.type==="decimal"))===null||_e===void 0?void 0:_e.value,ct=(tt=it.find(vt=>vt.type==="group"))===null||tt===void 0?void 0:tt.value,ut=it.filter(vt=>!$6c7bd7858deea686$var$nonLiteralParts.has(vt.type)).map(vt=>$6c7bd7858deea686$var$escapeRegex(vt.value)),dt=et.flatMap(vt=>vt.filter(wt=>!$6c7bd7858deea686$var$nonLiteralParts.has(wt.type)).map(wt=>$6c7bd7858deea686$var$escapeRegex(wt.value))),ft=[...new Set([...ut,...dt])].sort((vt,wt)=>wt.length-vt.length),ht=ft.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${ft.join("|")}|[\\p{White_Space}]`,"gu"),mt=[...new Intl.NumberFormat(s.locale,{useGrouping:!1}).format(9876543210)].reverse(),bt=new Map(mt.map((vt,wt)=>[vt,wt])),yt=new RegExp(`[${mt.join("")}]`,"g");return{minusSign:rt,plusSign:st,decimal:lt,group:ct,literals:ht,numeral:yt,index:vt=>String(bt.get(vt))}}function $6c7bd7858deea686$var$replaceAll(i,o,s){return i.replaceAll?i.replaceAll(o,s):i.split(o).join(s)}function $6c7bd7858deea686$var$escapeRegex(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var anatomy$c=createAnatomy("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),parts$5=anatomy$c.build(),getRootId$4=i=>{var o;return((o=i.ids)==null?void 0:o.root)??`number-input:${i.id}`},getInputId=i=>{var o;return((o=i.ids)==null?void 0:o.input)??`number-input:${i.id}:input`},getIncrementTriggerId=i=>{var o;return((o=i.ids)==null?void 0:o.incrementTrigger)??`number-input:${i.id}:inc`},getDecrementTriggerId=i=>{var o;return((o=i.ids)==null?void 0:o.decrementTrigger)??`number-input:${i.id}:dec`},getScrubberId=i=>{var o;return((o=i.ids)==null?void 0:o.scrubber)??`number-input:${i.id}:scrubber`},getCursorId=i=>`number-input:${i.id}:cursor`,getLabelId$2=i=>{var o;return((o=i.ids)==null?void 0:o.label)??`number-input:${i.id}:label`},getInputEl=i=>i.getById(getInputId(i)),getIncrementTriggerEl=i=>i.getById(getIncrementTriggerId(i)),getDecrementTriggerEl=i=>i.getById(getDecrementTriggerId(i)),getCursorEl=i=>i.getDoc().getElementById(getCursorId(i)),getPressedTriggerEl=(i,o)=>{let s=null;return o==="increment"&&(s=getIncrementTriggerEl(i)),o==="decrement"&&(s=getDecrementTriggerEl(i)),s},setupVirtualCursor=(i,o)=>{if(!isSafari())return createVirtualCursor(i,o),()=>{var s;(s=getCursorEl(i))==null||s.remove()}},preventTextSelection=i=>{const o=i.getDoc(),s=o.documentElement,a=o.body;return a.style.pointerEvents="none",s.style.userSelect="none",s.style.cursor="ew-resize",()=>{a.style.pointerEvents="",s.style.userSelect="",s.style.cursor="",s.style.length||s.removeAttribute("style"),a.style.length||a.removeAttribute("style")}},getMousemoveValue=(i,o)=>{const{point:s,isRtl:a,event:_}=o,$=i.getWin(),_e=roundToDpr(_.movementX,$.devicePixelRatio),tt=roundToDpr(_.movementY,$.devicePixelRatio);let nt=_e>0?"increment":_e<0?"decrement":null;a&&nt==="increment"&&(nt="decrement"),a&&nt==="decrement"&&(nt="increment");const it={x:s.x+_e,y:s.y+tt},ot=$.innerWidth,et=roundToDpr(7.5,$.devicePixelRatio);return it.x=wrap$2(it.x+et,ot)-et,{hint:nt,point:it}},createVirtualCursor=(i,o)=>{const s=i.getDoc(),a=s.createElement("div");a.className="scrubber--cursor",a.id=getCursorId(i),Object.assign(a.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:MAX_Z_INDEX,transform:o?`translate3d(${o.x}px, ${o.y}px, 0px)`:void 0,willChange:"transform"}),a.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,s.body.appendChild(a)};function connect$5(i,o){const{state:s,send:a,prop:_,scope:$,computed:_e}=i,tt=s.hasTag("focus"),nt=_e("isDisabled"),it=_("readOnly"),ot=_e("isValueEmpty"),et=_e("isOutOfRange")||!!_("invalid"),j=nt||!_e("canIncrement")||it,rt=nt||!_e("canDecrement")||it,st=_("translations");return{focused:tt,invalid:et,empty:ot,value:_e("formattedValue"),valueAsNumber:_e("valueAsNumber"),setValue(at){a({type:"VALUE.SET",value:at})},clearValue(){a({type:"VALUE.CLEAR"})},increment(){a({type:"VALUE.INCREMENT"})},decrement(){a({type:"VALUE.DECREMENT"})},setToMax(){a({type:"VALUE.SET",value:_("max")})},setToMin(){a({type:"VALUE.SET",value:_("min")})},focus(){var at;(at=getInputEl($))==null||at.focus()},getRootProps(){return o.element({id:getRootId$4($),...parts$5.root.attrs,dir:_("dir"),"data-disabled":dataAttr$1(nt),"data-focus":dataAttr$1(tt),"data-invalid":dataAttr$1(et)})},getLabelProps(){return o.label({...parts$5.label.attrs,dir:_("dir"),"data-disabled":dataAttr$1(nt),"data-focus":dataAttr$1(tt),"data-invalid":dataAttr$1(et),id:getLabelId$2($),htmlFor:getInputId($)})},getControlProps(){return o.element({...parts$5.control.attrs,dir:_("dir"),role:"group","aria-disabled":nt,"data-focus":dataAttr$1(tt),"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(et),"aria-invalid":ariaAttr(et)})},getValueTextProps(){return o.element({...parts$5.valueText.attrs,dir:_("dir"),"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(et),"data-focus":dataAttr$1(tt)})},getInputProps(){return o.input({...parts$5.input.attrs,dir:_("dir"),name:_("name"),form:_("form"),id:getInputId($),role:"spinbutton",defaultValue:_e("formattedValue"),pattern:_("pattern"),inputMode:_("inputMode"),"aria-invalid":ariaAttr(et),"data-invalid":dataAttr$1(et),disabled:nt,"data-disabled":dataAttr$1(nt),readOnly:it,required:_("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":_("min"),"aria-valuemax":_("max"),"aria-valuenow":Number.isNaN(_e("valueAsNumber"))?void 0:_e("valueAsNumber"),"aria-valuetext":_e("valueText"),onFocus(){a({type:"INPUT.FOCUS"})},onBlur(){a({type:"INPUT.BLUR"})},onInput(at){a({type:"INPUT.CHANGE",target:at.currentTarget,hint:"set"})},onBeforeInput(at){try{const{selectionStart:lt,selectionEnd:ct,value:ut}=at.currentTarget,dt=ut.slice(0,lt)+(at.data??"")+ut.slice(ct);_e("parser").isValidPartialNumber(dt)||at.preventDefault()}catch{}},onKeyDown(at){if(at.defaultPrevented||it||isComposingEvent(at))return;const lt=getEventStep(at)*_("step"),ut={ArrowUp(){a({type:"INPUT.ARROW_UP",step:lt}),at.preventDefault()},ArrowDown(){a({type:"INPUT.ARROW_DOWN",step:lt}),at.preventDefault()},Home(){isModifierKey(at)||(a({type:"INPUT.HOME"}),at.preventDefault())},End(){isModifierKey(at)||(a({type:"INPUT.END"}),at.preventDefault())},Enter(){a({type:"INPUT.ENTER"})}}[at.key];ut==null||ut(at)}})},getDecrementTriggerProps(){return o.button({...parts$5.decrementTrigger.attrs,dir:_("dir"),id:getDecrementTriggerId($),disabled:rt,"data-disabled":dataAttr$1(rt),"aria-label":st.decrementLabel,type:"button",tabIndex:-1,"aria-controls":getInputId($),onPointerDown(at){var lt;rt||!isLeftClick(at)||(a({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:at.pointerType}),at.pointerType==="mouse"&&at.preventDefault(),at.pointerType==="touch"&&((lt=at.currentTarget)==null||lt.focus({preventScroll:!0})))},onPointerUp(at){a({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:at.pointerType})},onPointerLeave(){rt||a({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return o.button({...parts$5.incrementTrigger.attrs,dir:_("dir"),id:getIncrementTriggerId($),disabled:j,"data-disabled":dataAttr$1(j),"aria-label":st.incrementLabel,type:"button",tabIndex:-1,"aria-controls":getInputId($),onPointerDown(at){var lt;j||!isLeftClick(at)||(a({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:at.pointerType}),at.pointerType==="mouse"&&at.preventDefault(),at.pointerType==="touch"&&((lt=at.currentTarget)==null||lt.focus({preventScroll:!0})))},onPointerUp(at){a({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:at.pointerType})},onPointerLeave(at){a({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:at.pointerType})}})},getScrubberProps(){return o.element({...parts$5.scrubber.attrs,dir:_("dir"),"data-disabled":dataAttr$1(nt),id:getScrubberId($),role:"presentation",onMouseDown(at){if(nt)return;const lt=getEventPoint(at),ut=getWindow$1(at.currentTarget).devicePixelRatio;lt.x=lt.x-roundToDpr(7.5,ut),lt.y=lt.y-roundToDpr(7.5,ut),a({type:"SCRUBBER.PRESS_DOWN",point:lt}),at.preventDefault()},style:{cursor:nt?void 0:"ew-resize"}})}}}function recordCursor(i){if(!(!i||i.ownerDocument.activeElement!==i))try{const{selectionStart:o,selectionEnd:s,value:a}=i,_=a.substring(0,o),$=a.substring(s);return{start:o,end:s,value:a,beforeTxt:_,afterTxt:$}}catch{}}function restoreCursor(i,o){if(!(!i||i.ownerDocument.activeElement!==i)){if(!o){i.setSelectionRange(i.value.length,i.value.length);return}try{const{value:s}=i,{beforeTxt:a="",afterTxt:_="",start:$}=o;let _e=s.length;if(s.endsWith(_))_e=s.length-_.length;else if(s.startsWith(a))_e=a.length;else if($!=null){const tt=a[$-1],nt=s.indexOf(tt,$-1);nt!==-1&&(_e=nt+1)}i.setSelectionRange(_e,_e)}catch{}}}var createFormatter=(i,o={})=>new Intl.NumberFormat(i,o),createParser=(i,o={})=>new $6c7bd7858deea686$export$cd11ab140839f11d(i,o),parseValue=(i,o)=>{const{prop:s,computed:a}=o;return s("formatOptions")?a("parser").parse(String(i)):parseFloat(i)},formatValue=(i,o)=>{const{prop:s,computed:a}=o;return Number.isNaN(i)?"":s("formatOptions")?a("formatter").format(i):i.toString()},getDefaultStep=(i,o)=>{let s=i!==void 0&&!Number.isNaN(i)?i:1;return(o==null?void 0:o.style)==="percent"&&(i===void 0||Number.isNaN(i))&&(s=.01),s},{choose,guards,createMachine}=setup(),{not:not$5,and:and$2}=guards,machine$5=createMachine({props({props:i}){const o=getDefaultStep(i.step,i.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!i.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:o,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...i,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...i.translations}}},initialState(){return"idle"},context({prop:i,bindable:o,getComputed:s}){return{value:o(()=>({defaultValue:i("defaultValue"),value:i("value"),onChange(a){var _e;const _=s(),$=parseValue(a,{computed:_,prop:i});(_e=i("onValueChange"))==null||_e({value:a,valueAsNumber:$})}})),hint:o(()=>({defaultValue:null})),scrubberCursorPoint:o(()=>({defaultValue:null,hash(a){return a?`x:${a.x}, y:${a.y}`:""}})),fieldsetDisabled:o(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:i})=>i("dir")==="rtl",valueAsNumber:({context:i,computed:o,prop:s})=>parseValue(i.get("value"),{computed:o,prop:s}),formattedValue:({computed:i,prop:o})=>formatValue(i("valueAsNumber"),{computed:i,prop:o}),isAtMin:({computed:i,prop:o})=>isValueAtMin(i("valueAsNumber"),o("min")),isAtMax:({computed:i,prop:o})=>isValueAtMax(i("valueAsNumber"),o("max")),isOutOfRange:({computed:i,prop:o})=>!isValueWithinRange(i("valueAsNumber"),o("min"),o("max")),isValueEmpty:({context:i})=>i.get("value")==="",isDisabled:({prop:i,context:o})=>!!i("disabled")||o.get("fieldsetDisabled"),canIncrement:({prop:i,computed:o})=>i("allowOverflow")||!o("isAtMax"),canDecrement:({prop:i,computed:o})=>i("allowOverflow")||!o("isAtMin"),valueText:({prop:i,context:o})=>{var s,a;return(a=(s=i("translations")).valueText)==null?void 0:a.call(s,o.get("value"))},formatter:memo$2(({prop:i})=>[i("locale"),i("formatOptions")],(i,o)=>createFormatter(i,o)),parser:memo$2(({prop:i})=>[i("locale"),i("formatOptions")],(i,o)=>createParser(i,o))},watch({track:i,action:o,context:s,computed:a,prop:_}){i([()=>s.get("value"),()=>_("locale")],()=>{o(["syncInputElement"])}),i([()=>a("isOutOfRange")],()=>{o(["invokeOnInvalid"])}),i([()=>s.hash("scrubberCursorPoint")],()=>{o(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:and$2("clampValueOnBlur",not$5("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:not$5("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:choose([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:and$2("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:i})=>i("clampValueOnBlur"),spinOnPress:({prop:i})=>!!i("spinOnPress"),isInRange:({computed:i})=>!i("isOutOfRange"),isDecrementHint:({context:i,event:o})=>(o.hint??i.get("hint"))==="decrement",isIncrementHint:({context:i,event:o})=>(o.hint??i.get("hint"))==="increment",isTouchPointer:({event:i})=>i.pointerType==="touch"},effects:{waitForChangeDelay({send:i}){const o=setTimeout(()=>{i({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(o)},spinValue({send:i}){const o=setInterval(()=>{i({type:"SPIN"})},50);return()=>clearInterval(o)},trackFormControl({context:i,scope:o}){const s=getInputEl(o);return trackFormControl(s,{onFieldsetDisabledChange(a){i.set("fieldsetDisabled",a)},onFormReset(){i.set("value",i.initial("value"))}})},setupVirtualCursor({context:i,scope:o}){const s=i.get("scrubberCursorPoint");return setupVirtualCursor(o,s)},preventTextSelection({scope:i}){return preventTextSelection(i)},trackButtonDisabled({context:i,scope:o,send:s}){const a=i.get("hint"),_=getPressedTriggerEl(o,a);return observeAttributes(_,{attributes:["disabled"],callback(){s({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:i,send:o,prop:s}){const a=getInputEl(i);if(!a||!i.isActiveElement(a)||!s("allowMouseWheel"))return;function _($){$.preventDefault();const _e=Math.sign($.deltaY)*-1;_e===1?o({type:"VALUE.INCREMENT"}):_e===-1&&o({type:"VALUE.DECREMENT"})}return addDomEvent(a,"wheel",_,{passive:!1})},activatePointerLock({scope:i}){if(!isSafari())return requestPointerLock(i.getDoc())},trackMousemove({scope:i,send:o,context:s,computed:a}){const _=i.getDoc();function $(tt){const nt=s.get("scrubberCursorPoint"),it=a("isRtl"),ot=getMousemoveValue(i,{point:nt,isRtl:it,event:tt});ot.hint&&o({type:"SCRUBBER.POINTER_MOVE",hint:ot.hint,point:ot.point})}function _e(){o({type:"SCRUBBER.POINTER_UP"})}return callAll(addDomEvent(_,"mousemove",$,!1),addDomEvent(_,"mouseup",_e,!1))}},actions:{focusInput({scope:i,prop:o}){if(!o("focusInputOnChange"))return;const s=getInputEl(i);i.isActiveElement(s)||raf$1(()=>s==null?void 0:s.focus({preventScroll:!0}))},increment({context:i,event:o,prop:s,computed:a}){let _=incrementValue(a("valueAsNumber"),o.step??s("step"));s("allowOverflow")||(_=clampValue(_,s("min"),s("max"))),i.set("value",formatValue(_,{computed:a,prop:s}))},decrement({context:i,event:o,prop:s,computed:a}){let _=decrementValue(a("valueAsNumber"),o.step??s("step"));s("allowOverflow")||(_=clampValue(_,s("min"),s("max"))),i.set("value",formatValue(_,{computed:a,prop:s}))},setClampedValue({context:i,prop:o,computed:s}){const a=clampValue(s("valueAsNumber"),o("min"),o("max"));i.set("value",formatValue(a,{computed:s,prop:o}))},setRawValue({context:i,event:o,prop:s,computed:a}){let _=parseValue(o.value,{computed:a,prop:s});s("allowOverflow")||(_=clampValue(_,s("min"),s("max"))),i.set("value",formatValue(_,{computed:a,prop:s}))},setValue({context:i,event:o}){var a;const s=((a=o.target)==null?void 0:a.value)??o.value;i.set("value",s)},clearValue({context:i}){i.set("value","")},incrementToMax({context:i,prop:o,computed:s}){const a=formatValue(o("max"),{computed:s,prop:o});i.set("value",a)},decrementToMin({context:i,prop:o,computed:s}){const a=formatValue(o("min"),{computed:s,prop:o});i.set("value",a)},setHint({context:i,event:o}){i.set("hint",o.hint)},clearHint({context:i}){i.set("hint",null)},invokeOnFocus({computed:i,prop:o}){var s;(s=o("onFocusChange"))==null||s({focused:!0,value:i("formattedValue"),valueAsNumber:i("valueAsNumber")})},invokeOnBlur({computed:i,prop:o}){var s;(s=o("onFocusChange"))==null||s({focused:!1,value:i("formattedValue"),valueAsNumber:i("valueAsNumber")})},invokeOnInvalid({computed:i,prop:o,event:s}){var _;if(s.type==="INPUT.CHANGE")return;const a=i("valueAsNumber")>o("max")?"rangeOverflow":"rangeUnderflow";(_=o("onValueInvalid"))==null||_({reason:a,value:i("formattedValue"),valueAsNumber:i("valueAsNumber")})},syncInputElement({context:i,event:o,computed:s,scope:a}){const _=o.type.endsWith("CHANGE")?i.get("value"):s("formattedValue"),$=getInputEl(a),_e=recordCursor($);raf$1(()=>{setElementValue($,_),restoreCursor($,_e)})},setFormattedValue({context:i,computed:o}){i.set("value",o("formattedValue"))},setCursorPoint({context:i,event:o}){i.set("scrubberCursorPoint",o.point)},clearCursorPoint({context:i}){i.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:i,scope:o}){const s=getCursorEl(o),a=i.get("scrubberCursorPoint");!s||!a||(s.style.transform=`translate3d(${a.x}px, ${a.y}px, 0px)`)}}}});createProps$1()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const useNumberInput=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a,locale:_}=useLocaleContext(),$=useFieldContext(),_e={id:o,ids:{label:$==null?void 0:$.ids.label,input:$==null?void 0:$.ids.control},disabled:$==null?void 0:$.disabled,readOnly:$==null?void 0:$.readOnly,required:$==null?void 0:$.required,invalid:$==null?void 0:$.invalid,dir:a,locale:_,getRootNode:s,...i},tt=useMachine(machine$5,_e);return connect$5(tt,normalizeProps)},NumberInputRoot$1=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),_=useNumberInput(s),$=mergeProps(_.getRootProps(),a);return jsxRuntimeExports.jsx(NumberInputProvider,{value:_,children:jsxRuntimeExports.jsx(ark.div,{...$,ref:o})})});NumberInputRoot$1.displayName="NumberInputRoot";const NumberInputRootProvider=reactExports.forwardRef((i,o)=>{const[{value:s},a]=createSplitProps()(i,["value"]),_=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(NumberInputProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{..._,ref:o})})});NumberInputRootProvider.displayName="NumberInputRootProvider";const NumberInputScrubber=reactExports.forwardRef((i,o)=>{const s=useNumberInputContext(),a=mergeProps(s.getScrubberProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});NumberInputScrubber.displayName="NumberInputScrubber";const NumberInputValueText=reactExports.forwardRef((i,o)=>{const{children:s,...a}=i,_=useNumberInputContext(),$=mergeProps(_.getValueTextProps(),a);return jsxRuntimeExports.jsx(ark.span,{...$,ref:o,children:s||_.value})});NumberInputValueText.displayName="NumberInputValueText";var anatomy$b=createAnatomy("pinInput").parts("root","label","input","control");anatomy$b.build();createProps$1()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var anatomy$a=createAnatomy("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");anatomy$a.build();createProps$1()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);const Portal=i=>{var nt;const{children:o,disabled:s}=i,[a,_]=reactExports.useState((nt=i.container)==null?void 0:nt.current),$=reactExports.useSyncExternalStore(subscribe$1,()=>!1,()=>!0),{getRootNode:_e}=useEnvironmentContext();if(reactExports.useEffect(()=>{_(()=>{var it;return(it=i.container)==null?void 0:it.current})},[i.container]),$||s)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o});const tt=a??getPortalNode(_e);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.Children.map(o,it=>reactDomExports.createPortal(it,tt))})},getPortalNode=i=>{const o=i==null?void 0:i(),s=o.getRootNode();return isShadowRoot$1(s)?s:getDocument(o).body},subscribe$1=()=>()=>{};var anatomy$9=createAnatomy("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");anatomy$9.build();createProps$1()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var anatomy$8=createAnatomy("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");anatomy$8.build();createProps$1()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var anatomy$7=createAnatomy("radio-group").parts("root","label","item","itemText","itemControl","indicator");anatomy$7.build();createProps$1()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);createProps$1()(["value","disabled","invalid"]);var anatomy$6=createAnatomy("rating-group").parts("root","label","item","control");anatomy$6.build();createProps$1()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);createProps$1()(["index"]);const segmentGroupAnatomy=anatomy$7.rename("segment-group");segmentGroupAnatomy.build();const[SelectProvider,useSelectContext]=createContext({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),SelectClearTrigger$2=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getClearTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});SelectClearTrigger$2.displayName="SelectClearTrigger";const SelectContent$2=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=usePresenceContext(),_=mergeProps(s.getContentProps(),a.getPresenceProps(),i);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{..._,ref:composeRefs(a.ref,o)})});SelectContent$2.displayName="SelectContent";const SelectContext$1=i=>i.children(useSelectContext()),SelectControl$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getControlProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});SelectControl$1.displayName="SelectControl";const SelectHiddenSelect$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getHiddenSelectProps(),i),_=s.value.length===0,$=useFieldContext();return jsxRuntimeExports.jsxs(ark.select,{"aria-describedby":$==null?void 0:$.ariaDescribedby,...a,ref:o,children:[_&&jsxRuntimeExports.jsx("option",{value:""}),s.collection.items.map((_e,tt)=>jsxRuntimeExports.jsx("option",{value:s.collection.getItemValue(_e)??"",disabled:s.collection.getItemDisabled(_e),children:s.collection.stringifyItem(_e)},tt))]})});SelectHiddenSelect$1.displayName="SelectHiddenSelect";const SelectIndicator$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getIndicatorProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});SelectIndicator$1.displayName="SelectIndicator";const[SelectItemProvider,useSelectItemContext]=createContext({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[SelectItemPropsProvider,useSelectItemPropsContext]=createContext({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),SelectItem$2=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["item","persistFocus"]),_=useSelectContext(),$=mergeProps(_.getItemProps(s),a),_e=_.getItemState(s);return jsxRuntimeExports.jsx(SelectItemPropsProvider,{value:s,children:jsxRuntimeExports.jsx(SelectItemProvider,{value:_e,children:jsxRuntimeExports.jsx(ark.div,{...$,ref:o})})})});SelectItem$2.displayName="SelectItem";const[SelectItemGroupPropsProvider,useSelectItemGroupPropsContext]=createContext({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),SelectItemGroup$1=reactExports.forwardRef((i,o)=>{const s=reactExports.useId(),[a,_]=createSplitProps()(i,["id"]),$={id:s,...a},_e=useSelectContext(),tt=mergeProps(_e.getItemGroupProps($),_);return jsxRuntimeExports.jsx(SelectItemGroupPropsProvider,{value:$,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})});SelectItemGroup$1.displayName="SelectItemGroup";const SelectItemGroupLabel$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=useSelectItemGroupPropsContext(),_=mergeProps(s.getItemGroupLabelProps({htmlFor:a.id}),i);return jsxRuntimeExports.jsx(ark.div,{..._,ref:o})});SelectItemGroupLabel$1.displayName="SelectItemGroupLabel";const SelectItemIndicator$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=useSelectItemPropsContext(),_=mergeProps(s.getItemIndicatorProps(a),i);return jsxRuntimeExports.jsx(ark.div,{..._,ref:o})});SelectItemIndicator$1.displayName="SelectItemIndicator";const SelectItemText=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=useSelectItemPropsContext(),_=mergeProps(s.getItemTextProps(a),i);return jsxRuntimeExports.jsx(ark.span,{..._,ref:o})});SelectItemText.displayName="SelectItemText";const SelectLabel=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getLabelProps(),i);return jsxRuntimeExports.jsx(ark.label,{...a,ref:o})});SelectLabel.displayName="SelectLabel";const SelectPositioner$1=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getPositionerProps(),i);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});SelectPositioner$1.displayName="SelectPositioner";var anatomy$5=createAnatomy("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),parts$4=anatomy$5.build(),collection=i=>new ListCollection(i);collection.empty=()=>new ListCollection({items:[]});var getRootId$3=i=>{var o;return((o=i.ids)==null?void 0:o.root)??`select:${i.id}`},getContentId$2=i=>{var o;return((o=i.ids)==null?void 0:o.content)??`select:${i.id}:content`},getTriggerId$2=i=>{var o;return((o=i.ids)==null?void 0:o.trigger)??`select:${i.id}:trigger`},getClearTriggerId=i=>{var o;return((o=i.ids)==null?void 0:o.clearTrigger)??`select:${i.id}:clear-trigger`},getLabelId$1=i=>{var o;return((o=i.ids)==null?void 0:o.label)??`select:${i.id}:label`},getControlId$1=i=>{var o;return((o=i.ids)==null?void 0:o.control)??`select:${i.id}:control`},getItemId=(i,o)=>{var s,a;return((a=(s=i.ids)==null?void 0:s.item)==null?void 0:a.call(s,o))??`select:${i.id}:option:${o}`},getHiddenSelectId=i=>{var o;return((o=i.ids)==null?void 0:o.hiddenSelect)??`select:${i.id}:select`},getPositionerId$1=i=>{var o;return((o=i.ids)==null?void 0:o.positioner)??`select:${i.id}:positioner`},getItemGroupId=(i,o)=>{var s,a;return((a=(s=i.ids)==null?void 0:s.itemGroup)==null?void 0:a.call(s,o))??`select:${i.id}:optgroup:${o}`},getItemGroupLabelId=(i,o)=>{var s,a;return((a=(s=i.ids)==null?void 0:s.itemGroupLabel)==null?void 0:a.call(s,o))??`select:${i.id}:optgroup-label:${o}`},getHiddenSelectEl=i=>i.getById(getHiddenSelectId(i)),getContentEl$1=i=>i.getById(getContentId$2(i)),getTriggerEl$2=i=>i.getById(getTriggerId$2(i)),getClearTriggerEl=i=>i.getById(getClearTriggerId(i)),getPositionerEl$1=i=>i.getById(getPositionerId$1(i)),getItemEl=(i,o)=>i.getById(getItemId(i,o));function connect$4(i,o){const{context:s,prop:a,scope:_,state:$,computed:_e,send:tt}=i,nt=a("disabled")||s.get("fieldsetDisabled"),it=a("invalid"),ot=a("readOnly"),et=a("composite"),j=a("collection"),rt=$.hasTag("open"),st=$.matches("focused"),at=s.get("highlightedValue"),lt=s.get("highlightedItem"),ct=s.get("selectedItems"),ut=s.get("currentPlacement"),dt=_e("isTypingAhead"),ft=_e("isInteractive"),ht=at?getItemId(_,at):void 0;function mt(yt){const gt=j.getItemDisabled(yt.item),vt=j.getItemValue(yt.item);return ensure(vt,()=>`[zag-js] No value found for item ${JSON.stringify(yt.item)}`),{value:vt,disabled:!!(nt||gt),highlighted:at===vt,selected:s.get("value").includes(vt)}}const bt=getPlacementStyles({...a("positioning"),placement:ut});return{open:rt,focused:st,empty:s.get("value").length===0,highlightedItem:lt,highlightedValue:at,selectedItems:ct,hasSelectedItems:_e("hasSelectedItems"),value:s.get("value"),valueAsString:s.get("valueAsString"),collection:j,multiple:!!a("multiple"),disabled:!!nt,reposition(yt={}){tt({type:"POSITIONING.SET",options:yt})},focus(){var yt;(yt=getTriggerEl$2(_))==null||yt.focus({preventScroll:!0})},setOpen(yt){$.hasTag("open")!==yt&&tt({type:yt?"OPEN":"CLOSE"})},selectValue(yt){tt({type:"ITEM.SELECT",value:yt})},setValue(yt){tt({type:"VALUE.SET",value:yt})},selectAll(){tt({type:"VALUE.SET",value:j.getValues()})},highlightValue(yt){tt({type:"HIGHLIGHTED_VALUE.SET",value:yt})},clearValue(yt){tt(yt?{type:"ITEM.CLEAR",value:yt}:{type:"VALUE.CLEAR"})},getItemState:mt,getRootProps(){return o.element({...parts$4.root.attrs,dir:a("dir"),id:getRootId$3(_),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot)})},getLabelProps(){return o.label({dir:a("dir"),id:getLabelId$1(_),...parts$4.label.attrs,"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot),htmlFor:getHiddenSelectId(_),onClick(yt){var gt;yt.defaultPrevented||nt||(gt=getTriggerEl$2(_))==null||gt.focus({preventScroll:!0})}})},getControlProps(){return o.element({...parts$4.control.attrs,dir:a("dir"),id:getControlId$1(_),"data-state":rt?"open":"closed","data-focus":dataAttr$1(st),"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(it)})},getValueTextProps(){return o.element({...parts$4.valueText.attrs,dir:a("dir"),"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(it),"data-focus":dataAttr$1(st)})},getTriggerProps(){return o.button({id:getTriggerId$2(_),disabled:nt,dir:a("dir"),type:"button",role:"combobox","aria-controls":getContentId$2(_),"aria-expanded":rt,"aria-haspopup":"listbox","data-state":rt?"open":"closed","aria-invalid":it,"aria-labelledby":getLabelId$1(_),...parts$4.trigger.attrs,"data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot),"data-placement":ut,"data-placeholder-shown":dataAttr$1(!_e("hasSelectedItems")),onClick(yt){ft&&(yt.defaultPrevented||tt({type:"TRIGGER.CLICK"}))},onFocus(){tt({type:"TRIGGER.FOCUS"})},onBlur(){tt({type:"TRIGGER.BLUR"})},onKeyDown(yt){if(yt.defaultPrevented||!ft)return;const vt={ArrowUp(){tt({type:"TRIGGER.ARROW_UP"})},ArrowDown(wt){tt({type:wt.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){tt({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){tt({type:"TRIGGER.ARROW_RIGHT"})},Home(){tt({type:"TRIGGER.HOME"})},End(){tt({type:"TRIGGER.END"})},Enter(){tt({type:"TRIGGER.ENTER"})},Space(wt){tt(dt?{type:"TRIGGER.TYPEAHEAD",key:wt.key}:{type:"TRIGGER.ENTER"})}}[getEventKey(yt,{dir:a("dir"),orientation:"vertical"})];if(vt){vt(yt),yt.preventDefault();return}getByTypeahead.isValidEvent(yt)&&(tt({type:"TRIGGER.TYPEAHEAD",key:yt.key}),yt.preventDefault())}})},getIndicatorProps(){return o.element({...parts$4.indicator.attrs,dir:a("dir"),"aria-hidden":!0,"data-state":rt?"open":"closed","data-disabled":dataAttr$1(nt),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot)})},getItemProps(yt){const gt=mt(yt);return o.element({id:getItemId(_,gt.value),role:"option",...parts$4.item.attrs,dir:a("dir"),"data-value":gt.value,"aria-selected":gt.selected,"data-state":gt.selected?"checked":"unchecked","data-highlighted":dataAttr$1(gt.highlighted),"data-disabled":dataAttr$1(gt.disabled),"aria-disabled":ariaAttr(gt.disabled),onPointerMove(vt){gt.disabled||vt.pointerType!=="mouse"||gt.value!==at&&tt({type:"ITEM.POINTER_MOVE",value:gt.value})},onClick(vt){vt.defaultPrevented||gt.disabled||tt({type:"ITEM.CLICK",src:"pointerup",value:gt.value})},onPointerLeave(vt){var Ct;gt.disabled||yt.persistFocus||vt.pointerType!=="mouse"||!((Ct=i.event.previous())!=null&&Ct.type.includes("POINTER"))||tt({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(yt){const gt=mt(yt);return o.element({...parts$4.itemText.attrs,"data-state":gt.selected?"checked":"unchecked","data-disabled":dataAttr$1(gt.disabled),"data-highlighted":dataAttr$1(gt.highlighted)})},getItemIndicatorProps(yt){const gt=mt(yt);return o.element({"aria-hidden":!0,...parts$4.itemIndicator.attrs,"data-state":gt.selected?"checked":"unchecked",hidden:!gt.selected})},getItemGroupLabelProps(yt){const{htmlFor:gt}=yt;return o.element({...parts$4.itemGroupLabel.attrs,id:getItemGroupLabelId(_,gt),dir:a("dir"),role:"presentation"})},getItemGroupProps(yt){const{id:gt}=yt;return o.element({...parts$4.itemGroup.attrs,"data-disabled":dataAttr$1(nt),id:getItemGroupId(_,gt),"aria-labelledby":getItemGroupLabelId(_,gt),role:"group",dir:a("dir")})},getClearTriggerProps(){return o.button({...parts$4.clearTrigger.attrs,id:getClearTriggerId(_),type:"button","aria-label":"Clear value","data-invalid":dataAttr$1(it),disabled:nt,hidden:!_e("hasSelectedItems"),dir:a("dir"),onClick(yt){yt.defaultPrevented||tt({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const yt=s.get("value"),gt=a("multiple")?yt:yt==null?void 0:yt[0];return o.select({name:a("name"),form:a("form"),disabled:nt,multiple:a("multiple"),required:a("required"),"aria-hidden":!0,id:getHiddenSelectId(_),defaultValue:gt,style:visuallyHiddenStyle,tabIndex:-1,onFocus(){var vt;(vt=getTriggerEl$2(_))==null||vt.focus({preventScroll:!0})},"aria-labelledby":getLabelId$1(_)})},getPositionerProps(){return o.element({...parts$4.positioner.attrs,dir:a("dir"),id:getPositionerId$1(_),style:bt.floating})},getContentProps(){return o.element({hidden:!rt,dir:a("dir"),id:getContentId$2(_),role:et?"listbox":"dialog",...parts$4.content.attrs,"data-state":rt?"open":"closed","data-placement":ut,"data-activedescendant":ht,"aria-activedescendant":et?ht:void 0,"aria-multiselectable":a("multiple")&&et?!0:void 0,"aria-labelledby":getLabelId$1(_),tabIndex:0,onKeyDown(yt){if(!ft||!isSelfTarget(yt))return;if(yt.key==="Tab"&&!isValidTabEvent(yt)){yt.preventDefault();return}const gt={ArrowUp(){tt({type:"CONTENT.ARROW_UP"})},ArrowDown(){tt({type:"CONTENT.ARROW_DOWN"})},Home(){tt({type:"CONTENT.HOME"})},End(){tt({type:"CONTENT.END"})},Enter(){tt({type:"ITEM.CLICK",src:"keydown.enter"})},Space(Ct){var Rt;dt?tt({type:"CONTENT.TYPEAHEAD",key:Ct.key}):(Rt=gt.Enter)==null||Rt.call(gt,Ct)}},vt=gt[getEventKey(yt)];if(vt){vt(yt),yt.preventDefault();return}const wt=getEventTarget(yt);isEditableElement(wt)||getByTypeahead.isValidEvent(yt)&&(tt({type:"CONTENT.TYPEAHEAD",key:yt.key}),yt.preventDefault())}})},getListProps(){return o.element({...parts$4.list.attrs,tabIndex:0,role:et?void 0:"listbox","aria-labelledby":getTriggerId$2(_),"aria-activedescendant":et?void 0:ht,"aria-multiselectable":!et&&a("multiple")?!0:void 0})}}}var{and:and$1,not:not$4,or}=createGuards(),machine$4={props({props:i}){return{loopFocus:!1,closeOnSelect:!i.multiple,composite:!0,defaultValue:[],...i,collection:i.collection??collection.empty(),positioning:{placement:"bottom-start",gutter:8,...i.positioning}}},context({prop:i,bindable:o}){return{value:o(()=>({defaultValue:i("defaultValue"),value:i("value"),isEqual,onChange(s){var _;const a=i("collection").findMany(s);return(_=i("onValueChange"))==null?void 0:_({value:s,items:a})}})),highlightedValue:o(()=>({defaultValue:i("defaultHighlightedValue")||null,value:i("highlightedValue"),onChange(s){var a;(a=i("onHighlightChange"))==null||a({highlightedValue:s,highlightedItem:i("collection").find(s),highlightedIndex:i("collection").indexOf(s)})}})),currentPlacement:o(()=>({defaultValue:void 0})),fieldsetDisabled:o(()=>({defaultValue:!1})),highlightedItem:o(()=>({defaultValue:null})),selectedItems:o(()=>{const s=i("value")??i("defaultValue")??[];return{defaultValue:i("collection").findMany(s)}}),valueAsString:o(()=>{const s=i("value")??i("defaultValue")??[];return{defaultValue:i("collection").stringifyMany(s)}})}},refs(){return{typeahead:{...getByTypeahead.defaultOptions}}},computed:{hasSelectedItems:({context:i})=>i.get("value").length>0,isTypingAhead:({refs:i})=>i.get("typeahead").keysSoFar!=="",isDisabled:({prop:i,context:o})=>!!i("disabled")||!!o.get("fieldsetDisabled"),isInteractive:({prop:i})=>!(i("disabled")||i("readOnly"))},initialState({prop:i}){return i("open")||i("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:i,prop:o,track:s,action:a}){s([()=>i.get("value").toString()],()=>{a(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),s([()=>o("open")],()=>{a(["toggleVisibility"])}),s([()=>i.get("highlightedValue")],()=>{a(["syncHighlightedItem"])}),s([()=>o("collection").toString()],()=>{a(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:or("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:and$1(not$4("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:not$4("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:and$1(not$4("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:not$4("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:not$4("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:not$4("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:not$4("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:and$1("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:and$1("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:and$1("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:i})=>!!i("loopFocus"),multiple:({prop:i})=>!!i("multiple"),hasSelectedItems:({computed:i})=>!!i("hasSelectedItems"),hasHighlightedItem:({context:i})=>i.get("highlightedValue")!=null,isFirstItemHighlighted:({context:i,prop:o})=>i.get("highlightedValue")===o("collection").firstValue,isLastItemHighlighted:({context:i,prop:o})=>i.get("highlightedValue")===o("collection").lastValue,closeOnSelect:({prop:i,event:o})=>!!(o.closeOnSelect??i("closeOnSelect")),isOpenControlled:({prop:i})=>i("open")!==void 0,isTriggerClickEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:i})=>{var o;return((o=i.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:i,scope:o}){return trackFormControl(getHiddenSelectEl(o),{onFieldsetDisabledChange(s){i.set("fieldsetDisabled",s)},onFormReset(){const s=i.initial("value");i.set("value",s)}})},trackDismissableElement({scope:i,send:o,prop:s}){const a=()=>getContentEl$1(i);let _=!0;return trackDismissableElement(a,{defer:!0,exclude:[getTriggerEl$2(i),getClearTriggerEl(i)],onFocusOutside:s("onFocusOutside"),onPointerDownOutside:s("onPointerDownOutside"),onInteractOutside($){var _e;(_e=s("onInteractOutside"))==null||_e($),_=!($.detail.focusable||$.detail.contextmenu)},onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:_})}})},computePlacement({context:i,prop:o,scope:s}){const a=o("positioning");return i.set("currentPlacement",a.placement),getPlacement(()=>getTriggerEl$2(s),()=>getPositionerEl$1(s),{defer:!0,...a,onComplete(_e){i.set("currentPlacement",_e.placement)}})},scrollToHighlightedItem({context:i,prop:o,scope:s,event:a}){const _=_e=>{const tt=i.get("highlightedValue");if(tt==null||a.current().type.includes("POINTER"))return;const nt=getItemEl(s,tt),it=getContentEl$1(s),ot=o("scrollToIndexFn");if(ot){const et=o("collection").indexOf(tt);ot==null||ot({index:et,immediate:_e});return}scrollIntoView(nt,{rootEl:it,block:"nearest"})};return raf$1(()=>_(!0)),observeAttributes(()=>getContentEl$1(s),{defer:!0,attributes:["data-activedescendant"],callback(){_(!1)}})}},actions:{reposition({context:i,prop:o,scope:s,event:a}){const _=()=>getPositionerEl$1(s);getPlacement(getTriggerEl$2(s),_,{...o("positioning"),...a.options,defer:!0,listeners:!1,onComplete($){i.set("currentPlacement",$.placement)}})},toggleVisibility({send:i,prop:o,event:s}){i({type:o("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:s})},highlightPreviousItem({context:i,prop:o}){const s=i.get("highlightedValue");if(s==null)return;const a=o("collection").getPreviousValue(s,1,o("loopFocus"));i.set("highlightedValue",a)},highlightNextItem({context:i,prop:o}){const s=i.get("highlightedValue");if(s==null)return;const a=o("collection").getNextValue(s,1,o("loopFocus"));i.set("highlightedValue",a)},highlightFirstItem({context:i,prop:o}){const s=o("collection").firstValue;i.set("highlightedValue",s)},highlightLastItem({context:i,prop:o}){const s=o("collection").lastValue;i.set("highlightedValue",s)},setInitialFocus({scope:i}){raf$1(()=>{const o=getInitialFocus({root:getContentEl$1(i)});o==null||o.focus({preventScroll:!0})})},focusTriggerEl({event:i,scope:o}){var a;const s=i.restoreFocus??((a=i.previousEvent)==null?void 0:a.restoreFocus);s!=null&&!s||raf$1(()=>{const _=getTriggerEl$2(o);_==null||_.focus({preventScroll:!0})})},selectHighlightedItem({context:i,prop:o,event:s}){let a=s.value??i.get("highlightedValue");if(a==null)return;a=o("deselectable")&&!o("multiple")&&i.get("value").includes(a)?null:a,i.set("value",$=>a==null?[]:o("multiple")?addOrRemove($,a):[a])},highlightComputedFirstItem({context:i,prop:o,computed:s}){const a=o("collection"),_=s("hasSelectedItems")?a.sort(i.get("value"))[0]:a.firstValue;i.set("highlightedValue",_)},highlightComputedLastItem({context:i,prop:o,computed:s}){const a=o("collection"),_=s("hasSelectedItems")?a.sort(i.get("value"))[0]:a.lastValue;i.set("highlightedValue",_)},highlightFirstSelectedItem({context:i,prop:o,computed:s}){if(!s("hasSelectedItems"))return;const a=o("collection").sort(i.get("value"))[0];i.set("highlightedValue",a)},highlightItem({context:i,event:o}){i.set("highlightedValue",o.value)},highlightMatchingItem({context:i,prop:o,event:s,refs:a}){const _=o("collection").search(s.key,{state:a.get("typeahead"),currentValue:i.get("highlightedValue")});_!=null&&i.set("highlightedValue",_)},setHighlightedItem({context:i,event:o}){i.set("highlightedValue",o.value)},clearHighlightedItem({context:i}){i.set("highlightedValue",null)},selectItem({context:i,prop:o,event:s}){const _=o("deselectable")&&!o("multiple")&&i.get("value").includes(s.value)?null:s.value;i.set("value",$=>_==null?[]:o("multiple")?addOrRemove($,_):[_])},clearItem({context:i,event:o}){i.set("value",s=>s.filter(a=>a!==o.value))},setSelectedItems({context:i,event:o}){i.set("value",o.value)},clearSelectedItems({context:i}){i.set("value",[])},selectPreviousItem({context:i,prop:o}){const[s]=i.get("value"),a=o("collection").getPreviousValue(s);a&&i.set("value",[a])},selectNextItem({context:i,prop:o}){const[s]=i.get("value"),a=o("collection").getNextValue(s);a&&i.set("value",[a])},selectFirstItem({context:i,prop:o}){const s=o("collection").firstValue;s&&i.set("value",[s])},selectLastItem({context:i,prop:o}){const s=o("collection").lastValue;s&&i.set("value",[s])},selectMatchingItem({context:i,prop:o,event:s,refs:a}){const _=o("collection").search(s.key,{state:a.get("typeahead"),currentValue:i.get("value")[0]});_!=null&&i.set("value",[_])},scrollContentToTop({prop:i,scope:o}){var s,a;i("scrollToIndexFn")?(s=i("scrollToIndexFn"))==null||s({index:0,immediate:!0}):(a=getContentEl$1(o))==null||a.scrollTo(0,0)},invokeOnOpen({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!0})},invokeOnClose({prop:i}){var o;(o=i("onOpenChange"))==null||o({open:!1})},syncSelectElement({context:i,prop:o,scope:s}){const a=getHiddenSelectEl(s);if(a){if(i.get("value").length===0&&!o("multiple")){a.selectedIndex=-1;return}for(const _ of a.options)_.selected=i.get("value").includes(_.value)}},syncCollection({context:i,prop:o}){const s=o("collection"),a=s.find(i.get("highlightedValue"));a&&i.set("highlightedItem",a);const _=s.findMany(i.get("value"));i.set("selectedItems",_);const $=s.stringifyItems(_);i.set("valueAsString",$)},syncSelectedItems({context:i,prop:o}){const s=o("collection"),a=i.get("selectedItems"),$=i.get("value").map(_e=>a.find(nt=>s.getItemValue(nt)===_e)||s.find(_e));i.set("selectedItems",$),i.set("valueAsString",s.stringifyItems($))},syncHighlightedItem({context:i,prop:o}){const s=o("collection"),a=i.get("highlightedValue"),_=a?s.find(a):null;i.set("highlightedItem",_)},dispatchChangeEvent({scope:i}){queueMicrotask(()=>{const o=getHiddenSelectEl(i);if(!o)return;const s=i.getWin(),a=new s.Event("change",{bubbles:!0,composed:!0});o.dispatchEvent(a)})}}}};createProps$1()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","defaultOpen","open","composite","positioning","required","readOnly","scrollToIndexFn","value","defaultValue","defaultHighlightedValue"]);createProps$1()(["item","persistFocus"]);createProps$1()(["id"]);createProps$1()(["htmlFor"]);const useSelect=i=>{const o=reactExports.useId(),{dir:s}=useLocaleContext(),{getRootNode:a}=useEnvironmentContext(),_=useFieldContext(),$={id:o,ids:{label:_==null?void 0:_.ids.label,hiddenSelect:_==null?void 0:_.ids.control},disabled:_==null?void 0:_.disabled,readOnly:_==null?void 0:_.readOnly,invalid:_==null?void 0:_.invalid,required:_==null?void 0:_.required,dir:s,getRootNode:a,...i},_e=useMachine(machine$4,$);return connect$4(_e,normalizeProps)},SelectImpl$1=(i,o)=>{const[s,a]=splitPresenceProps(i),[_,$]=createSplitProps()(a,["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),_e=useSelect(_),tt=usePresence(mergeProps({present:_e.open},s)),nt=mergeProps(_e.getRootProps(),$);return jsxRuntimeExports.jsx(SelectProvider,{value:_e,children:jsxRuntimeExports.jsx(PresenceProvider,{value:tt,children:jsxRuntimeExports.jsx(ark.div,{...nt,ref:o})})})},SelectRoot$2=reactExports.forwardRef(SelectImpl$1),SelectImpl=(i,o)=>{const[s,a]=splitPresenceProps(i),[{value:_},$]=createSplitProps()(a,["value"]),_e=usePresence(mergeProps({present:_.open},s)),tt=mergeProps(_.getRootProps(),$);return jsxRuntimeExports.jsx(SelectProvider,{value:_,children:jsxRuntimeExports.jsx(PresenceProvider,{value:_e,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})})},SelectRootProvider=reactExports.forwardRef(SelectImpl),SelectTrigger$2=reactExports.forwardRef((i,o)=>{const s=useSelectContext(),a=mergeProps(s.getTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});SelectTrigger$2.displayName="SelectTrigger";const SelectValueText$2=reactExports.forwardRef((i,o)=>{const{children:s,placeholder:a,..._}=i,$=useSelectContext(),_e=mergeProps($.getValueTextProps(),_);return jsxRuntimeExports.jsx(ark.span,{..._e,ref:o,children:s||$.valueAsString||a})});SelectValueText$2.displayName="SelectValueText";var anatomy$4=createAnatomy("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");anatomy$4.build();createProps$1()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);createProps$1()(["index","name"]);const[SwitchProvider,useSwitchContext]=createContext({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),SwitchControl$1=reactExports.forwardRef((i,o)=>{const s=useSwitchContext(),a=mergeProps(s.getControlProps(),i);return jsxRuntimeExports.jsx(ark.span,{...a,ref:o})});SwitchControl$1.displayName="SwitchControl";const SwitchHiddenInput$1=reactExports.forwardRef((i,o)=>{const s=useSwitchContext(),a=mergeProps(s.getHiddenInputProps(),i),_=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":_==null?void 0:_.ariaDescribedby,...a,ref:o})});SwitchHiddenInput$1.displayName="SwitchHiddenInput";const SwitchLabel$1=reactExports.forwardRef((i,o)=>{const s=useSwitchContext(),a=mergeProps(s.getLabelProps(),i);return jsxRuntimeExports.jsx(ark.span,{...a,ref:o})});SwitchLabel$1.displayName="SwitchLabel";var anatomy$3=createAnatomy("switch").parts("root","label","control","thumb"),parts$3=anatomy$3.build(),getRootId$2=i=>{var o;return((o=i.ids)==null?void 0:o.root)??`switch:${i.id}`},getLabelId=i=>{var o;return((o=i.ids)==null?void 0:o.label)??`switch:${i.id}:label`},getThumbId=i=>{var o;return((o=i.ids)==null?void 0:o.thumb)??`switch:${i.id}:thumb`},getControlId=i=>{var o;return((o=i.ids)==null?void 0:o.control)??`switch:${i.id}:control`},getHiddenInputId=i=>{var o;return((o=i.ids)==null?void 0:o.hiddenInput)??`switch:${i.id}:input`},getRootEl$1=i=>i.getById(getRootId$2(i)),getHiddenInputEl=i=>i.getById(getHiddenInputId(i));function connect$3(i,o){const{context:s,send:a,prop:_,scope:$}=i,_e=_("disabled"),tt=_("readOnly"),nt=!!s.get("checked"),it=!_e&&s.get("focused"),ot=!_e&&s.get("focusVisible"),et={"data-active":dataAttr$1(s.get("active")),"data-focus":dataAttr$1(it),"data-focus-visible":dataAttr$1(ot),"data-readonly":dataAttr$1(tt),"data-hover":dataAttr$1(s.get("hovered")),"data-disabled":dataAttr$1(_e),"data-state":nt?"checked":"unchecked","data-invalid":dataAttr$1(_("invalid"))};return{checked:nt,disabled:_e,focused:it,setChecked(j){a({type:"CHECKED.SET",checked:j,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:nt,isTrusted:!1})},getRootProps(){return o.label({...parts$3.root.attrs,...et,dir:_("dir"),id:getRootId$2($),htmlFor:getHiddenInputId($),onPointerMove(){_e||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){_e||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(j){var st;if(_e)return;getEventTarget(j)===getHiddenInputEl($)&&j.stopPropagation(),isSafari()&&((st=getHiddenInputEl($))==null||st.focus())}})},getLabelProps(){return o.element({...parts$3.label.attrs,...et,dir:_("dir"),id:getLabelId($)})},getThumbProps(){return o.element({...parts$3.thumb.attrs,...et,dir:_("dir"),id:getThumbId($),"aria-hidden":!0})},getControlProps(){return o.element({...parts$3.control.attrs,...et,dir:_("dir"),id:getControlId($),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:getHiddenInputId($),type:"checkbox",required:_("required"),defaultChecked:nt,disabled:_e,"aria-labelledby":getLabelId($),"aria-invalid":_("invalid"),name:_("name"),form:_("form"),value:_("value"),style:visuallyHiddenStyle,onFocus(){const j=isFocusVisible();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:j}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(j){if(tt){j.preventDefault();return}const rt=j.currentTarget.checked;a({type:"CHECKED.SET",checked:rt,isTrusted:!0})}})}}}var{not:not$3}=createGuards(),machine$3={props({props:i}){return{defaultChecked:!1,label:"switch",value:"on",...i}},initialState(){return"ready"},context({prop:i,bindable:o}){return{checked:o(()=>({defaultValue:i("defaultChecked"),value:i("checked"),onChange(s){var a;(a=i("onCheckedChange"))==null||a({checked:s})}})),fieldsetDisabled:o(()=>({defaultValue:!1})),focusVisible:o(()=>({defaultValue:!1})),active:o(()=>({defaultValue:!1})),focused:o(()=>({defaultValue:!1})),hovered:o(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:i,prop:o})=>o("disabled")||i.get("fieldsetDisabled")},watch({track:i,prop:o,context:s,action:a}){i([()=>o("disabled")],()=>{a(["removeFocusIfNeeded"])}),i([()=>s.get("checked")],()=>{a(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:not$3("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:not$3("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:i})=>!!i.isTrusted},effects:{trackPressEvent({computed:i,scope:o,context:s}){if(!i("isDisabled"))return trackPress({pointerNode:getRootEl$1(o),keyboardNode:getHiddenInputEl(o),isValidKey:a=>a.key===" ",onPress:()=>s.set("active",!1),onPressStart:()=>s.set("active",!0),onPressEnd:()=>s.set("active",!1)})},trackFocusVisible({computed:i,scope:o}){if(!i("isDisabled"))return trackFocusVisible({root:o.getRootNode()})},trackFormControlState({context:i,send:o,scope:s}){return trackFormControl(getHiddenInputEl(s),{onFieldsetDisabledChange(a){i.set("fieldsetDisabled",a)},onFormReset(){const a=i.initial("checked");o({type:"CHECKED.SET",checked:!!a,src:"form-reset"})}})}},actions:{setContext({context:i,event:o}){for(const s in o.context)i.set(s,o.context[s])},syncInputElement({context:i,scope:o}){const s=getHiddenInputEl(o);s&&setElementChecked(s,!!i.get("checked"))},removeFocusIfNeeded({context:i,prop:o}){o("disabled")&&i.set("focused",!1)},setChecked({context:i,event:o}){i.set("checked",o.checked)},toggleChecked({context:i}){i.set("checked",!i.get("checked"))},dispatchChangeEvent({context:i,scope:o}){const s=getHiddenInputEl(o);dispatchInputCheckedEvent(s,{checked:i.get("checked")})}}}};createProps$1()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const useSwitch=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),_=useFieldContext(),$={id:o,ids:{label:_==null?void 0:_.ids.label,hiddenInput:_==null?void 0:_.ids.control},dir:a,disabled:_==null?void 0:_.disabled,readOnly:_==null?void 0:_.readOnly,invalid:_==null?void 0:_.invalid,required:_==null?void 0:_.required,getRootNode:s,...i},_e=useMachine(machine$3,$);return connect$3(_e,normalizeProps)},SwitchRoot$1=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),_=useSwitch(s),$=mergeProps(_.getRootProps(),a);return jsxRuntimeExports.jsx(SwitchProvider,{value:_,children:jsxRuntimeExports.jsx(ark.label,{...$,ref:o})})});SwitchRoot$1.displayName="SwitchRoot";const SwitchRootProvider=reactExports.forwardRef((i,o)=>{const[{value:s},a]=createSplitProps()(i,["value"]),_=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(SwitchProvider,{value:s,children:jsxRuntimeExports.jsx(ark.label,{..._,ref:o})})});SwitchRootProvider.displayName="SwitchRootProvider";const SwitchThumb$1=reactExports.forwardRef((i,o)=>{const s=useSwitchContext(),a=mergeProps(s.getThumbProps(),i);return jsxRuntimeExports.jsx(ark.span,{...a,ref:o})});SwitchThumb$1.displayName="SwitchThumb";function useDebounce(i,o){const[s,a]=reactExports.useState(i);return reactExports.useEffect(()=>{const _=setTimeout(()=>{a(i)},o);return()=>{clearTimeout(_)}},[i,o]),s}const[TabsProvider,useTabsContext]=createContext({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),TabContent=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["value"]),_=useTabsContext(),$=useRenderStrategyPropsContext(),_e=usePresence({...$,present:useDebounce(_.value===i.value,0),immediate:!0}),tt=mergeProps(_.getContentProps(s),_e.getPresenceProps(),a);return jsxRuntimeExports.jsx(PresenceProvider,{value:_e,children:_e.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...tt,ref:composeRefs(_e.ref,o)})})});TabContent.displayName="TabContent";const TabIndicator=reactExports.forwardRef((i,o)=>{const s=useTabsContext(),a=mergeProps(s.getIndicatorProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});TabIndicator.displayName="TabIndicator";const TabList=reactExports.forwardRef((i,o)=>{const s=useTabsContext(),a=mergeProps(s.getListProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});TabList.displayName="TabList";const TabTrigger=reactExports.forwardRef((i,o)=>{const[s,a]=createSplitProps()(i,["disabled","value"]),_=useTabsContext(),$=mergeProps(_.getTriggerProps(s),a);return jsxRuntimeExports.jsx(ark.button,{...$,ref:o})});TabTrigger.displayName="TabTrigger";var anatomy$2=createAnatomy("tabs").parts("root","list","trigger","content","indicator"),parts$2=anatomy$2.build(),getRootId$1=i=>{var o;return((o=i.ids)==null?void 0:o.root)??`tabs:${i.id}`},getListId=i=>{var o;return((o=i.ids)==null?void 0:o.list)??`tabs:${i.id}:list`},getContentId$1=(i,o)=>{var s;return((s=i.ids)==null?void 0:s.content)??`tabs:${i.id}:content-${o}`},getTriggerId$1=(i,o)=>{var s;return((s=i.ids)==null?void 0:s.trigger)??`tabs:${i.id}:trigger-${o}`},getIndicatorId=i=>{var o;return((o=i.ids)==null?void 0:o.indicator)??`tabs:${i.id}:indicator`},getListEl=i=>i.getById(getListId(i)),getContentEl=(i,o)=>i.getById(getContentId$1(i,o)),getTriggerEl$1=(i,o)=>i.getById(getTriggerId$1(i,o)),getIndicatorEl=i=>i.getById(getIndicatorId(i)),getElements=i=>{const s=`[role=tab][data-ownedby='${CSS.escape(getListId(i))}']:not([disabled])`;return queryAll(getListEl(i),s)},getFirstTriggerEl=i=>first(getElements(i)),getLastTriggerEl=i=>last(getElements(i)),getNextTriggerEl=(i,o)=>nextById(getElements(i),getTriggerId$1(i,o.value),o.loopFocus),getPrevTriggerEl=(i,o)=>prevById(getElements(i),getTriggerId$1(i,o.value),o.loopFocus),getOffsetRect=i=>({left:(i==null?void 0:i.offsetLeft)??0,top:(i==null?void 0:i.offsetTop)??0,width:(i==null?void 0:i.offsetWidth)??0,height:(i==null?void 0:i.offsetHeight)??0}),getRectById=(i,o)=>{const s=itemById(getElements(i),getTriggerId$1(i,o));return resolveRect(getOffsetRect(s))},resolveRect=i=>({width:`${i.width}px`,height:`${i.height}px`,left:`${i.left}px`,top:`${i.top}px`});function connect$2(i,o){const{state:s,send:a,context:_,prop:$,scope:_e}=i,tt=$("translations"),nt=s.matches("focused"),it=$("orientation")==="vertical",ot=$("orientation")==="horizontal",et=$("composite");function j(rt){return{selected:_.get("value")===rt.value,focused:_.get("focusedValue")===rt.value,disabled:!!rt.disabled}}return{value:_.get("value"),focusedValue:_.get("focusedValue"),setValue(rt){a({type:"SET_VALUE",value:rt})},clearValue(){a({type:"CLEAR_VALUE"})},setIndicatorRect(rt){const st=getTriggerId$1(_e,rt);a({type:"SET_INDICATOR_RECT",id:st})},syncTabIndex(){a({type:"SYNC_TAB_INDEX"})},selectNext(rt){a({type:"TAB_FOCUS",value:rt,src:"selectNext"}),a({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(rt){a({type:"TAB_FOCUS",value:rt,src:"selectPrev"}),a({type:"ARROW_PREV",src:"selectPrev"})},focus(){var st;const rt=_.get("value");rt&&((st=getTriggerEl$1(_e,rt))==null||st.focus())},getRootProps(){return o.element({...parts$2.root.attrs,id:getRootId$1(_e),"data-orientation":$("orientation"),"data-focus":dataAttr$1(nt),dir:$("dir")})},getListProps(){return o.element({...parts$2.list.attrs,id:getListId(_e),role:"tablist",dir:$("dir"),"data-focus":dataAttr$1(nt),"aria-orientation":$("orientation"),"data-orientation":$("orientation"),"aria-label":tt==null?void 0:tt.listLabel,onKeyDown(rt){if(rt.defaultPrevented||!isSelfTarget(rt)||isComposingEvent(rt))return;const st={ArrowDown(){ot||a({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){ot||a({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){it||a({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){it||a({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){a({type:"HOME"})},End(){a({type:"END"})},Enter(){a({type:"ENTER"})}};let at=getEventKey(rt,{dir:$("dir"),orientation:$("orientation")});const lt=st[at];lt&&(rt.preventDefault(),lt(rt))}})},getTriggerState:j,getTriggerProps(rt){const{value:st,disabled:at}=rt,lt=j(rt);return o.button({...parts$2.trigger.attrs,role:"tab",type:"button",disabled:at,dir:$("dir"),"data-orientation":$("orientation"),"data-disabled":dataAttr$1(at),"aria-disabled":at,"data-value":st,"aria-selected":lt.selected,"data-selected":dataAttr$1(lt.selected),"data-focus":dataAttr$1(lt.focused),"aria-controls":lt.selected?getContentId$1(_e,st):void 0,"data-ownedby":getListId(_e),"data-ssr":dataAttr$1(_.get("ssr")),id:getTriggerId$1(_e,st),tabIndex:lt.selected&&et?0:-1,onFocus(){a({type:"TAB_FOCUS",value:st})},onBlur(ct){const ut=ct.relatedTarget;(ut==null?void 0:ut.getAttribute("role"))!=="tab"&&a({type:"TAB_BLUR"})},onClick(ct){ct.defaultPrevented||at||(isSafari()&&ct.currentTarget.focus(),a({type:"TAB_CLICK",value:st}))}})},getContentProps(rt){const{value:st}=rt,at=_.get("value")===st;return o.element({...parts$2.content.attrs,dir:$("dir"),id:getContentId$1(_e,st),tabIndex:et?0:-1,"aria-labelledby":getTriggerId$1(_e,st),role:"tabpanel","data-ownedby":getListId(_e),"data-selected":dataAttr$1(at),"data-orientation":$("orientation"),hidden:!at})},getIndicatorProps(){const rt=_.get("indicatorRect"),st=_.get("indicatorTransition");return o.element({id:getIndicatorId(_e),...parts$2.indicator.attrs,dir:$("dir"),"data-orientation":$("orientation"),style:{"--transition-property":"left, right, top, bottom, width, height","--left":rt.left,"--top":rt.top,"--width":rt.width,"--height":rt.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:st?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[ot?"left":"top"]:ot?"var(--left)":"var(--top)"}})}}}var{not:not$2}=createGuards(),machine$2={props({props:i}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(o){clickIfLink(o.node)},defaultValue:null,...i}},initialState(){return"idle"},context({prop:i,bindable:o}){return{value:o(()=>({defaultValue:i("defaultValue"),value:i("value"),onChange(s){var a;(a=i("onValueChange"))==null||a({value:s})}})),focusedValue:o(()=>({defaultValue:i("value")||i("defaultValue"),sync:!0,onChange(s){var a;(a=i("onFocusChange"))==null||a({focusedValue:s})}})),ssr:o(()=>({defaultValue:!0})),indicatorTransition:o(()=>({defaultValue:!1})),indicatorRect:o(()=>({defaultValue:{left:"0px",top:"0px",width:"0px",height:"0px"}}))}},watch({context:i,prop:o,track:s,action:a}){s([()=>i.get("value")],()=>{a(["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),s([()=>o("dir"),()=>o("orientation")],()=>{a(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],ENTER:{guard:not$2("selectOnFocus"),actions:["selectFocusedTab"]},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:i})=>i("activationMode")==="automatic"},actions:{selectFocusedTab({context:i,prop:o}){raf$1(()=>{const s=i.get("focusedValue");if(!s)return;const _=o("deselectable")&&i.get("value")===s?null:s;i.set("value",_)})},setFocusedValue({context:i,event:o,flush:s}){o.value!=null&&s(()=>{i.set("focusedValue",o.value)})},clearFocusedValue({context:i}){i.set("focusedValue",null)},setValue({context:i,event:o,prop:s}){const a=s("deselectable")&&i.get("value")===i.get("focusedValue");i.set("value",a?null:o.value)},clearValue({context:i}){i.set("value",null)},focusFirstTab({scope:i}){raf$1(()=>{var o;(o=getFirstTriggerEl(i))==null||o.focus()})},focusLastTab({scope:i}){raf$1(()=>{var o;(o=getLastTriggerEl(i))==null||o.focus()})},focusNextTab({context:i,prop:o,scope:s,event:a}){const _=a.value??i.get("focusedValue");if(!_)return;const $=getNextTriggerEl(s,{value:_,loopFocus:o("loopFocus")});raf$1(()=>{o("composite")?$==null||$.focus():($==null?void 0:$.dataset.value)!=null&&i.set("focusedValue",$.dataset.value)})},focusPrevTab({context:i,prop:o,scope:s,event:a}){const _=a.value??i.get("focusedValue");if(!_)return;const $=getPrevTriggerEl(s,{value:_,loopFocus:o("loopFocus")});raf$1(()=>{o("composite")?$==null||$.focus():($==null?void 0:$.dataset.value)!=null&&i.set("focusedValue",$.dataset.value)})},syncTabIndex({context:i,scope:o}){raf$1(()=>{const s=i.get("value");if(!s)return;const a=getContentEl(o,s);if(!a)return;getFocusables(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0")})},cleanupObserver({refs:i}){const o=i.get("indicatorCleanup");o&&o()},allowIndicatorTransition({context:i}){i.set("indicatorTransition",!0)},setIndicatorRect({context:i,event:o,scope:s}){const a=o.id??i.get("value");if(!getIndicatorEl(s))return;if(!a){i.set("indicatorTransition",!1);return}getTriggerEl$1(s,a)&&(i.set("indicatorRect",getRectById(s,a)),nextTick(()=>{i.set("indicatorTransition",!1)}))},syncSsr({context:i}){i.set("ssr",!1)},syncIndicatorRect({context:i,refs:o,scope:s}){const a=o.get("indicatorCleanup");a&&a();const _=i.get("value");if(!_){i.set("indicatorTransition",!1);return}const $=getTriggerEl$1(s,_),_e=getIndicatorEl(s);if(!$||!_e)return;const tt=trackElementRect([$],{measure(nt){return getOffsetRect(nt)},onEntry({rects:nt}){const[it]=nt;i.set("indicatorRect",resolveRect(it))}});o.set("indicatorCleanup",tt)},navigateIfNeeded({context:i,prop:o,scope:s}){var $;const a=i.get("value");if(!a)return;const _=getTriggerEl$1(s,a);isAnchorElement(_)&&(($=o("navigate"))==null||$({value:a,node:_}))}}}};createProps$1()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);createProps$1()(["disabled","value"]);createProps$1()(["value"]);const useTabs=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),_={id:o,dir:a,getRootNode:s,...i},$=useMachine(machine$2,_);return connect$2($,normalizeProps)},TabsRoot$1=reactExports.forwardRef((i,o)=>{const[s,a]=splitRenderStrategyProps(i),[_,$]=createSplitProps()(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),_e=useTabs(_),tt=mergeProps(_e.getRootProps(),$);return jsxRuntimeExports.jsx(TabsProvider,{value:_e,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{...tt,ref:o})})})});TabsRoot$1.displayName="TabsRoot";const TabsRootProvider=reactExports.forwardRef((i,o)=>{const[s,a]=splitRenderStrategyProps(i),[{value:_},$]=createSplitProps()(a,["value"]),_e=mergeProps(_.getRootProps(),$);return jsxRuntimeExports.jsx(TabsProvider,{value:_,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{..._e,ref:o})})})});TabsRootProvider.displayName="TabsRootProvider";var anatomy$1=createAnatomy("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),parts$1=anatomy$1.build(),getRegionId=i=>`toast-group:${i}`,getRegionEl=(i,o)=>i.getById(`toast-group:${o}`),getRootId=i=>`toast:${i.id}`,getRootEl=i=>i.getById(getRootId(i)),getTitleId=i=>`toast:${i.id}:title`,getDescriptionId=i=>`toast:${i.id}:description`,getCloseTriggerId=i=>`toast${i.id}:close`,defaultTimeouts={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function getToastDuration(i,o){return i??defaultTimeouts[o]??defaultTimeouts.DEFAULT}var getOffsets=i=>typeof i=="string"?{left:i,right:i,bottom:i,top:i}:i;function getGroupPlacementStyle(i,o){var at;const{prop:s,computed:a,context:_}=i,{offsets:$,gap:_e}=s("store").attrs,tt=_.get("heights"),nt=getOffsets($),it=s("dir")==="rtl",ot=o.replace("-start",it?"-right":"-left").replace("-end",it?"-left":"-right"),et=ot.includes("right"),j=ot.includes("left"),rt={position:"fixed",pointerEvents:a("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${_e}px`,"--first-height":`${((at=tt[0])==null?void 0:at.height)||0}px`,zIndex:MAX_Z_INDEX};let st="center";if(et&&(st="flex-end"),j&&(st="flex-start"),rt.alignItems=st,ot.includes("top")){const lt=nt.top;rt.top=`max(env(safe-area-inset-top, 0px), ${lt})`}if(ot.includes("bottom")){const lt=nt.bottom;rt.bottom=`max(env(safe-area-inset-bottom, 0px), ${lt})`}if(!ot.includes("left")){const lt=nt.right;rt.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${lt})`}if(!ot.includes("right")){const lt=nt.left;rt.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${lt})`}return rt}function getPlacementStyle(i,o){const{prop:s,context:a,computed:_}=i,$=s("parent"),_e=$.computed("placement"),{gap:tt}=$.prop("store").attrs,[nt]=_e.split("-"),it=a.get("mounted"),ot=a.get("remainingTime"),et=_("height"),j=_("frontmost"),rt=!j,st=!s("stacked"),at=s("stacked"),ct=s("type")==="loading"?Number.MAX_SAFE_INTEGER:ot,ut=_("heightIndex")*tt+_("heightBefore"),dt={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${s("removeDelay")}ms`,"--duration":`${ct}ms`,"--initial-height":`${et}px`,"--offset":`${ut}px`,"--index":s("index"),"--z-index":_("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},ft=ht=>Object.assign(dt,ht);return nt==="top"?ft({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):nt==="bottom"&&ft({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),it&&(ft({"--y":"0","--opacity":"1"}),at&&ft({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),o||ft({"--opacity":"0",pointerEvents:"none"}),rt&&st&&(ft({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),o||ft({"--y":"calc(var(--sign) * 40%)"})),rt&&at&&!o&&ft({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),j&&!o&&ft({"--y":"calc(var(--lift) * -100%)"}),dt}function getGhostBeforeStyle(i,o){const{computed:s}=i,a={position:"absolute",inset:"0",scale:"1 2",pointerEvents:o?"none":"auto"},_=$=>Object.assign(a,$);return s("frontmost")&&!o&&_({height:"calc(var(--initial-height) + 80%)"}),a}function getGhostAfterStyle(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function groupConnect(i,o){const{context:s,prop:a,send:_,refs:$,computed:_e}=i;return{getCount(){return s.get("toasts").length},getToasts(){return s.get("toasts")},getGroupProps(tt={}){const{label:nt="Notifications"}=tt,{hotkey:it}=a("store").attrs,ot=it.join("+").replace(/Key/g,"").replace(/Digit/g,""),et=_e("placement"),[j,rt="center"]=et.split("-");return o.element({...parts$1.group.attrs,dir:a("dir"),tabIndex:-1,"aria-label":`${et} ${nt} ${ot}`,id:getRegionId(et),"data-placement":et,"data-side":j,"data-align":rt,"aria-live":"polite",role:"region",style:getGroupPlacementStyle(i,et),onMouseMove(){_({type:"REGION.POINTER_ENTER",placement:et})},onMouseLeave(){_({type:"REGION.POINTER_LEAVE",placement:et})},onFocus(st){_({type:"REGION.FOCUS",target:st.relatedTarget})},onBlur(st){$.get("isFocusWithin")&&!contains(st.currentTarget,st.relatedTarget)&&queueMicrotask(()=>_({type:"REGION.BLUR"}))}})},subscribe(tt){return a("store").subscribe(()=>tt(s.get("toasts")))}}}var groupMachine={props({props:i}){return{dir:"ltr",id:uuid(),...i,store:i.store}},initialState({prop:i}){return i("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,dismissableCleanup:void 0}},context({bindable:i}){return{toasts:i(()=>({defaultValue:[],sync:!0,hash:o=>o.map(s=>s.id).join(",")})),heights:i(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:i})=>i.get("toasts").length,overlap:({prop:i})=>i("store").attrs.overlap,placement:({prop:i})=>i("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:i,context:o,action:s}){i([()=>o.hash("toasts")],()=>{queueMicrotask(()=>{s(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["collapseToasts","resumeToasts","restoreLastFocusedEl"]},{target:"stack",actions:["resumeToasts","restoreLastFocusedEl"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","collapseToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:i})=>i("overlap")},effects:{subscribeToStore({context:i,prop:o}){return o("store").subscribe(s=>{if(s.dismiss){i.set("toasts",a=>a.filter(_=>_.id!==s.id));return}i.set("toasts",a=>{const _=a.findIndex($=>$.id===s.id);return _!==-1?[...a.slice(0,_),{...a[_],...s},...a.slice(_+1)]:[s,...a]})})},trackHotKeyPress({prop:i,send:o}){return addDomEvent(document,"keydown",a=>{const{hotkey:_}=i("store").attrs;_.every(_e=>a[_e]||a.code===_e)&&o({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:i,send:o,scope:s}){const{pauseOnPageIdle:a}=i("store").attrs;if(!a)return;const _=s.getDoc();return addDomEvent(_,"visibilitychange",()=>{const $=_.visibilityState==="hidden";o({type:$?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:i,context:o,computed:s,scope:a}){var it;const _=o.get("toasts"),$=s("placement"),_e=_.length>0;if(!_e){(it=i.get("dismissableCleanup"))==null||it();return}if(_e&&i.get("dismissableCleanup"))return;const nt=trackDismissableBranch(()=>getRegionEl(a,$),{defer:!0});i.set("dismissableCleanup",nt)},clearDismissableBranch({refs:i}){var o;(o=i.get("dismissableCleanup"))==null||o()},focusRegionEl({scope:i,computed:o}){queueMicrotask(()=>{var s;(s=getRegionEl(i,o("placement")))==null||s.focus()})},pauseToasts({prop:i}){i("store").pause()},resumeToasts({prop:i}){i("store").resume()},expandToasts({prop:i}){i("store").expand()},collapseToasts({prop:i}){i("store").collapse()},removeToast({prop:i,event:o}){i("store").remove(o.id)},removeHeight({event:i,context:o}){(i==null?void 0:i.id)!=null&&queueMicrotask(()=>{o.set("heights",s=>s.filter(a=>a.id!==i.id))})},collapsedIfEmpty({send:i,computed:o}){!o("overlap")||o("count")>1||i({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:i,event:o}){i.get("isFocusWithin")||!o.target||(i.set("isFocusWithin",!0),i.set("lastFocusedEl",o.target))},restoreLastFocusedEl({refs:i}){var o;i.get("lastFocusedEl")&&((o=i.get("lastFocusedEl"))==null||o.focus({preventScroll:!0}),i.set("lastFocusedEl",null),i.set("isFocusWithin",!1))},clearLastFocusedEl({refs:i}){var o;i.get("lastFocusedEl")&&((o=i.get("lastFocusedEl"))==null||o.focus({preventScroll:!0}),i.set("lastFocusedEl",null),i.set("isFocusWithin",!1))}}}};function connect$1(i,o){const{state:s,send:a,prop:_,scope:$,context:_e,computed:tt}=i,nt=s.hasTag("visible"),it=s.hasTag("paused"),ot=_e.get("mounted"),et=tt("frontmost"),j=_("parent").computed("placement"),rt=_("type"),st=_("stacked"),at=_("title"),lt=_("description"),ct=_("action"),[ut,dt="center"]=j.split("-");return{type:rt,title:at,description:lt,placement:j,visible:nt,paused:it,closable:!!_("closable"),pause(){a({type:"PAUSE"})},resume(){a({type:"RESUME"})},dismiss(){a({type:"DISMISS",src:"programmatic"})},getRootProps(){return o.element({...parts$1.root.attrs,dir:_("dir"),id:getRootId($),"data-state":nt?"open":"closed","data-type":rt,"data-placement":j,"data-align":dt,"data-side":ut,"data-mounted":dataAttr$1(ot),"data-paused":dataAttr$1(it),"data-first":dataAttr$1(et),"data-sibling":dataAttr$1(!et),"data-stack":dataAttr$1(st),"data-overlap":dataAttr$1(!st),role:"status","aria-atomic":"true","aria-describedby":lt?getDescriptionId($):void 0,"aria-labelledby":at?getTitleId($):void 0,tabIndex:0,style:getPlacementStyle(i,nt),onKeyDown(ft){ft.defaultPrevented||ft.key=="Escape"&&(a({type:"DISMISS",src:"keyboard"}),ft.preventDefault())}})},getGhostBeforeProps(){return o.element({"data-ghost":"before",style:getGhostBeforeStyle(i,nt)})},getGhostAfterProps(){return o.element({"data-ghost":"after",style:getGhostAfterStyle()})},getTitleProps(){return o.element({...parts$1.title.attrs,id:getTitleId($)})},getDescriptionProps(){return o.element({...parts$1.description.attrs,id:getDescriptionId($)})},getActionTriggerProps(){return o.button({...parts$1.actionTrigger.attrs,type:"button",onClick(ft){var ht;ft.defaultPrevented||((ht=ct==null?void 0:ct.onClick)==null||ht.call(ct),a({type:"DISMISS",src:"user"}))}})},getCloseTriggerProps(){return o.button({id:getCloseTriggerId($),...parts$1.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(ft){ft.defaultPrevented||a({type:"DISMISS",src:"user"})}})}}}var{not:not$1}=createGuards(),machine$1={props({props:i}){return ensureProps(i,["id","type","parent","removeDelay"],"toast"),{closable:!0,...i,duration:getToastDuration(i.duration,i.type)}},initialState({prop:i}){return i("type")==="loading"||i("duration")===1/0?"visible:persist":"visible"},context({prop:i,bindable:o}){return{remainingTime:o(()=>({defaultValue:getToastDuration(i("duration"),i("type"))})),createdAt:o(()=>({defaultValue:Date.now()})),mounted:o(()=>({defaultValue:!1})),initialHeight:o(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:i})=>{const o=i("parent").context.get("toasts"),s=o.findIndex(a=>a.id===i("id"));return o.length-s},height:({prop:i})=>{const s=i("parent").context.get("heights").find(a=>a.id===i("id"));return(s==null?void 0:s.height)??0},heightIndex:({prop:i})=>i("parent").context.get("heights").findIndex(s=>s.id===i("id")),frontmost:({prop:i})=>i("index")===0,heightBefore:({prop:i})=>{const o=i("parent").context.get("heights"),s=o.findIndex(a=>a.id===i("id"));return o.reduce((a,_,$)=>$>=s?a:a+_.height,0)},shouldPersist:({prop:i})=>i("type")==="loading"||i("duration")===1/0},watch({track:i,prop:o,send:s}){i([()=>o("message")],()=>{const a=o("message");a&&s({type:a,src:"programmatic"})}),i([()=>o("type"),()=>o("duration")],()=>{s({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:not$1("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:i,send:o}){return setRafTimeout(()=>{o({type:"REMOVE",src:"timer"})},i("removeDelay"))},waitForDuration({send:i,context:o,computed:s}){if(!s("shouldPersist"))return setRafTimeout(()=>{i({type:"DISMISS",src:"timer"})},o.get("remainingTime"))},waitForNextTick({send:i}){return setRafTimeout(()=>{i({type:"SHOW",src:"timer"})},0)},trackHeight({scope:i,prop:o}){let s;return raf$1(()=>{const a=getRootEl(i);if(!a)return;const _=()=>{const tt=a.style.height;a.style.height="auto";const nt=a.getBoundingClientRect().height;a.style.height=tt;const it={id:o("id"),height:nt};setHeight(o("parent"),it)},$=i.getWin(),_e=new $.MutationObserver(_);_e.observe(a,{childList:!0,subtree:!0,characterData:!0}),s=()=>_e.disconnect()}),()=>s==null?void 0:s()}},guards:{isLoadingType:({prop:i})=>i("type")==="loading",shouldPersist:({computed:i})=>i("shouldPersist")},actions:{setMounted({context:i}){raf$1(()=>{i.set("mounted",!0)})},measureHeight({scope:i,prop:o,context:s}){queueMicrotask(()=>{const a=getRootEl(i);if(!a)return;const _=a.style.height;a.style.height="auto";const $=a.getBoundingClientRect().height;a.style.height=_,s.set("initialHeight",$);const _e={id:o("id"),height:$};setHeight(o("parent"),_e)})},setCloseTimer({refs:i}){i.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:i,refs:o,prop:s}){o.set("closeTimerStartTime",Date.now()),i.set("remainingTime",getToastDuration(s("duration"),s("type")))},syncRemainingTime({context:i,refs:o}){i.set("remainingTime",s=>{const a=o.get("closeTimerStartTime"),_=Date.now()-a;return o.set("lastCloseStartTimerStartTime",Date.now()),s-_})},notifyParentToRemove({prop:i}){i("parent").send({type:"TOAST.REMOVE",id:i("id")})},invokeOnDismiss({prop:i,event:o}){var s;(s=i("onStatusChange"))==null||s({status:"dismissing",src:o.src})},invokeOnUnmount({prop:i}){var o;(o=i("onStatusChange"))==null||o({status:"unmounted"})},invokeOnVisible({prop:i}){var o;(o=i("onStatusChange"))==null||o({status:"visible"})}}}};function setHeight(i,o){const{id:s,height:a}=o;i.context.set("heights",_=>_.find(_e=>_e.id===s)?_.map(_e=>_e.id===s?{..._e,height:a}:_e):[{id:s,height:a},..._])}var withDefaults=(i,o)=>({...o,...compact(i)});function createToastStore(i){const o=withDefaults(i,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let s=[],a=[],_=new Set;const $=vt=>(s.push(vt),()=>{const wt=s.indexOf(vt);s.splice(wt,1)}),_e=vt=>(s.forEach(wt=>wt(vt)),vt),tt=vt=>{a.length>=o.max||(_e(vt),a.unshift(vt))},nt=vt=>{const wt=vt.id??`toast:${uuid()}`,Ct=a.find(Rt=>Rt.id===wt);return _.has(wt)&&_.delete(wt),Ct?a=a.map(Rt=>Rt.id===wt?_e({...Rt,...vt,id:wt}):Rt):tt({id:wt,duration:o.duration,removeDelay:o.removeDelay,type:"info",...vt,stacked:!o.overlap,gap:o.gap}),wt},it=vt=>(_.add(vt),vt?(s.forEach(wt=>wt({id:vt,dismiss:!0})),a=a.filter(wt=>wt.id!==vt)):(a.forEach(wt=>{s.forEach(Ct=>Ct({id:wt.id,dismiss:!0}))}),a=[]),vt);return{attrs:o,subscribe:$,create:nt,update:(vt,wt)=>nt({id:vt,...wt}),remove:it,dismiss:vt=>{vt!=null?a=a.map(wt=>wt.id===vt?_e({...wt,message:"DISMISS"}):wt):a=a.map(wt=>_e({...wt,message:"DISMISS"}))},error:vt=>nt({...vt,type:"error"}),success:vt=>nt({...vt,type:"success"}),info:vt=>nt({...vt,type:"info"}),warning:vt=>nt({...vt,type:"warning"}),loading:vt=>nt({...vt,type:"loading"}),getVisibleToasts:()=>a.filter(vt=>!_.has(vt.id)),getCount:()=>a.length,promise:(vt,wt,Ct={})=>{if(!wt)return;let Rt;wt.loading!==void 0&&(Rt=nt({...Ct,...wt.loading,promise:vt,type:"loading"}));let It=Rt!==void 0,Pt;const St=runIfFn(vt).then(async At=>{if(Pt=["resolve",At],isHttpResponse(At)&&!At.ok){It=!1;const $t=runIfFn(wt.error,`HTTP Error! status: ${At.status}`);nt({...Ct,...$t,id:Rt,type:"error"})}else if(wt.success!==void 0){It=!1;const $t=runIfFn(wt.success,At);nt({...Ct,...$t,id:Rt,type:"success"})}}).catch(async At=>{if(Pt=["reject",At],wt.error!==void 0){It=!1;const $t=runIfFn(wt.error,At);nt({...Ct,...$t,id:Rt,type:"error"})}}).finally(()=>{var At;It&&(it(Rt),Rt=void 0),(At=wt.finally)==null||At.call(wt)});return{id:Rt,unwrap:()=>new Promise((At,$t)=>St.then(()=>Pt[0]==="reject"?$t(Pt[1]):At(Pt[1])).catch($t))}},pause:vt=>{vt!=null?a=a.map(wt=>wt.id===vt?_e({...wt,message:"PAUSE"}):wt):a=a.map(wt=>_e({...wt,message:"PAUSE"}))},resume:vt=>{vt!=null?a=a.map(wt=>wt.id===vt?_e({...wt,message:"RESUME"}):wt):a=a.map(wt=>_e({...wt,message:"RESUME"}))},isVisible:vt=>!_.has(vt)&&!!a.find(wt=>wt.id===vt),isDismissed:vt=>_.has(vt),expand:()=>{a=a.map(vt=>_e({...vt,stacked:!0}))},collapse:()=>{a=a.map(vt=>_e({...vt,stacked:!1}))}}}var isHttpResponse=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",group$3={connect:groupConnect,machine:groupMachine};const createToaster=i=>createToastStore(i),[ToastProvider,useToastContext]=createContext({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),ToastActionTrigger$1=reactExports.forwardRef((i,o)=>{const s=useToastContext(),a=mergeProps(s.getActionTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});ToastActionTrigger$1.displayName="ToastActionTrigger";const ToastCloseTrigger$1=reactExports.forwardRef((i,o)=>{const s=useToastContext(),a=mergeProps(s.getCloseTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});ToastCloseTrigger$1.displayName="ToastCloseTrigger";const ToastDescription$1=reactExports.forwardRef((i,o)=>{const s=useToastContext(),a=mergeProps(s.getDescriptionProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});ToastDescription$1.displayName="ToastDescription";const ToastRoot$1=reactExports.forwardRef((i,o)=>{const s=useToastContext(),a=mergeProps(s.getRootProps(),i);return jsxRuntimeExports.jsxs("div",{...a,ref:o,children:[jsxRuntimeExports.jsx("div",{...s.getGhostBeforeProps()}),i.children,jsxRuntimeExports.jsx("div",{...s.getGhostAfterProps()})]})});ToastRoot$1.displayName="ToastRoot";const ToastTitle$1=reactExports.forwardRef((i,o)=>{const s=useToastContext(),a=mergeProps(s.getTitleProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});ToastTitle$1.displayName="ToastTitle";const Toaster$2=reactExports.forwardRef((i,o)=>{const{toaster:s,children:a,..._}=i,$=useLocaleContext(),_e=useEnvironmentContext(),tt=useMachine(group$3.machine,{store:s,id:reactExports.useId(),dir:$==null?void 0:$.dir,getRootNode:_e==null?void 0:_e.getRootNode}),nt=group$3.connect(tt,normalizeProps),it=mergeProps(nt.getGroupProps(),_);return jsxRuntimeExports.jsx(ark.div,{...it,ref:o,children:nt.getToasts().map((ot,et)=>jsxRuntimeExports.jsx(ToastActor,{value:ot,parent:tt,index:et,children:j=>a(j)},ot.id))})});Toaster$2.displayName="Toaster";const ToastActor=i=>{const o={...i.value,parent:i.parent,index:i.index},s=useMachine(machine$1,{...o}),a=connect$1(s,normalizeProps);return jsxRuntimeExports.jsx(ToastProvider,{value:a,children:i.children(i.value)})};ToastActor.displayName="ToastActor";const[TooltipProvider,useTooltipContext]=createContext({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),TooltipArrow$1=reactExports.forwardRef((i,o)=>{const s=useTooltipContext(),a=mergeProps(s.getArrowProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});TooltipArrow$1.displayName="TooltipArrow";const TooltipArrowTip$1=reactExports.forwardRef((i,o)=>{const s=useTooltipContext(),a=mergeProps(s.getArrowTipProps(),i);return jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});TooltipArrowTip$1.displayName="TooltipArrowTip";const TooltipContent$1=reactExports.forwardRef((i,o)=>{const s=useTooltipContext(),a=usePresenceContext(),_=mergeProps(s.getContentProps(),a.getPresenceProps(),i);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{..._,ref:composeRefs(a.ref,o)})});TooltipContent$1.displayName="TooltipContent";const TooltipPositioner$1=reactExports.forwardRef((i,o)=>{const s=useTooltipContext(),a=mergeProps(s.getPositionerProps(),i);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:o})});TooltipPositioner$1.displayName="TooltipPositioner";const GET_ORIGINAL_SYMBOL=Symbol(),getProto=Object.getPrototypeOf,objectsToTrack=new WeakMap,isObjectToTrack=i=>i&&(objectsToTrack.has(i)?objectsToTrack.get(i):getProto(i)===Object.prototype||getProto(i)===Array.prototype),getUntracked=i=>isObjectToTrack(i)&&i[GET_ORIGINAL_SYMBOL]||null,markToTrack=(i,o=!0)=>{objectsToTrack.set(i,o)};function glob(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function globalRef(i,o){const s=glob();return s?(s[i]||(s[i]=o()),s[i]):o()}var refSet=globalRef("__zag__refSet",()=>new WeakSet),isReactElement=i=>typeof i=="object"&&i!==null&&"$$typeof"in i&&"props"in i,isVueElement=i=>typeof i=="object"&&i!==null&&"__v_isVNode"in i,isDOMElement=i=>typeof i=="object"&&i!==null&&"nodeType"in i&&typeof i.nodeName=="string",isElement=i=>isReactElement(i)||isVueElement(i)||isDOMElement(i),isObject$1=i=>i!==null&&typeof i=="object",canProxy=i=>isObject$1(i)&&!refSet.has(i)&&(Array.isArray(i)||!(Symbol.iterator in i))&&!isElement(i)&&!(i instanceof WeakMap)&&!(i instanceof WeakSet)&&!(i instanceof Error)&&!(i instanceof Number)&&!(i instanceof Date)&&!(i instanceof String)&&!(i instanceof RegExp)&&!(i instanceof ArrayBuffer)&&!(i instanceof Promise),proxyStateMap=globalRef("__zag__proxyStateMap",()=>new WeakMap),buildProxyFunction=(i=Object.is,o=(tt,nt)=>new Proxy(tt,nt),s=new WeakMap,a=(tt,nt)=>{const it=s.get(tt);if((it==null?void 0:it[0])===nt)return it[1];const ot=Array.isArray(tt)?[]:Object.create(Object.getPrototypeOf(tt));return markToTrack(ot,!0),s.set(tt,[nt,ot]),Reflect.ownKeys(tt).forEach(et=>{const j=Reflect.get(tt,et);refSet.has(j)?(markToTrack(j,!1),ot[et]=j):proxyStateMap.has(j)?ot[et]=snapshot(j):ot[et]=j}),Object.freeze(ot)},_=new WeakMap,$=[1,1],_e=tt=>{if(!isObject$1(tt))throw new Error("object required");const nt=_.get(tt);if(nt)return nt;let it=$[0];const ot=new Set,et=(bt,yt=++$[0])=>{it!==yt&&(it=yt,ot.forEach(gt=>gt(bt,yt)))};let j=$[1];const rt=(bt=++$[1])=>(j!==bt&&!ot.size&&(j=bt,at.forEach(([yt])=>{const gt=yt[1](bt);gt>it&&(it=gt)})),it),st=bt=>(yt,gt)=>{const vt=[...yt];vt[1]=[bt,...vt[1]],et(vt,gt)},at=new Map,lt=(bt,yt)=>{if(ot.size){const gt=yt[3](st(bt));at.set(bt,[yt,gt])}else at.set(bt,[yt])},ct=bt=>{var gt;const yt=at.get(bt);yt&&(at.delete(bt),(gt=yt[1])==null||gt.call(yt))},ut=bt=>(ot.add(bt),ot.size===1&&at.forEach(([gt,vt],wt)=>{const Ct=gt[3](st(wt));at.set(wt,[gt,Ct])}),()=>{ot.delete(bt),ot.size===0&&at.forEach(([gt,vt],wt)=>{vt&&(vt(),at.set(wt,[gt]))})}),dt=Array.isArray(tt)?[]:Object.create(Object.getPrototypeOf(tt)),ht=o(dt,{deleteProperty(bt,yt){const gt=Reflect.get(bt,yt);ct(yt);const vt=Reflect.deleteProperty(bt,yt);return vt&&et(["delete",[yt],gt]),vt},set(bt,yt,gt,vt){var It;const wt=Reflect.has(bt,yt),Ct=Reflect.get(bt,yt,vt);if(wt&&(i(Ct,gt)||_.has(gt)&&i(Ct,_.get(gt))))return!0;ct(yt),isObject$1(gt)&&(gt=getUntracked(gt)||gt);let Rt=gt;if(!((It=Object.getOwnPropertyDescriptor(bt,yt))!=null&&It.set)){!proxyStateMap.has(gt)&&canProxy(gt)&&(Rt=proxy(gt));const Pt=!refSet.has(Rt)&&proxyStateMap.get(Rt);Pt&&lt(yt,Pt)}return Reflect.set(bt,yt,Rt,vt),et(["set",[yt],gt,Ct]),!0}});_.set(tt,ht);const mt=[dt,rt,a,ut];return proxyStateMap.set(ht,mt),Reflect.ownKeys(tt).forEach(bt=>{const yt=Object.getOwnPropertyDescriptor(tt,bt);yt.get||yt.set?Object.defineProperty(dt,bt,yt):ht[bt]=tt[bt]}),ht})=>[_e,proxyStateMap,refSet,i,o,canProxy,s,a,_,$],[proxyFunction]=buildProxyFunction();function proxy(i={}){return proxyFunction(i)}function subscribe(i,o,s){const a=proxyStateMap.get(i);let _;const $=[],_e=a[3];let tt=!1;const it=_e(ot=>{$.push(ot),_||(_=Promise.resolve().then(()=>{_=void 0,tt&&o($.splice(0))}))});return tt=!0,()=>{tt=!1,it()}}function snapshot(i){const o=proxyStateMap.get(i),[s,a,_]=o;return _(s,a())}var anatomy=createAnatomy("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),parts=anatomy.build(),getTriggerId=i=>{var o;return((o=i.ids)==null?void 0:o.trigger)??`tooltip:${i.id}:trigger`},getContentId=i=>{var o;return((o=i.ids)==null?void 0:o.content)??`tooltip:${i.id}:content`},getArrowId=i=>{var o;return((o=i.ids)==null?void 0:o.arrow)??`tooltip:${i.id}:arrow`},getPositionerId=i=>{var o;return((o=i.ids)==null?void 0:o.positioner)??`tooltip:${i.id}:popper`},getTriggerEl=i=>i.getById(getTriggerId(i)),getPositionerEl=i=>i.getById(getPositionerId(i)),store=proxy({id:null});function connect(i,o){const{state:s,context:a,send:_,scope:$,prop:_e,event:tt}=i,nt=_e("id"),it=!!_e("aria-label"),ot=s.matches("open","closing"),et=getTriggerId($),j=getContentId($),rt=_e("disabled"),st=getPlacementStyles({..._e("positioning"),placement:a.get("currentPlacement")});return{open:ot,setOpen(at){s.matches("open","closing")!==at&&_({type:at?"open":"close"})},reposition(at={}){_({type:"positioning.set",options:at})},getTriggerProps(){return o.button({...parts.trigger.attrs,id:et,dir:_e("dir"),"data-expanded":dataAttr$1(ot),"data-state":ot?"open":"closed","aria-describedby":ot?j:void 0,onClick(at){at.defaultPrevented||rt||_e("closeOnClick")&&_({type:"close",src:"trigger.click"})},onFocus(at){queueMicrotask(()=>{at.defaultPrevented||rt||tt.src!=="trigger.pointerdown"&&isFocusVisible()&&_({type:"open",src:"trigger.focus"})})},onBlur(at){at.defaultPrevented||rt||nt===store.id&&_({type:"close",src:"trigger.blur"})},onPointerDown(at){at.defaultPrevented||rt||_e("closeOnPointerDown")&&nt===store.id&&_({type:"close",src:"trigger.pointerdown"})},onPointerMove(at){at.defaultPrevented||rt||at.pointerType!=="touch"&&_({type:"pointer.move"})},onPointerLeave(){rt||_({type:"pointer.leave"})},onPointerCancel(){rt||_({type:"pointer.leave"})}})},getArrowProps(){return o.element({id:getArrowId($),...parts.arrow.attrs,dir:_e("dir"),style:st.arrow})},getArrowTipProps(){return o.element({...parts.arrowTip.attrs,dir:_e("dir"),style:st.arrowTip})},getPositionerProps(){return o.element({id:getPositionerId($),...parts.positioner.attrs,dir:_e("dir"),style:st.floating})},getContentProps(){return o.element({...parts.content.attrs,dir:_e("dir"),hidden:!ot,"data-state":ot?"open":"closed",role:it?void 0:"tooltip",id:it?void 0:j,"data-placement":a.get("currentPlacement"),onPointerEnter(){_({type:"content.pointer.move"})},onPointerLeave(){_({type:"content.pointer.leave"})},style:{pointerEvents:_e("interactive")?"auto":"none"}})}}}var{and,not}=createGuards(),machine={initialState:({prop:i})=>i("open")||i("defaultOpen")?"open":"closed",props({props:i}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...i,positioning:{placement:"bottom",...i.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:i})=>({currentPlacement:i(()=>({defaultValue:void 0})),hasPointerMoveOpened:i(()=>({defaultValue:!1}))}),watch({track:i,action:o,prop:s}){i([()=>s("disabled")],()=>{o(["closeIfDisabled"])}),i([()=>s("open")],()=>{o(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:and("noVisibleTooltip",not("hasPointerMoveOpened")),target:"opening"},{guard:not("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>store.id===null,isVisible:({prop:i})=>i("id")===store.id,isInteractive:({prop:i})=>!!i("interactive"),hasPointerMoveOpened:({context:i})=>i.get("hasPointerMoveOpened"),isOpenControlled:({prop:i})=>i("open")!==void 0},actions:{setGlobalId:({prop:i})=>{store.id=i("id")},clearGlobalId:({prop:i})=>{i("id")===store.id&&(store.id=null)},invokeOnOpen:({prop:i})=>{var o;(o=i("onOpenChange"))==null||o({open:!0})},invokeOnClose:({prop:i})=>{var o;(o=i("onOpenChange"))==null||o({open:!1})},closeIfDisabled:({prop:i,send:o})=>{i("disabled")&&o({type:"close",src:"disabled.change"})},reposition:({context:i,event:o,prop:s,scope:a})=>{if(o.type!=="positioning.set")return;const _=()=>getPositionerEl(a);return getPlacement(getTriggerEl(a),_,{...s("positioning"),...o.options,defer:!0,listeners:!1,onComplete($){i.set("currentPlacement",$.placement)}})},toggleVisibility:({prop:i,event:o,send:s})=>{queueMicrotask(()=>{s({type:i("open")?"controlled.open":"controlled.close",previousEvent:o})})},setPointerMoveOpened:({context:i})=>{i.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:i})=>{i.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:i})=>{var o;return trackFocusVisible({root:(o=i.getRootNode)==null?void 0:o.call(i)})},trackPositioning:({context:i,prop:o,scope:s})=>{i.get("currentPlacement")||i.set("currentPlacement",o("positioning").placement);const a=()=>getPositionerEl(s);return getPlacement(getTriggerEl(s),a,{...o("positioning"),defer:!0,onComplete(_){i.set("currentPlacement",_.placement)}})},trackPointerlockChange:({send:i,scope:o})=>{const s=o.getDoc();return addDomEvent(s,"pointerlockchange",()=>i({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:i,prop:o,scope:s})=>{if(!o("closeOnScroll"))return;const a=getTriggerEl(s);if(!a)return;const $=getOverflowAncestors$1(a).map(_e=>addDomEvent(_e,"scroll",()=>{i({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{$.forEach(_e=>_e==null?void 0:_e())}},trackStore:({prop:i,send:o})=>{let s;return queueMicrotask(()=>{s=subscribe(store,()=>{store.id!==i("id")&&o({type:"close",src:"id.change"})})}),()=>s==null?void 0:s()},trackEscapeKey:({send:i,prop:o})=>o("closeOnEscape")?addDomEvent(document,"keydown",a=>{isComposingEvent(a)||a.key==="Escape"&&(a.stopPropagation(),i({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:i,prop:o})=>{const s=setTimeout(()=>{i({type:"after.openDelay"})},o("openDelay"));return()=>clearTimeout(s)},waitForCloseDelay:({send:i,prop:o})=>{const s=setTimeout(()=>{i({type:"after.closeDelay"})},o("closeDelay"));return()=>clearTimeout(s)}}}};createProps$1()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const useTooltip=i=>{const o=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),_={id:o,dir:a,getRootNode:s,...i},$=useMachine(machine,_);return connect($,normalizeProps)},TooltipRoot$1=i=>{const[o,{children:s,...a}]=splitPresenceProps(i),_=useTooltip(a),$=usePresence(mergeProps({present:_.open},o));return jsxRuntimeExports.jsx(TooltipProvider,{value:_,children:jsxRuntimeExports.jsx(PresenceProvider,{value:$,children:s})})},TooltipRootProvider=i=>{const[o,{value:s,children:a}]=splitPresenceProps(i),_=usePresence(mergeProps({present:s.open},o));return jsxRuntimeExports.jsx(TooltipProvider,{value:s,children:jsxRuntimeExports.jsx(PresenceProvider,{value:_,children:a})})},TooltipTrigger$1=reactExports.forwardRef((i,o)=>{const s=useTooltipContext(),a=mergeProps(s.getTriggerProps(),i);return jsxRuntimeExports.jsx(ark.button,{...a,ref:o})});TooltipTrigger$1.displayName="TooltipTrigger";function omit(i,o=[]){const s=Object.assign({},i);for(const a of o)a in s&&delete s[a];return s}const colorMix=(i,o)=>{var nt;if(!i||typeof i!="string")return{invalid:!0,value:i};const[s,a]=i.split("/");if(!s||!a||s==="currentBg")return{invalid:!0,value:s};const _=o(`colors.${s}`),$=(nt=o.raw(`opacity.${a}`))==null?void 0:nt.value;if(!$&&isNaN(Number(a)))return{invalid:!0,value:s};const _e=$?Number($)*100+"%":`${a}%`,tt=_??s;return{invalid:!1,color:tt,value:`color-mix(in srgb, ${tt} ${_e}, transparent)`}},createColorMixTransform=i=>(o,s)=>{const a=s.utils.colorMix(o);if(a.invalid)return{[i]:o};const _="--mix-"+i;return{[_]:a.value,[i]:`var(${_}, ${a.color})`}};function clone(i){if(i===null||typeof i!="object")return i;if(Array.isArray(i))return i.map(s=>clone(s));const o=Object.create(Object.getPrototypeOf(i));for(const s of Object.keys(i))o[s]=clone(i[s]);return o}function merge(i,o){if(o==null)return i;for(const s of Object.keys(o))if(!(o[s]===void 0||s==="__proto__"))if(!isObject$4(i[s])&&isObject$4(o[s]))Object.assign(i,{[s]:o[s]});else if(i[s]&&isObject$4(o[s]))merge(i[s],o[s]);else if(Array.isArray(o[s])&&Array.isArray(i[s])){let a=0;for(;a<o[s].length;a++)isObject$4(i[s][a])&&isObject$4(o[s][a])?merge(i[s][a],o[s][a]):i[s][a]=o[s][a]}else Object.assign(i,{[s]:o[s]});return i}function mergeWith(i,...o){for(const s of o)merge(i,s);return i}const defineConditions=i=>i,defineRecipe=i=>i,defineSlotRecipe=i=>i,defineKeyframes=i=>i,defineGlobalStyles=i=>i,defineStyle=i=>i,defineTextStyles=i=>i,defineAnimationStyles=i=>i,defineLayerStyles=i=>i;function createProxy(){const i=o=>o;return new Proxy(i,{get(){return i}})}const defineTokens=createProxy(),defineSemanticTokens=createProxy(),defineConfig=i=>i,mergeConfigs=(...i)=>mergeWith({},...i.map(clone)),escRegex=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function esc$1(i){return`${i}`.replace(escRegex,o=>`\\${o}`)}const dashCaseRegex=/[A-Z]/g;function dashCase(i){return i.replace(dashCaseRegex,o=>`-${o.toLowerCase()}`)}function cssVar(i,o={}){const{fallback:s="",prefix:a=""}=o,_=dashCase(["-",a,esc$1(i)].filter(Boolean).join("-"));return{var:_,ref:`var(${_}${s?`, ${s}`:""})`}}const isCssVar=i=>/^var\(--.+\)$/.test(i),wrap=(i,o)=>o!=null?`${i}(${o})`:o,deg=i=>{if(isCssVar(i)||i==null)return i;const o=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||o?`${i}deg`:i},createFocusRing=i=>({values:["outside","inside","mixed","none"],transform(o,{token:s}){const a=s("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":a,[i]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":a,[i]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":a,[i]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":a,[i]:{outline:"none"}}}[o]??{}}}),divideColor=createColorMixTransform("borderColor"),createTransition=i=>({transition:i,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),defaultConditions=defineConditions({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),currentBgVar=cssVar("bg-currentcolor"),isCurrentBgVar=i=>i===currentBgVar.ref||i==="currentBg",colorValues=i=>({...i("colors"),currentBg:currentBgVar}),defaultBaseConfig=defineConfig({conditions:defaultConditions,utilities:{background:{values:colorValues,shorthand:["bg"],transform(i,o){if(isCurrentBgVar(o.raw))return{background:currentBgVar.ref};const s=createColorMixTransform("background")(i,o);return{...s,[currentBgVar.var]:s==null?void 0:s.background}}},backgroundColor:{values:colorValues,shorthand:["bgColor"],transform(i,o){if(isCurrentBgVar(o.raw))return{backgroundColor:currentBgVar.ref};const s=createColorMixTransform("backgroundColor")(i,o);return{...s,[currentBgVar.var]:s==null?void 0:s.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}}},backgroundGradient:{shorthand:["bgGradient"],values(i){return{...i("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(i){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:i}}},gradientFrom:{values:colorValues,transform:createColorMixTransform("--gradient-from")},gradientTo:{values:colorValues,transform:createColorMixTransform("--gradient-to")},gradientVia:{values:colorValues,transform(i,o){return{...createColorMixTransform("--gradient-via")(i,o),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(i){return{...i("gradients"),...i("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:colorValues,transform:createColorMixTransform("borderColor")},borderTopColor:{values:colorValues,transform:createColorMixTransform("borderTopColor")},borderBlockStartColor:{values:colorValues,transform:createColorMixTransform("borderBlockStartColor")},borderBottomColor:{values:colorValues,transform:createColorMixTransform("borderBottomColor")},borderBlockEndColor:{values:colorValues,transform:createColorMixTransform("borderBlockEndColor")},borderLeftColor:{values:colorValues,transform:createColorMixTransform("borderLeftColor")},borderInlineStartColor:{values:colorValues,shorthand:["borderStartColor"],transform:createColorMixTransform("borderInlineStartColor")},borderRightColor:{values:colorValues,transform:createColorMixTransform("borderRightColor")},borderInlineEndColor:{values:colorValues,shorthand:["borderEndColor"],transform:createColorMixTransform("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:i=>({borderStartStartRadius:i,borderEndStartRadius:i})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:i=>({borderStartEndRadius:i,borderEndEndRadius:i})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:i=>({borderTopLeftRadius:i,borderTopRightRadius:i})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:i=>({borderBottomLeftRadius:i,borderBottomRightRadius:i})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:i=>({borderTopLeftRadius:i,borderBottomLeftRadius:i})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:i=>({borderTopRightRadius:i,borderBottomRightRadius:i})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:colorValues,transform:createColorMixTransform("color")},fill:{values:colorValues,transform:createColorMixTransform("fill")},stroke:{values:colorValues,transform:createColorMixTransform("stroke")},accentColor:{values:colorValues,transform:createColorMixTransform("accentColor")},divideX:{values:{type:"string"},transform(i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:i,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:i,borderBottomWidth:"0px"}}}},divideColor:{values:colorValues,transform(i,o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":divideColor(i,o)}}},divideStyle:{property:"borderStyle",transform(i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:i}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:colorValues,transform:createColorMixTransform("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(i){return i!=="auto"?{filter:i}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:i=>({"--blur":wrap("blur",i)})},brightness:{transform:i=>({"--brightness":wrap("brightness",i)})},contrast:{transform:i=>({"--contrast":wrap("contrast",i)})},grayscale:{transform:i=>({"--grayscale":wrap("grayscale",i)})},hueRotate:{transform:i=>({"--hue-rotate":wrap("hue-rotate",deg(i))})},invert:{transform:i=>({"--invert":wrap("invert",i)})},saturate:{transform:i=>({"--saturate":wrap("saturate",i)})},sepia:{transform:i=>({"--sepia":wrap("sepia",i)})},dropShadow:{transform:i=>({"--drop-shadow":wrap("drop-shadow",i)})},backdropFilter:{transform(i){return i!=="auto"?{backdropFilter:i}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:i=>({"--backdrop-blur":wrap("blur",i)})},backdropBrightness:{transform:i=>({"--backdrop-brightness":wrap("brightness",i)})},backdropContrast:{transform:i=>({"--backdrop-contrast":wrap("contrast",i)})},backdropGrayscale:{transform:i=>({"--backdrop-grayscale":wrap("grayscale",i)})},backdropHueRotate:{transform:i=>({"--backdrop-hue-rotate":wrap("hue-rotate",deg(i))})},backdropInvert:{transform:i=>({"--backdrop-invert":wrap("invert",i)})},backdropOpacity:{transform:i=>({"--backdrop-opacity":wrap("opacity",i)})},backdropSaturate:{transform:i=>({"--backdrop-saturate":wrap("saturate",i)})},backdropSepia:{transform:i=>({"--backdrop-sepia":wrap("sepia",i)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:colorValues,transform:createColorMixTransform("outlineColor")},focusRing:createFocusRing("&:is(:focus, [data-focus])"),focusVisibleRing:createFocusRing("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:colorValues,transform:createColorMixTransform("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:i=>({"--focus-ring-offset":i})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:i=>({"--focus-ring-width":i})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:i=>({"--focus-ring-style":i})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:i=>({width:i,height:i})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(i,{raw:o,token:s})=>({[s.raw(`breakpoints.${o}`)?`@breakpoint ${o}`:`@media screen and (min-width: ${i})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(i,{raw:o,token:s}){return{[s.raw(`breakpoints.${o}`)?`@breakpoint ${o}Down`:`@media screen and (max-width: ${i})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(i){switch(i){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:colorValues,transform:createColorMixTransform("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:i=>({scrollMarginLeft:i,scrollMarginRight:i})},scrollMarginY:{values:"spacing",transform:i=>({scrollMarginTop:i,scrollMarginBottom:i})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:i=>({"--scroll-snap-strictness":i})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(i){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":i,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:colorValues,transform:createColorMixTransform("--ring-color")},ringOffset:{transform:i=>({"--ring-offset-width":i})},ringOffsetColor:{values:colorValues,transform:createColorMixTransform("--ring-offset-color")},ringInset:{transform:i=>({"--ring-inset":i})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:colorValues,transform:createColorMixTransform("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:i=>{let o=i;return i==="auto"&&(o="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),i==="auto-gpu"&&(o="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:o}}},skewX:{transform:i=>({"--skew-x":deg(i)})},skewY:{transform:i=>({"--skew-y":deg(i)})},scaleX:{transform:i=>({"--scale-x":i})},scaleY:{transform:i=>({"--scale-y":i})},scale:{transform(i){return i!=="auto"?{scale:i}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":i?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:i=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${i} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${i} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":i?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:i=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${i} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${i} * var(--space-y-reverse))`}})},rotate:{transform(i){return i!=="auto"?{rotate:deg(i)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(i){return{"--rotate-x":deg(i)}}},rotateY:{transform(i){return{"--rotate-y":deg(i)}}},translate:{transform(i){return i!=="auto"?{translate:i}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:i=>({"--translate-x":i})},translateY:{values:"spacing",transform:i=>({"--translate-y":i})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(i){switch(i){case"all":return createTransition("all");case"position":return createTransition("left, right, top, bottom, inset-inline, inset-block");case"colors":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return createTransition("opacity");case"shadow":return createTransition("box-shadow");case"transform":return createTransition("transform");case"size":return createTransition("width, height");case"backgrounds":return createTransition("background, background-color, background-image, background-position");case"common":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:i}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(i){return i===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(i){return i==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:i,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(i){return srMapping[i]||{}}},debug:{values:{type:"boolean"},transform(i){return i?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:colorValues,transform:createColorMixTransform("caretColor")},cursor:{values:"cursor"}}}),srMapping={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var userGeneratedStr="",userGenerated=userGeneratedStr.split(","),cssPropertiesStr="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",allCssProperties=cssPropertiesStr.split(",").concat(userGenerated),properties=new Map(allCssProperties.map(i=>[i,!0]));function memo$1(i){const o=Object.create(null);return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}var cssPropertySelectorRegex=/&|@/,isCssProperty=memo$1(i=>properties.has(i)||i.startsWith("--")||cssPropertySelectorRegex.test(i));const isNotNullish=i=>i!=null;function walkObject(i,o,s={}){const{stop:a,getKey:_}=s;function $(_e,tt=[]){if(isObject$4(_e)||Array.isArray(_e)){const nt={};for(const[it,ot]of Object.entries(_e)){const et=(_==null?void 0:_(it,ot))??it,j=[...tt,et];if(a!=null&&a(_e,j))return o(_e,tt);const rt=$(ot,j);isNotNullish(rt)&&(nt[et]=rt)}return nt}return o(_e,tt)}return $(i)}function mapObject(i,o){return Array.isArray(i)?i.map(s=>o(s)):isObject$4(i)?walkObject(i,s=>o(s)):i!=null?o(i):i}function flatten(i,o){const s={};return walkObject(i,(a,_)=>{a&&(s[_.join(".")]=a.value)},{stop:o}),s}var fastSafeStringify=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions$2(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(i,o,s,a){typeof a>"u"&&(a=defaultOptions$2()),decirc(i,"",0,[],void 0,0,a);var _;try{replacerStack.length===0?_=JSON.stringify(i,o,s):_=JSON.stringify(i,replaceGetterValues(o),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var $=arr.pop();$.length===4?Object.defineProperty($[0],$[1],$[3]):$[0][$[1]]=$[2]}}return _}function setReplace(i,o,s,a){var _=Object.getOwnPropertyDescriptor(a,s);_.get!==void 0?_.configurable?(Object.defineProperty(a,s,{value:i}),arr.push([a,s,o,_])):replacerStack.push([o,s,i]):(a[s]=i,arr.push([a,s,o]))}function decirc(i,o,s,a,_,$,_e){$+=1;var tt;if(typeof i=="object"&&i!==null){for(tt=0;tt<a.length;tt++)if(a[tt]===i){setReplace(CIRCULAR_REPLACE_NODE,i,o,_);return}if(typeof _e.depthLimit<"u"&&$>_e.depthLimit){setReplace(LIMIT_REPLACE_NODE,i,o,_);return}if(typeof _e.edgesLimit<"u"&&s+1>_e.edgesLimit){setReplace(LIMIT_REPLACE_NODE,i,o,_);return}if(a.push(i),Array.isArray(i))for(tt=0;tt<i.length;tt++)decirc(i[tt],tt,tt,a,i,$,_e);else{var nt=Object.keys(i);for(tt=0;tt<nt.length;tt++){var it=nt[tt];decirc(i[it],it,tt,a,i,$,_e)}}a.pop()}}function compareFunction(i,o){return i<o?-1:i>o?1:0}function deterministicStringify(i,o,s,a){typeof a>"u"&&(a=defaultOptions$2());var _=deterministicDecirc(i,"",0,[],void 0,0,a)||i,$;try{replacerStack.length===0?$=JSON.stringify(_,o,s):$=JSON.stringify(_,replaceGetterValues(o),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var _e=arr.pop();_e.length===4?Object.defineProperty(_e[0],_e[1],_e[3]):_e[0][_e[1]]=_e[2]}}return $}function deterministicDecirc(i,o,s,a,_,$,_e){$+=1;var tt;if(typeof i=="object"&&i!==null){for(tt=0;tt<a.length;tt++)if(a[tt]===i){setReplace(CIRCULAR_REPLACE_NODE,i,o,_);return}try{if(typeof i.toJSON=="function")return}catch{return}if(typeof _e.depthLimit<"u"&&$>_e.depthLimit){setReplace(LIMIT_REPLACE_NODE,i,o,_);return}if(typeof _e.edgesLimit<"u"&&s+1>_e.edgesLimit){setReplace(LIMIT_REPLACE_NODE,i,o,_);return}if(a.push(i),Array.isArray(i))for(tt=0;tt<i.length;tt++)deterministicDecirc(i[tt],tt,tt,a,i,$,_e);else{var nt={},it=Object.keys(i).sort(compareFunction);for(tt=0;tt<it.length;tt++){var ot=it[tt];deterministicDecirc(i[ot],ot,tt,a,i,$,_e),nt[ot]=i[ot]}if(typeof _<"u")arr.push([_,o,i]),_[o]=nt;else return nt}a.pop()}}function replaceGetterValues(i){return i=typeof i<"u"?i:function(o,s){return s},function(o,s){if(replacerStack.length>0)for(var a=0;a<replacerStack.length;a++){var _=replacerStack[a];if(_[1]===o&&_[0]===s){s=_[2],replacerStack.splice(a,1);break}}return i.call(this,o,s)}}const stringify$1=getDefaultExportFromCjs(fastSafeStringify),memo=i=>{const o=Object.create(null);function s(...a){const _=a.map($=>stringify$1($)).join("|");return o[_]===void 0&&(o[_]=i(...a)),o[_]}return s},BASE_FONT_SIZE=16,UNIT_PX="px",UNIT_EM="em",UNIT_REM="rem";function getUnit(i=""){const o=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),s=new RegExp(`${UNIT_PX}|${UNIT_EM}|${UNIT_REM}`),a=i.match(new RegExp(`${o.source}(${s.source})`));return a==null?void 0:a[1]}function toPx(i=""){if(typeof i=="number")return`${i}px`;const o=getUnit(i);if(!o||o===UNIT_PX)return i;if(o===UNIT_EM||o===UNIT_REM)return`${parseFloat(i)*BASE_FONT_SIZE}${UNIT_PX}`}function toRem(i=""){const o=getUnit(i);if(!o||o===UNIT_REM)return i;if(o===UNIT_EM)return`${parseFloat(i)}${UNIT_REM}`;if(o===UNIT_PX)return`${parseFloat(i)/BASE_FONT_SIZE}${UNIT_REM}`}const capitalize$1=i=>i.charAt(0).toUpperCase()+i.slice(1);function createBreakpoints(i){const o=sort(i),s=Object.fromEntries(o);function a(j){return s[j]}function _(j){return build$1(a(j))}function $(){const j=Object.keys(s),rt=getPermutations(j),st=j.flatMap(at=>{const lt=a(at),ct=[`${at}Down`,build$1({max:adjust(lt.min)})],ut=[at,build$1({min:lt.min})],dt=[`${at}Only`,_(at)];return[ut,dt,ct]}).filter(([,at])=>at!=="").concat(rt.map(([at,lt])=>{const ct=a(at),ut=a(lt);return[`${at}To${capitalize$1(lt)}`,build$1({min:ct.min,max:adjust(ut.min)})]}));return Object.fromEntries(st)}function _e(){const j=$();return Object.fromEntries(Object.entries(j))}const tt=_e(),nt=j=>tt[j];function it(){return["base",...Object.keys(s)]}function ot(j){return build$1({min:a(j).min})}function et(j){return build$1({max:adjust(a(j).min)})}return{values:Object.values(s),only:_,keys:it,conditions:tt,getCondition:nt,up:ot,down:et}}function adjust(i){const o=parseFloat(toPx(i)??"")-.04;return toRem(`${o}px`)}function sort(i){return Object.entries(i).sort(([,s],[,a])=>parseInt(s,10)<parseInt(a,10)?-1:1).map(([s,a],_,$)=>{var tt;let _e=null;return _<=$.length-1&&(_e=(tt=$[_+1])==null?void 0:tt[1]),_e!=null&&(_e=adjust(_e)),[s,{name:s,min:toRem(a),max:_e}]})}function getPermutations(i){const o=[];return i.forEach((s,a)=>{let _=a;_++;let $=i[_];for(;$;)o.push([s,$]),_++,$=i[_]}),o}function build$1({min:i,max:o}){return i==null&&o==null?"":["@media screen",i&&`(min-width: ${i})`,o&&`(max-width: ${o})`].filter(Boolean).join(" and ")}const mapEntries$1=(i,o)=>Object.fromEntries(Object.entries(i).map(([s,a])=>o(s,a))),createConditions=i=>{const{breakpoints:o,conditions:s={}}=i,a=mapEntries$1(s,(ot,et)=>[`_${ot}`,et]),_=Object.assign({},a,o.conditions);function $(){return Object.keys(_)}function _e(ot){return $().includes(ot)||/^@|&|&$/.test(ot)||ot.startsWith("_")}function tt(ot){return ot.filter(et=>et!=="base").sort((et,j)=>{const rt=_e(et),st=_e(j);return rt&&!st?1:!rt&&st?-1:0})}function nt(ot){return ot.startsWith("@breakpoint")?o.getCondition(ot.replace("@breakpoint ","")):ot}function it(ot){return Reflect.get(_,ot)||ot}return{keys:$,sort:tt,has:_e,resolve:it,breakpoints:o.keys(),expandAtRule:nt}},createMediaQueryRegex=i=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${i})(.|
)+\\(\\s*max(-device)?-${i}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${i}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${i})(.|
)+\\(\\s*min(-device)?-${i}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${i}`,"i")}),widthRegex=createMediaQueryRegex("width"),heightRegex=createMediaQueryRegex("height"),createQueryTester=i=>({isMin:_testQuery(i.minMax,i.maxMin,i.min),isMax:_testQuery(i.maxMin,i.minMax,i.max)}),{isMin:isMinWidth,isMax:isMaxWidth}=createQueryTester(widthRegex),{isMin:isMinHeight,isMax:isMaxHeight}=createQueryTester(heightRegex),isPrint=/print/i,isPrintOnly=/^print$/i,isLength=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,lengthExec=/(\d)/,maxValue=Number.MAX_VALUE,multipliers={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function getQueryLength(i){const o=isLength.exec(i)||(isMinWidth(i)||isMinHeight(i)?lengthExec.exec(i):null);if(!o)return maxValue;if(o[0]==="0")return 0;const s=parseFloat(o[1]),a=o[2];return s*(multipliers[a]||1)}function _testQuery(i,o,s){return a=>i.test(a)||!o.test(a)&&s.test(a)}function _testIsPrint(i,o){const s=isPrint.test(i),a=isPrintOnly.test(i),_=isPrint.test(o),$=isPrintOnly.test(o);return s&&_?!a&&$?1:a&&!$?-1:i.localeCompare(o):s?1:_?-1:null}const sortAtParams=memo((i,o)=>{const s=_testIsPrint(i,o);if(s!==null)return s;const a=isMinWidth(i)||isMinHeight(i),_=isMaxWidth(i)||isMaxHeight(i),$=isMinWidth(o)||isMinHeight(o),_e=isMaxWidth(o)||isMaxHeight(o);if(a&&_e)return-1;if(_&&$)return 1;const tt=getQueryLength(i),nt=getQueryLength(o);return tt===maxValue&&nt===maxValue?i.localeCompare(o):tt===maxValue?1:nt===maxValue?-1:tt!==nt?tt>nt?_?-1:1:_?1:-1:i.localeCompare(o)});function sortQueries(i){return i.sort(([o],[s])=>sortAtParams(o,s))}function sortAtRules(i){const o=[],s=[],a={};for(const[_e,tt]of Object.entries(i))_e.startsWith("@media")?o.push([_e,tt]):_e.startsWith("@container")?s.push([_e,tt]):isObject$4(tt)?a[_e]=sortAtRules(tt):a[_e]=tt;const _=sortQueries(o),$=sortQueries(s);return{...a,...Object.fromEntries(_),...Object.fromEntries($)}}const importantRegex=/\s*!(important)?/i,isImportant=i=>isString$3(i)?importantRegex.test(i):!1,withoutImportant=i=>isString$3(i)?i.replace(importantRegex,"").trim():i;function createCssFn(i){const{transform:o,conditions:s,normalize:a}=i,_=mergeCss(i);return memo(function(..._e){const tt=_(..._e),nt=a(tt),it=Object.create(null);return walkObject(nt,(ot,et)=>{const j=isImportant(ot);if(ot==null)return;const[rt,...st]=s.sort(et).map(s.resolve);j&&(ot=withoutImportant(ot));let at=o(rt,ot)??Object.create(null);at=walkObject(at,lt=>isString$3(lt)&&j?`${lt} !important`:lt,{getKey:lt=>s.expandAtRule(lt)}),mergeByPath(it,st.flat(),at)}),sortAtRules(it)})}function mergeByPath(i,o,s){let a=i;for(const _ of o)_&&(a[_]||(a[_]=Object.create(null)),a=a[_]);mergeWith(a,s)}function compactFn(...i){return i.filter(o=>isObject$4(o)&&Object.keys(compact$1(o)).length>0)}function mergeCss(i){function o(s){const a=compactFn(...s);return a.length===1?a:a.map(_=>i.normalize(_))}return memo(function(...a){return mergeWith({},...o(a))})}const uniq=(...i)=>{const o=i.filter(Boolean);return Array.from(new Set(o))},defaults$1=i=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...i});function createRecipeFn(i){const{css:o,conditions:s,normalize:a,layers:_}=i;function $(tt={}){const{base:nt,variants:it,defaultVariants:ot,compoundVariants:et}=defaults$1(tt),j=createCssFn({conditions:s,normalize:a,transform(ut,dt){var ft;return(ft=it[ut])==null?void 0:ft[dt]}}),rt=(ut={})=>{const dt=a({...ot,...compact$1(ut)});let ft={...nt};mergeWith(ft,j(dt));const ht=_e(et,dt);return _.wrap("recipes",o(ft,ht))},st=Object.keys(it),at=ut=>{const dt=omit(ut,["recipe"]),[ft,ht]=splitProps(dt,st);return st.includes("colorPalette")||(ft.colorPalette=ut.colorPalette||ot.colorPalette),st.includes("orientation")&&(ht.orientation=ut.orientation),[ft,ht]},lt=Object.fromEntries(Object.entries(it).map(([ut,dt])=>[ut,Object.keys(dt)]));return Object.assign(ut=>o(rt(ut)),{className:tt.className,__cva__:!0,variantMap:lt,variantKeys:st,raw:rt,config:tt,splitVariantProps:at,merge(ut){return $(mergeCva(i)(this,ut))}})}function _e(tt,nt){let it={};return tt.forEach(ot=>{Object.entries(ot).every(([j,rt])=>j==="css"?!0:(Array.isArray(rt)?rt:[rt]).some(at=>nt[j]===at))&&(it=o(it,ot.css))}),it}return $}function mergeCva(i){const{css:o}=i;return function(a,_){const $=defaults$1(_.config),_e=uniq(a.variantKeys,Object.keys(_.variants)),tt=o(a.base,$.base),nt=Object.fromEntries(_e.map(j=>[j,o(a.config.variants[j],$.variants[j])])),it=mergeWith(a.config.defaultVariants,$.defaultVariants),ot=[...a.compoundVariants,...$.compoundVariants];return{className:cx(a.className,_.className),base:tt,variants:nt,defaultVariants:it,compoundVariants:ot}}}const defaultLayers={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},layerOrder={reset:0,base:1,tokens:2,recipes:3};function createLayers(i){const o=i.layers??defaultLayers,a=Object.values(o).sort((_,$)=>layerOrder[_]-layerOrder[$]);return{names:a,atRule:`@layer ${a.join(", ")};`,wrap(_,$){return i.disableLayers?$:{[`@layer ${o[_]}`]:$}}}}function createNormalizeFn(i){const{utility:o,normalize:s}=i,{hasShorthand:a,resolveShorthand:_}=o;return function($){return walkObject($,s,{stop:_e=>Array.isArray(_e),getKey:a?_:void 0})}}function createPreflight(i){const{preflight:o}=i;if(!o)return{};const{scope:s="",level:a="parent"}=isObject$4(o)?o:{};let _="";s&&a==="parent"?_=`${s} `:s&&a==="element"&&(_=`&${s}`);const $={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},_e={[s||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(a==="element"){const tt=Object.entries($).reduce((nt,[it,ot])=>(nt[it]={[_]:ot},nt),{});Object.assign(_e,tt)}else _?_e[_]=$:Object.assign(_e,$);return _e}function createSerializeFn(i){const{conditions:o,isValidProperty:s}=i;return function(_){return walkObject(_,$=>$,{getKey:($,_e)=>isObject$4(_e)&&!o.has($)&&!s($)?parseSelectors($).map(tt=>"&"+tt).join(", "):$})}}function parseSelectors(i){const o=[];let s=0,a="",_=!1;for(let $=0;$<i.length;$++){const _e=i[$];if(_e==="\\"&&!_){_=!0,a+=_e;continue}if(_){_=!1,a+=_e;continue}_e==="("?s++:_e===")"&&s--,_e===","&&s===0?(o.push(a.trim()),a=""):a+=_e}return a&&o.push(a.trim()),o}const getSlotRecipes=(i={})=>{const o=_=>{var $;return{base:(($=i.base)==null?void 0:$[_])??{},variants:{},defaultVariants:i.defaultVariants??{},compoundVariants:i.compoundVariants?getSlotCompoundVariant(i.compoundVariants,_):[]}},a=(i.slots??[]).map(_=>[_,o(_)]);for(const[_,$]of Object.entries(i.variants??{}))for(const[_e,tt]of Object.entries($))a.forEach(([nt,it])=>{var ot;(ot=it.variants)[_]??(ot[_]={}),it.variants[_][_e]=tt[nt]??{}});return Object.fromEntries(a)},getSlotCompoundVariant=(i,o)=>i.filter(s=>s.css[o]).map(s=>({...s,css:s.css[o]}));function createSlotRecipeFn(i){const{cva:o}=i;return function(a={}){const _=Object.entries(getSlotRecipes(a)).map(([et,j])=>[et,o(j)]);function $(et){const j=_.map(([rt,st])=>[rt,st(et)]);return Object.fromEntries(j)}const _e=a.variants??{},tt=Object.keys(_e);function nt(et){var at;const j=omit(et,["recipe"]),[rt,st]=splitProps(j,tt);return tt.includes("colorPalette")||(rt.colorPalette=et.colorPalette||((at=a.defaultVariants)==null?void 0:at.colorPalette)),tt.includes("orientation")&&(st.orientation=et.orientation),[rt,st]}const it=Object.fromEntries(Object.entries(_e).map(([et,j])=>[et,Object.keys(j)]));let ot={};return a.className&&(ot=Object.fromEntries(a.slots.map(et=>[et,`${a.className}__${et}`]))),Object.assign($,{variantMap:it,variantKeys:tt,splitVariantProps:nt,classNameMap:ot})}}const createProps=()=>i=>Array.from(new Set(i)),rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,fcssescape=function(i,o){return o?i==="\0"?"�":i==="-"&&i.length===1?"\\-":i.slice(0,-1)+"\\"+i.charCodeAt(i.length-1).toString(16):"\\"+i},esc=i=>(i+"").replace(rcssescape,fcssescape),expandTokenReferences=(i,o)=>{let s="",a=0,_="char",$="",_e="";const tt=[];for(;a<i.length;){const nt=i[a];if(nt==="{"){const ot=i.indexOf("}",a);if(ot===-1)break;const et=i.slice(a+1,ot),j=o(et);s+=j??et,a=ot+1;continue}if(_==="token"&&nt===","){i[a]===""&&a++,_="fallback",tt.push(_);const ot=o($);ot!=null&&ot.endsWith(")")&&(s+=ot.slice(0,-1)),$="",_e="";continue}if(_==="fallback"&&_e+nt===", var("){const j=cssVarParser(i.slice(a+1))+a+1,rt=i.slice(a+1,j);if(j===-1)break;s+=", var("+rt+")",a=j+1,_=tt.pop()??_,_e="";continue}if(_==="token"||_==="fallback"){if(a++,nt===")"){_=tt.pop()??_??"char",_e+=nt;const ot=$&&(o($)??esc($));if(_e){if(_e=_e.slice(1).trim(),!_e.startsWith("token(")&&_e.endsWith(")")&&(_e=_e.slice(0,-1)),_e.includes("token(")){const j=expandTokenReferences(_e,o);j&&(_e=j.slice(0,-1))}else if(_e){const j=o(_e);j&&(_e=j)}}const et=s.at(-1);_e?et!=null&&et.trim()?s+=ot.slice(0,-1)+(", "+_e+")"):s+=_e:s+=ot||")",$="",_e="",_="char";continue}_==="token"&&($+=nt),_==="fallback"&&(_e+=nt);continue}const it=i.indexOf("token(",a);if(it!==-1){const ot=it+6;s+=i.slice(a,it),a=ot,_="token",tt.push(_);continue}s+=nt,a++}return s},cssVarParser=i=>{let o=0;const s=["("];for(;o<i.length;){const a=i[o];if(a==="(")s.push(a);else if(a===")"&&(s.pop(),s.length===0))return o;o++}return o};function mapToJson(i){const o={};return i.forEach((s,a)=>{s instanceof Map?o[a]=Object.fromEntries(s):o[a]=s}),o}const REFERENCE_REGEX=/({([^}]*)})/g,CURLY_REGEX=/[{}]/g,TOKEN_PATH_REGEX=/\w+\.\w+/,getReferences=i=>{if(!isString$3(i))return[];const o=i.match(REFERENCE_REGEX);return o?o.map(s=>s.replace(CURLY_REGEX,"")).map(s=>s.trim()):[]},hasReference=i=>REFERENCE_REGEX.test(i);function expandReferences(i){var s,a,_;if(!((s=i.extensions)!=null&&s.references))return((_=(a=i.extensions)==null?void 0:a.cssVar)==null?void 0:_.ref)??i.value;const o=i.extensions.references??{};return i.value=Object.keys(o).reduce(($,_e)=>{const tt=o[_e];if(tt.extensions.conditions)return $;const nt=expandReferences(tt);return $.replace(`{${_e}}`,nt)},i.value),delete i.extensions.references,i.value}function resolveReference(i){return isObject$4(i)&&i.reference?i.reference:String(i)}const toExpression=(i,...o)=>o.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpression("+",...i)})`,subtract=(...i)=>`calc(${toExpression("-",...i)})`,multiply=(...i)=>`calc(${toExpression("*",...i)})`,divide=(...i)=>`calc(${toExpression("/",...i)})`,negate=i=>{const o=resolveReference(i);return o!=null&&!Number.isNaN(parseFloat(o))?String(o).startsWith("-")?String(o).slice(1):`-${o}`:multiply(o,-1)},calc=Object.assign(i=>({add:(...o)=>calc(add(i,...o)),subtract:(...o)=>calc(subtract(i,...o)),multiply:(...o)=>calc(multiply(i,...o)),divide:(...o)=>calc(divide(i,...o)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate}),addNegativeTokens={enforce:"pre",transform(i){const{prefix:o,allTokens:s,formatCssVar:a,formatTokenName:_,registerToken:$}=i;s.filter(({extensions:tt})=>tt.category==="spacing").forEach(tt=>{const nt=tt.path.slice(),it=a(nt,o);if(isString$3(tt.value)&&tt.value==="0rem")return;const ot=structuredClone(tt);Object.assign(ot.extensions,{negative:!0,prop:`-${tt.extensions.prop}`,originalPath:nt}),ot.value=calc.negate(it.ref);const et=ot.path[ot.path.length-1];et!=null&&(ot.path[ot.path.length-1]=`-${et}`),ot.path&&(ot.name=_(ot.path)),$(ot)})}},units=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),addPixelUnit={enforce:"post",transform(i){i.allTokens.filter(s=>units.has(s.extensions.category)&&!s.extensions.negative).forEach(s=>{Object.assign(s.extensions,{pixelValue:toPx(s.value)})})}},addVirtualPalette={enforce:"post",transform(i){const{allTokens:o,registerToken:s,formatTokenName:a}=i,_=o.filter(({extensions:tt})=>tt.category==="colors"),$=new Map,_e=new Map;_.forEach(tt=>{const{colorPalette:nt}=tt.extensions;nt&&(nt.keys.forEach(it=>{$.set(a(it),it)}),nt.roots.forEach(it=>{var j;const ot=a(it),et=_e.get(ot)||[];if(et.push(tt),_e.set(ot,et),tt.extensions.default&&it.length===1){const rt=(j=nt.keys[0])==null?void 0:j.filter(Boolean);if(!rt.length)return;const st=it.concat(rt);$.set(a(st),[])}}))}),$.forEach(tt=>{const nt=["colors","colorPalette",...tt].filter(Boolean),it=a(nt),ot=a(nt.slice(1));s({name:it,value:it,originalValue:it,path:nt,extensions:{condition:"base",originalPath:nt,category:"colors",prop:ot,virtual:!0}},"pre")})}},removeEmptyTokens={enforce:"post",transform(i){i.allTokens=i.allTokens.filter(o=>o.value!=="")}},tokenMiddlewares=[addNegativeTokens,addVirtualPalette,addPixelUnit,removeEmptyTokens],addCssVariables={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(i,o){const{prefix:s,formatCssVar:a}=o,{negative:_,originalPath:$}=i.extensions,_e=_?$:i.path;return{cssVar:a(_e.filter(Boolean),s)}}},addConditionalCssVariables={enforce:"post",type:"value",name:"tokens/conditionals",transform(i,o){const{prefix:s,formatCssVar:a}=o,_=getReferences(i.value);return _.length&&_.forEach($=>{const _e=a($.split("."),s);i.value=i.value.replace(`{${_e.ref}}`,_e)}),i.value}},addColorPalette={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(i){return i.extensions.category==="colors"&&!i.extensions.virtual},transform(i,o){let s=i.path.slice();if(s.pop(),s.shift(),s.length===0){const tt=[...i.path];tt.shift(),s=tt}if(s.length===0)return{};const a=s.reduce((tt,nt,it,ot)=>{const et=ot.slice(0,it+1);return tt.push(et),tt},[]),_=s[0],$=o.formatTokenName(s),_e=i.path.slice(i.path.indexOf(_)+1).reduce((tt,nt,it,ot)=>(tt.push(ot.slice(it)),tt),[]);return _e.length===0&&_e.push([""]),{colorPalette:{value:$,roots:a,keys:_e}}}},tokenTransforms=[addCssVariables,addConditionalCssVariables,addColorPalette],isToken=i=>isObject$4(i)&&Object.prototype.hasOwnProperty.call(i,"value");function expandBreakpoints(i){return i?{breakpoints:mapObject(i,o=>({value:o})),sizes:Object.fromEntries(Object.entries(i).map(([o,s])=>[`breakpoint-${o}`,{value:s}]))}:{breakpoints:{},sizes:{}}}function createTokenDictionary(i){const{prefix:o="",tokens:s={},semanticTokens:a={},breakpoints:_={}}=i,$=Xt=>Xt.join("."),_e=(Xt,Lt)=>cssVar(Xt.join("-"),{prefix:Lt}),tt=[],nt=new Map,it=new Map,ot=new Map,et=new Map,j=new Map,rt=new Map,st=new Map,at=new Map,lt=[];function ct(Xt,Lt){tt.push(Xt),nt.set(Xt.name,Xt),Lt&&at.forEach(Zt=>{Zt.enforce===Lt&&Ft(Zt,Xt)})}const ut=expandBreakpoints(_),dt=compact$1({...s,breakpoints:ut.breakpoints,sizes:{...s.sizes,...ut.sizes}});function ft(){walkObject(dt,(Xt,Lt)=>{const Zt=Lt.includes("DEFAULT");Lt=filterDefault(Lt);const ur=Lt[0],Qt=$(Lt),nr=isString$3(Xt)?{value:Xt}:Xt,gr={value:nr.value,originalValue:nr.value,name:Qt,path:Lt,extensions:{condition:"base",originalPath:Lt,category:ur,prop:$(Lt.slice(1))}};Zt&&(gr.extensions.default=!0),ct(gr)},{stop:isToken}),walkObject(a,(Xt,Lt)=>{const Zt=Lt.includes("DEFAULT");Lt=filterBaseCondition(filterDefault(Lt));const ur=Lt[0],Qt=$(Lt),nr=isString$3(Xt.value)?{value:{base:Xt.value}}:Xt,gr={value:nr.value.base||"",originalValue:nr.value.base||"",name:Qt,path:Lt,extensions:{originalPath:Lt,category:ur,conditions:nr.value,condition:"base",prop:$(Lt.slice(1))}};Zt&&(gr.extensions.default=!0),ct(gr)},{stop:isToken})}function ht(Xt){return nt.get(Xt)}function mt(Xt){const{condition:Lt}=Xt.extensions;Lt&&(it.has(Lt)||it.set(Lt,new Set),it.get(Lt).add(Xt))}function bt(Xt){const{category:Lt,prop:Zt}=Xt.extensions;Lt&&(st.has(Lt)||st.set(Lt,new Map),st.get(Lt).set(Zt,Xt))}function yt(Xt){const{condition:Lt,negative:Zt,virtual:ur,cssVar:Qt}=Xt.extensions;Zt||ur||!Lt||!Qt||(ot.has(Lt)||ot.set(Lt,new Map),ot.get(Lt).set(Qt.var,Xt.value))}function gt(Xt){const{category:Lt,prop:Zt,cssVar:ur,negative:Qt}=Xt.extensions;if(!Lt)return;rt.has(Lt)||rt.set(Lt,new Map);const nr=Qt?Xt.extensions.conditions?Xt.originalValue:Xt.value:ur.ref;rt.get(Lt).set(Zt,nr),j.set([Lt,Zt].join("."),nr)}function vt(Xt){const{colorPalette:Lt,virtual:Zt,default:ur}=Xt.extensions;!Lt||Zt||Lt.roots.forEach(Qt=>{var Er;const nr=$(Qt);et.has(nr)||et.set(nr,new Map);const gr=replaceRootWithColorPalette([...Xt.path],[...Qt]),$r=$(gr),Mr=ht($r);if(!Mr||!Mr.extensions.cssVar)return;const{var:Gr}=Mr.extensions.cssVar;if(et.get(nr).set(Gr,Xt.extensions.cssVar.ref),ur&&Qt.length===1){const Yr=$(["colors","colorPalette"]),Ur=ht(Yr);if(!Ur)return;const Lr=$(Xt.path),Rr=ht(Lr);if(!Rr)return;const Fr=(Er=Lt.keys[0])==null?void 0:Er.filter(Boolean);if(!Fr.length)return;const Xr=$(Qt.concat(Fr));et.has(Xr)||et.set(Xr,new Map),et.get(Xr).set(Ur.extensions.cssVar.var,Rr.extensions.cssVar.ref)}})}let wt={};function Ct(){tt.forEach(Xt=>{mt(Xt),bt(Xt),yt(Xt),gt(Xt),vt(Xt)}),wt=mapToJson(rt)}const Rt=(Xt,Lt)=>{var Mr;if(!Xt||typeof Xt!="string")return{invalid:!0,value:Xt};const[Zt,ur]=Xt.split("/");if(!Zt||!ur)return{invalid:!0,value:Zt};const Qt=Lt(Zt),nr=(Mr=ht(`opacity.${ur}`))==null?void 0:Mr.value;if(!nr&&isNaN(Number(ur)))return{invalid:!0,value:Zt};const gr=nr?Number(nr)*100+"%":`${ur}%`,$r=Qt??Zt;return{invalid:!1,color:$r,value:`color-mix(in srgb, ${$r} ${gr}, transparent)`}},It=memo((Xt,Lt)=>j.get(Xt)??Lt),Pt=memo(Xt=>wt[Xt]||null),St=memo(Xt=>expandTokenReferences(Xt,Lt=>{if(!Lt)return;if(Lt.includes("/")){const ur=Rt(Lt,Qt=>It(Qt));if(ur.invalid)throw new Error("Invalid color mix at "+Lt+": "+ur.value);return ur.value}const Zt=It(Lt);return Zt||(TOKEN_PATH_REGEX.test(Lt)?esc(Lt):Lt)})),Ot={prefix:o,allTokens:tt,tokenMap:nt,registerToken:ct,getByName:ht,formatTokenName:$,formatCssVar:_e,flatMap:j,cssVarMap:ot,categoryMap:st,colorPaletteMap:et,getVar:It,getCategoryValues:Pt,expandReferenceInValue:St};function At(...Xt){Xt.forEach(Lt=>{at.set(Lt.name,Lt)})}function $t(...Xt){lt.push(...Xt)}function Ft(Xt,Lt){if(Lt.extensions.references||isFunction$2(Xt.match)&&!Xt.match(Lt))return;const ur=(Qt=>Xt.transform(Qt,Ot))(Lt);switch(!0){case Xt.type==="extensions":Object.assign(Lt.extensions,ur);break;case Xt.type==="value":Lt.value=ur;break;default:Lt[Xt.type]=ur;break}}function Ut(Xt){lt.forEach(Lt=>{Lt.enforce===Xt&&Lt.transform(Ot)})}function Kt(Xt){at.forEach(Lt=>{Lt.enforce===Xt&&tt.forEach(Zt=>{Ft(Lt,Zt)})})}function ar(){tt.forEach(Xt=>{const Lt=getConditionalTokens(Xt);!Lt||Lt.length===0||Lt.forEach(Zt=>{ct(Zt)})})}function lr(Xt){return getReferences(Xt).map(Zt=>ht(Zt)).filter(Boolean)}function rr(){tt.forEach(Xt=>{if(!hasReference(Xt.value))return;const Lt=lr(Xt.value);Xt.extensions.references=Lt.reduce((Zt,ur)=>(Zt[ur.name]=ur,Zt),{})})}function Jt(){tt.forEach(Xt=>{expandReferences(Xt)})}function cr(){Ut("pre"),Kt("pre"),ar(),rr(),Jt(),Ut("post"),Kt("post"),Ct()}return ft(),At(...tokenTransforms),$t(...tokenMiddlewares),cr(),Ot}function filterDefault(i){return i[0]==="DEFAULT"?i:i.filter(o=>o!=="DEFAULT")}function filterBaseCondition(i){return i.filter(o=>o!=="base")}function getConditionalTokens(i){if(!i.extensions.conditions)return;const{conditions:o}=i.extensions,s=[];return walkObject(o,(a,_)=>{const $=filterBaseCondition(_);if(!$.length)return;const _e=structuredClone(i);_e.value=a,_e.extensions.condition=$.join(":"),s.push(_e)}),s}function replaceRootWithColorPalette(i,o){const s=i.findIndex((a,_)=>o.every(($,_e)=>i[_+_e]===$));return s===-1||(i.splice(s,o.length),i.splice(s,0,"colorPalette")),i}createProps()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function normalize(i){return i}function normalizeConfig(i){return Object.fromEntries(Object.entries(i).map(([o,s])=>[o,s]))}function createUtility(i){const o=normalizeConfig(i.config),s=i.tokens,a=new Map,_=new Map;function $(yt,gt){o[yt]=gt,_e(yt,gt)}const _e=(yt,gt)=>{const vt=at(gt);vt&&(_.set(yt,vt),et(yt,gt))},tt=()=>{for(const[yt,gt]of Object.entries(o))gt&&_e(yt,gt)},nt=()=>{for(const[yt,gt]of Object.entries(o)){const{shorthand:vt}=gt??{};if(!vt)continue;(Array.isArray(vt)?vt:[vt]).forEach(Ct=>a.set(Ct,yt))}},it=()=>{const yt=mapToJson(s.colorPaletteMap);$("colorPalette",{values:Object.keys(yt),transform:memo(gt=>yt[gt])})},ot=new Map,et=(yt,gt)=>{if(!gt)return;const vt=at(gt,Ct=>`type:Tokens["${Ct}"]`);if(typeof vt=="object"&&vt.type){ot.set(yt,new Set([`type:${vt.type}`]));return}if(vt){const Ct=new Set(Object.keys(vt));ot.set(yt,Ct)}const wt=ot.get(yt)??new Set;gt.property&&ot.set(yt,wt.add(`CssProperties["${gt.property}"]`))},j=()=>{for(const[yt,gt]of Object.entries(o))gt&&et(yt,gt)},rt=(yt,gt)=>{const vt=ot.get(yt)??new Set;ot.set(yt,new Set([...vt,...gt]))},st=()=>{const yt=new Map;for(const[gt,vt]of ot.entries()){if(vt.size===0){yt.set(gt,["string"]);continue}const wt=Array.from(vt).map(Ct=>Ct.startsWith("CssProperties")?Ct:Ct.startsWith("type:")?Ct.replace("type:",""):JSON.stringify(Ct));yt.set(gt,wt)}return yt},at=(yt,gt)=>{const{values:vt}=yt,wt=Ct=>{const Rt=gt==null?void 0:gt(Ct);return Rt?{[Rt]:Rt}:void 0};return isString$3(vt)?(wt==null?void 0:wt(vt))??s.getCategoryValues(vt)??{}:Array.isArray(vt)?vt.reduce((Ct,Rt)=>(Ct[Rt]=Rt,Ct),{}):isFunction$2(vt)?vt(gt?wt:s.getCategoryValues):vt},lt=memo((yt,gt)=>({[yt]:yt.startsWith("--")?s.getVar(gt,gt):gt})),ct=Object.assign(s.getVar,{raw:yt=>s.getByName(yt)}),ut=memo((yt,gt)=>{var It;const vt=ht(yt);isString$3(gt)&&!gt.includes("_EMO_")&&(gt=s.expandReferenceInValue(gt));const wt=o[vt];if(!wt)return lt(vt,gt);const Ct=(It=_.get(vt))==null?void 0:It[gt];if(!wt.transform)return lt(yt,Ct??gt);const Rt=Pt=>colorMix(Pt,ct);return wt.transform(Ct??gt,{raw:gt,token:ct,utils:{colorMix:Rt}})});function dt(){nt(),it(),tt(),j()}dt();const ft=a.size>0,ht=memo(yt=>a.get(yt)??yt);return{keys:()=>[...Array.from(a.keys()),...Object.keys(o)],hasShorthand:ft,transform:ut,shorthands:a,resolveShorthand:ht,register:$,getTypes:st,addPropertyType:rt}}function createSystem(...i){const o=mergeConfigs(...i),{theme:s={},utilities:a={},globalCss:_={},cssVarsRoot:$=":where(:root, :host)",cssVarsPrefix:_e="chakra",preflight:tt}=o,nt=createLayers(o),it=createTokenDictionary({breakpoints:s.breakpoints,tokens:s.tokens,semanticTokens:s.semanticTokens,prefix:_e}),ot=createBreakpoints(s.breakpoints??{}),et=createConditions({conditions:o.conditions??{},breakpoints:ot}),j=createUtility({config:a,tokens:it});function rt(){const{textStyles:At,layerStyles:$t,animationStyles:Ft}=s,Ut=compact$1({textStyle:At,layerStyle:$t,animationStyle:Ft});for(const[Kt,ar]of Object.entries(Ut)){const lr=flatten(ar??{},rr=>isObject$4(rr)&&"value"in rr);j.register(Kt,{values:Object.keys(lr),transform(rr){return dt(lr[rr])}})}}rt(),j.addPropertyType("animationName",Object.keys(s.keyframes??{}));const st=new Set(["css",...j.keys(),...et.keys()]),at=memo(At=>st.has(At)||isCssProperty(At)),lt=At=>Array.isArray(At)?At.reduce(($t,Ft,Ut)=>{const Kt=et.breakpoints[Ut];return Ft!=null&&($t[Kt]=Ft),$t},{}):At,ct=createNormalizeFn({utility:j,normalize:lt}),ut=createSerializeFn({conditions:et,isValidProperty:at}),dt=createCssFn({transform:j.transform,conditions:et,normalize:ct}),ft=createRecipeFn({css:dt,conditions:et,normalize:ct,layers:nt}),ht=createSlotRecipeFn({cva:ft});function mt(){const At={};for(const[$t,Ft]of it.cssVarMap.entries()){const Ut=Object.fromEntries(Ft);if(Object.keys(Ut).length===0)continue;const Kt=$t==="base"?$:et.resolve($t),ar=dt(ut({[Kt]:Ut}));mergeWith(At,ar)}return nt.wrap("tokens",At)}function bt(){const At=Object.fromEntries(Object.entries(s.keyframes??{}).map(([Ft,Ut])=>[`@keyframes ${Ft}`,Ut])),$t=Object.assign({},At,dt(ut(_)));return nt.wrap("base",$t)}function yt(At){return splitProps(At,at)}function gt(){const At=createPreflight({preflight:tt});return nt.wrap("reset",At)}const vt=getTokenMap(it),wt=(At,$t)=>{var Ft;return((Ft=vt.get(At))==null?void 0:Ft.value)||$t};wt.var=(At,$t)=>{var Ft;return((Ft=vt.get(At))==null?void 0:Ft.variable)||$t};function Ct(At,$t){var Ft;return((Ft=s.recipes)==null?void 0:Ft[At])??$t}function Rt(At,$t){var Ft;return((Ft=s.slotRecipes)==null?void 0:Ft[At])??$t}function It(At){return Object.hasOwnProperty.call(s.recipes??{},At)}function Pt(At){return Object.hasOwnProperty.call(s.slotRecipes??{},At)}function St(At){return It(At)||Pt(At)}const Ot=[gt(),bt(),mt()];return{$$chakra:!0,_config:o,_global:Ot,breakpoints:ot,tokens:it,conditions:et,utility:j,token:wt,properties:st,layers:nt,isValidProperty:at,splitCssProps:yt,normalizeValue:lt,getTokenCss:mt,getGlobalCss:bt,getPreflightCss:gt,css:dt,cva:ft,sva:ht,getRecipe:Ct,getSlotRecipe:Rt,hasRecipe:St,isRecipe:It,isSlotRecipe:Pt}}function getTokenMap(i){const o=new Map;return i.allTokens.forEach(s=>{const{cssVar:a,virtual:_,conditions:$}=s.extensions,_e=$||_?a.ref:s.value;o.set(s.name,{value:_e,variable:a.ref})}),o}const breakpoints={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},empty="var(--chakra-empty,/*!*/ /*!*/)",globalCss=defineGlobalStyles({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":empty,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(i=>[`--${i}`,empty])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(i=>[`--backdrop-${i}`,empty])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),layerStyles=defineLayerStyles({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),animationStyles=defineAnimationStyles({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),badgeRecipe=defineRecipe({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),buttonRecipe=defineRecipe({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),checkmarkRecipe=defineRecipe({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:variants$1,defaultVariants:defaultVariants$1}=badgeRecipe,codeRecipe=defineRecipe({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:variants$1,defaultVariants:defaultVariants$1}),colorSwatchRecipe=defineRecipe({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),containerRecipe=defineRecipe({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),headingRecipe=defineRecipe({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),iconRecipe=defineRecipe({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),inputRecipe=defineRecipe({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),inputAddonRecipe=defineRecipe({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:inputRecipe.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),kbdRecipe=defineRecipe({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),linkRecipe=defineRecipe({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),markRecipe=defineRecipe({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),radiomarkRecipe=defineRecipe({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),separatorRecipe=defineRecipe({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),skeletonRecipe=defineRecipe({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),skipNavLinkRecipe=defineRecipe({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),spinnerRecipe=defineRecipe({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),textareaRecipe=defineRecipe({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),recipes={badge:badgeRecipe,button:buttonRecipe,code:codeRecipe,container:containerRecipe,heading:headingRecipe,input:inputRecipe,inputAddon:inputAddonRecipe,kbd:kbdRecipe,link:linkRecipe,mark:markRecipe,separator:separatorRecipe,skeleton:skeletonRecipe,skipNavLink:skipNavLinkRecipe,spinner:spinnerRecipe,textarea:textareaRecipe,icon:iconRecipe,checkmark:checkmarkRecipe,radiomark:radiomarkRecipe,colorSwatch:colorSwatchRecipe},semanticColors=defineSemanticTokens.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.400}",_dark:"{colors.red.400}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.400}",_dark:"{colors.orange.400}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.400}",_dark:"{colors.green.400}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.400}",_dark:"{colors.blue.400}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.400}",_dark:"{colors.yellow.400}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.400}",_dark:"{colors.teal.400}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.400}",_dark:"{colors.purple.400}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.400}",_dark:"{colors.pink.400}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.400}",_dark:"{colors.cyan.400}"}}}}),semanticRadii=defineSemanticTokens.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),semanticShadows=defineSemanticTokens.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),accordionAnatomy=anatomy$l.extendWith("itemBody"),actionBarAnatomy=createAnatomy("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),alertAnatomy=createAnatomy("alert").parts("title","description","root","indicator","content"),breadcrumbAnatomy=createAnatomy("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),blockquoteAnatomy=createAnatomy("blockquote").parts("root","icon","content","caption"),cardAnatomy=createAnatomy("card").parts("root","header","body","footer","title","description"),checkboxCardAnatomy=createAnatomy("checkbox-card",["root","control","label","description","addon","indicator","content"]),dataListAnatomy=createAnatomy("data-list").parts("root","item","itemLabel","itemValue"),dialogAnatomy=anatomy$h.extendWith("header","body","footer","backdrop"),drawerAnatomy=anatomy$h.extendWith("header","body","footer","backdrop"),editableAnatomy=anatomy$g.extendWith("textarea"),emptyStateAnatomy=createAnatomy("empty-state",["root","content","indicator","title","description"]),fieldAnatomy=fieldAnatomy$1.extendWith("requiredIndicator"),fieldsetAnatomy=fieldsetAnatomy$1.extendWith("content"),fileUploadAnatomy=anatomy$f.extendWith("itemContent","dropzoneContent","fileText"),listAnatomy=createAnatomy("list").parts("root","item","indicator"),menuAnatomy=anatomy$d.extendWith("itemCommand"),nativeSelectAnatomy=createAnatomy("select").parts("root","field","indicator"),popoverAnatomy=anatomy$a.extendWith("header","body","footer"),radioGroupAnatomy=anatomy$7.extendWith("itemAddon","itemIndicator"),radioCardAnatomy=radioGroupAnatomy.extendWith("itemContent","itemDescription"),ratingGroupAnatomy=anatomy$6.extendWith("itemIndicator"),selectAnatomy=anatomy$5.extendWith("indicatorGroup"),sliderAnatomy=anatomy$4.extendWith("markerIndicator"),statAnatomy=createAnatomy("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),statusAnatomy=createAnatomy("status").parts("root","indicator"),stepsAnatomy=createAnatomy("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),switchAnatomy=anatomy$3.extendWith("indicator"),tableAnatomy=createAnatomy("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),toastAnatomy=createAnatomy("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),tabsAnatomy=createAnatomy("tabs").parts("root","trigger","list","content","contentGroup","indicator"),tagAnatomy=createAnatomy("tag").parts("root","label","closeTrigger","startElement","endElement"),timelineAnatomy=createAnatomy("timeline").parts("root","item","content","separator","indicator","connector","title","description"),colorPickerAnatomy=colorPickerAnatomy$1.extendWith("channelText"),accordionSlotRecipe=defineSlotRecipe({className:"chakra-accordion",slots:accordionAnatomy.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),actionBarSlotRecipe=defineSlotRecipe({className:"chakra-action-bar",slots:actionBarAnatomy.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),alertSlotRecipe=defineSlotRecipe({slots:alertAnatomy.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),avatarSlotRecipe=defineSlotRecipe({slots:anatomy$k.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),blockquoteSlotRecipe=defineSlotRecipe({className:"chakra-blockquote",slots:blockquoteAnatomy.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),breadcrumbSlotRecipe=defineSlotRecipe({className:"chakra-breadcrumb",slots:breadcrumbAnatomy.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),cardSlotRecipe=defineSlotRecipe({className:"chakra-card",slots:cardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var fo,ho,go,mo,yo,bo,vo,xo,_o,wo,So,Eo,Co,To;const checkboxSlotRecipe=defineSlotRecipe({slots:checkboxAnatomy.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:checkmarkRecipe.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(ho=(fo=checkmarkRecipe.variants)==null?void 0:fo.size)==null?void 0:ho.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(mo=(go=checkmarkRecipe.variants)==null?void 0:go.size)==null?void 0:mo.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(bo=(yo=checkmarkRecipe.variants)==null?void 0:yo.size)==null?void 0:bo.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(xo=(vo=checkmarkRecipe.variants)==null?void 0:vo.size)==null?void 0:xo.lg}},variant:{outline:{control:(wo=(_o=checkmarkRecipe.variants)==null?void 0:_o.variant)==null?void 0:wo.outline},solid:{control:(Eo=(So=checkmarkRecipe.variants)==null?void 0:So.variant)==null?void 0:Eo.solid},subtle:{control:(To=(Co=checkmarkRecipe.variants)==null?void 0:Co.variant)==null?void 0:To.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var Po,Io,Ro,ko,Oo,Ao,$o;const checkboxCardSlotRecipe=defineSlotRecipe({slots:checkboxCardAnatomy.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:checkmarkRecipe.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(Po=checkmarkRecipe.variants)==null?void 0:Po.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(Io=checkmarkRecipe.variants)==null?void 0:Io.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(Ro=checkmarkRecipe.variants)==null?void 0:Ro.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(ko=checkmarkRecipe.variants)==null?void 0:ko.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(Oo=checkmarkRecipe.variants)==null?void 0:Oo.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(Ao=checkmarkRecipe.variants)==null?void 0:Ao.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:($o=checkmarkRecipe.variants)==null?void 0:$o.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),collapsibleSlotRecipe=defineSlotRecipe({slots:anatomy$n.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var Mo,jo,Do,Lo,No,Fo,Bo,Vo,zo,Uo,Wo,Ho,Go,Yo,Xo,Ko,qo,Jo;const colorPickerSlotRecipe=defineSlotRecipe({className:"colorPicker",slots:colorPickerAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...colorSwatchRecipe.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...inputRecipe.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(jo=(Mo=inputRecipe.variants)==null?void 0:Mo.size)==null?void 0:jo["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(Lo=(Do=inputRecipe.variants)==null?void 0:Do.size)==null?void 0:Lo.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(Fo=(No=inputRecipe.variants)==null?void 0:No.size)==null?void 0:Fo.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(Vo=(Bo=inputRecipe.variants)==null?void 0:Bo.size)==null?void 0:Vo.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(Uo=(zo=inputRecipe.variants)==null?void 0:zo.size)==null?void 0:Uo.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(Ho=(Wo=inputRecipe.variants)==null?void 0:Wo.size)==null?void 0:Ho.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(Yo=(Go=inputRecipe.variants)==null?void 0:Go.size)==null?void 0:Yo["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(Ko=(Xo=inputRecipe.variants)==null?void 0:Xo.variant)==null?void 0:Ko.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(Jo=(qo=inputRecipe.variants)==null?void 0:qo.variant)==null?void 0:Jo.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),dataListSlotRecipe=defineSlotRecipe({slots:dataListAnatomy.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),dialogSlotRecipe=defineSlotRecipe({slots:dialogAnatomy.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),drawerSlotRecipe=defineSlotRecipe({slots:drawerAnatomy.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),sharedStyles=defineStyle({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),editableSlotRecipe=defineSlotRecipe({slots:editableAnatomy.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...sharedStyles,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...sharedStyles,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),emptyStateSlotRecipe=defineSlotRecipe({slots:emptyStateAnatomy.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),fieldSlotRecipe=defineSlotRecipe({className:"chakra-field",slots:fieldAnatomy.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),fieldsetSlotRecipe=defineSlotRecipe({className:"fieldset",slots:fieldsetAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),fileUploadSlotRecipe=defineSlotRecipe({className:"chakra-file-upload",slots:fileUploadAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),hoverCardSlotRecipe=defineSlotRecipe({className:"chakra-hover-card",slots:anatomy$e.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),listSlotRecipe=defineSlotRecipe({className:"chakra-list",slots:listAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),menuSlotRecipe=defineSlotRecipe({className:"chakra-menu",slots:menuAnatomy.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),selectSlotRecipe=defineSlotRecipe({className:"chakra-select",slots:selectAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var Qo,Zo;const nativeSelectSlotRecipe=defineSlotRecipe({className:"chakra-native-select",slots:nativeSelectAnatomy.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(Qo=selectSlotRecipe.variants)==null?void 0:Qo.variant.outline.trigger},subtle:{field:(Zo=selectSlotRecipe.variants)==null?void 0:Zo.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:selectSlotRecipe.defaultVariants});function mapEntries(i,o){const s={};for(const a in i){const _=o(a,i[a]);s[_[0]]=_[1]}return s}const triggerStyle=defineStyle({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),numberInputSlotRecipe=defineSlotRecipe({className:"chakra-number-input",slots:anatomy$c.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...inputRecipe.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...triggerStyle,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...triggerStyle,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:inputRecipe.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:inputRecipe.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:inputRecipe.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:inputRecipe.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:mapEntries(inputRecipe.variants.variant,(i,o)=>[i,{input:o}])},defaultVariants:{size:"md",variant:"outline"}}),{variants,defaultVariants}=inputRecipe,pinInputSlotRecipe=defineSlotRecipe({className:"chakra-pin-input",slots:anatomy$b.keys(),base:{input:{...inputRecipe.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:mapEntries(variants.size,(i,o)=>[i,{input:o}]),variant:mapEntries(variants.variant,(i,o)=>[i,{input:o}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants}),popoverSlotRecipe=defineSlotRecipe({className:"chakra-popover",slots:popoverAnatomy.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),progressSlotRecipe=defineSlotRecipe({slots:anatomy$9.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),progressCircleSlotRecipe=defineSlotRecipe({className:"chakra-progress-circle",slots:anatomy$9.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),qrCodeSlotRecipe=defineSlotRecipe({slots:anatomy$8.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var es,ts,rs,ns,is,os,ss;const radioCardSlotRecipe=defineSlotRecipe({className:"chakra-radio-card",slots:radioCardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:radiomarkRecipe.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(es=radiomarkRecipe.variants)==null?void 0:es.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(ts=radiomarkRecipe.variants)==null?void 0:ts.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(rs=radiomarkRecipe.variants)==null?void 0:rs.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(ns=radiomarkRecipe.variants)==null?void 0:ns.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(is=radiomarkRecipe.variants)==null?void 0:is.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(os=radiomarkRecipe.variants)==null?void 0:os.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(ss=radiomarkRecipe.variants)==null?void 0:ss.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var as,ls,cs,us,ds,ps,fs,hs,gs,ms,ys,bs,vs,xs;const radioGroupSlotRecipe=defineSlotRecipe({className:"chakra-radio-group",slots:radioGroupAnatomy.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:radiomarkRecipe.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(ls=(as=radiomarkRecipe.variants)==null?void 0:as.variant)==null?void 0:ls.outline},subtle:{itemControl:(us=(cs=radiomarkRecipe.variants)==null?void 0:cs.variant)==null?void 0:us.subtle},solid:{itemControl:(ps=(ds=radiomarkRecipe.variants)==null?void 0:ds.variant)==null?void 0:ps.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(hs=(fs=radiomarkRecipe.variants)==null?void 0:fs.size)==null?void 0:hs.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(ms=(gs=radiomarkRecipe.variants)==null?void 0:gs.size)==null?void 0:ms.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(bs=(ys=radiomarkRecipe.variants)==null?void 0:ys.size)==null?void 0:bs.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(xs=(vs=radiomarkRecipe.variants)==null?void 0:vs.size)==null?void 0:xs.lg}}},defaultVariants:{size:"md",variant:"solid"}}),ratingGroupSlotRecipe=defineSlotRecipe({className:"chakra-rating-group",slots:ratingGroupAnatomy.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),segmentGroupSlotRecipe=defineSlotRecipe({className:"chakra-segment-group",slots:segmentGroupAnatomy.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),sliderSlotRecipe=defineSlotRecipe({className:"chakra-slider",slots:sliderAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),statSlotRecipe=defineSlotRecipe({className:"chakra-stat",slots:statAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),statusSlotRecipe=defineSlotRecipe({className:"chakra-status",slots:statusAnatomy.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),stepsSlotRecipe=defineSlotRecipe({className:"chakra-steps",slots:stepsAnatomy.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),switchSlotRecipe=defineSlotRecipe({slots:switchAnatomy.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),tableSlotRecipe=defineSlotRecipe({className:"chakra-table",slots:tableAnatomy.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),tabsSlotRecipe=defineSlotRecipe({slots:tabsAnatomy.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var _s;const badgeVariant=(_s=badgeRecipe.variants)==null?void 0:_s.variant,tagSlotRecipe=defineSlotRecipe({slots:tagAnatomy.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:badgeVariant==null?void 0:badgeVariant.subtle},solid:{root:badgeVariant==null?void 0:badgeVariant.solid},outline:{root:badgeVariant==null?void 0:badgeVariant.outline},surface:{root:badgeVariant==null?void 0:badgeVariant.surface}}},defaultVariants:{size:"md",variant:"surface"}}),timelineSlotRecipe=defineSlotRecipe({slots:timelineAnatomy.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),toastSlotRecipe=defineSlotRecipe({slots:toastAnatomy.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),tooltipSlotRecipe=defineSlotRecipe({slots:anatomy.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),slotRecipes={accordion:accordionSlotRecipe,actionBar:actionBarSlotRecipe,alert:alertSlotRecipe,avatar:avatarSlotRecipe,blockquote:blockquoteSlotRecipe,breadcrumb:breadcrumbSlotRecipe,card:cardSlotRecipe,checkbox:checkboxSlotRecipe,checkboxCard:checkboxCardSlotRecipe,collapsible:collapsibleSlotRecipe,dataList:dataListSlotRecipe,dialog:dialogSlotRecipe,drawer:drawerSlotRecipe,editable:editableSlotRecipe,emptyState:emptyStateSlotRecipe,field:fieldSlotRecipe,fieldset:fieldsetSlotRecipe,fileUpload:fileUploadSlotRecipe,hoverCard:hoverCardSlotRecipe,list:listSlotRecipe,menu:menuSlotRecipe,nativeSelect:nativeSelectSlotRecipe,numberInput:numberInputSlotRecipe,pinInput:pinInputSlotRecipe,popover:popoverSlotRecipe,progress:progressSlotRecipe,progressCircle:progressCircleSlotRecipe,radioCard:radioCardSlotRecipe,radioGroup:radioGroupSlotRecipe,ratingGroup:ratingGroupSlotRecipe,segmentGroup:segmentGroupSlotRecipe,select:selectSlotRecipe,slider:sliderSlotRecipe,stat:statSlotRecipe,steps:stepsSlotRecipe,switch:switchSlotRecipe,table:tableSlotRecipe,tabs:tabsSlotRecipe,tag:tagSlotRecipe,toast:toastSlotRecipe,tooltip:tooltipSlotRecipe,status:statusSlotRecipe,timeline:timelineSlotRecipe,colorPicker:colorPickerSlotRecipe,qrCode:qrCodeSlotRecipe},textStyles=defineTextStyles({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),animations=defineTokens.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),aspectRatios=defineTokens.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),blurs=defineTokens.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),borders=defineTokens.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),colors=defineTokens.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),cursor=defineTokens.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),durations=defineTokens.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),easings=defineTokens.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),fontSizes=defineTokens.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),fontWeights=defineTokens.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),fallback='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fonts=defineTokens.fonts({heading:{value:`Inter, ${fallback}`},body:{value:`Inter, ${fallback}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),keyframes=defineKeyframes({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),letterSpacings=defineTokens.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),lineHeights=defineTokens.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),radii=defineTokens.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),spacing=defineTokens.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),largeSizes=defineTokens.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),namedSizes=defineTokens.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),fractionalSizes=defineTokens.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),sizes=defineTokens.sizes({...largeSizes,...spacing,...fractionalSizes,...namedSizes}),zIndices=defineTokens.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),defaultThemeConfig=defineConfig({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss,theme:{breakpoints,keyframes,tokens:{aspectRatios,animations,blurs,borders,colors,durations,easings,fonts,fontSizes,fontWeights,letterSpacings,lineHeights,radii,spacing,sizes,zIndex:zIndices,cursor},semanticTokens:{colors:semanticColors,shadows:semanticShadows,radii:semanticRadii},recipes,slotRecipes,textStyles,layerStyles,animationStyles}}),defaultConfig=mergeConfigs(defaultBaseConfig,defaultThemeConfig),defaultSystem=createSystem(defaultConfig),dataAttr=i=>i?"":void 0,StyledGroup=chakra("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),Group=reactExports.memo(reactExports.forwardRef(function(o,s){const{align:a="center",justify:_="flex-start",children:$,wrap:_e,skip:tt,...nt}=o,it=reactExports.useMemo(()=>{let ot=reactExports.Children.toArray($).filter(reactExports.isValidElement);if(ot.length===1)return ot;const et=ot.filter(rt=>!(tt!=null&&tt(rt))),j=et.length;return et.length===1?ot:ot.map(rt=>{const st=rt.props;if(tt!=null&&tt(rt))return rt;const at=et.indexOf(rt);return reactExports.cloneElement(rt,{...st,"data-group-item":"","data-first":dataAttr(at===0),"data-last":dataAttr(at===j-1),"data-between":dataAttr(at>0&&at<j-1),style:{"--group-count":j,"--group-index":at,...(st==null?void 0:st.style)??{}}})})},[$,tt]);return jsxRuntimeExports.jsx(StyledGroup,{ref:s,alignItems:a,justifyContent:_,flexWrap:_e,...nt,className:cx("chakra-group",o.className),children:it})})),{withContext:withContext$g}=createRecipeContext({key:"badge"}),Badge=withContext$g("span"),Box=chakra("div");Box.displayName="Box";const Span=chakra("span"),AbsoluteCenter=chakra("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});AbsoluteCenter.displayName="AbsoluteCenter";const{withContext:withContext$f}=createRecipeContext({key:"spinner"}),Spinner=withContext$f("span"),Loader$1=reactExports.forwardRef(function(o,s){const{spinner:a=jsxRuntimeExports.jsx(Spinner,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:_="start",children:$,text:_e,visible:tt=!0,...nt}=o;return tt?_e?jsxRuntimeExports.jsxs(Span,{ref:s,display:"contents",...nt,children:[_==="start"&&a,_e,_==="end"&&a]}):a?jsxRuntimeExports.jsxs(Span,{ref:s,display:"contents",...nt,children:[jsxRuntimeExports.jsx(AbsoluteCenter,{display:"inline-flex",children:a}),jsxRuntimeExports.jsx(Span,{opacity:0,children:$})]}):jsxRuntimeExports.jsx(Span,{ref:s,display:"contents",...nt,children:$}):$}),{useRecipeResult:useRecipeResult$2,usePropsContext}=createRecipeContext({key:"button"}),Button$2=reactExports.forwardRef(function(o,s){const a=usePropsContext(),_=reactExports.useMemo(()=>mergeProps$1(a,o),[a,o]),$=useRecipeResult$2(_),{loading:_e,loadingText:tt,children:nt,spinner:it,spinnerPlacement:ot,...et}=$.props;return jsxRuntimeExports.jsx(chakra.button,{type:"button",ref:s,...et,disabled:_e||et.disabled,className:cx($.className,_.className),css:[$.styles,_.css],children:!_.asChild&&_e?jsxRuntimeExports.jsx(Loader$1,{spinner:it,text:tt,spinnerPlacement:ot,children:nt}):nt})}),IconButton=reactExports.forwardRef(function(o,s){return jsxRuntimeExports.jsx(Button$2,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:s,...o})}),{withProvider:withProvider$6,withContext:withContext$e}=createSlotRecipeContext({key:"clipboard"});withProvider$6(ClipboardRootProvider,"root",{forwardAsChild:!0});const ClipboardRoot$1=withProvider$6(ClipboardRoot$2,"root",{forwardAsChild:!0}),ClipboardTrigger=withContext$e(ClipboardTrigger$1,"trigger",{forwardAsChild:!0});withContext$e(ClipboardControl,"control",{forwardAsChild:!0});const ClipboardIndicator=withContext$e(ClipboardIndicator$1,"indicator",{forwardAsChild:!0,defaultProps:{copied:jsxRuntimeExports.jsx(CheckIcon,{boxSize:"1em"}),children:jsxRuntimeExports.jsx(CopyIcon,{boxSize:"1em"})}}),ClipboardInput=withContext$e(ClipboardInput$1,"input",{forwardAsChild:!0}),ClipboardLabel=withContext$e(ClipboardLabel$1,"label",{forwardAsChild:!0});withContext$e(ClipboardValueText,"valueText",{forwardAsChild:!0});reactExports.forwardRef(function(o,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:"Copied",...o,ref:s,children:"Copy"})});function getSeparatorStyles(i){const{gap:o,direction:s}=i,a={column:{marginY:o,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:o,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:o,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:o,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":mapObject(s,_=>a[_])}}function getValidChildren(i){return reactExports.Children.toArray(i).filter(o=>reactExports.isValidElement(o))}const Stack=reactExports.forwardRef(function(o,s){const{direction:a="column",align:_,justify:$,gap:_e="0.5rem",wrap:tt,children:nt,separator:it,className:ot,...et}=o,j=reactExports.useMemo(()=>getSeparatorStyles({gap:_e,direction:a}),[_e,a]),rt=reactExports.useMemo(()=>it?getValidChildren(nt).map((st,at,lt)=>{const ct=typeof st.key<"u"?st.key:at,ut=reactExports.cloneElement(it,{css:[j,it.props.css]});return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[st,at===lt.length-1?null:ut]},ct)}):nt,[nt,it,j]);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:_,justifyContent:$,flexDirection:a,flexWrap:tt,gap:it?void 0:_e,className:cx("chakra-stack",ot),...et,children:rt})}),{withRootProvider:withRootProvider$2,withContext:withContext$d}=createSlotRecipeContext({key:"drawer"});withRootProvider$2(DialogRootProvider,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const DrawerRoot$1=withRootProvider$2(DialogRoot,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),DrawerTrigger$1=withContext$d(DialogTrigger,"trigger",{forwardAsChild:!0}),DrawerPositioner=withContext$d(DialogPositioner,"positioner",{forwardAsChild:!0}),DrawerContent$1=withContext$d(DialogContent,"content",{forwardAsChild:!0});withContext$d(DialogDescription,"description",{forwardAsChild:!0});const DrawerTitle$1=withContext$d(DialogTitle,"title",{forwardAsChild:!0}),DrawerCloseTrigger$1=withContext$d(DialogCloseTrigger,"closeTrigger",{forwardAsChild:!0}),DrawerActionTrigger$1=reactExports.forwardRef(function(o,s){const a=useDialogContext();return jsxRuntimeExports.jsx(chakra.button,{...o,ref:s,onClick:()=>a.setOpen(!1)})}),DrawerBackdrop$1=withContext$d(DialogBackdrop,"backdrop",{forwardAsChild:!0}),DrawerBody$1=withContext$d("div","body"),DrawerFooter$1=withContext$d("div","footer"),DrawerHeader$1=withContext$d("div","header"),{useRecipeResult:useRecipeResult$1}=createRecipeContext({key:"icon"}),Icon=reactExports.forwardRef(function(o,s){const{styles:a,className:_,props:$}=useRecipeResult$1({asChild:!o.as,...o});return jsxRuntimeExports.jsx(chakra.svg,{ref:s,focusable:!1,"aria-hidden":"true",...$,css:[a,o.css],className:cx(_,o.className)})});function createIcon(i){const{viewBox:o="0 0 24 24",d:s,displayName:a,defaultProps:_={}}=i,$=reactExports.Children.toArray(i.path),_e=reactExports.forwardRef((tt,nt)=>jsxRuntimeExports.jsx(Icon,{ref:nt,asChild:!1,viewBox:o,..._,...tt,children:$.length?$:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:s})}));return _e.displayName=a,_e}const{withProvider:withProvider$5,withContext:withContext$c,useStyles:useFieldStyles,useClassNames}=createSlotRecipeContext({key:"field"}),FieldRoot=withProvider$5(FieldRoot$1,"root",{forwardAsChild:!0}),FieldLabel=withContext$c(FieldLabel$1,"label",{forwardAsChild:!0}),FieldHelperText=withContext$c(FieldHelperText$1,"helperText",{forwardAsChild:!0}),FieldErrorText=withContext$c(FieldErrorText$1,"errorText",{forwardAsChild:!0});createIcon({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const FieldRequiredIndicator=reactExports.forwardRef(function(o,s){const{fallback:a,children:_="*",...$}=o,_e=useFieldContext(),tt=useClassNames(),nt=useFieldStyles();return _e!=null&&_e.required?jsxRuntimeExports.jsx(chakra.span,{ref:s,"aria-hidden":"true",...$,className:cx(tt.requiredIndicator,o.className),css:[nt.requiredIndicator,o.css],children:_}):a}),Flex=reactExports.forwardRef(function(o,s){const{direction:a,align:_,justify:$,wrap:_e,basis:tt,grow:nt,shrink:it,inline:ot,...et}=o;return jsxRuntimeExports.jsx(chakra.div,{ref:s,...et,css:{display:ot?"inline-flex":"flex",flexDirection:a,alignItems:_,justifyContent:$,flexWrap:_e,flexBasis:tt,flexGrow:nt,flexShrink:it,...o.css}})}),Image$1=reactExports.forwardRef(function(o,s){const{align:a,fit:_="cover",...$}=o;return jsxRuntimeExports.jsx(chakra.img,{ref:s,objectFit:_,objectPosition:a,className:cx("chakra-image",o.className),...$})}),{withContext:withContext$b}=createRecipeContext({key:"input"}),Input$1=withContext$b(FieldInput),InputElement=chakra("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:2,color:"fg.muted",height:"full",fontSize:"sm",px:"3"},variants:{placement:{start:{insetInlineStart:"0"},end:{insetInlineEnd:"0"}}}}),{withRootProvider:withRootProvider$1,withContext:withContext$a}=createSlotRecipeContext({key:"menu"});withRootProvider$1(MenuRootProvider);const MenuRoot=withRootProvider$1(MenuRoot$1,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),MenuTrigger=withContext$a(MenuTrigger$1,"trigger",{forwardAsChild:!0});withContext$a(MenuContextTrigger,"contextTrigger",{forwardAsChild:!0});const MenuPositioner=withContext$a(MenuPositioner$1,"positioner",{forwardAsChild:!0});withContext$a(MenuSeparator,"separator",{forwardAsChild:!0});const MenuContent=withContext$a(MenuContent$1,"content",{forwardAsChild:!0}),MenuArrowTip=withContext$a(MenuArrowTip$1,"arrowTip",{forwardAsChild:!0});withContext$a(MenuArrow,"arrow",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(MenuArrowTip,{})}});withContext$a(MenuIndicator,"indicator",{forwardAsChild:!0});withContext$a(MenuItemGroup,"itemGroup",{forwardAsChild:!0});withContext$a(MenuItemGroupLabel,"itemGroupLabel",{forwardAsChild:!0});withContext$a(MenuItem,"item",{forwardAsChild:!0});withContext$a(MenuTriggerItem,"item",{forwardAsChild:!0});withContext$a(MenuItemText,"itemText",{forwardAsChild:!0});withContext$a("kbd","itemCommand");const MenuItemIndicator=withContext$a(MenuItemIndicator$1,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CheckIcon,{boxSize:"4"})}});withContext$a(MenuCheckboxItem,"item",{forwardAsChild:!0});const MenuRadioItemGroup=withContext$a(MenuRadioItemGroup$1,"itemGroup",{forwardAsChild:!0}),MenuRadioItem=withContext$a(MenuRadioItem$1,"item",{forwardAsChild:!0}),{withProvider:withProvider$4,withContext:withContext$9}=createSlotRecipeContext({key:"numberInput"});withProvider$4(NumberInputRootProvider,"root",{forwardAsChild:!0});const NumberInputRoot=withProvider$4(NumberInputRoot$1,"root",{forwardAsChild:!0});withContext$9(NumberInputLabel,"label",{forwardAsChild:!0});const NumberInputInput=withContext$9(NumberInputInput$1,"input",{forwardAsChild:!0}),NumberInputIncrementTrigger=withContext$9(NumberInputIncrementTrigger$1,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}}),NumberInputDecrementTrigger=withContext$9(NumberInputDecrementTrigger$1,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}}),NumberInputControl=withContext$9(NumberInputControl$1,"control",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(NumberInputIncrementTrigger,{}),jsxRuntimeExports.jsx(NumberInputDecrementTrigger,{})]})}});withContext$9(NumberInputScrubber,"scrubber",{forwardAsChild:!0});withContext$9(NumberInputValueText,"valueText",{forwardAsChild:!0});const{withProvider:withProvider$3,withContext:withContext$8}=createSlotRecipeContext({key:"select"});withProvider$3(SelectRootProvider,"root",{forwardAsChild:!0});const SelectRoot$1=withProvider$3(SelectRoot$2,"root",{forwardAsChild:!0,defaultProps:{positioning:{sameWidth:!0}}}),SelectTrigger$1=withContext$8(SelectTrigger$2,"trigger",{forwardAsChild:!0}),SelectPositioner=withContext$8(SelectPositioner$1,"positioner",{forwardAsChild:!0}),SelectContent$1=withContext$8(SelectContent$2,"content",{forwardAsChild:!0}),SelectValueText$1=withContext$8(SelectValueText$2,"valueText",{forwardAsChild:!0}),SelectClearTrigger$1=withContext$8(SelectClearTrigger$2,"clearTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CloseIcon,{boxSize:"1em"})}}),SelectItemGroup=withContext$8(SelectItemGroup$1,"itemGroup",{forwardAsChild:!0}),SelectItemGroupLabel=withContext$8(SelectItemGroupLabel$1,"itemGroupLabel",{forwardAsChild:!0}),SelectItem$1=withContext$8(SelectItem$2,"item",{forwardAsChild:!0});withContext$8(SelectItemText,"itemText",{forwardAsChild:!0});const SelectItemIndicator=withContext$8(SelectItemIndicator$1,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CheckIcon,{})}}),SelectIndicatorGroup=withContext$8("div","indicatorGroup"),SelectIndicator=withContext$8(SelectIndicator$1,"indicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}}),SelectControl=withContext$8(SelectControl$1,"control",{forwardAsChild:!0});withContext$8(SelectLabel,"label",{forwardAsChild:!0});const SelectContext=SelectContext$1,SelectHiddenSelect=SelectHiddenSelect$1,HStack=reactExports.forwardRef(function(o,s){return jsxRuntimeExports.jsx(Stack,{align:"center",...o,direction:"row",ref:s})}),VStack=reactExports.forwardRef(function(o,s){return jsxRuntimeExports.jsx(Stack,{align:"center",...o,direction:"column",ref:s})}),{withProvider:withProvider$2,withContext:withContext$7,useStyles:useSwitchStyles}=createSlotRecipeContext({key:"switch"});withProvider$2(SwitchRootProvider,"root",{forwardAsChild:!0});const SwitchRoot=withProvider$2(SwitchRoot$1,"root",{forwardAsChild:!0}),SwitchLabel=withContext$7(SwitchLabel$1,"label",{forwardAsChild:!0}),SwitchThumb=withContext$7(SwitchThumb$1,"thumb",{forwardAsChild:!0}),SwitchControl=withContext$7(SwitchControl$1,"control",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(SwitchThumb,{})}}),SwitchIndicator=reactExports.forwardRef(function(o,s){const a=useSwitchContext(),_=useSwitchStyles(),{fallback:$,children:_e,...tt}=o;return jsxRuntimeExports.jsx(chakra.span,{ref:s,"data-checked":dataAttr(a.checked),...tt,css:[_.indicator,o.css],children:a.checked?_e:$})}),SwitchThumbIndicator=reactExports.forwardRef(function(o,s){const a=useSwitchContext(),{fallback:_,children:$,..._e}=o;return jsxRuntimeExports.jsx(chakra.span,{ref:s,"data-checked":dataAttr(a.checked),..._e,children:a.checked?$:_})}),SwitchHiddenInput=SwitchHiddenInput$1,{StylesProvider,ClassNamesProvider,useRecipeResult,withContext:withContext$6}=createSlotRecipeContext({key:"table"}),TableRoot=reactExports.forwardRef(function({native:o,...s},a){const{styles:_,props:$,classNames:_e}=useRecipeResult(s),tt=reactExports.useMemo(()=>o?{..._.root,"& thead":_.header,"& tbody":_.body,"& tfoot":_.footer,"& thead th":_.columnHeader,"& tr":_.row,"& td":_.cell,"& caption":_.caption}:_.root,[_,o]);return jsxRuntimeExports.jsx(ClassNamesProvider,{value:_e,children:jsxRuntimeExports.jsx(StylesProvider,{value:_,children:jsxRuntimeExports.jsx(chakra.table,{ref:a,...$,css:[tt,s.css],className:cx(_e==null?void 0:_e.root,s.className)})})})}),TableRow=withContext$6("tr","row");chakra("div",{base:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflow:"auto",maxWidth:"100%"}});const TableHeader=withContext$6("thead","header");withContext$6("tfoot","footer");const TableColumnHeader=withContext$6("th","columnHeader"),TableCell=withContext$6("td","cell");withContext$6("caption","caption",{defaultProps:{captionSide:"bottom"}});const TableBody=withContext$6("tbody","body");withContext$6("colgroup");withContext$6("col");const{withProvider:withProvider$1,withContext:withContext$5}=createSlotRecipeContext({key:"tabs"});withProvider$1(TabsRootProvider,"root",{forwardAsChild:!0});const TabsRoot=withProvider$1(TabsRoot$1,"root",{forwardAsChild:!0}),TabsTrigger=withContext$5(TabTrigger,"trigger",{forwardAsChild:!0}),TabsContent=withContext$5(TabContent,"content",{forwardAsChild:!0}),TabsContentGroup=withContext$5("div","contentGroup"),TabsList=withContext$5(TabList,"list",{forwardAsChild:!0});withContext$5(TabIndicator,"indicator",{forwardAsChild:!0});const{withContext:withContext$4}=createRecipeContext({key:"textarea"}),Textarea=withContext$4(FieldTextarea),{withProvider,withContext:withContext$3,useStyles:useToastStyles}=createSlotRecipeContext({key:"toast"}),Toaster$1=chakra(Toaster$2,{},{forwardAsChild:!0}),ToastRoot=withProvider(ToastRoot$1,"root",{forwardAsChild:!0}),ToastCloseTrigger=withContext$3(ToastCloseTrigger$1,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CloseIcon,{})}}),ToastTitle=withContext$3(ToastTitle$1,"title",{forwardAsChild:!0}),ToastDescription=withContext$3(ToastDescription$1,"description",{forwardAsChild:!0}),ToastActionTrigger=withContext$3(ToastActionTrigger$1,"actionTrigger",{forwardAsChild:!0}),iconMap={warning:WarningIcon,success:CheckCircleIcon,error:WarningIcon},ToastIndicator=reactExports.forwardRef(function(o,s){const a=useToastContext(),_=useToastStyles(),$=iconMap[a.type];return $?jsxRuntimeExports.jsx($,{ref:s,...o,css:[_.indicator,o.css]}):null}),{withRootProvider,withContext:withContext$2}=createSlotRecipeContext({key:"tooltip"});withRootProvider(TooltipRootProvider);const TooltipRoot=withRootProvider(TooltipRoot$1,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),TooltipTrigger=withContext$2(TooltipTrigger$1,"trigger",{forwardAsChild:!0}),TooltipPositioner=withContext$2(TooltipPositioner$1,"positioner",{forwardAsChild:!0}),TooltipContent=withContext$2(TooltipContent$1,"content",{forwardAsChild:!0}),TooltipArrowTip=withContext$2(TooltipArrowTip$1,"arrowTip",{forwardAsChild:!0}),TooltipArrow=withContext$2(TooltipArrow$1,"arrow",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(TooltipArrowTip,{})}}),{withContext:withContext$1}=createRecipeContext({key:"heading"}),Heading=withContext$1("h2"),{withContext}=createRecipeContext({key:"text"}),Text=withContext("p");var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$x=["attr","size","title"];function _objectWithoutProperties$x(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$x(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$x(i,o){if(i==null)return{};var s={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(o.indexOf(a)>=0)continue;s[a]=i[a]}return s}function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$y.apply(this,arguments)}function ownKeys$2(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);o&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(i,_).enumerable})),s.push.apply(s,a)}return s}function _objectSpread$2(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$2(Object(s),!0).forEach(function(a){_defineProperty$g(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys$2(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}function _defineProperty$g(i,o,s){return o=_toPropertyKey$f(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$f(i){var o=_toPrimitive$f(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$f(i,o){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Tree2Element(i){return i&&i.map((o,s)=>React.createElement(o.tag,_objectSpread$2({key:s},o.attr),Tree2Element(o.child)))}function GenIcon(i){return o=>React.createElement(IconBase,_extends$y({attr:_objectSpread$2({},i.attr)},o),Tree2Element(i.child))}function IconBase(i){var o=s=>{var{attr:a,size:_,title:$}=i,_e=_objectWithoutProperties$x(i,_excluded$x),tt=_||s.size||"1em",nt;return s.className&&(nt=s.className),i.className&&(nt=(nt?nt+" ":"")+i.className),React.createElement("svg",_extends$y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,_e,{className:nt,style:_objectSpread$2(_objectSpread$2({color:i.color||s.color},s.style),i.style),height:tt,width:tt,xmlns:"http://www.w3.org/2000/svg"}),$&&React.createElement("title",null,$),i.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,s=>o(s)):o(DefaultContext)}function FiCamera(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(i)}function FiCast(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"},child:[]},{tag:"line",attr:{x1:"2",y1:"20",x2:"2.01",y2:"20"},child:[]}]})(i)}function FiChevronDown(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(i)}function FiChevronLeft(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(i)}function FiChevronsDown(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(i)}function FiClock(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(i)}function FiDatabase(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(i)}function FiGlobe(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(i)}function FiLayers(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(i)}function FiMaximize2(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(i)}function FiMinimize2(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"},child:[]},{tag:"polyline",attr:{points:"20 10 14 10 14 4"},child:[]},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(i)}function FiMinus(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function FiMonitor(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(i)}function FiPlus(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function FiSettings(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(i)}function FiTool(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(i)}function FiTrash2(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function FiUsers(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(i)}function FiX(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}const isElectron$2=window.api!==void 0,commonStyles={scrollbar:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{bg:"whiteAlpha.100",borderRadius:"full"},"&::-webkit-scrollbar-thumb":{bg:"whiteAlpha.300",borderRadius:"full"}},panel:{border:"1px solid",borderColor:"whiteAlpha.200",borderRadius:"lg",bg:"blackAlpha.400"}},sidebarStyles={sidebar:{container:i=>({position:"absolute",left:0,top:0,height:"100%",width:"440px",bg:"gray.900",transform:i?"translateX(calc(-100% + 24px))":"translateX(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",gap:4,overflow:i?"visible":"hidden",pb:"4"}),toggleButton:{position:"absolute",right:0,top:0,width:"24px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"whiteAlpha.700",_hover:{color:"white"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1},content:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:4,overflow:"hidden"},header:{width:"100%",display:"flex",alignItems:"center",gap:1,p:2}},chatHistoryPanel:{messageList:{css:{...commonStyles.scrollbar}}},historyDrawer:{listContainer:{flex:1,overflowY:"auto",px:4,py:2,css:commonStyles.scrollbar},historyItem:{mb:4,p:3,borderRadius:"md",bg:"whiteAlpha.50",cursor:"pointer",transition:"all 0.2s",_hover:{bg:"whiteAlpha.100"}},historyItemSelected:{bg:"whiteAlpha.200",borderLeft:"3px solid",borderColor:"blue.500"},historyHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},timestamp:{fontSize:"sm",color:"whiteAlpha.700",fontFamily:"mono"},deleteButton:{variant:"ghost",colorScheme:"red",size:"sm",color:"red.300",opacity:.8,_hover:{opacity:1,bg:"whiteAlpha.200"}},messagePreview:{fontSize:"sm",color:"whiteAlpha.900",noOfLines:2,overflow:"hidden",textOverflow:"ellipsis"},drawer:{content:{background:"var(--chakra-colors-gray-900)",maxWidth:"440px",marginTop:isElectron$2?"30px":"0",height:isElectron$2?"calc(100vh - 30px)":"100vh"},title:{color:"white"},closeButton:{color:"white"},actionButton:{color:"white",borderColor:"white",variant:"outline"}}},cameraPanel:{container:{width:"97%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},videoContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",borderRadius:"8px",display:"block"}},screenPanel:{container:{width:"97%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},screenContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",display:"block"}},browserPanel:{container:{width:"97%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},browserContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s",cursor:"pointer",_hover:{bg:"whiteAlpha.100"}},iframe:{width:"100%",height:"100%",border:"none",borderRadius:"8px"}},bottomTab:{list:{borderBottom:"none",gap:"2"},trigger:{color:"whiteAlpha.900",display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"md",_hover:{color:"white",bg:"whiteAlpha.50"},_selected:{color:"white",bg:"whiteAlpha.200"}}},groupDrawer:{section:{mb:6},sectionTitle:{fontSize:"lg",fontWeight:"semibold",color:"white",mb:3},inviteBox:{display:"flex",gap:2},input:{bg:"whiteAlpha.100",border:"none",color:"white",_placeholder:{color:"whiteAlpha.400"}},memberList:{display:"flex",flexDirection:"column",gap:2},memberItem:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderRadius:"md",bg:"whiteAlpha.100"},memberText:{color:"white",fontSize:"sm"},removeButton:{size:"sm",color:"red.300",bg:"transparent",_hover:{bg:"whiteAlpha.200"}},button:{color:"white",bg:"whiteAlpha.100",_hover:{bg:"whiteAlpha.200"}},clipboardButton:{color:"white",bg:"transparent",_hover:{bg:"whiteAlpha.200"},size:"sm"}},toolCallIndicator:{container:{pl:"44px",my:"1",gap:2,width:"100%",minHeight:"24px",display:"flex",alignItems:"center",justifyContent:"center"},icon:{color:"blue.300",boxSize:"14px"},text:{fontSize:"xs",color:"whiteAlpha.700",fontStyle:"italic"},spinner:{color:"blue.300",ml:0},completedIcon:{color:"green.300",boxSize:"14px",ml:0},errorIcon:{color:"red.300",boxSize:"14px",ml:0}}},chatPanelStyles=css$2`
  .cs-message-list {
    background: var(--chakra-colors-gray-900) !important;
    padding: var(--chakra-space-4);
  }
  
  .cs-message {
    margin: 12px 0;
    // padding-top: 20px !important;
  }

  .cs-message__content {
    background-color: var(--chakra-colors-gray-700) !important;
    border-radius: var(--chakra-radii-md);
    padding: 8px !important;
    color: var(--chakra-colors-white) !important;
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-top: 4px !important;
  }

  .cs-message__text {
    padding: 8px 0 !important;
  }

  .cs-message--outgoing .cs-message__content {
    background-color: var(--chakra-colors-gray-600) !important;
  }

  .cs-chat-container {
    background: transparent !important;
    border: 1px solid var(--chakra-colors-whiteAlpha-200);
    border-radius: var(--chakra-radii-lg);
    padding: var(--chakra-space-2);
  }

  .cs-main-container {
    border: none !important;
    background: transparent !important;
    width: calc(100% - 24px) !important;
    margin-left: 0 !important;
  }

  .cs-message__sender {
    position: absolute !important;
    top: 0 !important;
    left: 36px !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--chakra-colors-whiteAlpha-900) !important;
  }

  .cs-message__content-wrapper {
    max-width: 80%;
    margin: 0 8px;
  }

  .cs-avatar {
    background-color: var(--chakra-colors-blue-500) !important;
    color: white !important;
    width: 28px !important;
    height: 28px !important;
    font-size: 14px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
  }

  .cs-message--outgoing .cs-avatar {
    background-color: var(--chakra-colors-green-500) !important;
  }

  .cs-message__header {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
`,warn=(i,o,s,a)=>{var $,_e,tt,nt;const _=[s,{code:o,...a||{}}];if((_e=($=i==null?void 0:i.services)==null?void 0:$.logger)!=null&&_e.forward)return i.services.logger.forward(_,"warn","react-i18next::",!0);isString$1(_[0])&&(_[0]=`react-i18next:: ${_[0]}`),(nt=(tt=i==null?void 0:i.services)==null?void 0:tt.logger)!=null&&nt.warn?i.services.logger.warn(..._):console!=null&&console.warn&&console.warn(..._)},alreadyWarned={},warnOnce=(i,o,s,a)=>{isString$1(s)&&alreadyWarned[s]||(isString$1(s)&&(alreadyWarned[s]=new Date),warn(i,o,s,a))},loadedClb=(i,o)=>()=>{if(i.isInitialized)o();else{const s=()=>{setTimeout(()=>{i.off("initialized",s)},0),o()};i.on("initialized",s)}},loadNamespaces=(i,o,s)=>{i.loadNamespaces(o,loadedClb(i,s))},loadLanguages=(i,o,s,a)=>{if(isString$1(s)&&(s=[s]),i.options.preload&&i.options.preload.indexOf(o)>-1)return loadNamespaces(i,s,a);s.forEach(_=>{i.options.ns.indexOf(_)<0&&i.options.ns.push(_)}),i.loadLanguages(o,loadedClb(i,a))},hasLoadedNamespace=(i,o,s={})=>!o.languages||!o.languages.length?(warnOnce(o,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:o.languages}),!0):o.hasLoadedNamespace(i,{lng:s.lng,precheck:(a,_)=>{var $;if((($=s.bindI18n)==null?void 0:$.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!_(a.isLanguageChangingTo,i))return!1}}),isString$1=i=>typeof i=="string",isObject=i=>typeof i=="object"&&i!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=i=>htmlEntities[i],unescape=i=>i.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(i={})=>{defaultOptions$1={...defaultOptions$1,...i}},getDefaults$1=()=>defaultOptions$1;let i18nInstance;const setI18n=i=>{i18nInstance=i},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(i){setDefaults(i.options.react),setI18n(i)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(o){o.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(i,o)=>{const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=i},[i,o]),s.current},alwaysNewT=(i,o,s,a)=>i.getFixedT(o,s,a),useMemoizedT=(i,o,s,a)=>reactExports.useCallback(alwaysNewT(i,o,s,a),[i,o,s,a]),useTranslation=(i,o={})=>{var ft,ht,mt,bt;const{i18n:s}=o,{i18n:a,defaultNS:_}=reactExports.useContext(I18nContext)||{},$=s||a||getI18n();if($&&!$.reportNamespaces&&($.reportNamespaces=new ReportNamespaces),!$){warnOnce($,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const yt=(vt,wt)=>isString$1(wt)?wt:isObject(wt)&&isString$1(wt.defaultValue)?wt.defaultValue:Array.isArray(vt)?vt[vt.length-1]:vt,gt=[yt,{},!1];return gt.t=yt,gt.i18n={},gt.ready=!1,gt}(ft=$.options.react)!=null&&ft.wait&&warnOnce($,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const _e={...getDefaults$1(),...$.options.react,...o},{useSuspense:tt,keyPrefix:nt}=_e;let it=_||((ht=$.options)==null?void 0:ht.defaultNS);it=isString$1(it)?[it]:it||["translation"],(bt=(mt=$.reportNamespaces).addUsedNamespaces)==null||bt.call(mt,it);const ot=($.isInitialized||$.initializedStoreOnce)&&it.every(yt=>hasLoadedNamespace(yt,$,_e)),et=useMemoizedT($,o.lng||null,_e.nsMode==="fallback"?it:it[0],nt),j=()=>et,rt=()=>alwaysNewT($,o.lng||null,_e.nsMode==="fallback"?it:it[0],nt),[st,at]=reactExports.useState(j);let lt=it.join();o.lng&&(lt=`${o.lng}${lt}`);const ct=usePrevious(lt),ut=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:yt,bindI18nStore:gt}=_e;ut.current=!0,!ot&&!tt&&(o.lng?loadLanguages($,o.lng,it,()=>{ut.current&&at(rt)}):loadNamespaces($,it,()=>{ut.current&&at(rt)})),ot&&ct&&ct!==lt&&ut.current&&at(rt);const vt=()=>{ut.current&&at(rt)};return yt&&($==null||$.on(yt,vt)),gt&&($==null||$.store.on(gt,vt)),()=>{ut.current=!1,$&&(yt==null||yt.split(" ").forEach(wt=>$.off(wt,vt))),gt&&$&&gt.split(" ").forEach(wt=>$.store.off(wt,vt))}},[$,lt]),reactExports.useEffect(()=>{ut.current&&ot&&at(j)},[$,nt,ot]);const dt=[st,$,ot];if(dt.t=st,dt.i18n=$,dt.ready=ot,ot||!ot&&!tt)return dt;throw new Promise(yt=>{o.lng?loadLanguages($,o.lng,it,()=>yt()):loadNamespaces($,it,()=>yt())})};function LuBell(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"},child:[]},{tag:"path",attr:{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"},child:[]}]})(i)}function LuCheck(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(i)}function LuClipboard(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]}]})(i)}function LuHand(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"},child:[]},{tag:"path",attr:{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"},child:[]},{tag:"path",attr:{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"},child:[]},{tag:"path",attr:{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"},child:[]}]})(i)}function LuLink(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(i)}function LuMicOff(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"2",x2:"22",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"},child:[]},{tag:"path",attr:{d:"M5 10v2a7 7 0 0 0 12 5"},child:[]},{tag:"path",attr:{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(i)}function LuMic(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(i)}function LuSend(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"},child:[]},{tag:"path",attr:{d:"m21.854 2.147-10.94 10.939"},child:[]}]})(i)}function LuX(i){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(i)}const CloseButton=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(IconButton,{variant:"ghost","aria-label":"Close",ref:o,...i,children:i.children??jsxRuntimeExports.jsx(LuX,{})}));var extendStatics=function(i,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&(s[_]=a[_])},extendStatics(i,o)};function __extends(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}function __values(i){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&i[o],a=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(i,o){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var a=s.call(i),_,$=[],_e;try{for(;(o===void 0||o-- >0)&&!(_=a.next()).done;)$.push(_.value)}catch(tt){_e={error:tt}}finally{try{_&&!_.done&&(s=a.return)&&s.call(a)}finally{if(_e)throw _e.error}}return $}function __spreadArray(i,o,s){if(s||arguments.length===2)for(var a=0,_=o.length,$;a<_;a++)($||!(a in o))&&($||($=Array.prototype.slice.call(o,0,a)),$[a]=o[a]);return i.concat($||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;function isFunction(i){return typeof i=="function"}function createErrorClass(i){var o=function(a){Error.call(a),a.stack=new Error().stack},s=i(o);return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}var UnsubscriptionError=createErrorClass(function(i){return function(s){i(this),this.message=s?s.length+` errors occurred during unsubscription:
`+s.map(function(a,_){return _+1+") "+a.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=s}});function arrRemove(i,o){if(i){var s=i.indexOf(o);0<=s&&i.splice(s,1)}}var Subscription=function(){function i(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}return i.prototype.unsubscribe=function(){var o,s,a,_,$;if(!this.closed){this.closed=!0;var _e=this._parentage;if(_e)if(this._parentage=null,Array.isArray(_e))try{for(var tt=__values(_e),nt=tt.next();!nt.done;nt=tt.next()){var it=nt.value;it.remove(this)}}catch(at){o={error:at}}finally{try{nt&&!nt.done&&(s=tt.return)&&s.call(tt)}finally{if(o)throw o.error}}else _e.remove(this);var ot=this.initialTeardown;if(isFunction(ot))try{ot()}catch(at){$=at instanceof UnsubscriptionError?at.errors:[at]}var et=this._finalizers;if(et){this._finalizers=null;try{for(var j=__values(et),rt=j.next();!rt.done;rt=j.next()){var st=rt.value;try{execFinalizer(st)}catch(at){$=$??[],at instanceof UnsubscriptionError?$=__spreadArray(__spreadArray([],__read($)),__read(at.errors)):$.push(at)}}}catch(at){a={error:at}}finally{try{rt&&!rt.done&&(_=j.return)&&_.call(j)}finally{if(a)throw a.error}}}if($)throw new UnsubscriptionError($)}},i.prototype.add=function(o){var s;if(o&&o!==this)if(this.closed)execFinalizer(o);else{if(o instanceof i){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(s=this._finalizers)!==null&&s!==void 0?s:[]).push(o)}},i.prototype._hasParent=function(o){var s=this._parentage;return s===o||Array.isArray(s)&&s.includes(o)},i.prototype._addParent=function(o){var s=this._parentage;this._parentage=Array.isArray(s)?(s.push(o),s):s?[s,o]:o},i.prototype._removeParent=function(o){var s=this._parentage;s===o?this._parentage=null:Array.isArray(s)&&arrRemove(s,o)},i.prototype.remove=function(o){var s=this._finalizers;s&&arrRemove(s,o),o instanceof i&&o._removeParent(this)},i.EMPTY=function(){var o=new i;return o.closed=!0,o}(),i}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(i){return i instanceof Subscription||i&&"closed"in i&&isFunction(i.remove)&&isFunction(i.add)&&isFunction(i.unsubscribe)}function execFinalizer(i){isFunction(i)?i():i.unsubscribe()}var config$1={Promise:void 0},timeoutProvider={setTimeout:function(i,o){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];return setTimeout.apply(void 0,__spreadArray([i,o],__read(s)))},clearTimeout:function(i){return clearTimeout(i)},delegate:void 0};function reportUnhandledError(i){timeoutProvider.setTimeout(function(){throw i})}function noop$3(){}function errorContext(i){i()}var Subscriber=function(i){__extends(o,i);function o(s){var a=i.call(this)||this;return a.isStopped=!1,s?(a.destination=s,isSubscription(s)&&s.add(a)):a.destination=EMPTY_OBSERVER,a}return o.create=function(s,a,_){return new SafeSubscriber(s,a,_)},o.prototype.next=function(s){this.isStopped||this._next(s)},o.prototype.error=function(s){this.isStopped||(this.isStopped=!0,this._error(s))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this),this.destination=null)},o.prototype._next=function(s){this.destination.next(s)},o.prototype._error=function(s){try{this.destination.error(s)}finally{this.unsubscribe()}},o.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},o}(Subscription),ConsumerObserver=function(){function i(o){this.partialObserver=o}return i.prototype.next=function(o){var s=this.partialObserver;if(s.next)try{s.next(o)}catch(a){handleUnhandledError(a)}},i.prototype.error=function(o){var s=this.partialObserver;if(s.error)try{s.error(o)}catch(a){handleUnhandledError(a)}else handleUnhandledError(o)},i.prototype.complete=function(){var o=this.partialObserver;if(o.complete)try{o.complete()}catch(s){handleUnhandledError(s)}},i}(),SafeSubscriber=function(i){__extends(o,i);function o(s,a,_){var $=i.call(this)||this,_e;return isFunction(s)||!s?_e={next:s??void 0,error:a??void 0,complete:_??void 0}:_e=s,$.destination=new ConsumerObserver(_e),$}return o}(Subscriber);function handleUnhandledError(i){reportUnhandledError(i)}function defaultErrorHandler(i){throw i}var EMPTY_OBSERVER={closed:!0,next:noop$3,error:defaultErrorHandler,complete:noop$3},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(i){return i}function pipeFromArray(i){return i.length===0?identity$1:i.length===1?i[0]:function(s){return i.reduce(function(a,_){return _(a)},s)}}var Observable=function(){function i(o){o&&(this._subscribe=o)}return i.prototype.lift=function(o){var s=new i;return s.source=this,s.operator=o,s},i.prototype.subscribe=function(o,s,a){var _=this,$=isSubscriber(o)?o:new SafeSubscriber(o,s,a);return errorContext(function(){var _e=_,tt=_e.operator,nt=_e.source;$.add(tt?tt.call($,nt):nt?_._subscribe($):_._trySubscribe($))}),$},i.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(s){o.error(s)}},i.prototype.forEach=function(o,s){var a=this;return s=getPromiseCtor(s),new s(function(_,$){var _e=new SafeSubscriber({next:function(tt){try{o(tt)}catch(nt){$(nt),_e.unsubscribe()}},error:$,complete:_});a.subscribe(_e)})},i.prototype._subscribe=function(o){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(o)},i.prototype[observable]=function(){return this},i.prototype.pipe=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return pipeFromArray(o)(this)},i.prototype.toPromise=function(o){var s=this;return o=getPromiseCtor(o),new o(function(a,_){var $;s.subscribe(function(_e){return $=_e},function(_e){return _(_e)},function(){return a($)})})},i.create=function(o){return new i(o)},i}();function getPromiseCtor(i){var o;return(o=i??config$1.Promise)!==null&&o!==void 0?o:Promise}function isObserver(i){return i&&isFunction(i.next)&&isFunction(i.error)&&isFunction(i.complete)}function isSubscriber(i){return i&&i instanceof Subscriber||isObserver(i)&&isSubscription(i)}var ObjectUnsubscribedError=createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(i){__extends(o,i);function o(){var s=i.call(this)||this;return s.closed=!1,s.currentObservers=null,s.observers=[],s.isStopped=!1,s.hasError=!1,s.thrownError=null,s}return o.prototype.lift=function(s){var a=new AnonymousSubject(this,this);return a.operator=s,a},o.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},o.prototype.next=function(s){var a=this;errorContext(function(){var _,$;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var _e=__values(a.currentObservers),tt=_e.next();!tt.done;tt=_e.next()){var nt=tt.value;nt.next(s)}}catch(it){_={error:it}}finally{try{tt&&!tt.done&&($=_e.return)&&$.call(_e)}finally{if(_)throw _.error}}}})},o.prototype.error=function(s){var a=this;errorContext(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=s;for(var _=a.observers;_.length;)_.shift().error(s)}})},o.prototype.complete=function(){var s=this;errorContext(function(){if(s._throwIfClosed(),!s.isStopped){s.isStopped=!0;for(var a=s.observers;a.length;)a.shift().complete()}})},o.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(o.prototype,"observed",{get:function(){var s;return((s=this.observers)===null||s===void 0?void 0:s.length)>0},enumerable:!1,configurable:!0}),o.prototype._trySubscribe=function(s){return this._throwIfClosed(),i.prototype._trySubscribe.call(this,s)},o.prototype._subscribe=function(s){return this._throwIfClosed(),this._checkFinalizedStatuses(s),this._innerSubscribe(s)},o.prototype._innerSubscribe=function(s){var a=this,_=this,$=_.hasError,_e=_.isStopped,tt=_.observers;return $||_e?EMPTY_SUBSCRIPTION:(this.currentObservers=null,tt.push(s),new Subscription(function(){a.currentObservers=null,arrRemove(tt,s)}))},o.prototype._checkFinalizedStatuses=function(s){var a=this,_=a.hasError,$=a.thrownError,_e=a.isStopped;_?s.error($):_e&&s.complete()},o.prototype.asObservable=function(){var s=new Observable;return s.source=this,s},o.create=function(s,a){return new AnonymousSubject(s,a)},o}(Observable),AnonymousSubject=function(i){__extends(o,i);function o(s,a){var _=i.call(this)||this;return _.destination=s,_.source=a,_}return o.prototype.next=function(s){var a,_;(_=(a=this.destination)===null||a===void 0?void 0:a.next)===null||_===void 0||_.call(a,s)},o.prototype.error=function(s){var a,_;(_=(a=this.destination)===null||a===void 0?void 0:a.error)===null||_===void 0||_.call(a,s)},o.prototype.complete=function(){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.complete)===null||a===void 0||a.call(s)},o.prototype._subscribe=function(s){var a,_;return(_=(a=this.source)===null||a===void 0?void 0:a.subscribe(s))!==null&&_!==void 0?_:EMPTY_SUBSCRIPTION},o}(Subject);const toaster=createToaster({placement:"top-end",pauseOnPageIdle:!0,max:5});function Toaster(){return jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Toaster$1,{toaster,insetInline:{mdDown:"4"},children:i=>{var o;return jsxRuntimeExports.jsxs(ToastRoot,{width:{md:"sm"},children:[i.type==="loading"?jsxRuntimeExports.jsx(Spinner,{size:"sm",color:"blue.solid"}):jsxRuntimeExports.jsx(ToastIndicator,{}),jsxRuntimeExports.jsxs(Stack,{gap:"1",flex:"1",maxWidth:"100%",children:[i.title&&jsxRuntimeExports.jsx(ToastTitle,{children:i.title}),i.description&&jsxRuntimeExports.jsx(ToastDescription,{children:i.description})]}),i.action&&jsxRuntimeExports.jsx(ToastActionTrigger,{children:i.action.label}),((o=i.meta)==null?void 0:o.closable)&&jsxRuntimeExports.jsx(ToastCloseTrigger,{})]})}})})}const getTranslation=()=>{try{const i=require("i18next").default;return i.t.bind(i)}catch{return o=>o}},Sn=class Sn{constructor(){xt(this,"ws",null);xt(this,"messageSubject",new Subject);xt(this,"stateSubject",new Subject);xt(this,"currentState","CLOSED");xt(this,"outbox",[]);xt(this,"lastBufferNoticeAt",0)}static getInstance(){return Sn.instance||(Sn.instance=new Sn),Sn.instance}initializeConnection(){this.sendMessage({type:"fetch-backgrounds"}),this.sendMessage({type:"fetch-configs"}),this.sendMessage({type:"fetch-history-list"})}async readFrontendSettings(){var o,s;try{const a=await fetch("/app-settings.json",{cache:"no-store"});if(!a.ok)throw new Error(String(a.status));const _=await a.json(),$=!!((o=_==null?void 0:_.frontend)!=null&&o.wsLog),_e=!!((s=_==null?void 0:_.frontend)!=null&&s.errorLogging);return{wsLog:$,errorLogging:_e}}catch{return{wsLog:!1,errorLogging:!1}}}connect(o){var s,a;(((s=this.ws)==null?void 0:s.readyState)===WebSocket.CONNECTING||((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN)&&this.disconnect();try{this.ws=new WebSocket(o),this.currentState="CONNECTING",this.stateSubject.next("CONNECTING"),logAction("ws.status","connecting"),this.ws.onopen=()=>{this.currentState="OPEN",this.stateSubject.next("OPEN"),logAction("ws.status","connected"),this.initializeConnection();try{this.sendMessage({type:"twitch-fetch"})}catch{}this.readFrontendSettings().then(({wsLog:_,errorLogging:$})=>{try{localStorage.getItem("appLogWs")===null&&localStorage.setItem("appLogWs",_?"true":"false"),localStorage.getItem("appEnableFrontendErrorLogging")===null&&localStorage.setItem("appEnableFrontendErrorLogging",$?"true":"false")}catch{}})},this.ws.onmessage=_=>{try{const $=JSON.parse(_.data);if($&&typeof $=="object"&&"client_uid"in $&&$.client_uid)try{setClientUid(String($.client_uid))}catch{}try{localStorage.getItem("appLogWs")==="true"&&(console.log("WS IN:",$),this.logClient("info",{type:"ws-in",payload:$}))}catch{}this.messageSubject.next($)}catch($){console.error("Failed to parse WebSocket message:",$),toaster.create({title:`${getTranslation()("error.failedParseWebSocket")}: ${$}`,type:"error",duration:2e3})}},this.ws.onclose=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED"),logAction("ws.status","disconnected")},this.ws.onerror=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED"),logAction("ws.status","error")},this.installGlobalErrorLogging()}catch(_){console.error("Failed to connect to WebSocket:",_),this.currentState="CLOSED",this.stateSubject.next("CLOSED")}}sendMessage(o){var s;try{localStorage.getItem("appLogWs")==="true"&&(console.log("WS OUT:",o),this.logClient("info",{type:"ws-out",payload:o}))}catch{}if(((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN){this.ws.send(JSON.stringify(o));return}console.warn("WebSocket is not open. Unable to send message:",o);try{toaster.create({title:getTranslation()("wsStatus.connecting"),type:"info",duration:1500})}catch{}}logClient(o,s){try{this.sendMessage({type:"frontend-log",level:o,...s})}catch{}}installGlobalErrorLogging(){localStorage.getItem("appEnableFrontendErrorLogging")==="true"&&(window.__frontendErrorLoggingInstalled||(window.__frontendErrorLoggingInstalled=!0,window.addEventListener("error",s=>{var a;try{this.logClient("error",{type:"window-error",message:s.message||"",filename:s.filename||"",lineno:s.lineno||0,colno:s.colno||0,stack:((a=s.error)==null?void 0:a.stack)||"",userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}catch{}}),window.addEventListener("unhandledrejection",s=>{try{const a=s.reason;this.logClient("error",{type:"unhandled-rejection",message:(a==null?void 0:a.message)||String(a),stack:(a==null?void 0:a.stack)||"",userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}catch{}})))}onMessage(o){return this.messageSubject.subscribe(o)}onStateChange(o){return this.stateSubject.subscribe(o)}disconnect(){var o;(o=this.ws)==null||o.close(),this.ws=null}getCurrentState(){return this.currentState}};xt(Sn,"instance");let WebSocketService=Sn;const wsService=WebSocketService.getInstance(),__vite_import_meta_env__={},API_BASE=(__vite_import_meta_env__==null?void 0:__vite_import_meta_env__.VITE_API_BASE)||window.location.origin,LOG_TOKEN=(__vite_import_meta_env__==null?void 0:__vite_import_meta_env__.VITE_LOG_TOKEN)||"",APP_VERSION=(__vite_import_meta_env__==null?void 0:__vite_import_meta_env__.VITE_APP_VERSION)||"dev";let CLIENT_UID=null;function setClientUid(i){CLIENT_UID=i||null}function maskSecrets(i){try{if(i&&typeof i=="object"&&!Array.isArray(i)){const o=Array.isArray(i)?[]:{};for(const[s,a]of Object.entries(i))/^(token|key|secret)[a-z0-9_\-]*/i.test(s)?o[s]="***":o[s]=maskSecrets(a);return o}return Array.isArray(i)?i.map(o=>maskSecrets(o)):i}catch{return i}}function truncateAndHashText(i,o=4096){try{const s=new TextEncoder().encode(String(i)),a=(crypto&&"subtle"in crypto,null),_=(()=>{let tt=0;for(let nt=0;nt<s.length;nt+=1)tt=tt*31+s[nt]>>>0;return(tt>>>0).toString(16).slice(0,8)})();if(s.length<=o)return{input_truncated:String(i),input_hash:_,truncated:!1};const $=s.slice(0,o);return{input_truncated:`${new TextDecoder().decode($)}... [truncated: ${Math.floor(s.length/1024)}KB]`,input_hash:_,truncated:!0}}catch{const s=String(i);return{input_truncated:s.slice(0,4096),input_hash:(s.length>>>0).toString(16).slice(0,8),truncated:s.length>4096}}}async function fetchWithTimeout(i,o,s=2e3){const a=new AbortController,_=setTimeout(()=>a.abort(),s);try{return await fetch(i,{...o,signal:a.signal,keepalive:!0})}finally{clearTimeout(_)}}async function postLog(i){if(!LOG_TOKEN)return!1;try{return(await fetchWithTimeout(`${API_BASE}/logs`,{method:"POST",headers:{"Content-Type":"application/json","X-Log-Token":LOG_TOKEN},body:JSON.stringify(i)},2e3)).ok}catch{return!1}}async function logAction(i,o,s,a){const _=maskSecrets(s??{}),$={component:"frontend",level:"ACTION",event:i,action:o,params:_,request_id:a||null,client_uid:CLIENT_UID,app_version:APP_VERSION,ts:new Date().toISOString()};await postLog($)||wsService.logClient("info",$)}async function logError(i,o,s){const a=maskSecrets(o??{});let _;a&&typeof a=="object"&&"stack"in a&&typeof a.stack=="string"?_={...a,stack:truncateAndHashText(a.stack).input_truncated}:_=a;const $={component:"frontend",level:"error",message:i,details:_,request_id:null,client_uid:CLIENT_UID,app_version:APP_VERSION,ts:new Date().toISOString()};await postLog($)||wsService.logClient("error",$)}const isElectron$1=window.api!==void 0,settingStyles={settingUI:{tabs:{root:{width:"100%",variant:"plain",colorPalette:"gray"},content:{},trigger:{color:"whiteAlpha.600",_selected:{color:"white"},_hover:{color:"white"}},list:{display:"flex",justifyContent:"flex-start",width:"100%",borderBottom:"1px solid",borderColor:"whiteAlpha.200",mb:4,pl:0,gap:2,overflowX:"auto",whiteSpace:"nowrap",css:{"&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{bg:"whiteAlpha.100",borderRadius:"full"},"&::-webkit-scrollbar-thumb":{bg:"whiteAlpha.300",borderRadius:"full"}}}},drawerContent:{bg:"gray.900",maxWidth:"440px",height:isElectron$1?"calc(100vh - 30px)":"100vh",borderLeft:"1px solid",borderColor:"whiteAlpha.200"},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",position:"relative",px:6,py:4},drawerTitle:{color:"white",fontSize:"lg",fontWeight:"semibold"},closeButton:{position:"absolute",right:1,top:1,color:"white"}},general:{field:{label:{color:"whiteAlpha.800"}},select:{root:{colorPalette:"gray",bg:"gray.800"},trigger:{bg:"gray.800"}},input:{bg:"gray.800"}},common:{field:{orientation:"horizontal"},fieldLabel:{fontSize:"sm",color:"whiteAlpha.800",whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.2"},switch:{size:"md",colorPalette:"blue",variant:"solid"},numberInput:{root:{pattern:"[0-9]*\\.?[0-9]*",inputMode:"decimal"},input:{bg:"whiteAlpha.100",borderColor:"whiteAlpha.200",_hover:{bg:"whiteAlpha.200"}}},container:{gap:8,maxW:"sm",css:{"--field-label-width":"120px"}}}};function useLocalStorage(i,o,s){const[a,_]=reactExports.useState(()=>{try{const _e=window.localStorage.getItem(i);if(!_e)return o;try{return JSON.parse(_e)}catch(tt){return console.error(`Error parsing localStorage key "${i}":`,tt),window.localStorage.removeItem(i),o}}catch(_e){return console.error(`Error reading localStorage key "${i}":`,_e),o}});return[a,_e=>{try{const tt=_e instanceof Function?_e(a):_e,nt=s!=null&&s.filter?s.filter(tt):tt;_(tt),window.localStorage.setItem(i,JSON.stringify(nt))}catch(tt){console.error(`Error setting localStorage key "${i}":`,tt)}}]}const DEFAULT_WS_URL="ws://127.0.0.1:12393/client-ws",DEFAULT_BASE_URL="http://127.0.0.1:12393",WebSocketContext=React.createContext({sendMessage:wsService.sendMessage.bind(wsService),wsState:"CLOSED",reconnect:()=>wsService.connect(DEFAULT_WS_URL),wsUrl:DEFAULT_WS_URL,setWsUrl:()=>{},baseUrl:DEFAULT_BASE_URL,setBaseUrl:()=>{}});function useWebSocket(){const i=reactExports.useContext(WebSocketContext);if(!i)throw new Error("useWebSocket must be used within a WebSocketProvider");return i}const defaultWsUrl=DEFAULT_WS_URL,defaultBaseUrl=DEFAULT_BASE_URL,BgUrlContext=reactExports.createContext(null);function BgUrlProvider({children:i}){const{baseUrl:o}=useWebSocket(),s=`${o}/bg/ceiling-window-room-night.jpeg`,[a,_]=useLocalStorage("backgroundUrl",s),[$,_e]=reactExports.useState([]),tt=reactExports.useCallback(()=>{_(s)},[_,s]),nt=reactExports.useCallback(st=>{_e(at=>[...at,st])},[]),it=reactExports.useCallback(st=>{_e(at=>at.filter(lt=>lt.name!==st))},[]),ot=reactExports.useMemo(()=>a===s,[a,s]),[et,j]=reactExports.useState(!1),rt=reactExports.useMemo(()=>({backgroundUrl:a,setBackgroundUrl:_,backgroundFiles:$,setBackgroundFiles:_e,resetBackground:tt,addBackgroundFile:nt,removeBackgroundFile:it,isDefaultBackground:ot,useCameraBackground:et,setUseCameraBackground:j}),[a,_,$,tt,nt,it,ot,et]);return jsxRuntimeExports.jsx(BgUrlContext.Provider,{value:rt,children:i})}function useBgUrl(){const i=reactExports.useContext(BgUrlContext);if(!i)throw new Error("useBgUrl must be used within a BgUrlProvider");return i}const DEFAULT_CONFIG$1={confName:"",confUid:"",configFiles:[]},ConfigContext=reactExports.createContext(null);function CharacterConfigProvider({children:i}){const[o,s]=reactExports.useState(DEFAULT_CONFIG$1.confName),[a,_]=reactExports.useState(DEFAULT_CONFIG$1.confUid),[$,_e]=reactExports.useState(DEFAULT_CONFIG$1.configFiles),[tt,nt]=reactExports.useState(void 0),it=reactExports.useCallback(et=>{var j;return(j=$.find(rt=>rt.name===et))==null?void 0:j.filename},[$]),ot=reactExports.useMemo(()=>({confName:o,confUid:a,configFiles:$,ttsInfo:tt,setConfName:s,setConfUid:_,setConfigFiles:_e,getFilenameByName:it,setTtsInfo:nt}),[o,a,$,tt,it]);return reactExports.useEffect(()=>{var et,j;(j=(et=window.api)==null?void 0:et.updateConfigFiles)==null||j.call(et,$)},[$]),jsxRuntimeExports.jsx(ConfigContext.Provider,{value:ot,children:i})}function useConfig(){const i=reactExports.useContext(ConfigContext);if(!i)throw new Error("useConfig must be used within a CharacterConfigProvider");return i}const DEFAULT_SUBTITLE={text:"Hi, I'm some random AI VTuber. Who the hell are ya? Ahh, you must be amazed by my awesomeness, right? right?"},SubtitleContext=reactExports.createContext(null),SubtitleProvider=reactExports.memo(({children:i})=>{const[o,s]=reactExports.useState(DEFAULT_SUBTITLE.text),[a,_]=reactExports.useState(!0),$=reactExports.useMemo(()=>({subtitleText:o,setSubtitleText:s,showSubtitle:a,setShowSubtitle:_}),[o,a]);return jsxRuntimeExports.jsx(SubtitleContext.Provider,{value:$,children:i})});function useSubtitle(){const i=reactExports.useContext(SubtitleContext);if(!i)throw new Error("useSubtitle must be used within a SubtitleProvider");return i}const DEFAULT_CAMERA_CONFIG={width:320,height:240},CameraContext=reactExports.createContext(null);function CameraProvider({children:i}){const{t:o}=useTranslation(),[s,a]=reactExports.useState(!1),[_,$]=reactExports.useState(!1),[_e,tt]=reactExports.useState(DEFAULT_CAMERA_CONFIG),nt=reactExports.useRef(null),it=reactExports.useRef(null),ot=reactExports.useRef(null),et=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error(o("error.cameraApiNotSupported"));if(!(await navigator.mediaDevices.enumerateDevices()).some(dt=>dt.kind==="videoinput"))throw new Error(o("error.noCameraFound"));const ut=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:_e.width},height:{ideal:_e.height}}});nt.current=ut,ot.current&&(ot.current.srcObject=ut),a(!0)}catch(lt){throw console.error("Failed to start camera:",lt),toaster.create({title:`${o("error.failedStartCamera")}: ${lt}`,type:"error",duration:2e3}),lt}},[_e,o]),j=reactExports.useCallback(()=>{nt.current&&(nt.current.getTracks().forEach(lt=>lt.stop()),nt.current=null,a(!1))},[]),rt=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error(o("error.cameraApiNotSupported"));if(!(await navigator.mediaDevices.enumerateDevices()).some(dt=>dt.kind==="videoinput"))throw new Error(o("error.noCameraFound"));const ut=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:_e.width},height:{ideal:_e.height}}});it.current=ut,$(!0)}catch(lt){throw console.error("Failed to start background camera:",lt),toaster.create({title:`${o("error.failedStartBackgroundCamera")}: ${lt}`,type:"error",duration:2e3}),lt}},[_e,o]),st=reactExports.useCallback(()=>{it.current&&(it.current.getTracks().forEach(lt=>lt.stop()),it.current=null,$(!1))},[]),at=reactExports.useMemo(()=>({isStreaming:s,stream:nt.current,startCamera:et,stopCamera:j,cameraConfig:_e,setCameraConfig:tt,videoRef:ot,backgroundStream:it.current,startBackgroundCamera:rt,stopBackgroundCamera:st,isBackgroundStreaming:_}),[s,et,j,_e,_,rt,st]);return jsxRuntimeExports.jsx(CameraContext.Provider,{value:at,children:i})}function useCamera(){const i=reactExports.useContext(CameraContext);if(!i)throw new Error("useCamera must be used within a CameraProvider");return i}const DEFAULT_CONFIG={modelInfo:{scrollToResize:!0},isLoading:!1},Live2DConfigContext=reactExports.createContext(null);function Live2DConfigProvider({children:i}){const{confUid:o}=useConfig(),[s,a]=reactExports.useState(DEFAULT_CONFIG.isLoading),[_,$]=useLocalStorage("modelInfo",DEFAULT_CONFIG.modelInfo,{filter:nt=>nt&&{...nt,url:""}}),_e=nt=>{if(!(nt!=null&&nt.url)){$(void 0);return}if(!o){console.warn("Attempting to set model info without confUid");return}const it=Number(nt.kScale||.5)*2;console.log("Setting model info with default scale:",it),$({...nt,kScale:it,pointerInteractive:"pointerInteractive"in nt?nt.pointerInteractive:(_==null?void 0:_.pointerInteractive)??!0,scrollToResize:"scrollToResize"in nt?nt.scrollToResize:(_==null?void 0:_.scrollToResize)??!0})},tt=reactExports.useMemo(()=>({modelInfo:_,setModelInfo:_e,isLoading:s,setIsLoading:a}),[_,s,a]);return jsxRuntimeExports.jsx(Live2DConfigContext.Provider,{value:tt,children:i})}function useLive2DConfig(){const i=reactExports.useContext(Live2DConfigContext);if(!i)throw new Error("useLive2DConfig must be used within a Live2DConfigProvider");return i}var dist={},assetPath={};Object.defineProperty(assetPath,"__esModule",{value:!0});assetPath.baseAssetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));assetPath.baseAssetPath=basePath;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=i=>fetch(i).then(o=>o.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var frameProcessor={},logging={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.log=i.LOG_PREFIX=void 0,i.LOG_PREFIX="[VAD]";const o=["error","debug","warn"];function s(_){return(...$)=>{console[_](i.LOG_PREFIX,...$)}}const a=o.reduce((_,$)=>(_[$]=s($),_),{});i.log=a})(logging);var messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.Message=void 0;var Message$1;(function(i){i.AudioFrame="AUDIO_FRAME",i.SpeechStart="SPEECH_START",i.VADMisfire="VAD_MISFIRE",i.SpeechEnd="SPEECH_END",i.SpeechStop="SPEECH_STOP",i.SpeechRealStart="SPEECH_REAL_START",i.FrameProcessed="FRAME_PROCESSED"})(Message$1||(messages.Message=Message$1={}));Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const logging_1$3=logging,messages_1=messages,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function validateOptions(i){RECOMMENDED_FRAME_SAMPLES.includes(i.frameSamples)||logging_1$3.log.warn("You are using an unusual frame size"),(i.positiveSpeechThreshold<0||i.positiveSpeechThreshold>1)&&logging_1$3.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(i.negativeSpeechThreshold<0||i.negativeSpeechThreshold>i.positiveSpeechThreshold)&&logging_1$3.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),i.preSpeechPadFrames<0&&logging_1$3.log.error("preSpeechPadFrames should be positive"),i.redemptionFrames<0&&logging_1$3.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=i=>{const o=i.reduce((a,_)=>(a.push(a.at(-1)+_.length),a),[0]),s=new Float32Array(o.at(-1));return i.forEach((a,_)=>{const $=o[_];s.set(a,$)}),s};class FrameProcessor{constructor(o,s,a){this.modelProcessFunc=o,this.modelResetFunc=s,this.options=a,this.speaking=!1,this.redemptionCounter=0,this.speechFrameCount=0,this.active=!1,this.speechRealStartFired=!1,this.reset=()=>{this.speaking=!1,this.speechRealStartFired=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0,this.speechFrameCount=0},this.pause=_=>{this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment(_):this.reset()},this.resume=()=>{this.active=!0},this.endSegment=_=>{const $=this.audioBuffer;this.audioBuffer=[];const _e=this.speaking;if(this.reset(),_e)if($.reduce((nt,it)=>it.isSpeech?nt+1:nt,0)>=this.options.minSpeechFrames){const nt=concatArrays($.map(it=>it.frame));_({msg:messages_1.Message.SpeechEnd,audio:nt})}else _({msg:messages_1.Message.VADMisfire});return{}},this.process=async(_,$)=>{if(!this.active)return;const _e=await this.modelProcessFunc(_),tt=_e.isSpeech>=this.options.positiveSpeechThreshold;if($({probs:_e,msg:messages_1.Message.FrameProcessed,frame:_}),this.audioBuffer.push({frame:_,isSpeech:tt}),tt&&(this.speechFrameCount++,this.redemptionCounter=0),tt&&!this.speaking&&(this.speaking=!0,$({msg:messages_1.Message.SpeechStart})),this.speaking&&this.speechFrameCount===this.options.minSpeechFrames&&!this.speechRealStartFired&&(this.speechRealStartFired=!0,$({msg:messages_1.Message.SpeechRealStart})),_e.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speechFrameCount=0,this.speaking=!1,this.speechRealStartFired=!1;const nt=this.audioBuffer;if(this.audioBuffer=[],nt.reduce((ot,et)=>et.isSpeech?ot+1:ot,0)>=this.options.minSpeechFrames){const ot=concatArrays(nt.map(et=>et.frame));$({msg:messages_1.Message.SpeechEnd,audio:ot})}else $({msg:messages_1.Message.VADMisfire})}if(!this.speaking){for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();this.speechFrameCount=0}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var nonRealTimeVad={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(i,o,s)=>{if(o&&typeof o.init=="function"&&typeof o.createSessionHandler=="function"){const a=backends[i];if(a===void 0)backends[i]={backend:o,priority:s};else{if(a.priority>s)return;if(a.priority===s&&a.backend!==o)throw new Error(`cannot register backend "${i}" using priority ${s}`)}if(s>=0){const _=backendsSortedByPriority.indexOf(i);_!==-1&&backendsSortedByPriority.splice(_,1);for(let $=0;$<backendsSortedByPriority.length;$++)if(backends[backendsSortedByPriority[$]].priority<=s){backendsSortedByPriority.splice($,0,i);return}backendsSortedByPriority.push(i)}return}throw new TypeError("not a valid backend")},resolveBackend=async i=>{const o=i.length===0?backendsSortedByPriority:i,s=[];for(const a of o){const _=backends[a];if(_){if(_.initialized)return _.backend;if(_.aborted)continue;const $=!!_.initPromise;try{return $||(_.initPromise=_.backend.init()),await _.initPromise,_.initialized=!0,_.backend}catch(_e){$||s.push({name:a,err:_e}),_.aborted=!0}finally{delete _.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(a=>`[${a.name}] ${a.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);this.logLevelInternal=o}}get logLevel(){return this.logLevelInternal}}const env$1=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=i=>{let o=1;for(let s=0;s<i.length;s++){const a=i[s];if(typeof a!="number"||!Number.isSafeInteger(a))throw new TypeError(`dims[${s}] must be an integer, got: ${a}`);if(a<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${a}`);o*=a}return o};let Tensor$1=class wn{constructor(o,s,a){let _,$,_e;if(typeof o=="string")if(_=o,_e=a,o==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");$=s}else{const nt=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(o);if(nt===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(s))$=nt.from(s);else if(s instanceof nt)$=s;else throw new TypeError(`A ${_} tensor's data must be type of ${nt}`)}else if(_e=s,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const nt=typeof o[0];if(nt==="string")_="string",$=o;else if(nt==="boolean")_="bool",$=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${nt}.`)}else{const nt=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(o.constructor);if(nt===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);_=nt,$=o}if(_e===void 0)_e=[$.length];else if(!Array.isArray(_e))throw new TypeError("A tensor's dims must be a number array");const tt=calculateSize(_e);if(tt!==$.length)throw new Error(`Tensor's size(${tt}) does not match data length(${$.length}).`);this.dims=_e,this.type=_,this.data=$,this.size=tt}static bufferToTensor(o,s){if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");const{height:a,width:_}=s,$=s.norm;let _e,tt;$===void 0||$.mean===void 0?_e=255:_e=$.mean,$===void 0||$.bias===void 0?tt=0:tt=$.bias;const nt=s.bitmapFormat!==void 0?s.bitmapFormat:"RGBA",it=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",ot=a*_,et=it==="RGBA"?new Float32Array(ot*4):new Float32Array(ot*3);let j=4,rt=0,st=1,at=2,lt=3,ct=0,ut=ot,dt=ot*2,ft=-1;nt==="RGB"&&(j=3,rt=0,st=1,at=2,lt=-1),it==="RGBA"?ft=ot*3:it==="RBG"?(ct=0,dt=ot,ut=ot*2):it==="BGR"&&(dt=0,ut=ot,ct=ot*2);for(let mt=0;mt<ot;mt++,rt+=j,at+=j,st+=j,lt+=j)et[ct++]=(o[rt]+tt)/_e,et[ut++]=(o[st]+tt)/_e,et[dt++]=(o[at]+tt)/_e,ft!==-1&&lt!==-1&&(et[ft++]=(o[lt]+tt)/_e);return it==="RGBA"?new wn("float32",et,[1,4,a,_]):new wn("float32",et,[1,3,a,_])}static async fromImage(o,s){const a=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,_=typeof ImageData<"u"&&o instanceof ImageData,$=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,_e=typeof String<"u"&&(o instanceof String||typeof o=="string");let tt,nt={};if(a){const it=document.createElement("canvas"),ot=it.getContext("2d");if(ot!=null){let et=o.naturalHeight,j=o.naturalWidth;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(et=s.resizedHeight,j=s.resizedWidth),s!==void 0){if(nt=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(nt.tensorFormat="RGBA",s.height!==void 0&&s.height!==et)throw new Error("Image input config height doesn't match HTMLImageElement height");if(nt.height=et,s.width!==void 0&&s.width!==j)throw new Error("Image input config width doesn't match HTMLImageElement width");nt.width=j}else nt.tensorFormat="RGBA",nt.height=et,nt.width=j;it.width=j,it.height=et,ot.drawImage(o,0,0,j,et),tt=ot.getImageData(0,0,j,et).data}else throw new Error("Can not access image data")}else if(_){const it="RGBA";let ot,et;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(ot=s.resizedHeight,et=s.resizedWidth):(ot=o.height,et=o.width),s!==void 0){if(nt=s,s.bitmapFormat!==void 0&&s.bitmapFormat!==it)throw new Error("Image input config format must be RGBA for ImageData");nt.bitmapFormat="RGBA"}else nt.bitmapFormat="RGBA";if(nt.height=ot,nt.width=et,s!==void 0){const j=document.createElement("canvas");j.width=et,j.height=ot;const rt=j.getContext("2d");if(rt!=null)rt.putImageData(o,0,0),tt=rt.getImageData(0,0,et,ot).data;else throw new Error("Can not access image data")}else tt=o.data}else if($){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(s.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const it=document.createElement("canvas").getContext("2d");if(it!=null){const ot=o.height,et=o.width;if(it.drawImage(o,0,0,et,ot),tt=it.getImageData(0,0,et,ot).data,s!==void 0){if(s.height!==void 0&&s.height!==ot)throw new Error("Image input config height doesn't match ImageBitmap height");if(nt.height=ot,s.width!==void 0&&s.width!==et)throw new Error("Image input config width doesn't match ImageBitmap width");nt.width=et}else nt.height=ot,nt.width=et;return wn.bufferToTensor(tt,nt)}else throw new Error("Can not access image data")}else{if(_e)return new Promise((it,ot)=>{const et=document.createElement("canvas"),j=et.getContext("2d");if(!o||!j)return ot();const rt=new Image;rt.crossOrigin="Anonymous",rt.src=o,rt.onload=()=>{et.width=rt.width,et.height=rt.height,j.drawImage(rt,0,0,et.width,et.height);const st=j.getImageData(0,0,et.width,et.height);if(s!==void 0){if(s.height!==void 0&&s.height!==et.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(nt.height=et.height,s.width!==void 0&&s.width!==et.width)throw new Error("Image input config width doesn't match ImageBitmap width");nt.width=et.width}else nt.height=et.height,nt.width=et.width;it(wn.bufferToTensor(st.data,nt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(tt!==void 0)return wn.bufferToTensor(tt,nt);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(o){var s,a;const _=document.createElement("canvas").getContext("2d");let $;if(_!=null){const _e=this.dims[3],tt=this.dims[2],nt=this.dims[1],it=o!==void 0&&o.format!==void 0?o.format:"RGB",ot=o!==void 0&&((s=o.norm)===null||s===void 0?void 0:s.mean)!==void 0?o.norm.mean:255,et=o!==void 0&&((a=o.norm)===null||a===void 0?void 0:a.bias)!==void 0?o.norm.bias:0,j=tt*_e;if(o!==void 0){if(o.height!==void 0&&o.height!==tt)throw new Error("Image output config height doesn't match tensor height");if(o.width!==void 0&&o.width!==_e)throw new Error("Image output config width doesn't match tensor width");if(o.format!==void 0&&nt===4&&o.format!=="RGBA"||nt===3&&o.format!=="RGB"&&o.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const rt=4;let st=0,at=1,lt=2,ct=3,ut=0,dt=j,ft=j*2,ht=-1;it==="RGBA"?(ut=0,dt=j,ft=j*2,ht=j*3):it==="RGB"?(ut=0,dt=j,ft=j*2):it==="RBG"&&(ut=0,ft=j,dt=j*2),$=_.createImageData(_e,tt);for(let mt=0;mt<tt*_e;st+=rt,at+=rt,lt+=rt,ct+=rt,mt++)$.data[st]=(this.data[ut++]-et)*ot,$.data[at]=(this.data[dt++]-et)*ot,$.data[lt]=(this.data[ft++]-et)*ot,$.data[ct]=ht===-1?255:(this.data[ht++]-et)*ot}else throw new Error("Can not access image data");return $}reshape(o){return new wn(this.type,this.data,o)}};const Tensor=Tensor$1;let InferenceSession$1=class Ss{constructor(o){this.handler=o}async run(o,s,a){const _={};let $={};if(typeof o!="object"||o===null||o instanceof Tensor||Array.isArray(o))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let _e=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");_e=!1;for(const it of s){if(typeof it!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(it)===-1)throw new RangeError(`'fetches' contains invalid output name: ${it}.`);_[it]=null}if(typeof a=="object"&&a!==null)$=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let it=!1;const ot=Object.getOwnPropertyNames(s);for(const et of this.outputNames)if(ot.indexOf(et)!==-1){const j=s[et];(j===null||j instanceof Tensor)&&(it=!0,_e=!1,_[et]=j)}if(it){if(typeof a=="object"&&a!==null)$=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else $=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const it of this.inputNames)if(typeof o[it]>"u")throw new Error(`input '${it}' is missing in 'feeds'.`);if(_e)for(const it of this.outputNames)_[it]=null;const tt=await this.handler.run(o,_,$),nt={};for(const it in tt)Object.hasOwnProperty.call(tt,it)&&(nt[it]=new Tensor(tt[it].type,tt[it].data,tt[it].dims));return nt}static async create(o,s,a,_){let $,_e={};if(typeof o=="string"){if($=o,typeof s=="object"&&s!==null)_e=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof Uint8Array){if($=o,typeof s=="object"&&s!==null)_e=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&o instanceof SharedArrayBuffer){const et=o;let j=0,rt=o.byteLength;if(typeof s=="object"&&s!==null)_e=s;else if(typeof s=="number"){if(j=s,!Number.isSafeInteger(j))throw new RangeError("'byteOffset' must be an integer.");if(j<0||j>=et.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${et.byteLength}).`);if(rt=o.byteLength-j,typeof a=="number"){if(rt=a,!Number.isSafeInteger(rt))throw new RangeError("'byteLength' must be an integer.");if(rt<=0||j+rt>et.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${et.byteLength-j}].`);if(typeof _=="object"&&_!==null)_e=_;else if(typeof _<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");$=new Uint8Array(et,j,rt)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const nt=(_e.executionProviders||[]).map(et=>typeof et=="string"?et:et.name),ot=await(await resolveBackend(nt)).createSessionHandler($,_e);return new Ss(ot)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env:env$1,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(i,o){module.exports=o(require$$0)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(i,o,s)=>{var a,_=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function($){function _e(){return $t.buffer!=Ut&&nr($t.buffer),Kt}function tt(){return $t.buffer!=Ut&&nr($t.buffer),ar}function nt(){return $t.buffer!=Ut&&nr($t.buffer),lr}function it(){return $t.buffer!=Ut&&nr($t.buffer),rr}function ot(){return $t.buffer!=Ut&&nr($t.buffer),Jt}var et,j,rt;$=$||{},et||(et=$!==void 0?$:{}),et.ready=new Promise(function(_t,Et){j=_t,rt=Et});var st,at,lt,ct,ut,dt,ft=Object.assign({},et),ht="./this.program",mt=(_t,Et)=>{throw Et},bt=typeof window=="object",yt=typeof importScripts=="function",gt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",vt=et.ENVIRONMENT_IS_PTHREAD||!1,wt="";function Ct(_t){return et.locateFile?et.locateFile(_t,wt):wt+_t}if(gt){let _t;wt=yt?s(908).dirname(wt)+"/":"//",dt=()=>{ut||(ct=s(1384),ut=s(908))},st=function(Et,kt){return dt(),Et=ut.normalize(Et),ct.readFileSync(Et,kt?void 0:"utf8")},lt=Et=>((Et=st(Et,!0)).buffer||(Et=new Uint8Array(Et)),Et),at=(Et,kt,Dt)=>{dt(),Et=ut.normalize(Et),ct.readFile(Et,function(Vt,Wt){Vt?Dt(Vt):kt(Wt.buffer)})},1<process.argv.length&&(ht=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Et){if(!(Et instanceof en))throw Et}),process.on("unhandledRejection",function(Et){throw Et}),mt=(Et,kt)=>{if(Ur())throw process.exitCode=Et,kt;kt instanceof en||Ot("exiting due to exception: "+kt),process.exit(Et)},et.inspect=function(){return"[Emscripten Module object]"};try{_t=s(9925)}catch(Et){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Et}s.g.Worker=_t.Worker}else(bt||yt)&&(yt?wt=self.location.href:typeof document<"u"&&document.currentScript&&(wt=document.currentScript.src),a&&(wt=a),wt=wt.indexOf("blob:")!==0?wt.substr(0,wt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",gt||(st=_t=>{var Et=new XMLHttpRequest;return Et.open("GET",_t,!1),Et.send(null),Et.responseText},yt&&(lt=_t=>{var Et=new XMLHttpRequest;return Et.open("GET",_t,!1),Et.responseType="arraybuffer",Et.send(null),new Uint8Array(Et.response)}),at=(_t,Et,kt)=>{var Dt=new XMLHttpRequest;Dt.open("GET",_t,!0),Dt.responseType="arraybuffer",Dt.onload=()=>{Dt.status==200||Dt.status==0&&Dt.response?Et(Dt.response):kt()},Dt.onerror=kt,Dt.send(null)}));gt&&typeof performance>"u"&&(s.g.performance=s(6953).performance);var Rt=console.log.bind(console),It=console.warn.bind(console);gt&&(dt(),Rt=_t=>ct.writeSync(1,_t+`
`),It=_t=>ct.writeSync(2,_t+`
`));var Pt,St=et.print||Rt,Ot=et.printErr||It;Object.assign(et,ft),ft=null,et.thisProgram&&(ht=et.thisProgram),et.quit&&(mt=et.quit),et.wasmBinary&&(Pt=et.wasmBinary);var At=et.noExitRuntime||!1;typeof WebAssembly!="object"&&xr("no native wasm support detected");var $t,Ft,Ut,Kt,ar,lr,rr,Jt,cr=!1,Xt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Lt(_t,Et,kt){var Dt=(Et>>>=0)+kt;for(kt=Et;_t[kt]&&!(kt>=Dt);)++kt;if(16<kt-Et&&_t.buffer&&Xt)return Xt.decode(_t.buffer instanceof SharedArrayBuffer?_t.slice(Et,kt):_t.subarray(Et,kt));for(Dt="";Et<kt;){var Vt=_t[Et++];if(128&Vt){var Wt=63&_t[Et++];if((224&Vt)==192)Dt+=String.fromCharCode((31&Vt)<<6|Wt);else{var tr=63&_t[Et++];65536>(Vt=(240&Vt)==224?(15&Vt)<<12|Wt<<6|tr:(7&Vt)<<18|Wt<<12|tr<<6|63&_t[Et++])?Dt+=String.fromCharCode(Vt):(Vt-=65536,Dt+=String.fromCharCode(55296|Vt>>10,56320|1023&Vt))}}else Dt+=String.fromCharCode(Vt)}return Dt}function Zt(_t,Et){return(_t>>>=0)?Lt(tt(),_t,Et):""}function ur(_t,Et,kt,Dt){if(!(0<Dt))return 0;var Vt=kt>>>=0;Dt=kt+Dt-1;for(var Wt=0;Wt<_t.length;++Wt){var tr=_t.charCodeAt(Wt);if(55296<=tr&&57343>=tr&&(tr=65536+((1023&tr)<<10)|1023&_t.charCodeAt(++Wt)),127>=tr){if(kt>=Dt)break;Et[kt++>>>0]=tr}else{if(2047>=tr){if(kt+1>=Dt)break;Et[kt++>>>0]=192|tr>>6}else{if(65535>=tr){if(kt+2>=Dt)break;Et[kt++>>>0]=224|tr>>12}else{if(kt+3>=Dt)break;Et[kt++>>>0]=240|tr>>18,Et[kt++>>>0]=128|tr>>12&63}Et[kt++>>>0]=128|tr>>6&63}Et[kt++>>>0]=128|63&tr}}return Et[kt>>>0]=0,kt-Vt}function Qt(_t){for(var Et=0,kt=0;kt<_t.length;++kt){var Dt=_t.charCodeAt(kt);127>=Dt?Et++:2047>=Dt?Et+=2:55296<=Dt&&57343>=Dt?(Et+=4,++kt):Et+=3}return Et}function nr(_t){Ut=_t,et.HEAP8=Kt=new Int8Array(_t),et.HEAP16=new Int16Array(_t),et.HEAP32=lr=new Int32Array(_t),et.HEAPU8=ar=new Uint8Array(_t),et.HEAPU16=new Uint16Array(_t),et.HEAPU32=rr=new Uint32Array(_t),et.HEAPF32=new Float32Array(_t),et.HEAPF64=Jt=new Float64Array(_t)}vt&&(Ut=et.buffer);var gr=et.INITIAL_MEMORY||16777216;if(vt)$t=et.wasmMemory,Ut=et.buffer;else if(et.wasmMemory)$t=et.wasmMemory;else if(!(($t=new WebAssembly.Memory({initial:gr/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Ot("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),gt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");$t&&(Ut=$t.buffer),gr=Ut.byteLength,nr(Ut);var $r,Mr=[],Gr=[],Er=[],Yr=[];function Ur(){return At||!1}function Lr(){var _t=et.preRun.shift();Mr.unshift(_t)}var Rr,Fr=0,Xr=null;function xr(_t){throw vt?postMessage({cmd:"onAbort",arg:_t}):et.onAbort&&et.onAbort(_t),Ot(_t="Aborted("+_t+")"),cr=!0,_t=new WebAssembly.RuntimeError(_t+". Build with -sASSERTIONS for more info."),rt(_t),_t}function yn(){return Rr.startsWith("data:application/octet-stream;base64,")}function un(){var _t=Rr;try{if(_t==Rr&&Pt)return new Uint8Array(Pt);if(lt)return lt(_t);throw"both async and sync fetching of the wasm failed"}catch(Et){xr(Et)}}Rr="ort-wasm-threaded.wasm",yn()||(Rr=Ct(Rr));var bn={};function en(_t){this.name="ExitStatus",this.message="Program terminated with exit("+_t+")",this.status=_t}function dn(_t){(_t=mr.Vb[_t])||xr(),mr.mc(_t)}function tn(_t){var Et=mr.Cc();if(!Et)return 6;mr.ac.push(Et),mr.Vb[_t.Ub]=Et,Et.Ub=_t.Ub;var kt={cmd:"run",start_routine:_t.Ic,arg:_t.zc,pthread_ptr:_t.Ub};return Et.$b=()=>{kt.time=performance.now(),Et.postMessage(kt,_t.Nc)},Et.loaded&&(Et.$b(),delete Et.$b),0}function Nr(_t){if(vt)return sr(1,1,_t);Ur()||(mr.oc(),et.onExit&&et.onExit(_t),cr=!0),mt(_t,new en(_t))}function Kr(_t,Et){if(!Et&&vt)throw xn(_t),"unwind";Ur()||vt||(Kn(),rn(Er),Xn(0),Ln[1].length&&Nn(1,10),Ln[2].length&&Nn(2,10),mr.oc()),Nr(_t)}var mr={Yb:[],ac:[],qc:[],Vb:{},fc:function(){vt&&mr.Ec()},Pc:function(){},Ec:function(){mr.receiveObjectTransfer=mr.Gc,mr.threadInitTLS=mr.pc,mr.setExitStatus=mr.nc,At=!1},nc:function(){},oc:function(){for(var _t of Object.values(mr.Vb))mr.mc(_t);for(_t of mr.Yb)_t.terminate();mr.Yb=[]},mc:function(_t){var Et=_t.Ub;delete mr.Vb[Et],mr.Yb.push(_t),mr.ac.splice(mr.ac.indexOf(_t),1),_t.Ub=0,Bn(Et)},Gc:function(){},pc:function(){mr.qc.forEach(_t=>_t())},Fc:function(_t,Et){_t.onmessage=kt=>{var Dt=(kt=kt.data).cmd;if(_t.Ub&&(mr.Bc=_t.Ub),kt.targetThread&&kt.targetThread!=Mn()){var Vt=mr.Vb[kt.Qc];Vt?Vt.postMessage(kt,kt.transferList):Ot('Internal error! Worker sent a message "'+Dt+'" to target pthread '+kt.targetThread+", but that thread no longer exists!")}else Dt==="processProxyingQueue"?Nt(kt.queue):Dt==="spawnThread"?tn(kt):Dt==="cleanupThread"?dn(kt.thread):Dt==="killThread"?(kt=kt.thread,Dt=mr.Vb[kt],delete mr.Vb[kt],Dt.terminate(),Bn(kt),mr.ac.splice(mr.ac.indexOf(Dt),1),Dt.Ub=0):Dt==="cancelThread"?mr.Vb[kt.thread].postMessage({cmd:"cancel"}):Dt==="loaded"?(_t.loaded=!0,Et&&Et(_t),_t.$b&&(_t.$b(),delete _t.$b)):Dt==="print"?St("Thread "+kt.threadId+": "+kt.text):Dt==="printErr"?Ot("Thread "+kt.threadId+": "+kt.text):Dt==="alert"?alert("Thread "+kt.threadId+": "+kt.text):kt.target==="setimmediate"?_t.postMessage(kt):Dt==="onAbort"?et.onAbort&&et.onAbort(kt.arg):Dt&&Ot("worker sent an unknown command "+Dt);mr.Bc=void 0},_t.onerror=kt=>{throw Ot("worker sent an error! "+kt.filename+":"+kt.lineno+": "+kt.message),kt},gt&&(_t.on("message",function(kt){_t.onmessage({data:kt})}),_t.on("error",function(kt){_t.onerror(kt)}),_t.on("detachedExit",function(){})),_t.postMessage({cmd:"load",urlOrBlob:et.mainScriptUrlOrBlob||a,wasmMemory:$t,wasmModule:Ft})},yc:function(){var _t=Ct("ort-wasm-threaded.worker.js");mr.Yb.push(new Worker(_t))},Cc:function(){return mr.Yb.length==0&&(mr.yc(),mr.Fc(mr.Yb[0])),mr.Yb.pop()}};function rn(_t){for(;0<_t.length;)_t.shift()(et)}function En(_t){var Et=_r();return _t=_t(),vr(Et),_t}function xn(_t){if(vt)return sr(2,0,_t);try{Kr(_t)}catch(Et){Et instanceof en||Et=="unwind"||mt(1,Et)}}et.PThread=mr,et.establishStackSpace=function(){var _t=Mn(),Et=nt()[_t+44>>2>>>0];_t=nt()[_t+48>>2>>>0],_i(Et,Et-_t),vr(Et)};var nn=[];function Pr(_t){var Et=nn[_t];return Et||(_t>=nn.length&&(nn.length=_t+1),nn[_t]=Et=$r.get(_t)),Et}et.invokeEntryPoint=function(_t,Et){_t=Pr(_t)(Et),Ur()?mr.nc(_t):Zn(_t)};var on,pn,sn=[],fr=0,hr=0;function yr(_t){this.Zb=_t,this.Sb=_t-24,this.xc=function(Et){it()[this.Sb+4>>2>>>0]=Et},this.bc=function(){return it()[this.Sb+4>>2>>>0]},this.wc=function(Et){it()[this.Sb+8>>2>>>0]=Et},this.Dc=function(){return it()[this.Sb+8>>2>>>0]},this.rc=function(){nt()[this.Sb>>2>>>0]=0},this.hc=function(Et){Et=Et?1:0,_e()[this.Sb+12>>0>>>0]=Et},this.uc=function(){return _e()[this.Sb+12>>0>>>0]!=0},this.ic=function(Et){Et=Et?1:0,_e()[this.Sb+13>>0>>>0]=Et},this.kc=function(){return _e()[this.Sb+13>>0>>>0]!=0},this.fc=function(Et,kt){this.cc(0),this.xc(Et),this.wc(kt),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(nt(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(nt(),this.Sb>>2,1)===1},this.cc=function(Et){it()[this.Sb+16>>2>>>0]=Et},this.tc=function(){return it()[this.Sb+16>>2>>>0]},this.vc=function(){if(eo(this.bc()))return it()[this.Zb>>2>>>0];var Et=this.tc();return Et!==0?Et:this.Zb}}function _n(_t){return Yn(new yr(_t).Sb)}function jt(_t,Et,kt,Dt){return vt?sr(3,1,_t,Et,kt,Dt):ir(_t,Et,kt,Dt)}function ir(_t,Et,kt,Dt){if(typeof SharedArrayBuffer>"u")return Ot("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Vt=[];return vt&&Vt.length===0?jt(_t,Et,kt,Dt):(_t={Ic:kt,Ub:_t,zc:Dt,Nc:Vt},vt?(_t.Oc="spawnThread",postMessage(_t,Vt),0):tn(_t))}function qt(_t,Et,kt){return vt?sr(4,1,_t,Et,kt):0}function Or(_t,Et){if(vt)return sr(5,1,_t,Et)}function Br(_t,Et){if(vt)return sr(6,1,_t,Et)}function Wr(_t,Et,kt){if(vt)return sr(7,1,_t,Et,kt)}function Cn(_t,Et,kt){return vt?sr(8,1,_t,Et,kt):0}function fn(_t,Et){if(vt)return sr(9,1,_t,Et)}function hn(_t,Et,kt){if(vt)return sr(10,1,_t,Et,kt)}function gn(_t,Et,kt,Dt){if(vt)return sr(11,1,_t,Et,kt,Dt)}function mn(_t,Et,kt,Dt){if(vt)return sr(12,1,_t,Et,kt,Dt)}function In(_t,Et,kt,Dt){if(vt)return sr(13,1,_t,Et,kt,Dt)}function Rn(_t){if(vt)return sr(14,1,_t)}function Tt(_t,Et){if(vt)return sr(15,1,_t,Et)}function Mt(_t,Et,kt){if(vt)return sr(16,1,_t,Et,kt)}function Nt(_t){Atomics.store(nt(),_t>>2,1),Mn()&&Qn(_t),Atomics.compareExchange(nt(),_t>>2,1,0)}function Bt(_t){return it()[_t>>>2]+4294967296*nt()[_t+4>>>2]}function zt(_t,Et,kt,Dt,Vt,Wt){return vt?sr(17,1,_t,Et,kt,Dt,Vt,Wt):-52}function Yt(_t,Et,kt,Dt,Vt,Wt){if(vt)return sr(18,1,_t,Et,kt,Dt,Vt,Wt)}function er(_t){var Et=Qt(_t)+1,kt=Fn(Et);return kt&&ur(_t,_e(),kt,Et),kt}function dr(_t,Et,kt){function Dt(Cr){return(Cr=Cr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Cr[1]:"GMT"}if(vt)return sr(19,1,_t,Et,kt);var Vt=new Date().getFullYear(),Wt=new Date(Vt,0,1),tr=new Date(Vt,6,1);Vt=Wt.getTimezoneOffset();var pr=tr.getTimezoneOffset(),Sr=Math.max(Vt,pr);nt()[_t>>2>>>0]=60*Sr,nt()[Et>>2>>>0]=+(Vt!=pr),_t=Dt(Wt),Et=Dt(tr),_t=er(_t),Et=er(Et),pr<Vt?(it()[kt>>2>>>0]=_t,it()[kt+4>>2>>>0]=Et):(it()[kt>>2>>>0]=Et,it()[kt+4>>2>>>0]=_t)}function sr(_t,Et){var kt=arguments.length-2,Dt=arguments;return En(()=>{for(var Vt=Vn(8*kt),Wt=Vt>>3,tr=0;tr<kt;tr++){var pr=Dt[2+tr];ot()[Wt+tr>>>0]=pr}return Jn(_t,kt,Vt,Et)})}et.executeNotifiedProxyingQueue=Nt,pn=gt?()=>{var _t=process.hrtime();return 1e3*_t[0]+_t[1]/1e6}:vt?()=>performance.now()-et.__performance_now_clock_drift:()=>performance.now();var br,kr=[],zr={};function Vr(){if(!br){var _t,Et={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ht||"./this.program"};for(_t in zr)zr[_t]===void 0?delete Et[_t]:Et[_t]=zr[_t];var kt=[];for(_t in Et)kt.push(_t+"="+Et[_t]);br=kt}return br}function Ht(_t,Et){if(vt)return sr(20,1,_t,Et);var kt=0;return Vr().forEach(function(Dt,Vt){var Wt=Et+kt;for(Vt=it()[_t+4*Vt>>2>>>0]=Wt,Wt=0;Wt<Dt.length;++Wt)_e()[Vt++>>0>>>0]=Dt.charCodeAt(Wt);_e()[Vt>>0>>>0]=0,kt+=Dt.length+1}),0}function Tr(_t,Et){if(vt)return sr(21,1,_t,Et);var kt=Vr();it()[_t>>2>>>0]=kt.length;var Dt=0;return kt.forEach(function(Vt){Dt+=Vt.length+1}),it()[Et>>2>>>0]=Dt,0}function Ar(_t){return vt?sr(22,1,_t):52}function Qr(_t,Et,kt,Dt){return vt?sr(23,1,_t,Et,kt,Dt):52}function ln(_t,Et,kt,Dt,Vt){return vt?sr(24,1,_t,Et,kt,Dt,Vt):70}var Ln=[null,[],[]];function Nn(_t,Et){var kt=Ln[_t];Et===0||Et===10?((_t===1?St:Ot)(Lt(kt,0)),kt.length=0):kt.push(Et)}function Un(_t,Et,kt,Dt){if(vt)return sr(25,1,_t,Et,kt,Dt);for(var Vt=0,Wt=0;Wt<kt;Wt++){var tr=it()[Et>>2>>>0],pr=it()[Et+4>>2>>>0];Et+=8;for(var Sr=0;Sr<pr;Sr++)Nn(_t,tt()[tr+Sr>>>0]);Vt+=pr}return it()[Dt>>2>>>0]=Vt,0}var qr=0;function $n(_t){return _t%4==0&&(_t%100!=0||_t%400==0)}var Wn=[31,29,31,30,31,30,31,31,30,31,30,31],Hn=[31,28,31,30,31,30,31,31,30,31,30,31];function Gn(_t,Et,kt,Dt){function Vt(Gt,Ir,jr){for(Gt=typeof Gt=="number"?Gt.toString():Gt||"";Gt.length<Ir;)Gt=jr[0]+Gt;return Gt}function Wt(Gt,Ir){return Vt(Gt,Ir,"0")}function tr(Gt,Ir){function jr(Tn){return 0>Tn?-1:0<Tn?1:0}var cn;return(cn=jr(Gt.getFullYear()-Ir.getFullYear()))===0&&(cn=jr(Gt.getMonth()-Ir.getMonth()))===0&&(cn=jr(Gt.getDate()-Ir.getDate())),cn}function pr(Gt){switch(Gt.getDay()){case 0:return new Date(Gt.getFullYear()-1,11,29);case 1:return Gt;case 2:return new Date(Gt.getFullYear(),0,3);case 3:return new Date(Gt.getFullYear(),0,2);case 4:return new Date(Gt.getFullYear(),0,1);case 5:return new Date(Gt.getFullYear()-1,11,31);case 6:return new Date(Gt.getFullYear()-1,11,30)}}function Sr(Gt){var Ir=Gt.Wb;for(Gt=new Date(new Date(Gt.Xb+1900,0,1).getTime());0<Ir;){var jr=Gt.getMonth(),cn=($n(Gt.getFullYear())?Wn:Hn)[jr];if(!(Ir>cn-Gt.getDate())){Gt.setDate(Gt.getDate()+Ir);break}Ir-=cn-Gt.getDate()+1,Gt.setDate(1),11>jr?Gt.setMonth(jr+1):(Gt.setMonth(0),Gt.setFullYear(Gt.getFullYear()+1))}return jr=new Date(Gt.getFullYear()+1,0,4),Ir=pr(new Date(Gt.getFullYear(),0,4)),jr=pr(jr),0>=tr(Ir,Gt)?0>=tr(jr,Gt)?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var Cr=nt()[Dt+40>>2>>>0];for(var Dr in Dt={Lc:nt()[Dt>>2>>>0],Kc:nt()[Dt+4>>2>>>0],dc:nt()[Dt+8>>2>>>0],jc:nt()[Dt+12>>2>>>0],ec:nt()[Dt+16>>2>>>0],Xb:nt()[Dt+20>>2>>>0],Tb:nt()[Dt+24>>2>>>0],Wb:nt()[Dt+28>>2>>>0],Rc:nt()[Dt+32>>2>>>0],Jc:nt()[Dt+36>>2>>>0],Mc:Cr?Zt(Cr):""},kt=Zt(kt),Cr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})kt=kt.replace(new RegExp(Dr,"g"),Cr[Dr]);var an="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Zr="January February March April May June July August September October November December".split(" ");for(Dr in Cr={"%a":function(Gt){return an[Gt.Tb].substring(0,3)},"%A":function(Gt){return an[Gt.Tb]},"%b":function(Gt){return Zr[Gt.ec].substring(0,3)},"%B":function(Gt){return Zr[Gt.ec]},"%C":function(Gt){return Wt((Gt.Xb+1900)/100|0,2)},"%d":function(Gt){return Wt(Gt.jc,2)},"%e":function(Gt){return Vt(Gt.jc,2," ")},"%g":function(Gt){return Sr(Gt).toString().substring(2)},"%G":function(Gt){return Sr(Gt)},"%H":function(Gt){return Wt(Gt.dc,2)},"%I":function(Gt){return(Gt=Gt.dc)==0?Gt=12:12<Gt&&(Gt-=12),Wt(Gt,2)},"%j":function(Gt){for(var Ir=0,jr=0;jr<=Gt.ec-1;Ir+=($n(Gt.Xb+1900)?Wn:Hn)[jr++]);return Wt(Gt.jc+Ir,3)},"%m":function(Gt){return Wt(Gt.ec+1,2)},"%M":function(Gt){return Wt(Gt.Kc,2)},"%n":function(){return`
`},"%p":function(Gt){return 0<=Gt.dc&&12>Gt.dc?"AM":"PM"},"%S":function(Gt){return Wt(Gt.Lc,2)},"%t":function(){return"	"},"%u":function(Gt){return Gt.Tb||7},"%U":function(Gt){return Wt(Math.floor((Gt.Wb+7-Gt.Tb)/7),2)},"%V":function(Gt){var Ir=Math.floor((Gt.Wb+7-(Gt.Tb+6)%7)/7);if(2>=(Gt.Tb+371-Gt.Wb-2)%7&&Ir++,Ir)Ir==53&&((jr=(Gt.Tb+371-Gt.Wb)%7)==4||jr==3&&$n(Gt.Xb)||(Ir=1));else{Ir=52;var jr=(Gt.Tb+7-Gt.Wb-1)%7;(jr==4||jr==5&&$n(Gt.Xb%400-1))&&Ir++}return Wt(Ir,2)},"%w":function(Gt){return Gt.Tb},"%W":function(Gt){return Wt(Math.floor((Gt.Wb+7-(Gt.Tb+6)%7)/7),2)},"%y":function(Gt){return(Gt.Xb+1900).toString().substring(2)},"%Y":function(Gt){return Gt.Xb+1900},"%z":function(Gt){var Ir=0<=(Gt=Gt.Jc);return Gt=Math.abs(Gt)/60,(Ir?"+":"-")+("0000"+(Gt/60*100+Gt%60)).slice(-4)},"%Z":function(Gt){return Gt.Mc},"%%":function(){return"%"}},kt=kt.replace(/%%/g,"\0\0"),Cr)kt.includes(Dr)&&(kt=kt.replace(new RegExp(Dr,"g"),Cr[Dr](Dt)));return Dr=function(Gt){var Ir=Array(Qt(Gt)+1);return ur(Gt,Ir,0,Ir.length),Ir}(kt=kt.replace(/\0\0/g,"%")),Dr.length>Et?0:(function(Gt,Ir){_e().set(Gt,Ir>>>0)}(Dr,_t),Dr.length-1)}mr.fc();var Es=[null,Nr,xn,jt,qt,Or,Br,Wr,Cn,fn,hn,gn,mn,In,Rn,Tt,Mt,zt,Yt,dr,Ht,Tr,Ar,Qr,ln,Un],Cs={b:function(_t){return Fn(_t+24)+24},n:function(_t){return(_t=new yr(_t)).uc()||(_t.hc(!0),fr--),_t.ic(!1),sn.push(_t),_t.sc(),_t.vc()},ma:function(_t){throw Ot("Unexpected exception thrown, this is not properly supported - aborting"),cr=!0,_t},x:function(){wr(0);var _t=sn.pop();if(_t.Hc()&&!_t.kc()){var Et=_t.Dc();Et&&Pr(Et)(_t.Zb),_n(_t.Zb)}hr=0},e:function(){var _t=hr;if(!_t)return qr=0;var Et=new yr(_t);Et.cc(_t);var kt=Et.bc();if(!kt)return qr=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Vt=0;Vt<Dt.length;Vt++){var Wt=Dt[Vt];if(Wt===0||Wt===kt)break;if(Dn(Wt,kt,Et.Sb+16))return qr=Wt,_t}return qr=kt,_t},l:function(){var _t=hr;if(!_t)return qr=0;var Et=new yr(_t);Et.cc(_t);var kt=Et.bc();if(!kt)return qr=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Vt=0;Vt<Dt.length;Vt++){var Wt=Dt[Vt];if(Wt===0||Wt===kt)break;if(Dn(Wt,kt,Et.Sb+16))return qr=Wt,_t}return qr=kt,_t},h:function(){var _t=hr;if(!_t)return qr=0;var Et=new yr(_t);Et.cc(_t);var kt=Et.bc();if(!kt)return qr=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Vt=0;Vt<Dt.length;Vt++){var Wt=Dt[Vt];if(Wt===0||Wt===kt)break;if(Dn(Wt,kt,Et.Sb+16))return qr=Wt,_t}return qr=kt,_t},t:_n,M:function(){var _t=sn.pop();_t||xr("no exception to throw");var Et=_t.Zb;throw _t.kc()||(sn.push(_t),_t.ic(!0),_t.hc(!1),fr++),hr=Et,Et},c:function(_t,Et,kt){throw new yr(_t).fc(Et,kt),hr=_t,fr++,_t},pa:function(){return fr},Fa:function(_t){qn(_t,!yt,1,!bt),mr.pc()},T:function(_t){vt?postMessage({cmd:"cleanupThread",thread:_t}):dn(_t)},xa:ir,j:function(_t){throw hr||(hr=_t),_t},H:qt,Ma:Or,ua:Br,wa:Wr,oa:Cn,Ka:fn,Ca:hn,Ja:gn,V:mn,va:In,sa:Rn,La:Tt,ta:Mt,Ta:function(){},X:function(){xr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){xr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(_t,Et,kt,Dt){if(_t==Et)setTimeout(()=>Nt(Dt));else if(vt)postMessage({targetThread:_t,cmd:"processProxyingQueue",queue:Dt});else{if(!(_t=mr.Vb[_t]))return;_t.postMessage({cmd:"processProxyingQueue",queue:Dt})}return 1},Ea:function(){return-1},Pa:function(_t,Et){_t=new Date(1e3*Bt(_t)),nt()[Et>>2>>>0]=_t.getUTCSeconds(),nt()[Et+4>>2>>>0]=_t.getUTCMinutes(),nt()[Et+8>>2>>>0]=_t.getUTCHours(),nt()[Et+12>>2>>>0]=_t.getUTCDate(),nt()[Et+16>>2>>>0]=_t.getUTCMonth(),nt()[Et+20>>2>>>0]=_t.getUTCFullYear()-1900,nt()[Et+24>>2>>>0]=_t.getUTCDay(),_t=(_t.getTime()-Date.UTC(_t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,nt()[Et+28>>2>>>0]=_t},Qa:function(_t,Et){_t=new Date(1e3*Bt(_t)),nt()[Et>>2>>>0]=_t.getSeconds(),nt()[Et+4>>2>>>0]=_t.getMinutes(),nt()[Et+8>>2>>>0]=_t.getHours(),nt()[Et+12>>2>>>0]=_t.getDate(),nt()[Et+16>>2>>>0]=_t.getMonth(),nt()[Et+20>>2>>>0]=_t.getFullYear()-1900,nt()[Et+24>>2>>>0]=_t.getDay();var kt=new Date(_t.getFullYear(),0,1),Dt=(_t.getTime()-kt.getTime())/864e5|0;nt()[Et+28>>2>>>0]=Dt,nt()[Et+36>>2>>>0]=-60*_t.getTimezoneOffset(),Dt=new Date(_t.getFullYear(),6,1).getTimezoneOffset(),_t=0|(Dt!=(kt=kt.getTimezoneOffset())&&_t.getTimezoneOffset()==Math.min(kt,Dt)),nt()[Et+32>>2>>>0]=_t},Ra:function(_t){var Et=new Date(nt()[_t+20>>2>>>0]+1900,nt()[_t+16>>2>>>0],nt()[_t+12>>2>>>0],nt()[_t+8>>2>>>0],nt()[_t+4>>2>>>0],nt()[_t>>2>>>0],0),kt=nt()[_t+32>>2>>>0],Dt=Et.getTimezoneOffset(),Vt=new Date(Et.getFullYear(),0,1),Wt=new Date(Et.getFullYear(),6,1).getTimezoneOffset(),tr=Vt.getTimezoneOffset(),pr=Math.min(tr,Wt);return 0>kt?nt()[_t+32>>2>>>0]=+(Wt!=tr&&pr==Dt):0<kt!=(pr==Dt)&&(Wt=Math.max(tr,Wt),Et.setTime(Et.getTime()+6e4*((0<kt?pr:Wt)-Dt))),nt()[_t+24>>2>>>0]=Et.getDay(),kt=(Et.getTime()-Vt.getTime())/864e5|0,nt()[_t+28>>2>>>0]=kt,nt()[_t>>2>>>0]=Et.getSeconds(),nt()[_t+4>>2>>>0]=Et.getMinutes(),nt()[_t+8>>2>>>0]=Et.getHours(),nt()[_t+12>>2>>>0]=Et.getDate(),nt()[_t+16>>2>>>0]=Et.getMonth(),Et.getTime()/1e3|0},Aa:zt,Ba:Yt,Sa:function _t(Et,kt,Dt){_t.Ac||(_t.Ac=!0,dr(Et,kt,Dt))},y:function(){xr("")},U:function(){if(!gt&&!yt){var _t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";on||(on={}),on[_t]||(on[_t]=1,gt&&(_t="warning: "+_t),Ot(_t))}},ra:function(){return 4294901760},B:pn,Ia:function(_t,Et,kt){tt().copyWithin(_t>>>0,Et>>>0,Et+kt>>>0)},F:function(){return gt?s(3993).cpus().length:navigator.hardwareConcurrency},Da:function(_t,Et,kt){kr.length=Et,kt>>=3;for(var Dt=0;Dt<Et;Dt++)kr[Dt]=ot()[kt+Dt>>>0];return(0>_t?bn[-_t-1]:Es[_t]).apply(null,kr)},qa:function(_t){var Et=tt().length;if((_t>>>=0)<=Et||4294901760<_t)return!1;for(var kt=1;4>=kt;kt*=2){var Dt=Et*(1+.2/kt);Dt=Math.min(Dt,_t+100663296);var Vt=Math;Dt=Math.max(_t,Dt),Vt=Vt.min.call(Vt,4294901760,Dt+(65536-Dt%65536)%65536);e:{try{$t.grow(Vt-Ut.byteLength+65535>>>16),nr($t.buffer);var Wt=1;break e}catch{}Wt=void 0}if(Wt)return!0}return!1},Na:function(){throw"unwind"},Ga:Ht,Ha:Tr,J:Kr,I:Ar,S:Qr,ga:ln,R:Un,d:function(){return qr},na:function _t(Et,kt){_t.lc||(_t.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Vt=new Uint8Array(1);return()=>(crypto.getRandomValues(Vt),Vt[0])}if(gt)try{var Wt=s(Object(function(){var tr=new Error("Cannot find module 'crypto'");throw tr.code="MODULE_NOT_FOUND",tr}()));return()=>Wt.randomBytes(1)[0]}catch{}return()=>xr("randomDevice")}());for(var Dt=0;Dt<kt;Dt++)_e()[Et+Dt>>0>>>0]=_t.lc();return 0},ia:function(_t,Et,kt){var Dt=_r();try{return Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},ja:function(_t,Et,kt){var Dt=_r();try{return Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},K:function(_t){var Et=_r();try{return Pr(_t)()}catch(kt){if(vr(Et),kt!==kt+0)throw kt;wr(1,0)}},f:function(_t,Et){var kt=_r();try{return Pr(_t)(Et)}catch(Dt){if(vr(kt),Dt!==Dt+0)throw Dt;wr(1,0)}},P:function(_t,Et,kt){var Dt=_r();try{return Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},Q:function(_t,Et,kt){var Dt=_r();try{return Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},k:function(_t,Et,kt){var Dt=_r();try{return Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},p:function(_t,Et,kt,Dt){var Vt=_r();try{return Pr(_t)(Et,kt,Dt)}catch(Wt){if(vr(Vt),Wt!==Wt+0)throw Wt;wr(1,0)}},q:function(_t,Et,kt,Dt,Vt){var Wt=_r();try{return Pr(_t)(Et,kt,Dt,Vt)}catch(tr){if(vr(Wt),tr!==tr+0)throw tr;wr(1,0)}},N:function(_t,Et,kt,Dt,Vt,Wt){var tr=_r();try{return Pr(_t)(Et,kt,Dt,Vt,Wt)}catch(pr){if(vr(tr),pr!==pr+0)throw pr;wr(1,0)}},s:function(_t,Et,kt,Dt,Vt,Wt){var tr=_r();try{return Pr(_t)(Et,kt,Dt,Vt,Wt)}catch(pr){if(vr(tr),pr!==pr+0)throw pr;wr(1,0)}},w:function(_t,Et,kt,Dt,Vt,Wt,tr){var pr=_r();try{return Pr(_t)(Et,kt,Dt,Vt,Wt,tr)}catch(Sr){if(vr(pr),Sr!==Sr+0)throw Sr;wr(1,0)}},L:function(_t,Et,kt,Dt,Vt,Wt,tr,pr){var Sr=_r();try{return Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr)}catch(Cr){if(vr(Sr),Cr!==Cr+0)throw Cr;wr(1,0)}},E:function(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an){var Zr=_r();try{return Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an)}catch(Gt){if(vr(Zr),Gt!==Gt+0)throw Gt;wr(1,0)}},aa:function(_t,Et,kt,Dt,Vt,Wt,tr,pr){var Sr=_r();try{return co(_t,Et,kt,Dt,Vt,Wt,tr,pr)}catch(Cr){if(vr(Sr),Cr!==Cr+0)throw Cr;wr(1,0)}},_:function(_t,Et,kt,Dt,Vt,Wt,tr){var pr=_r();try{return ro(_t,Et,kt,Dt,Vt,Wt,tr)}catch(Sr){if(vr(pr),Sr!==Sr+0)throw Sr;wr(1,0)}},Z:function(_t,Et,kt,Dt,Vt){var Wt=_r();try{return uo(_t,Et,kt,Dt,Vt)}catch(tr){if(vr(Wt),tr!==tr+0)throw tr;wr(1,0)}},ca:function(_t,Et,kt,Dt){var Vt=_r();try{return ao(_t,Et,kt,Dt)}catch(Wt){if(vr(Vt),Wt!==Wt+0)throw Wt;wr(1,0)}},$:function(_t){var Et=_r();try{return to(_t)}catch(kt){if(vr(Et),kt!==kt+0)throw kt;wr(1,0)}},ba:function(_t,Et){var kt=_r();try{return lo(_t,Et)}catch(Dt){if(vr(kt),Dt!==Dt+0)throw Dt;wr(1,0)}},Y:function(_t,Et,kt){var Dt=_r();try{return no(_t,Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},g:function(_t){var Et=_r();try{Pr(_t)()}catch(kt){if(vr(Et),kt!==kt+0)throw kt;wr(1,0)}},r:function(_t,Et){var kt=_r();try{Pr(_t)(Et)}catch(Dt){if(vr(kt),Dt!==Dt+0)throw Dt;wr(1,0)}},i:function(_t,Et,kt){var Dt=_r();try{Pr(_t)(Et,kt)}catch(Vt){if(vr(Dt),Vt!==Vt+0)throw Vt;wr(1,0)}},ha:function(_t,Et,kt,Dt){var Vt=_r();try{Pr(_t)(Et,kt,Dt)}catch(Wt){if(vr(Vt),Wt!==Wt+0)throw Wt;wr(1,0)}},m:function(_t,Et,kt,Dt){var Vt=_r();try{Pr(_t)(Et,kt,Dt)}catch(Wt){if(vr(Vt),Wt!==Wt+0)throw Wt;wr(1,0)}},v:function(_t,Et,kt,Dt,Vt){var Wt=_r();try{Pr(_t)(Et,kt,Dt,Vt)}catch(tr){if(vr(Wt),tr!==tr+0)throw tr;wr(1,0)}},u:function(_t,Et,kt,Dt,Vt,Wt){var tr=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt)}catch(pr){if(vr(tr),pr!==pr+0)throw pr;wr(1,0)}},O:function(_t,Et,kt,Dt,Vt,Wt,tr){var pr=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt,tr)}catch(Sr){if(vr(pr),Sr!==Sr+0)throw Sr;wr(1,0)}},A:function(_t,Et,kt,Dt,Vt,Wt,tr,pr){var Sr=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr)}catch(Cr){if(vr(Sr),Cr!==Cr+0)throw Cr;wr(1,0)}},ka:function(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr){var Cr=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr,Sr)}catch(Dr){if(vr(Cr),Dr!==Dr+0)throw Dr;wr(1,0)}},C:function(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr){var an=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr)}catch(Zr){if(vr(an),Zr!==Zr+0)throw Zr;wr(1,0)}},D:function(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an,Zr,Gt,Ir,jr){var cn=_r();try{Pr(_t)(Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an,Zr,Gt,Ir,jr)}catch(Tn){if(vr(cn),Tn!==Tn+0)throw Tn;wr(1,0)}},fa:function(_t,Et,kt,Dt,Vt,Wt,tr,pr){var Sr=_r();try{io(_t,Et,kt,Dt,Vt,Wt,tr,pr)}catch(Cr){if(vr(Sr),Cr!==Cr+0)throw Cr;wr(1,0)}},da:function(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an){var Zr=_r();try{so(_t,Et,kt,Dt,Vt,Wt,tr,pr,Sr,Cr,Dr,an)}catch(Gt){if(vr(Zr),Gt!==Gt+0)throw Gt;wr(1,0)}},ea:function(_t,Et,kt,Dt,Vt,Wt){var tr=_r();try{oo(_t,Et,kt,Dt,Vt,Wt)}catch(pr){if(vr(tr),pr!==pr+0)throw pr;wr(1,0)}},o:function(_t){return _t},a:$t||et.wasmMemory,G:function(_t){qr=_t},la:Gn,z:function(_t,Et,kt,Dt){return Gn(_t,Et,kt,Dt)}};(function(){function _t(Vt,Wt){et.asm=Vt.exports,mr.qc.push(et.asm.sb),$r=et.asm.ub,Gr.unshift(et.asm.Va),Ft=Wt,vt||(Fr--,et.monitorRunDependencies&&et.monitorRunDependencies(Fr),Fr==0&&Xr&&(Vt=Xr,Xr=null,Vt()))}function Et(Vt){_t(Vt.instance,Vt.module)}function kt(Vt){return function(){if(!Pt&&(bt||yt)){if(typeof fetch=="function"&&!Rr.startsWith("file://"))return fetch(Rr,{credentials:"same-origin"}).then(function(Wt){if(!Wt.ok)throw"failed to load wasm binary file at '"+Rr+"'";return Wt.arrayBuffer()}).catch(function(){return un()});if(at)return new Promise(function(Wt,tr){at(Rr,function(pr){Wt(new Uint8Array(pr))},tr)})}return Promise.resolve().then(function(){return un()})}().then(function(Wt){return WebAssembly.instantiate(Wt,Dt)}).then(function(Wt){return Wt}).then(Vt,function(Wt){Ot("failed to asynchronously prepare wasm: "+Wt),xr(Wt)})}var Dt={a:Cs};if(vt||(Fr++,et.monitorRunDependencies&&et.monitorRunDependencies(Fr)),et.instantiateWasm)try{return et.instantiateWasm(Dt,_t)}catch(Vt){return Ot("Module.instantiateWasm callback failed with error: "+Vt),!1}(Pt||typeof WebAssembly.instantiateStreaming!="function"||yn()||Rr.startsWith("file://")||gt||typeof fetch!="function"?kt(Et):fetch(Rr,{credentials:"same-origin"}).then(function(Vt){return WebAssembly.instantiateStreaming(Vt,Dt).then(Et,function(Wt){return Ot("wasm streaming compile failed: "+Wt),Ot("falling back to ArrayBuffer instantiation"),kt(Et)})})).catch(rt)})(),et.___wasm_call_ctors=function(){return(et.___wasm_call_ctors=et.asm.Va).apply(null,arguments)},et._OrtInit=function(){return(et._OrtInit=et.asm.Wa).apply(null,arguments)},et._OrtCreateSessionOptions=function(){return(et._OrtCreateSessionOptions=et.asm.Xa).apply(null,arguments)},et._OrtAppendExecutionProvider=function(){return(et._OrtAppendExecutionProvider=et.asm.Ya).apply(null,arguments)},et._OrtAddSessionConfigEntry=function(){return(et._OrtAddSessionConfigEntry=et.asm.Za).apply(null,arguments)},et._OrtReleaseSessionOptions=function(){return(et._OrtReleaseSessionOptions=et.asm._a).apply(null,arguments)},et._OrtCreateSession=function(){return(et._OrtCreateSession=et.asm.$a).apply(null,arguments)},et._OrtReleaseSession=function(){return(et._OrtReleaseSession=et.asm.ab).apply(null,arguments)},et._OrtGetInputCount=function(){return(et._OrtGetInputCount=et.asm.bb).apply(null,arguments)},et._OrtGetOutputCount=function(){return(et._OrtGetOutputCount=et.asm.cb).apply(null,arguments)},et._OrtGetInputName=function(){return(et._OrtGetInputName=et.asm.db).apply(null,arguments)},et._OrtGetOutputName=function(){return(et._OrtGetOutputName=et.asm.eb).apply(null,arguments)},et._OrtFree=function(){return(et._OrtFree=et.asm.fb).apply(null,arguments)},et._OrtCreateTensor=function(){return(et._OrtCreateTensor=et.asm.gb).apply(null,arguments)},et._OrtGetTensorData=function(){return(et._OrtGetTensorData=et.asm.hb).apply(null,arguments)},et._OrtReleaseTensor=function(){return(et._OrtReleaseTensor=et.asm.ib).apply(null,arguments)},et._OrtCreateRunOptions=function(){return(et._OrtCreateRunOptions=et.asm.jb).apply(null,arguments)},et._OrtAddRunConfigEntry=function(){return(et._OrtAddRunConfigEntry=et.asm.kb).apply(null,arguments)},et._OrtReleaseRunOptions=function(){return(et._OrtReleaseRunOptions=et.asm.lb).apply(null,arguments)},et._OrtRun=function(){return(et._OrtRun=et.asm.mb).apply(null,arguments)},et._OrtEndProfiling=function(){return(et._OrtEndProfiling=et.asm.nb).apply(null,arguments)};var Mn=et._pthread_self=function(){return(Mn=et._pthread_self=et.asm.ob).apply(null,arguments)},Fn=et._malloc=function(){return(Fn=et._malloc=et.asm.pb).apply(null,arguments)},Yn=et._free=function(){return(Yn=et._free=et.asm.qb).apply(null,arguments)},Xn=et._fflush=function(){return(Xn=et._fflush=et.asm.rb).apply(null,arguments)};et.__emscripten_tls_init=function(){return(et.__emscripten_tls_init=et.asm.sb).apply(null,arguments)};var Kn=et.___funcs_on_exit=function(){return(Kn=et.___funcs_on_exit=et.asm.tb).apply(null,arguments)},qn=et.__emscripten_thread_init=function(){return(qn=et.__emscripten_thread_init=et.asm.vb).apply(null,arguments)};et.__emscripten_thread_crashed=function(){return(et.__emscripten_thread_crashed=et.asm.wb).apply(null,arguments)};var jn,Jn=et._emscripten_run_in_main_runtime_thread_js=function(){return(Jn=et._emscripten_run_in_main_runtime_thread_js=et.asm.xb).apply(null,arguments)},Qn=et.__emscripten_proxy_execute_task_queue=function(){return(Qn=et.__emscripten_proxy_execute_task_queue=et.asm.yb).apply(null,arguments)},Bn=et.__emscripten_thread_free_data=function(){return(Bn=et.__emscripten_thread_free_data=et.asm.zb).apply(null,arguments)},Zn=et.__emscripten_thread_exit=function(){return(Zn=et.__emscripten_thread_exit=et.asm.Ab).apply(null,arguments)},wr=et._setThrew=function(){return(wr=et._setThrew=et.asm.Bb).apply(null,arguments)},_i=et._emscripten_stack_set_limits=function(){return(_i=et._emscripten_stack_set_limits=et.asm.Cb).apply(null,arguments)},_r=et.stackSave=function(){return(_r=et.stackSave=et.asm.Db).apply(null,arguments)},vr=et.stackRestore=function(){return(vr=et.stackRestore=et.asm.Eb).apply(null,arguments)},Vn=et.stackAlloc=function(){return(Vn=et.stackAlloc=et.asm.Fb).apply(null,arguments)},Dn=et.___cxa_can_catch=function(){return(Dn=et.___cxa_can_catch=et.asm.Gb).apply(null,arguments)},eo=et.___cxa_is_pointer_type=function(){return(eo=et.___cxa_is_pointer_type=et.asm.Hb).apply(null,arguments)},to=et.dynCall_j=function(){return(to=et.dynCall_j=et.asm.Ib).apply(null,arguments)},ro=et.dynCall_iiiiij=function(){return(ro=et.dynCall_iiiiij=et.asm.Jb).apply(null,arguments)},no=et.dynCall_jii=function(){return(no=et.dynCall_jii=et.asm.Kb).apply(null,arguments)},io=et.dynCall_viiiiij=function(){return(io=et.dynCall_viiiiij=et.asm.Lb).apply(null,arguments)},oo=et.dynCall_vjji=function(){return(oo=et.dynCall_vjji=et.asm.Mb).apply(null,arguments)},so=et.dynCall_viiijjjii=function(){return(so=et.dynCall_viiijjjii=et.asm.Nb).apply(null,arguments)},ao=et.dynCall_iij=function(){return(ao=et.dynCall_iij=et.asm.Ob).apply(null,arguments)},lo=et.dynCall_ji=function(){return(lo=et.dynCall_ji=et.asm.Pb).apply(null,arguments)},co=et.dynCall_iiiiiij=function(){return(co=et.dynCall_iiiiiij=et.asm.Qb).apply(null,arguments)},uo=et.dynCall_iiij=function(){return(uo=et.dynCall_iiij=et.asm.Rb).apply(null,arguments)};function po(){function _t(){if(!jn&&(jn=!0,et.calledRun=!0,!cr)&&(vt||rn(Gr),j(et),et.onRuntimeInitialized&&et.onRuntimeInitialized(),!vt)){if(et.postRun)for(typeof et.postRun=="function"&&(et.postRun=[et.postRun]);et.postRun.length;){var Et=et.postRun.shift();Yr.unshift(Et)}rn(Yr)}}if(!(0<Fr))if(vt)j(et),vt||rn(Gr),postMessage({cmd:"loaded"});else{if(et.preRun)for(typeof et.preRun=="function"&&(et.preRun=[et.preRun]);et.preRun.length;)Lr();rn(Mr),0<Fr||(et.setStatus?(et.setStatus("Running..."),setTimeout(function(){setTimeout(function(){et.setStatus("")},1),_t()},1)):_t())}}if(et.UTF8ToString=Zt,et.stringToUTF8=function(_t,Et,kt){return ur(_t,tt(),Et,kt)},et.lengthBytesUTF8=Qt,et.keepRuntimeAlive=Ur,et.wasmMemory=$t,et.stackSave=_r,et.stackRestore=vr,et.stackAlloc=Vn,et.ExitStatus=en,et.PThread=mr,Xr=function _t(){jn||po(),jn||(Xr=_t)},et.preInit)for(typeof et.preInit=="function"&&(et.preInit=[et.preInit]);0<et.preInit.length;)et.preInit.pop()();return po(),$.ready});i.exports=_},932:(i,o,s)=>{var a,_=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function($){var _e,tt,nt;$=$||{},_e||(_e=$!==void 0?$:{}),_e.ready=new Promise(function(Tt,Mt){tt=Tt,nt=Mt});var it,ot,et,j,rt,st,at=Object.assign({},_e),lt="./this.program",ct=(Tt,Mt)=>{throw Mt},ut=typeof window=="object",dt=typeof importScripts=="function",ft=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ht="";ft?(ht=dt?s(908).dirname(ht)+"/":"//",st=()=>{rt||(j=s(1384),rt=s(908))},it=function(Tt,Mt){return st(),Tt=rt.normalize(Tt),j.readFileSync(Tt,Mt?void 0:"utf8")},et=Tt=>((Tt=it(Tt,!0)).buffer||(Tt=new Uint8Array(Tt)),Tt),ot=(Tt,Mt,Nt)=>{st(),Tt=rt.normalize(Tt),j.readFile(Tt,function(Bt,zt){Bt?Nt(Bt):Mt(zt.buffer)})},1<process.argv.length&&(lt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Tt){if(!(Tt instanceof Gr))throw Tt}),process.on("unhandledRejection",function(Tt){throw Tt}),ct=(Tt,Mt)=>{if(gt||0<Xt)throw process.exitCode=Tt,Mt;Mt instanceof Gr||yt("exiting due to exception: "+Mt),process.exit(Tt)},_e.inspect=function(){return"[Emscripten Module object]"}):(ut||dt)&&(dt?ht=self.location.href:typeof document<"u"&&document.currentScript&&(ht=document.currentScript.src),a&&(ht=a),ht=ht.indexOf("blob:")!==0?ht.substr(0,ht.replace(/[?#].*/,"").lastIndexOf("/")+1):"",it=Tt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Tt,!1),Mt.send(null),Mt.responseText},dt&&(et=Tt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Tt,!1),Mt.responseType="arraybuffer",Mt.send(null),new Uint8Array(Mt.response)}),ot=(Tt,Mt,Nt)=>{var Bt=new XMLHttpRequest;Bt.open("GET",Tt,!0),Bt.responseType="arraybuffer",Bt.onload=()=>{Bt.status==200||Bt.status==0&&Bt.response?Mt(Bt.response):Nt()},Bt.onerror=Nt,Bt.send(null)});var mt,bt=_e.print||console.log.bind(console),yt=_e.printErr||console.warn.bind(console);Object.assign(_e,at),at=null,_e.thisProgram&&(lt=_e.thisProgram),_e.quit&&(ct=_e.quit),_e.wasmBinary&&(mt=_e.wasmBinary);var gt=_e.noExitRuntime||!1;typeof WebAssembly!="object"&&nr("no native wasm support detected");var vt,wt,Ct,Rt,It,Pt,St=!1,Ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function At(Tt,Mt,Nt){var Bt=(Mt>>>=0)+Nt;for(Nt=Mt;Tt[Nt]&&!(Nt>=Bt);)++Nt;if(16<Nt-Mt&&Tt.buffer&&Ot)return Ot.decode(Tt.subarray(Mt,Nt));for(Bt="";Mt<Nt;){var zt=Tt[Mt++];if(128&zt){var Yt=63&Tt[Mt++];if((224&zt)==192)Bt+=String.fromCharCode((31&zt)<<6|Yt);else{var er=63&Tt[Mt++];65536>(zt=(240&zt)==224?(15&zt)<<12|Yt<<6|er:(7&zt)<<18|Yt<<12|er<<6|63&Tt[Mt++])?Bt+=String.fromCharCode(zt):(zt-=65536,Bt+=String.fromCharCode(55296|zt>>10,56320|1023&zt))}}else Bt+=String.fromCharCode(zt)}return Bt}function $t(Tt,Mt){return(Tt>>>=0)?At(Rt,Tt,Mt):""}function Ft(Tt,Mt,Nt,Bt){if(!(0<Bt))return 0;var zt=Nt>>>=0;Bt=Nt+Bt-1;for(var Yt=0;Yt<Tt.length;++Yt){var er=Tt.charCodeAt(Yt);if(55296<=er&&57343>=er&&(er=65536+((1023&er)<<10)|1023&Tt.charCodeAt(++Yt)),127>=er){if(Nt>=Bt)break;Mt[Nt++>>>0]=er}else{if(2047>=er){if(Nt+1>=Bt)break;Mt[Nt++>>>0]=192|er>>6}else{if(65535>=er){if(Nt+2>=Bt)break;Mt[Nt++>>>0]=224|er>>12}else{if(Nt+3>=Bt)break;Mt[Nt++>>>0]=240|er>>18,Mt[Nt++>>>0]=128|er>>12&63}Mt[Nt++>>>0]=128|er>>6&63}Mt[Nt++>>>0]=128|63&er}}return Mt[Nt>>>0]=0,Nt-zt}function Ut(Tt){for(var Mt=0,Nt=0;Nt<Tt.length;++Nt){var Bt=Tt.charCodeAt(Nt);127>=Bt?Mt++:2047>=Bt?Mt+=2:55296<=Bt&&57343>=Bt?(Mt+=4,++Nt):Mt+=3}return Mt}function Kt(){var Tt=vt.buffer;wt=Tt,_e.HEAP8=Ct=new Int8Array(Tt),_e.HEAP16=new Int16Array(Tt),_e.HEAP32=It=new Int32Array(Tt),_e.HEAPU8=Rt=new Uint8Array(Tt),_e.HEAPU16=new Uint16Array(Tt),_e.HEAPU32=Pt=new Uint32Array(Tt),_e.HEAPF32=new Float32Array(Tt),_e.HEAPF64=new Float64Array(Tt)}var ar,lr=[],rr=[],Jt=[],cr=[],Xt=0;function Lt(){var Tt=_e.preRun.shift();lr.unshift(Tt)}var Zt,ur=0,Qt=null;function nr(Tt){throw _e.onAbort&&_e.onAbort(Tt),yt(Tt="Aborted("+Tt+")"),St=!0,Tt=new WebAssembly.RuntimeError(Tt+". Build with -sASSERTIONS for more info."),nt(Tt),Tt}function gr(){return Zt.startsWith("data:application/octet-stream;base64,")}if(Zt="ort-wasm.wasm",!gr()){var $r=Zt;Zt=_e.locateFile?_e.locateFile($r,ht):ht+$r}function Mr(){var Tt=Zt;try{if(Tt==Zt&&mt)return new Uint8Array(mt);if(et)return et(Tt);throw"both async and sync fetching of the wasm failed"}catch(Mt){nr(Mt)}}function Gr(Tt){this.name="ExitStatus",this.message="Program terminated with exit("+Tt+")",this.status=Tt}function Er(Tt){for(;0<Tt.length;)Tt.shift()(_e)}var Yr=[],Ur=0,Lr=0;function Rr(Tt){this.Db=Tt,this.zb=Tt-24,this.Ub=function(Mt){Pt[this.zb+4>>2>>>0]=Mt},this.Eb=function(){return Pt[this.zb+4>>2>>>0]},this.Sb=function(Mt){Pt[this.zb+8>>2>>>0]=Mt},this.Wb=function(){return Pt[this.zb+8>>2>>>0]},this.Tb=function(){It[this.zb>>2>>>0]=0},this.Ib=function(Mt){Ct[this.zb+12>>0>>>0]=Mt?1:0},this.Pb=function(){return Ct[this.zb+12>>0>>>0]!=0},this.Jb=function(Mt){Ct[this.zb+13>>0>>>0]=Mt?1:0},this.Lb=function(){return Ct[this.zb+13>>0>>>0]!=0},this.Rb=function(Mt,Nt){this.Fb(0),this.Ub(Mt),this.Sb(Nt),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){It[this.zb>>2>>>0]+=1},this.Xb=function(){var Mt=It[this.zb>>2>>>0];return It[this.zb>>2>>>0]=Mt-1,Mt===1},this.Fb=function(Mt){Pt[this.zb+16>>2>>>0]=Mt},this.Ob=function(){return Pt[this.zb+16>>2>>>0]},this.Qb=function(){if(ir(this.Eb()))return Pt[this.Db>>2>>>0];var Mt=this.Ob();return Mt!==0?Mt:this.Db}}function Fr(Tt){return on(new Rr(Tt).zb)}var Xr=[];function xr(Tt){var Mt=Xr[Tt];return Mt||(Tt>=Xr.length&&(Xr.length=Tt+1),Xr[Tt]=Mt=ar.get(Tt)),Mt}function yn(Tt){var Mt=Ut(Tt)+1,Nt=Pr(Mt);return Nt&&Ft(Tt,Ct,Nt,Mt),Nt}var un={};function bn(){if(!en){var Tt,Mt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:lt||"./this.program"};for(Tt in un)un[Tt]===void 0?delete Mt[Tt]:Mt[Tt]=un[Tt];var Nt=[];for(Tt in Mt)Nt.push(Tt+"="+Mt[Tt]);en=Nt}return en}var en,dn=[null,[],[]];function tn(Tt,Mt){var Nt=dn[Tt];Mt===0||Mt===10?((Tt===1?bt:yt)(At(Nt,0)),Nt.length=0):Nt.push(Mt)}var Nr=0;function Kr(Tt){return Tt%4==0&&(Tt%100!=0||Tt%400==0)}var mr=[31,29,31,30,31,30,31,31,30,31,30,31],rn=[31,28,31,30,31,30,31,31,30,31,30,31];function En(Tt,Mt,Nt,Bt){function zt(Ht,Tr,Ar){for(Ht=typeof Ht=="number"?Ht.toString():Ht||"";Ht.length<Tr;)Ht=Ar[0]+Ht;return Ht}function Yt(Ht,Tr){return zt(Ht,Tr,"0")}function er(Ht,Tr){function Ar(ln){return 0>ln?-1:0<ln?1:0}var Qr;return(Qr=Ar(Ht.getFullYear()-Tr.getFullYear()))===0&&(Qr=Ar(Ht.getMonth()-Tr.getMonth()))===0&&(Qr=Ar(Ht.getDate()-Tr.getDate())),Qr}function dr(Ht){switch(Ht.getDay()){case 0:return new Date(Ht.getFullYear()-1,11,29);case 1:return Ht;case 2:return new Date(Ht.getFullYear(),0,3);case 3:return new Date(Ht.getFullYear(),0,2);case 4:return new Date(Ht.getFullYear(),0,1);case 5:return new Date(Ht.getFullYear()-1,11,31);case 6:return new Date(Ht.getFullYear()-1,11,30)}}function sr(Ht){var Tr=Ht.Bb;for(Ht=new Date(new Date(Ht.Cb+1900,0,1).getTime());0<Tr;){var Ar=Ht.getMonth(),Qr=(Kr(Ht.getFullYear())?mr:rn)[Ar];if(!(Tr>Qr-Ht.getDate())){Ht.setDate(Ht.getDate()+Tr);break}Tr-=Qr-Ht.getDate()+1,Ht.setDate(1),11>Ar?Ht.setMonth(Ar+1):(Ht.setMonth(0),Ht.setFullYear(Ht.getFullYear()+1))}return Ar=new Date(Ht.getFullYear()+1,0,4),Tr=dr(new Date(Ht.getFullYear(),0,4)),Ar=dr(Ar),0>=er(Tr,Ht)?0>=er(Ar,Ht)?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}var br=It[Bt+40>>2>>>0];for(var kr in Bt={$b:It[Bt>>2>>>0],Zb:It[Bt+4>>2>>>0],Gb:It[Bt+8>>2>>>0],Kb:It[Bt+12>>2>>>0],Hb:It[Bt+16>>2>>>0],Cb:It[Bt+20>>2>>>0],Ab:It[Bt+24>>2>>>0],Bb:It[Bt+28>>2>>>0],bc:It[Bt+32>>2>>>0],Yb:It[Bt+36>>2>>>0],ac:br?$t(br):""},Nt=$t(Nt),br={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Nt=Nt.replace(new RegExp(kr,"g"),br[kr]);var zr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Vr="January February March April May June July August September October November December".split(" ");for(kr in br={"%a":function(Ht){return zr[Ht.Ab].substring(0,3)},"%A":function(Ht){return zr[Ht.Ab]},"%b":function(Ht){return Vr[Ht.Hb].substring(0,3)},"%B":function(Ht){return Vr[Ht.Hb]},"%C":function(Ht){return Yt((Ht.Cb+1900)/100|0,2)},"%d":function(Ht){return Yt(Ht.Kb,2)},"%e":function(Ht){return zt(Ht.Kb,2," ")},"%g":function(Ht){return sr(Ht).toString().substring(2)},"%G":function(Ht){return sr(Ht)},"%H":function(Ht){return Yt(Ht.Gb,2)},"%I":function(Ht){return(Ht=Ht.Gb)==0?Ht=12:12<Ht&&(Ht-=12),Yt(Ht,2)},"%j":function(Ht){for(var Tr=0,Ar=0;Ar<=Ht.Hb-1;Tr+=(Kr(Ht.Cb+1900)?mr:rn)[Ar++]);return Yt(Ht.Kb+Tr,3)},"%m":function(Ht){return Yt(Ht.Hb+1,2)},"%M":function(Ht){return Yt(Ht.Zb,2)},"%n":function(){return`
`},"%p":function(Ht){return 0<=Ht.Gb&&12>Ht.Gb?"AM":"PM"},"%S":function(Ht){return Yt(Ht.$b,2)},"%t":function(){return"	"},"%u":function(Ht){return Ht.Ab||7},"%U":function(Ht){return Yt(Math.floor((Ht.Bb+7-Ht.Ab)/7),2)},"%V":function(Ht){var Tr=Math.floor((Ht.Bb+7-(Ht.Ab+6)%7)/7);if(2>=(Ht.Ab+371-Ht.Bb-2)%7&&Tr++,Tr)Tr==53&&((Ar=(Ht.Ab+371-Ht.Bb)%7)==4||Ar==3&&Kr(Ht.Cb)||(Tr=1));else{Tr=52;var Ar=(Ht.Ab+7-Ht.Bb-1)%7;(Ar==4||Ar==5&&Kr(Ht.Cb%400-1))&&Tr++}return Yt(Tr,2)},"%w":function(Ht){return Ht.Ab},"%W":function(Ht){return Yt(Math.floor((Ht.Bb+7-(Ht.Ab+6)%7)/7),2)},"%y":function(Ht){return(Ht.Cb+1900).toString().substring(2)},"%Y":function(Ht){return Ht.Cb+1900},"%z":function(Ht){var Tr=0<=(Ht=Ht.Yb);return Ht=Math.abs(Ht)/60,(Tr?"+":"-")+("0000"+(Ht/60*100+Ht%60)).slice(-4)},"%Z":function(Ht){return Ht.ac},"%%":function(){return"%"}},Nt=Nt.replace(/%%/g,"\0\0"),br)Nt.includes(kr)&&(Nt=Nt.replace(new RegExp(kr,"g"),br[kr](Bt)));return kr=function(Ht){var Tr=Array(Ut(Ht)+1);return Ft(Ht,Tr,0,Tr.length),Tr}(Nt=Nt.replace(/\0\0/g,"%")),kr.length>Mt?0:(Ct.set(kr,Tt>>>0),kr.length-1)}var xn={a:function(Tt){return Pr(Tt+24)+24},m:function(Tt){return(Tt=new Rr(Tt)).Pb()||(Tt.Ib(!0),Ur--),Tt.Jb(!1),Yr.push(Tt),Tt.Nb(),Tt.Qb()},ia:function(Tt){throw yt("Unexpected exception thrown, this is not properly supported - aborting"),St=!0,Tt},w:function(){fr(0);var Tt=Yr.pop();if(Tt.Xb()&&!Tt.Lb()){var Mt=Tt.Wb();Mt&&xr(Mt)(Tt.Db),Fr(Tt.Db)}Lr=0},d:function(){var Tt=Lr;if(!Tt)return Nr=0;var Mt=new Rr(Tt);Mt.Fb(Tt);var Nt=Mt.Eb();if(!Nt)return Nr=0,Tt;for(var Bt=Array.prototype.slice.call(arguments),zt=0;zt<Bt.length;zt++){var Yt=Bt[zt];if(Yt===0||Yt===Nt)break;if(jt(Yt,Nt,Mt.zb+16))return Nr=Yt,Tt}return Nr=Nt,Tt},k:function(){var Tt=Lr;if(!Tt)return Nr=0;var Mt=new Rr(Tt);Mt.Fb(Tt);var Nt=Mt.Eb();if(!Nt)return Nr=0,Tt;for(var Bt=Array.prototype.slice.call(arguments),zt=0;zt<Bt.length;zt++){var Yt=Bt[zt];if(Yt===0||Yt===Nt)break;if(jt(Yt,Nt,Mt.zb+16))return Nr=Yt,Tt}return Nr=Nt,Tt},g:function(){var Tt=Lr;if(!Tt)return Nr=0;var Mt=new Rr(Tt);Mt.Fb(Tt);var Nt=Mt.Eb();if(!Nt)return Nr=0,Tt;for(var Bt=Array.prototype.slice.call(arguments),zt=0;zt<Bt.length;zt++){var Yt=Bt[zt];if(Yt===0||Yt===Nt)break;if(jt(Yt,Nt,Mt.zb+16))return Nr=Yt,Tt}return Nr=Nt,Tt},s:Fr,L:function(){var Tt=Yr.pop();Tt||nr("no exception to throw");var Mt=Tt.Db;throw Tt.Lb()||(Yr.push(Tt),Tt.Jb(!0),Tt.Ib(!1),Ur++),Lr=Mt,Mt},b:function(Tt,Mt,Nt){throw new Rr(Tt).Rb(Mt,Nt),Lr=Tt,Ur++,Tt},la:function(){return Ur},i:function(Tt){throw Lr||(Lr=Tt),Tt},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){nr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){nr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(Tt,Mt){Tt=new Date(1e3*(Pt[Tt>>>2]+4294967296*It[Tt+4>>>2])),It[Mt>>2>>>0]=Tt.getUTCSeconds(),It[Mt+4>>2>>>0]=Tt.getUTCMinutes(),It[Mt+8>>2>>>0]=Tt.getUTCHours(),It[Mt+12>>2>>>0]=Tt.getUTCDate(),It[Mt+16>>2>>>0]=Tt.getUTCMonth(),It[Mt+20>>2>>>0]=Tt.getUTCFullYear()-1900,It[Mt+24>>2>>>0]=Tt.getUTCDay(),It[Mt+28>>2>>>0]=(Tt.getTime()-Date.UTC(Tt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(Tt,Mt){Tt=new Date(1e3*(Pt[Tt>>>2]+4294967296*It[Tt+4>>>2])),It[Mt>>2>>>0]=Tt.getSeconds(),It[Mt+4>>2>>>0]=Tt.getMinutes(),It[Mt+8>>2>>>0]=Tt.getHours(),It[Mt+12>>2>>>0]=Tt.getDate(),It[Mt+16>>2>>>0]=Tt.getMonth(),It[Mt+20>>2>>>0]=Tt.getFullYear()-1900,It[Mt+24>>2>>>0]=Tt.getDay();var Nt=new Date(Tt.getFullYear(),0,1);It[Mt+28>>2>>>0]=(Tt.getTime()-Nt.getTime())/864e5|0,It[Mt+36>>2>>>0]=-60*Tt.getTimezoneOffset();var Bt=new Date(Tt.getFullYear(),6,1).getTimezoneOffset();Nt=Nt.getTimezoneOffset(),It[Mt+32>>2>>>0]=0|(Bt!=Nt&&Tt.getTimezoneOffset()==Math.min(Nt,Bt))},Fa:function(Tt){var Mt=new Date(It[Tt+20>>2>>>0]+1900,It[Tt+16>>2>>>0],It[Tt+12>>2>>>0],It[Tt+8>>2>>>0],It[Tt+4>>2>>>0],It[Tt>>2>>>0],0),Nt=It[Tt+32>>2>>>0],Bt=Mt.getTimezoneOffset(),zt=new Date(Mt.getFullYear(),0,1),Yt=new Date(Mt.getFullYear(),6,1).getTimezoneOffset(),er=zt.getTimezoneOffset(),dr=Math.min(er,Yt);return 0>Nt?It[Tt+32>>2>>>0]=+(Yt!=er&&dr==Bt):0<Nt!=(dr==Bt)&&(Yt=Math.max(er,Yt),Mt.setTime(Mt.getTime()+6e4*((0<Nt?dr:Yt)-Bt))),It[Tt+24>>2>>>0]=Mt.getDay(),It[Tt+28>>2>>>0]=(Mt.getTime()-zt.getTime())/864e5|0,It[Tt>>2>>>0]=Mt.getSeconds(),It[Tt+4>>2>>>0]=Mt.getMinutes(),It[Tt+8>>2>>>0]=Mt.getHours(),It[Tt+12>>2>>>0]=Mt.getDate(),It[Tt+16>>2>>>0]=Mt.getMonth(),Mt.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function Tt(Mt,Nt,Bt){Tt.Vb||(Tt.Vb=!0,function(zt,Yt,er){function dr(Vr){return(Vr=Vr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Vr[1]:"GMT"}var sr=new Date().getFullYear(),br=new Date(sr,0,1),kr=new Date(sr,6,1);sr=br.getTimezoneOffset();var zr=kr.getTimezoneOffset();It[zt>>2>>>0]=60*Math.max(sr,zr),It[Yt>>2>>>0]=+(sr!=zr),zt=dr(br),Yt=dr(kr),zt=yn(zt),Yt=yn(Yt),zr<sr?(Pt[er>>2>>>0]=zt,Pt[er+4>>2>>>0]=Yt):(Pt[er>>2>>>0]=Yt,Pt[er+4>>2>>>0]=zt)}(Mt,Nt,Bt))},B:function(){nr("")},ma:function(){return 4294901760},I:ft?()=>{var Tt=process.hrtime();return 1e3*Tt[0]+Tt[1]/1e6}:()=>performance.now(),xa:function(Tt,Mt,Nt){Rt.copyWithin(Tt>>>0,Mt>>>0,Mt+Nt>>>0)},G:function(Tt){var Mt=Rt.length;if(4294901760<(Tt>>>=0))return!1;for(var Nt=1;4>=Nt;Nt*=2){var Bt=Mt*(1+.2/Nt);Bt=Math.min(Bt,Tt+100663296);var zt=Math;Bt=Math.max(Tt,Bt),zt=zt.min.call(zt,4294901760,Bt+(65536-Bt%65536)%65536);e:{try{vt.grow(zt-wt.byteLength+65535>>>16),Kt();var Yt=1;break e}catch{}Yt=void 0}if(Yt)return!0}return!1},va:function(Tt,Mt){var Nt=0;return bn().forEach(function(Bt,zt){var Yt=Mt+Nt;for(zt=Pt[Tt+4*zt>>2>>>0]=Yt,Yt=0;Yt<Bt.length;++Yt)Ct[zt++>>0>>>0]=Bt.charCodeAt(Yt);Ct[zt>>0>>>0]=0,Nt+=Bt.length+1}),0},wa:function(Tt,Mt){var Nt=bn();Pt[Tt>>2>>>0]=Nt.length;var Bt=0;return Nt.forEach(function(zt){Bt+=zt.length+1}),Pt[Mt>>2>>>0]=Bt,0},ba:function(Tt){gt||0<Xt||(sn(),Er(Jt),pn(0),dn[1].length&&tn(1,10),dn[2].length&&tn(2,10)),gt||0<Xt||(_e.onExit&&_e.onExit(Tt),St=!0),ct(Tt,new Gr(Tt))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(Tt,Mt,Nt,Bt){for(var zt=0,Yt=0;Yt<Nt;Yt++){var er=Pt[Mt>>2>>>0],dr=Pt[Mt+4>>2>>>0];Mt+=8;for(var sr=0;sr<dr;sr++)tn(Tt,Rt[er+sr>>>0]);zt+=dr}return Pt[Bt>>2>>>0]=zt,0},c:function(){return Nr},ja:function Tt(Mt,Nt){Tt.Mb||(Tt.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var zt=new Uint8Array(1);return()=>(crypto.getRandomValues(zt),zt[0])}if(ft)try{var Yt=s(Object(function(){var er=new Error("Cannot find module 'crypto'");throw er.code="MODULE_NOT_FOUND",er}()));return()=>Yt.randomBytes(1)[0]}catch{}return()=>nr("randomDevice")}());for(var Bt=0;Bt<Nt;Bt++)Ct[Mt+Bt>>0>>>0]=Tt.Mb();return 0},ea:function(Tt,Mt,Nt){var Bt=hr();try{return xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},fa:function(Tt,Mt,Nt){var Bt=hr();try{return xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},J:function(Tt){var Mt=hr();try{return xr(Tt)()}catch(Nt){if(yr(Mt),Nt!==Nt+0)throw Nt;fr(1,0)}},e:function(Tt,Mt){var Nt=hr();try{return xr(Tt)(Mt)}catch(Bt){if(yr(Nt),Bt!==Bt+0)throw Bt;fr(1,0)}},N:function(Tt,Mt,Nt){var Bt=hr();try{return xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},O:function(Tt,Mt,Nt){var Bt=hr();try{return xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},j:function(Tt,Mt,Nt){var Bt=hr();try{return xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},o:function(Tt,Mt,Nt,Bt){var zt=hr();try{return xr(Tt)(Mt,Nt,Bt)}catch(Yt){if(yr(zt),Yt!==Yt+0)throw Yt;fr(1,0)}},p:function(Tt,Mt,Nt,Bt,zt){var Yt=hr();try{return xr(Tt)(Mt,Nt,Bt,zt)}catch(er){if(yr(Yt),er!==er+0)throw er;fr(1,0)}},M:function(Tt,Mt,Nt,Bt,zt,Yt){var er=hr();try{return xr(Tt)(Mt,Nt,Bt,zt,Yt)}catch(dr){if(yr(er),dr!==dr+0)throw dr;fr(1,0)}},r:function(Tt,Mt,Nt,Bt,zt,Yt){var er=hr();try{return xr(Tt)(Mt,Nt,Bt,zt,Yt)}catch(dr){if(yr(er),dr!==dr+0)throw dr;fr(1,0)}},v:function(Tt,Mt,Nt,Bt,zt,Yt,er){var dr=hr();try{return xr(Tt)(Mt,Nt,Bt,zt,Yt,er)}catch(sr){if(yr(dr),sr!==sr+0)throw sr;fr(1,0)}},K:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr){var sr=hr();try{return xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr)}catch(br){if(yr(sr),br!==br+0)throw br;fr(1,0)}},D:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr){var Vr=hr();try{return xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr)}catch(Ht){if(yr(Vr),Ht!==Ht+0)throw Ht;fr(1,0)}},X:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr){var sr=hr();try{return mn(Tt,Mt,Nt,Bt,zt,Yt,er,dr)}catch(br){if(yr(sr),br!==br+0)throw br;fr(1,0)}},V:function(Tt,Mt,Nt,Bt,zt,Yt,er){var dr=hr();try{return Or(Tt,Mt,Nt,Bt,zt,Yt,er)}catch(sr){if(yr(dr),sr!==sr+0)throw sr;fr(1,0)}},U:function(Tt,Mt,Nt,Bt,zt){var Yt=hr();try{return In(Tt,Mt,Nt,Bt,zt)}catch(er){if(yr(Yt),er!==er+0)throw er;fr(1,0)}},Z:function(Tt,Mt,Nt,Bt){var zt=hr();try{return hn(Tt,Mt,Nt,Bt)}catch(Yt){if(yr(zt),Yt!==Yt+0)throw Yt;fr(1,0)}},W:function(Tt){var Mt=hr();try{return qt(Tt)}catch(Nt){if(yr(Mt),Nt!==Nt+0)throw Nt;fr(1,0)}},Y:function(Tt,Mt){var Nt=hr();try{return gn(Tt,Mt)}catch(Bt){if(yr(Nt),Bt!==Bt+0)throw Bt;fr(1,0)}},T:function(Tt,Mt,Nt){var Bt=hr();try{return Br(Tt,Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},f:function(Tt){var Mt=hr();try{xr(Tt)()}catch(Nt){if(yr(Mt),Nt!==Nt+0)throw Nt;fr(1,0)}},q:function(Tt,Mt){var Nt=hr();try{xr(Tt)(Mt)}catch(Bt){if(yr(Nt),Bt!==Bt+0)throw Bt;fr(1,0)}},h:function(Tt,Mt,Nt){var Bt=hr();try{xr(Tt)(Mt,Nt)}catch(zt){if(yr(Bt),zt!==zt+0)throw zt;fr(1,0)}},da:function(Tt,Mt,Nt,Bt){var zt=hr();try{xr(Tt)(Mt,Nt,Bt)}catch(Yt){if(yr(zt),Yt!==Yt+0)throw Yt;fr(1,0)}},l:function(Tt,Mt,Nt,Bt){var zt=hr();try{xr(Tt)(Mt,Nt,Bt)}catch(Yt){if(yr(zt),Yt!==Yt+0)throw Yt;fr(1,0)}},t:function(Tt,Mt,Nt,Bt,zt){var Yt=hr();try{xr(Tt)(Mt,Nt,Bt,zt)}catch(er){if(yr(Yt),er!==er+0)throw er;fr(1,0)}},u:function(Tt,Mt,Nt,Bt,zt,Yt){var er=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt)}catch(dr){if(yr(er),dr!==dr+0)throw dr;fr(1,0)}},x:function(Tt,Mt,Nt,Bt,zt,Yt,er){var dr=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt,er)}catch(sr){if(yr(dr),sr!==sr+0)throw sr;fr(1,0)}},z:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr){var sr=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr)}catch(br){if(yr(sr),br!==br+0)throw br;fr(1,0)}},ga:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr){var br=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr,sr)}catch(kr){if(yr(br),kr!==kr+0)throw kr;fr(1,0)}},A:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr){var zr=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr)}catch(Vr){if(yr(zr),Vr!==Vr+0)throw Vr;fr(1,0)}},C:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr,Vr,Ht,Tr,Ar){var Qr=hr();try{xr(Tt)(Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr,Vr,Ht,Tr,Ar)}catch(ln){if(yr(Qr),ln!==ln+0)throw ln;fr(1,0)}},aa:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr){var sr=hr();try{Wr(Tt,Mt,Nt,Bt,zt,Yt,er,dr)}catch(br){if(yr(sr),br!==br+0)throw br;fr(1,0)}},_:function(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr){var Vr=hr();try{fn(Tt,Mt,Nt,Bt,zt,Yt,er,dr,sr,br,kr,zr)}catch(Ht){if(yr(Vr),Ht!==Ht+0)throw Ht;fr(1,0)}},$:function(Tt,Mt,Nt,Bt,zt,Yt){var er=hr();try{Cn(Tt,Mt,Nt,Bt,zt,Yt)}catch(dr){if(yr(er),dr!==dr+0)throw dr;fr(1,0)}},n:function(Tt){return Tt},F:function(Tt){Nr=Tt},ha:En,y:function(Tt,Mt,Nt,Bt){return En(Tt,Mt,Nt,Bt)}};(function(){function Tt(zt){_e.asm=zt.exports,vt=_e.asm.Ka,Kt(),ar=_e.asm.ib,rr.unshift(_e.asm.La),ur--,_e.monitorRunDependencies&&_e.monitorRunDependencies(ur),ur==0&&Qt&&(zt=Qt,Qt=null,zt())}function Mt(zt){Tt(zt.instance)}function Nt(zt){return function(){if(!mt&&(ut||dt)){if(typeof fetch=="function"&&!Zt.startsWith("file://"))return fetch(Zt,{credentials:"same-origin"}).then(function(Yt){if(!Yt.ok)throw"failed to load wasm binary file at '"+Zt+"'";return Yt.arrayBuffer()}).catch(function(){return Mr()});if(ot)return new Promise(function(Yt,er){ot(Zt,function(dr){Yt(new Uint8Array(dr))},er)})}return Promise.resolve().then(function(){return Mr()})}().then(function(Yt){return WebAssembly.instantiate(Yt,Bt)}).then(function(Yt){return Yt}).then(zt,function(Yt){yt("failed to asynchronously prepare wasm: "+Yt),nr(Yt)})}var Bt={a:xn};if(ur++,_e.monitorRunDependencies&&_e.monitorRunDependencies(ur),_e.instantiateWasm)try{return _e.instantiateWasm(Bt,Tt)}catch(zt){return yt("Module.instantiateWasm callback failed with error: "+zt),!1}(mt||typeof WebAssembly.instantiateStreaming!="function"||gr()||Zt.startsWith("file://")||ft||typeof fetch!="function"?Nt(Mt):fetch(Zt,{credentials:"same-origin"}).then(function(zt){return WebAssembly.instantiateStreaming(zt,Bt).then(Mt,function(Yt){return yt("wasm streaming compile failed: "+Yt),yt("falling back to ArrayBuffer instantiation"),Nt(Mt)})})).catch(nt)})(),_e.___wasm_call_ctors=function(){return(_e.___wasm_call_ctors=_e.asm.La).apply(null,arguments)},_e._OrtInit=function(){return(_e._OrtInit=_e.asm.Ma).apply(null,arguments)},_e._OrtCreateSessionOptions=function(){return(_e._OrtCreateSessionOptions=_e.asm.Na).apply(null,arguments)},_e._OrtAppendExecutionProvider=function(){return(_e._OrtAppendExecutionProvider=_e.asm.Oa).apply(null,arguments)},_e._OrtAddSessionConfigEntry=function(){return(_e._OrtAddSessionConfigEntry=_e.asm.Pa).apply(null,arguments)},_e._OrtReleaseSessionOptions=function(){return(_e._OrtReleaseSessionOptions=_e.asm.Qa).apply(null,arguments)},_e._OrtCreateSession=function(){return(_e._OrtCreateSession=_e.asm.Ra).apply(null,arguments)},_e._OrtReleaseSession=function(){return(_e._OrtReleaseSession=_e.asm.Sa).apply(null,arguments)},_e._OrtGetInputCount=function(){return(_e._OrtGetInputCount=_e.asm.Ta).apply(null,arguments)},_e._OrtGetOutputCount=function(){return(_e._OrtGetOutputCount=_e.asm.Ua).apply(null,arguments)},_e._OrtGetInputName=function(){return(_e._OrtGetInputName=_e.asm.Va).apply(null,arguments)},_e._OrtGetOutputName=function(){return(_e._OrtGetOutputName=_e.asm.Wa).apply(null,arguments)},_e._OrtFree=function(){return(_e._OrtFree=_e.asm.Xa).apply(null,arguments)},_e._OrtCreateTensor=function(){return(_e._OrtCreateTensor=_e.asm.Ya).apply(null,arguments)},_e._OrtGetTensorData=function(){return(_e._OrtGetTensorData=_e.asm.Za).apply(null,arguments)},_e._OrtReleaseTensor=function(){return(_e._OrtReleaseTensor=_e.asm._a).apply(null,arguments)},_e._OrtCreateRunOptions=function(){return(_e._OrtCreateRunOptions=_e.asm.$a).apply(null,arguments)},_e._OrtAddRunConfigEntry=function(){return(_e._OrtAddRunConfigEntry=_e.asm.ab).apply(null,arguments)},_e._OrtReleaseRunOptions=function(){return(_e._OrtReleaseRunOptions=_e.asm.bb).apply(null,arguments)},_e._OrtRun=function(){return(_e._OrtRun=_e.asm.cb).apply(null,arguments)},_e._OrtEndProfiling=function(){return(_e._OrtEndProfiling=_e.asm.db).apply(null,arguments)};var nn,Pr=_e._malloc=function(){return(Pr=_e._malloc=_e.asm.eb).apply(null,arguments)},on=_e._free=function(){return(on=_e._free=_e.asm.fb).apply(null,arguments)},pn=_e._fflush=function(){return(pn=_e._fflush=_e.asm.gb).apply(null,arguments)},sn=_e.___funcs_on_exit=function(){return(sn=_e.___funcs_on_exit=_e.asm.hb).apply(null,arguments)},fr=_e._setThrew=function(){return(fr=_e._setThrew=_e.asm.jb).apply(null,arguments)},hr=_e.stackSave=function(){return(hr=_e.stackSave=_e.asm.kb).apply(null,arguments)},yr=_e.stackRestore=function(){return(yr=_e.stackRestore=_e.asm.lb).apply(null,arguments)},_n=_e.stackAlloc=function(){return(_n=_e.stackAlloc=_e.asm.mb).apply(null,arguments)},jt=_e.___cxa_can_catch=function(){return(jt=_e.___cxa_can_catch=_e.asm.nb).apply(null,arguments)},ir=_e.___cxa_is_pointer_type=function(){return(ir=_e.___cxa_is_pointer_type=_e.asm.ob).apply(null,arguments)},qt=_e.dynCall_j=function(){return(qt=_e.dynCall_j=_e.asm.pb).apply(null,arguments)},Or=_e.dynCall_iiiiij=function(){return(Or=_e.dynCall_iiiiij=_e.asm.qb).apply(null,arguments)},Br=_e.dynCall_jii=function(){return(Br=_e.dynCall_jii=_e.asm.rb).apply(null,arguments)},Wr=_e.dynCall_viiiiij=function(){return(Wr=_e.dynCall_viiiiij=_e.asm.sb).apply(null,arguments)},Cn=_e.dynCall_vjji=function(){return(Cn=_e.dynCall_vjji=_e.asm.tb).apply(null,arguments)},fn=_e.dynCall_viiijjjii=function(){return(fn=_e.dynCall_viiijjjii=_e.asm.ub).apply(null,arguments)},hn=_e.dynCall_iij=function(){return(hn=_e.dynCall_iij=_e.asm.vb).apply(null,arguments)},gn=_e.dynCall_ji=function(){return(gn=_e.dynCall_ji=_e.asm.wb).apply(null,arguments)},mn=_e.dynCall_iiiiiij=function(){return(mn=_e.dynCall_iiiiiij=_e.asm.xb).apply(null,arguments)},In=_e.dynCall_iiij=function(){return(In=_e.dynCall_iiij=_e.asm.yb).apply(null,arguments)};function Rn(){function Tt(){if(!nn&&(nn=!0,_e.calledRun=!0,!St)){if(Er(rr),tt(_e),_e.onRuntimeInitialized&&_e.onRuntimeInitialized(),_e.postRun)for(typeof _e.postRun=="function"&&(_e.postRun=[_e.postRun]);_e.postRun.length;){var Mt=_e.postRun.shift();cr.unshift(Mt)}Er(cr)}}if(!(0<ur)){if(_e.preRun)for(typeof _e.preRun=="function"&&(_e.preRun=[_e.preRun]);_e.preRun.length;)Lt();Er(lr),0<ur||(_e.setStatus?(_e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){_e.setStatus("")},1),Tt()},1)):Tt())}}if(_e.UTF8ToString=$t,_e.stringToUTF8=function(Tt,Mt,Nt){return Ft(Tt,Rt,Mt,Nt)},_e.lengthBytesUTF8=Ut,_e.stackSave=hr,_e.stackRestore=yr,_e.stackAlloc=_n,Qt=function Tt(){nn||Rn(),nn||(Qt=Tt)},_e.preInit)for(typeof _e.preInit=="function"&&(_e.preInit=[_e.preInit]);0<_e.preInit.length;)_e.preInit.pop()();return Rn(),$.ready});i.exports=_},4537:i=>{i.exports=function(o,s){for(var a=new Array(arguments.length-1),_=0,$=2,_e=!0;$<arguments.length;)a[_++]=arguments[$++];return new Promise(function(tt,nt){a[_]=function(it){if(_e)if(_e=!1,it)nt(it);else{for(var ot=new Array(arguments.length-1),et=0;et<ot.length;)ot[et++]=arguments[et];tt.apply(null,ot)}};try{o.apply(s||null,a)}catch(it){_e&&(_e=!1,nt(it))}})}},7419:(i,o)=>{var s=o;s.length=function(tt){var nt=tt.length;if(!nt)return 0;for(var it=0;--nt%4>1&&tt.charAt(nt)==="=";)++it;return Math.ceil(3*tt.length)/4-it};for(var a=new Array(64),_=new Array(123),$=0;$<64;)_[a[$]=$<26?$+65:$<52?$+71:$<62?$-4:$-59|43]=$++;s.encode=function(tt,nt,it){for(var ot,et=null,j=[],rt=0,st=0;nt<it;){var at=tt[nt++];switch(st){case 0:j[rt++]=a[at>>2],ot=(3&at)<<4,st=1;break;case 1:j[rt++]=a[ot|at>>4],ot=(15&at)<<2,st=2;break;case 2:j[rt++]=a[ot|at>>6],j[rt++]=a[63&at],st=0}rt>8191&&((et||(et=[])).push(String.fromCharCode.apply(String,j)),rt=0)}return st&&(j[rt++]=a[ot],j[rt++]=61,st===1&&(j[rt++]=61)),et?(rt&&et.push(String.fromCharCode.apply(String,j.slice(0,rt))),et.join("")):String.fromCharCode.apply(String,j.slice(0,rt))};var _e="invalid encoding";s.decode=function(tt,nt,it){for(var ot,et=it,j=0,rt=0;rt<tt.length;){var st=tt.charCodeAt(rt++);if(st===61&&j>1)break;if((st=_[st])===void 0)throw Error(_e);switch(j){case 0:ot=st,j=1;break;case 1:nt[it++]=ot<<2|(48&st)>>4,ot=st,j=2;break;case 2:nt[it++]=(15&ot)<<4|(60&st)>>2,ot=st,j=3;break;case 3:nt[it++]=(3&ot)<<6|st,j=0}}if(j===1)throw Error(_e);return it-et},s.test=function(tt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(tt)}},9211:i=>{function o(){this._listeners={}}i.exports=o,o.prototype.on=function(s,a,_){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:a,ctx:_||this}),this},o.prototype.off=function(s,a){if(s===void 0)this._listeners={};else if(a===void 0)this._listeners[s]=[];else for(var _=this._listeners[s],$=0;$<_.length;)_[$].fn===a?_.splice($,1):++$;return this},o.prototype.emit=function(s){var a=this._listeners[s];if(a){for(var _=[],$=1;$<arguments.length;)_.push(arguments[$++]);for($=0;$<a.length;)a[$].fn.apply(a[$++].ctx,_)}return this}},945:i=>{function o(_e){return typeof Float32Array<"u"?function(){var tt=new Float32Array([-0]),nt=new Uint8Array(tt.buffer),it=nt[3]===128;function ot(st,at,lt){tt[0]=st,at[lt]=nt[0],at[lt+1]=nt[1],at[lt+2]=nt[2],at[lt+3]=nt[3]}function et(st,at,lt){tt[0]=st,at[lt]=nt[3],at[lt+1]=nt[2],at[lt+2]=nt[1],at[lt+3]=nt[0]}function j(st,at){return nt[0]=st[at],nt[1]=st[at+1],nt[2]=st[at+2],nt[3]=st[at+3],tt[0]}function rt(st,at){return nt[3]=st[at],nt[2]=st[at+1],nt[1]=st[at+2],nt[0]=st[at+3],tt[0]}_e.writeFloatLE=it?ot:et,_e.writeFloatBE=it?et:ot,_e.readFloatLE=it?j:rt,_e.readFloatBE=it?rt:j}():function(){function tt(it,ot,et,j){var rt=ot<0?1:0;if(rt&&(ot=-ot),ot===0)it(1/ot>0?0:2147483648,et,j);else if(isNaN(ot))it(2143289344,et,j);else if(ot>34028234663852886e22)it((rt<<31|2139095040)>>>0,et,j);else if(ot<11754943508222875e-54)it((rt<<31|Math.round(ot/1401298464324817e-60))>>>0,et,j);else{var st=Math.floor(Math.log(ot)/Math.LN2);it((rt<<31|st+127<<23|8388607&Math.round(ot*Math.pow(2,-st)*8388608))>>>0,et,j)}}function nt(it,ot,et){var j=it(ot,et),rt=2*(j>>31)+1,st=j>>>23&255,at=8388607&j;return st===255?at?NaN:rt*(1/0):st===0?1401298464324817e-60*rt*at:rt*Math.pow(2,st-150)*(at+8388608)}_e.writeFloatLE=tt.bind(null,s),_e.writeFloatBE=tt.bind(null,a),_e.readFloatLE=nt.bind(null,_),_e.readFloatBE=nt.bind(null,$)}(),typeof Float64Array<"u"?function(){var tt=new Float64Array([-0]),nt=new Uint8Array(tt.buffer),it=nt[7]===128;function ot(st,at,lt){tt[0]=st,at[lt]=nt[0],at[lt+1]=nt[1],at[lt+2]=nt[2],at[lt+3]=nt[3],at[lt+4]=nt[4],at[lt+5]=nt[5],at[lt+6]=nt[6],at[lt+7]=nt[7]}function et(st,at,lt){tt[0]=st,at[lt]=nt[7],at[lt+1]=nt[6],at[lt+2]=nt[5],at[lt+3]=nt[4],at[lt+4]=nt[3],at[lt+5]=nt[2],at[lt+6]=nt[1],at[lt+7]=nt[0]}function j(st,at){return nt[0]=st[at],nt[1]=st[at+1],nt[2]=st[at+2],nt[3]=st[at+3],nt[4]=st[at+4],nt[5]=st[at+5],nt[6]=st[at+6],nt[7]=st[at+7],tt[0]}function rt(st,at){return nt[7]=st[at],nt[6]=st[at+1],nt[5]=st[at+2],nt[4]=st[at+3],nt[3]=st[at+4],nt[2]=st[at+5],nt[1]=st[at+6],nt[0]=st[at+7],tt[0]}_e.writeDoubleLE=it?ot:et,_e.writeDoubleBE=it?et:ot,_e.readDoubleLE=it?j:rt,_e.readDoubleBE=it?rt:j}():function(){function tt(it,ot,et,j,rt,st){var at=j<0?1:0;if(at&&(j=-j),j===0)it(0,rt,st+ot),it(1/j>0?0:2147483648,rt,st+et);else if(isNaN(j))it(0,rt,st+ot),it(2146959360,rt,st+et);else if(j>17976931348623157e292)it(0,rt,st+ot),it((at<<31|2146435072)>>>0,rt,st+et);else{var lt;if(j<22250738585072014e-324)it((lt=j/5e-324)>>>0,rt,st+ot),it((at<<31|lt/4294967296)>>>0,rt,st+et);else{var ct=Math.floor(Math.log(j)/Math.LN2);ct===1024&&(ct=1023),it(4503599627370496*(lt=j*Math.pow(2,-ct))>>>0,rt,st+ot),it((at<<31|ct+1023<<20|1048576*lt&1048575)>>>0,rt,st+et)}}}function nt(it,ot,et,j,rt){var st=it(j,rt+ot),at=it(j,rt+et),lt=2*(at>>31)+1,ct=at>>>20&2047,ut=4294967296*(1048575&at)+st;return ct===2047?ut?NaN:lt*(1/0):ct===0?5e-324*lt*ut:lt*Math.pow(2,ct-1075)*(ut+4503599627370496)}_e.writeDoubleLE=tt.bind(null,s,0,4),_e.writeDoubleBE=tt.bind(null,a,4,0),_e.readDoubleLE=nt.bind(null,_,0,4),_e.readDoubleBE=nt.bind(null,$,4,0)}(),_e}function s(_e,tt,nt){tt[nt]=255&_e,tt[nt+1]=_e>>>8&255,tt[nt+2]=_e>>>16&255,tt[nt+3]=_e>>>24}function a(_e,tt,nt){tt[nt]=_e>>>24,tt[nt+1]=_e>>>16&255,tt[nt+2]=_e>>>8&255,tt[nt+3]=255&_e}function _(_e,tt){return(_e[tt]|_e[tt+1]<<8|_e[tt+2]<<16|_e[tt+3]<<24)>>>0}function $(_e,tt){return(_e[tt]<<24|_e[tt+1]<<16|_e[tt+2]<<8|_e[tt+3])>>>0}i.exports=o(o)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}module.exports=inquire},6662:i=>{i.exports=function(o,s,a){var _=a||8192,$=_>>>1,_e=null,tt=_;return function(nt){if(nt<1||nt>$)return o(nt);tt+nt>_&&(_e=o(_),tt=0);var it=s.call(_e,tt,tt+=nt);return 7&tt&&(tt=1+(7|tt)),it}}},4997:(i,o)=>{var s=o;s.length=function(a){for(var _=0,$=0,_e=0;_e<a.length;++_e)($=a.charCodeAt(_e))<128?_+=1:$<2048?_+=2:(64512&$)==55296&&(64512&a.charCodeAt(_e+1))==56320?(++_e,_+=4):_+=3;return _},s.read=function(a,_,$){if($-_<1)return"";for(var _e,tt=null,nt=[],it=0;_<$;)(_e=a[_++])<128?nt[it++]=_e:_e>191&&_e<224?nt[it++]=(31&_e)<<6|63&a[_++]:_e>239&&_e<365?(_e=((7&_e)<<18|(63&a[_++])<<12|(63&a[_++])<<6|63&a[_++])-65536,nt[it++]=55296+(_e>>10),nt[it++]=56320+(1023&_e)):nt[it++]=(15&_e)<<12|(63&a[_++])<<6|63&a[_++],it>8191&&((tt||(tt=[])).push(String.fromCharCode.apply(String,nt)),it=0);return tt?(it&&tt.push(String.fromCharCode.apply(String,nt.slice(0,it))),tt.join("")):String.fromCharCode.apply(String,nt.slice(0,it))},s.write=function(a,_,$){for(var _e,tt,nt=$,it=0;it<a.length;++it)(_e=a.charCodeAt(it))<128?_[$++]=_e:_e<2048?(_[$++]=_e>>6|192,_[$++]=63&_e|128):(64512&_e)==55296&&(64512&(tt=a.charCodeAt(it+1)))==56320?(_e=65536+((1023&_e)<<10)+(1023&tt),++it,_[$++]=_e>>18|240,_[$++]=_e>>12&63|128,_[$++]=_e>>6&63|128,_[$++]=63&_e|128):(_[$++]=_e>>12|224,_[$++]=_e>>6&63|128,_[$++]=63&_e|128);return $-nt}},3442:(i,o)=>{o.__esModule=!0;var s=function(){function a(_){if(!_)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,_&&a.isGuid(_)&&(this.value=_)}return a.isGuid=function(_){var $=_.toString();return _&&(_ instanceof a||a.validator.test($))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function(_){return new a(_)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function(_){for(var $="",_e=0;_e<_;_e++)$+=(65536*(1+Math.random())|0).toString(16).substring(1);return $},a.prototype.equals=function(_){return a.isGuid(_)&&this.value===_.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();o.Guid=s},3720:i=>{i.exports=s;var o=null;try{o=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function s(gt,vt,wt){this.low=0|gt,this.high=0|vt,this.unsigned=!!wt}function a(gt){return(gt&&gt.__isLong__)===!0}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=a;var _={},$={};function _e(gt,vt){var wt,Ct,Rt;return vt?(Rt=0<=(gt>>>=0)&&gt<256)&&(Ct=$[gt])?Ct:(wt=nt(gt,(0|gt)<0?-1:0,!0),Rt&&($[gt]=wt),wt):(Rt=-128<=(gt|=0)&&gt<128)&&(Ct=_[gt])?Ct:(wt=nt(gt,gt<0?-1:0,!1),Rt&&(_[gt]=wt),wt)}function tt(gt,vt){if(isNaN(gt))return vt?ct:lt;if(vt){if(gt<0)return ct;if(gt>=rt)return mt}else{if(gt<=-9223372036854776e3)return bt;if(gt+1>=st)return ht}return gt<0?tt(-gt,vt).neg():nt(gt%j|0,gt/j|0,vt)}function nt(gt,vt,wt){return new s(gt,vt,wt)}s.fromInt=_e,s.fromNumber=tt,s.fromBits=nt;var it=Math.pow;function ot(gt,vt,wt){if(gt.length===0)throw Error("empty string");if(gt==="NaN"||gt==="Infinity"||gt==="+Infinity"||gt==="-Infinity")return lt;if(typeof vt=="number"?(wt=vt,vt=!1):vt=!!vt,(wt=wt||10)<2||36<wt)throw RangeError("radix");var Ct;if((Ct=gt.indexOf("-"))>0)throw Error("interior hyphen");if(Ct===0)return ot(gt.substring(1),vt,wt).neg();for(var Rt=tt(it(wt,8)),It=lt,Pt=0;Pt<gt.length;Pt+=8){var St=Math.min(8,gt.length-Pt),Ot=parseInt(gt.substring(Pt,Pt+St),wt);if(St<8){var At=tt(it(wt,St));It=It.mul(At).add(tt(Ot))}else It=(It=It.mul(Rt)).add(tt(Ot))}return It.unsigned=vt,It}function et(gt,vt){return typeof gt=="number"?tt(gt,vt):typeof gt=="string"?ot(gt,vt):nt(gt.low,gt.high,typeof vt=="boolean"?vt:gt.unsigned)}s.fromString=ot,s.fromValue=et;var j=4294967296,rt=j*j,st=rt/2,at=_e(1<<24),lt=_e(0);s.ZERO=lt;var ct=_e(0,!0);s.UZERO=ct;var ut=_e(1);s.ONE=ut;var dt=_e(1,!0);s.UONE=dt;var ft=_e(-1);s.NEG_ONE=ft;var ht=nt(-1,2147483647,!1);s.MAX_VALUE=ht;var mt=nt(-1,-1,!0);s.MAX_UNSIGNED_VALUE=mt;var bt=nt(0,-2147483648,!1);s.MIN_VALUE=bt;var yt=s.prototype;yt.toInt=function(){return this.unsigned?this.low>>>0:this.low},yt.toNumber=function(){return this.unsigned?(this.high>>>0)*j+(this.low>>>0):this.high*j+(this.low>>>0)},yt.toString=function(gt){if((gt=gt||10)<2||36<gt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bt)){var vt=tt(gt),wt=this.div(vt),Ct=wt.mul(vt).sub(this);return wt.toString(gt)+Ct.toInt().toString(gt)}return"-"+this.neg().toString(gt)}for(var Rt=tt(it(gt,6),this.unsigned),It=this,Pt="";;){var St=It.div(Rt),Ot=(It.sub(St.mul(Rt)).toInt()>>>0).toString(gt);if((It=St).isZero())return Ot+Pt;for(;Ot.length<6;)Ot="0"+Ot;Pt=""+Ot+Pt}},yt.getHighBits=function(){return this.high},yt.getHighBitsUnsigned=function(){return this.high>>>0},yt.getLowBits=function(){return this.low},yt.getLowBitsUnsigned=function(){return this.low>>>0},yt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bt)?64:this.neg().getNumBitsAbs();for(var gt=this.high!=0?this.high:this.low,vt=31;vt>0&&!(gt&1<<vt);vt--);return this.high!=0?vt+33:vt+1},yt.isZero=function(){return this.high===0&&this.low===0},yt.eqz=yt.isZero,yt.isNegative=function(){return!this.unsigned&&this.high<0},yt.isPositive=function(){return this.unsigned||this.high>=0},yt.isOdd=function(){return(1&this.low)==1},yt.isEven=function(){return(1&this.low)==0},yt.equals=function(gt){return a(gt)||(gt=et(gt)),(this.unsigned===gt.unsigned||this.high>>>31!=1||gt.high>>>31!=1)&&this.high===gt.high&&this.low===gt.low},yt.eq=yt.equals,yt.notEquals=function(gt){return!this.eq(gt)},yt.neq=yt.notEquals,yt.ne=yt.notEquals,yt.lessThan=function(gt){return this.comp(gt)<0},yt.lt=yt.lessThan,yt.lessThanOrEqual=function(gt){return this.comp(gt)<=0},yt.lte=yt.lessThanOrEqual,yt.le=yt.lessThanOrEqual,yt.greaterThan=function(gt){return this.comp(gt)>0},yt.gt=yt.greaterThan,yt.greaterThanOrEqual=function(gt){return this.comp(gt)>=0},yt.gte=yt.greaterThanOrEqual,yt.ge=yt.greaterThanOrEqual,yt.compare=function(gt){if(a(gt)||(gt=et(gt)),this.eq(gt))return 0;var vt=this.isNegative(),wt=gt.isNegative();return vt&&!wt?-1:!vt&&wt?1:this.unsigned?gt.high>>>0>this.high>>>0||gt.high===this.high&&gt.low>>>0>this.low>>>0?-1:1:this.sub(gt).isNegative()?-1:1},yt.comp=yt.compare,yt.negate=function(){return!this.unsigned&&this.eq(bt)?bt:this.not().add(ut)},yt.neg=yt.negate,yt.add=function(gt){a(gt)||(gt=et(gt));var vt=this.high>>>16,wt=65535&this.high,Ct=this.low>>>16,Rt=65535&this.low,It=gt.high>>>16,Pt=65535&gt.high,St=gt.low>>>16,Ot=0,At=0,$t=0,Ft=0;return $t+=(Ft+=Rt+(65535&gt.low))>>>16,At+=($t+=Ct+St)>>>16,Ot+=(At+=wt+Pt)>>>16,Ot+=vt+It,nt(($t&=65535)<<16|(Ft&=65535),(Ot&=65535)<<16|(At&=65535),this.unsigned)},yt.subtract=function(gt){return a(gt)||(gt=et(gt)),this.add(gt.neg())},yt.sub=yt.subtract,yt.multiply=function(gt){if(this.isZero())return lt;if(a(gt)||(gt=et(gt)),o)return nt(o.mul(this.low,this.high,gt.low,gt.high),o.get_high(),this.unsigned);if(gt.isZero())return lt;if(this.eq(bt))return gt.isOdd()?bt:lt;if(gt.eq(bt))return this.isOdd()?bt:lt;if(this.isNegative())return gt.isNegative()?this.neg().mul(gt.neg()):this.neg().mul(gt).neg();if(gt.isNegative())return this.mul(gt.neg()).neg();if(this.lt(at)&&gt.lt(at))return tt(this.toNumber()*gt.toNumber(),this.unsigned);var vt=this.high>>>16,wt=65535&this.high,Ct=this.low>>>16,Rt=65535&this.low,It=gt.high>>>16,Pt=65535&gt.high,St=gt.low>>>16,Ot=65535&gt.low,At=0,$t=0,Ft=0,Ut=0;return Ft+=(Ut+=Rt*Ot)>>>16,$t+=(Ft+=Ct*Ot)>>>16,Ft&=65535,$t+=(Ft+=Rt*St)>>>16,At+=($t+=wt*Ot)>>>16,$t&=65535,At+=($t+=Ct*St)>>>16,$t&=65535,At+=($t+=Rt*Pt)>>>16,At+=vt*Ot+wt*St+Ct*Pt+Rt*It,nt((Ft&=65535)<<16|(Ut&=65535),(At&=65535)<<16|($t&=65535),this.unsigned)},yt.mul=yt.multiply,yt.divide=function(gt){if(a(gt)||(gt=et(gt)),gt.isZero())throw Error("division by zero");var vt,wt,Ct;if(o)return this.unsigned||this.high!==-2147483648||gt.low!==-1||gt.high!==-1?nt((this.unsigned?o.div_u:o.div_s)(this.low,this.high,gt.low,gt.high),o.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ct:lt;if(this.unsigned){if(gt.unsigned||(gt=gt.toUnsigned()),gt.gt(this))return ct;if(gt.gt(this.shru(1)))return dt;Ct=ct}else{if(this.eq(bt))return gt.eq(ut)||gt.eq(ft)?bt:gt.eq(bt)?ut:(vt=this.shr(1).div(gt).shl(1)).eq(lt)?gt.isNegative()?ut:ft:(wt=this.sub(gt.mul(vt)),Ct=vt.add(wt.div(gt)));if(gt.eq(bt))return this.unsigned?ct:lt;if(this.isNegative())return gt.isNegative()?this.neg().div(gt.neg()):this.neg().div(gt).neg();if(gt.isNegative())return this.div(gt.neg()).neg();Ct=lt}for(wt=this;wt.gte(gt);){vt=Math.max(1,Math.floor(wt.toNumber()/gt.toNumber()));for(var Rt=Math.ceil(Math.log(vt)/Math.LN2),It=Rt<=48?1:it(2,Rt-48),Pt=tt(vt),St=Pt.mul(gt);St.isNegative()||St.gt(wt);)St=(Pt=tt(vt-=It,this.unsigned)).mul(gt);Pt.isZero()&&(Pt=ut),Ct=Ct.add(Pt),wt=wt.sub(St)}return Ct},yt.div=yt.divide,yt.modulo=function(gt){return a(gt)||(gt=et(gt)),o?nt((this.unsigned?o.rem_u:o.rem_s)(this.low,this.high,gt.low,gt.high),o.get_high(),this.unsigned):this.sub(this.div(gt).mul(gt))},yt.mod=yt.modulo,yt.rem=yt.modulo,yt.not=function(){return nt(~this.low,~this.high,this.unsigned)},yt.and=function(gt){return a(gt)||(gt=et(gt)),nt(this.low&gt.low,this.high&gt.high,this.unsigned)},yt.or=function(gt){return a(gt)||(gt=et(gt)),nt(this.low|gt.low,this.high|gt.high,this.unsigned)},yt.xor=function(gt){return a(gt)||(gt=et(gt)),nt(this.low^gt.low,this.high^gt.high,this.unsigned)},yt.shiftLeft=function(gt){return a(gt)&&(gt=gt.toInt()),(gt&=63)==0?this:gt<32?nt(this.low<<gt,this.high<<gt|this.low>>>32-gt,this.unsigned):nt(0,this.low<<gt-32,this.unsigned)},yt.shl=yt.shiftLeft,yt.shiftRight=function(gt){return a(gt)&&(gt=gt.toInt()),(gt&=63)==0?this:gt<32?nt(this.low>>>gt|this.high<<32-gt,this.high>>gt,this.unsigned):nt(this.high>>gt-32,this.high>=0?0:-1,this.unsigned)},yt.shr=yt.shiftRight,yt.shiftRightUnsigned=function(gt){if(a(gt)&&(gt=gt.toInt()),(gt&=63)==0)return this;var vt=this.high;return gt<32?nt(this.low>>>gt|vt<<32-gt,vt>>>gt,this.unsigned):nt(gt===32?vt:vt>>>gt-32,0,this.unsigned)},yt.shru=yt.shiftRightUnsigned,yt.shr_u=yt.shiftRightUnsigned,yt.toSigned=function(){return this.unsigned?nt(this.low,this.high,!1):this},yt.toUnsigned=function(){return this.unsigned?this:nt(this.low,this.high,!0)},yt.toBytes=function(gt){return gt?this.toBytesLE():this.toBytesBE()},yt.toBytesLE=function(){var gt=this.high,vt=this.low;return[255&vt,vt>>>8&255,vt>>>16&255,vt>>>24,255&gt,gt>>>8&255,gt>>>16&255,gt>>>24]},yt.toBytesBE=function(){var gt=this.high,vt=this.low;return[gt>>>24,gt>>>16&255,gt>>>8&255,255&gt,vt>>>24,vt>>>16&255,vt>>>8&255,255&vt]},s.fromBytes=function(gt,vt,wt){return wt?s.fromBytesLE(gt,vt):s.fromBytesBE(gt,vt)},s.fromBytesLE=function(gt,vt){return new s(gt[0]|gt[1]<<8|gt[2]<<16|gt[3]<<24,gt[4]|gt[5]<<8|gt[6]<<16|gt[7]<<24,vt)},s.fromBytesBE=function(gt,vt){return new s(gt[4]<<24|gt[5]<<16|gt[6]<<8|gt[7],gt[0]<<24|gt[1]<<16|gt[2]<<8|gt[3],vt)}},1446:(i,o,s)=>{var a,_,$,_e=s(2100),tt=_e.Reader,nt=_e.Writer,it=_e.util,ot=_e.roots.default||(_e.roots.default={});ot.onnx=(($={}).Version=(a={},(_=Object.create(a))[a[0]="_START_VERSION"]=0,_[a[1]="IR_VERSION_2017_10_10"]=1,_[a[2]="IR_VERSION_2017_10_30"]=2,_[a[3]="IR_VERSION_2017_11_3"]=3,_[a[4]="IR_VERSION_2019_1_22"]=4,_[a[5]="IR_VERSION"]=5,_),$.AttributeProto=function(){function et(j){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.name="",et.prototype.refAttrName="",et.prototype.docString="",et.prototype.type=0,et.prototype.f=0,et.prototype.i=it.Long?it.Long.fromBits(0,0,!1):0,et.prototype.s=it.newBuffer([]),et.prototype.t=null,et.prototype.g=null,et.prototype.floats=it.emptyArray,et.prototype.ints=it.emptyArray,et.prototype.strings=it.emptyArray,et.prototype.tensors=it.emptyArray,et.prototype.graphs=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.name!=null&&j.hasOwnProperty("name")&&rt.uint32(10).string(j.name),j.f!=null&&j.hasOwnProperty("f")&&rt.uint32(21).float(j.f),j.i!=null&&j.hasOwnProperty("i")&&rt.uint32(24).int64(j.i),j.s!=null&&j.hasOwnProperty("s")&&rt.uint32(34).bytes(j.s),j.t!=null&&j.hasOwnProperty("t")&&ot.onnx.TensorProto.encode(j.t,rt.uint32(42).fork()).ldelim(),j.g!=null&&j.hasOwnProperty("g")&&ot.onnx.GraphProto.encode(j.g,rt.uint32(50).fork()).ldelim(),j.floats!=null&&j.floats.length){rt.uint32(58).fork();for(var st=0;st<j.floats.length;++st)rt.float(j.floats[st]);rt.ldelim()}if(j.ints!=null&&j.ints.length){for(rt.uint32(66).fork(),st=0;st<j.ints.length;++st)rt.int64(j.ints[st]);rt.ldelim()}if(j.strings!=null&&j.strings.length)for(st=0;st<j.strings.length;++st)rt.uint32(74).bytes(j.strings[st]);if(j.tensors!=null&&j.tensors.length)for(st=0;st<j.tensors.length;++st)ot.onnx.TensorProto.encode(j.tensors[st],rt.uint32(82).fork()).ldelim();if(j.graphs!=null&&j.graphs.length)for(st=0;st<j.graphs.length;++st)ot.onnx.GraphProto.encode(j.graphs[st],rt.uint32(90).fork()).ldelim();return j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(106).string(j.docString),j.type!=null&&j.hasOwnProperty("type")&&rt.uint32(160).int32(j.type),j.refAttrName!=null&&j.hasOwnProperty("refAttrName")&&rt.uint32(170).string(j.refAttrName),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.AttributeProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.name=j.string();break;case 21:at.refAttrName=j.string();break;case 13:at.docString=j.string();break;case 20:at.type=j.int32();break;case 2:at.f=j.float();break;case 3:at.i=j.int64();break;case 4:at.s=j.bytes();break;case 5:at.t=ot.onnx.TensorProto.decode(j,j.uint32());break;case 6:at.g=ot.onnx.GraphProto.decode(j,j.uint32());break;case 7:if(at.floats&&at.floats.length||(at.floats=[]),(7&lt)==2)for(var ct=j.uint32()+j.pos;j.pos<ct;)at.floats.push(j.float());else at.floats.push(j.float());break;case 8:if(at.ints&&at.ints.length||(at.ints=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.ints.push(j.int64());else at.ints.push(j.int64());break;case 9:at.strings&&at.strings.length||(at.strings=[]),at.strings.push(j.bytes());break;case 10:at.tensors&&at.tensors.length||(at.tensors=[]),at.tensors.push(ot.onnx.TensorProto.decode(j,j.uint32()));break;case 11:at.graphs&&at.graphs.length||(at.graphs=[]),at.graphs.push(ot.onnx.GraphProto.decode(j,j.uint32()));break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.name!=null&&j.hasOwnProperty("name")&&!it.isString(j.name))return"name: string expected";if(j.refAttrName!=null&&j.hasOwnProperty("refAttrName")&&!it.isString(j.refAttrName))return"refAttrName: string expected";if(j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString))return"docString: string expected";if(j.type!=null&&j.hasOwnProperty("type"))switch(j.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(j.f!=null&&j.hasOwnProperty("f")&&typeof j.f!="number")return"f: number expected";if(j.i!=null&&j.hasOwnProperty("i")&&!(it.isInteger(j.i)||j.i&&it.isInteger(j.i.low)&&it.isInteger(j.i.high)))return"i: integer|Long expected";if(j.s!=null&&j.hasOwnProperty("s")&&!(j.s&&typeof j.s.length=="number"||it.isString(j.s)))return"s: buffer expected";if(j.t!=null&&j.hasOwnProperty("t")&&(st=ot.onnx.TensorProto.verify(j.t)))return"t."+st;if(j.g!=null&&j.hasOwnProperty("g")&&(st=ot.onnx.GraphProto.verify(j.g)))return"g."+st;if(j.floats!=null&&j.hasOwnProperty("floats")){if(!Array.isArray(j.floats))return"floats: array expected";for(var rt=0;rt<j.floats.length;++rt)if(typeof j.floats[rt]!="number")return"floats: number[] expected"}if(j.ints!=null&&j.hasOwnProperty("ints")){if(!Array.isArray(j.ints))return"ints: array expected";for(rt=0;rt<j.ints.length;++rt)if(!(it.isInteger(j.ints[rt])||j.ints[rt]&&it.isInteger(j.ints[rt].low)&&it.isInteger(j.ints[rt].high)))return"ints: integer|Long[] expected"}if(j.strings!=null&&j.hasOwnProperty("strings")){if(!Array.isArray(j.strings))return"strings: array expected";for(rt=0;rt<j.strings.length;++rt)if(!(j.strings[rt]&&typeof j.strings[rt].length=="number"||it.isString(j.strings[rt])))return"strings: buffer[] expected"}if(j.tensors!=null&&j.hasOwnProperty("tensors")){if(!Array.isArray(j.tensors))return"tensors: array expected";for(rt=0;rt<j.tensors.length;++rt)if(st=ot.onnx.TensorProto.verify(j.tensors[rt]))return"tensors."+st}if(j.graphs!=null&&j.hasOwnProperty("graphs")){if(!Array.isArray(j.graphs))return"graphs: array expected";for(rt=0;rt<j.graphs.length;++rt){var st;if(st=ot.onnx.GraphProto.verify(j.graphs[rt]))return"graphs."+st}}return null},et.fromObject=function(j){if(j instanceof ot.onnx.AttributeProto)return j;var rt=new ot.onnx.AttributeProto;switch(j.name!=null&&(rt.name=String(j.name)),j.refAttrName!=null&&(rt.refAttrName=String(j.refAttrName)),j.docString!=null&&(rt.docString=String(j.docString)),j.type){case"UNDEFINED":case 0:rt.type=0;break;case"FLOAT":case 1:rt.type=1;break;case"INT":case 2:rt.type=2;break;case"STRING":case 3:rt.type=3;break;case"TENSOR":case 4:rt.type=4;break;case"GRAPH":case 5:rt.type=5;break;case"FLOATS":case 6:rt.type=6;break;case"INTS":case 7:rt.type=7;break;case"STRINGS":case 8:rt.type=8;break;case"TENSORS":case 9:rt.type=9;break;case"GRAPHS":case 10:rt.type=10}if(j.f!=null&&(rt.f=Number(j.f)),j.i!=null&&(it.Long?(rt.i=it.Long.fromValue(j.i)).unsigned=!1:typeof j.i=="string"?rt.i=parseInt(j.i,10):typeof j.i=="number"?rt.i=j.i:typeof j.i=="object"&&(rt.i=new it.LongBits(j.i.low>>>0,j.i.high>>>0).toNumber())),j.s!=null&&(typeof j.s=="string"?it.base64.decode(j.s,rt.s=it.newBuffer(it.base64.length(j.s)),0):j.s.length&&(rt.s=j.s)),j.t!=null){if(typeof j.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");rt.t=ot.onnx.TensorProto.fromObject(j.t)}if(j.g!=null){if(typeof j.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");rt.g=ot.onnx.GraphProto.fromObject(j.g)}if(j.floats){if(!Array.isArray(j.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");rt.floats=[];for(var st=0;st<j.floats.length;++st)rt.floats[st]=Number(j.floats[st])}if(j.ints){if(!Array.isArray(j.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(rt.ints=[],st=0;st<j.ints.length;++st)it.Long?(rt.ints[st]=it.Long.fromValue(j.ints[st])).unsigned=!1:typeof j.ints[st]=="string"?rt.ints[st]=parseInt(j.ints[st],10):typeof j.ints[st]=="number"?rt.ints[st]=j.ints[st]:typeof j.ints[st]=="object"&&(rt.ints[st]=new it.LongBits(j.ints[st].low>>>0,j.ints[st].high>>>0).toNumber())}if(j.strings){if(!Array.isArray(j.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(rt.strings=[],st=0;st<j.strings.length;++st)typeof j.strings[st]=="string"?it.base64.decode(j.strings[st],rt.strings[st]=it.newBuffer(it.base64.length(j.strings[st])),0):j.strings[st].length&&(rt.strings[st]=j.strings[st])}if(j.tensors){if(!Array.isArray(j.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(rt.tensors=[],st=0;st<j.tensors.length;++st){if(typeof j.tensors[st]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");rt.tensors[st]=ot.onnx.TensorProto.fromObject(j.tensors[st])}}if(j.graphs){if(!Array.isArray(j.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(rt.graphs=[],st=0;st<j.graphs.length;++st){if(typeof j.graphs[st]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");rt.graphs[st]=ot.onnx.GraphProto.fromObject(j.graphs[st])}}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.floats=[],st.ints=[],st.strings=[],st.tensors=[],st.graphs=[]),rt.defaults){if(st.name="",st.f=0,it.Long){var at=new it.Long(0,0,!1);st.i=rt.longs===String?at.toString():rt.longs===Number?at.toNumber():at}else st.i=rt.longs===String?"0":0;rt.bytes===String?st.s="":(st.s=[],rt.bytes!==Array&&(st.s=it.newBuffer(st.s))),st.t=null,st.g=null,st.docString="",st.type=rt.enums===String?"UNDEFINED":0,st.refAttrName=""}if(j.name!=null&&j.hasOwnProperty("name")&&(st.name=j.name),j.f!=null&&j.hasOwnProperty("f")&&(st.f=rt.json&&!isFinite(j.f)?String(j.f):j.f),j.i!=null&&j.hasOwnProperty("i")&&(typeof j.i=="number"?st.i=rt.longs===String?String(j.i):j.i:st.i=rt.longs===String?it.Long.prototype.toString.call(j.i):rt.longs===Number?new it.LongBits(j.i.low>>>0,j.i.high>>>0).toNumber():j.i),j.s!=null&&j.hasOwnProperty("s")&&(st.s=rt.bytes===String?it.base64.encode(j.s,0,j.s.length):rt.bytes===Array?Array.prototype.slice.call(j.s):j.s),j.t!=null&&j.hasOwnProperty("t")&&(st.t=ot.onnx.TensorProto.toObject(j.t,rt)),j.g!=null&&j.hasOwnProperty("g")&&(st.g=ot.onnx.GraphProto.toObject(j.g,rt)),j.floats&&j.floats.length){st.floats=[];for(var lt=0;lt<j.floats.length;++lt)st.floats[lt]=rt.json&&!isFinite(j.floats[lt])?String(j.floats[lt]):j.floats[lt]}if(j.ints&&j.ints.length)for(st.ints=[],lt=0;lt<j.ints.length;++lt)typeof j.ints[lt]=="number"?st.ints[lt]=rt.longs===String?String(j.ints[lt]):j.ints[lt]:st.ints[lt]=rt.longs===String?it.Long.prototype.toString.call(j.ints[lt]):rt.longs===Number?new it.LongBits(j.ints[lt].low>>>0,j.ints[lt].high>>>0).toNumber():j.ints[lt];if(j.strings&&j.strings.length)for(st.strings=[],lt=0;lt<j.strings.length;++lt)st.strings[lt]=rt.bytes===String?it.base64.encode(j.strings[lt],0,j.strings[lt].length):rt.bytes===Array?Array.prototype.slice.call(j.strings[lt]):j.strings[lt];if(j.tensors&&j.tensors.length)for(st.tensors=[],lt=0;lt<j.tensors.length;++lt)st.tensors[lt]=ot.onnx.TensorProto.toObject(j.tensors[lt],rt);if(j.graphs&&j.graphs.length)for(st.graphs=[],lt=0;lt<j.graphs.length;++lt)st.graphs[lt]=ot.onnx.GraphProto.toObject(j.graphs[lt],rt);return j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),j.type!=null&&j.hasOwnProperty("type")&&(st.type=rt.enums===String?ot.onnx.AttributeProto.AttributeType[j.type]:j.type),j.refAttrName!=null&&j.hasOwnProperty("refAttrName")&&(st.refAttrName=j.refAttrName),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et.AttributeType=function(){var j={},rt=Object.create(j);return rt[j[0]="UNDEFINED"]=0,rt[j[1]="FLOAT"]=1,rt[j[2]="INT"]=2,rt[j[3]="STRING"]=3,rt[j[4]="TENSOR"]=4,rt[j[5]="GRAPH"]=5,rt[j[6]="FLOATS"]=6,rt[j[7]="INTS"]=7,rt[j[8]="STRINGS"]=8,rt[j[9]="TENSORS"]=9,rt[j[10]="GRAPHS"]=10,rt}(),et}(),$.ValueInfoProto=function(){function et(j){if(j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.name="",et.prototype.type=null,et.prototype.docString="",et.create=function(j){return new et(j)},et.encode=function(j,rt){return rt||(rt=nt.create()),j.name!=null&&j.hasOwnProperty("name")&&rt.uint32(10).string(j.name),j.type!=null&&j.hasOwnProperty("type")&&ot.onnx.TypeProto.encode(j.type,rt.uint32(18).fork()).ldelim(),j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(26).string(j.docString),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.ValueInfoProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.name=j.string();break;case 2:at.type=ot.onnx.TypeProto.decode(j,j.uint32());break;case 3:at.docString=j.string();break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.name!=null&&j.hasOwnProperty("name")&&!it.isString(j.name))return"name: string expected";if(j.type!=null&&j.hasOwnProperty("type")){var rt=ot.onnx.TypeProto.verify(j.type);if(rt)return"type."+rt}return j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString)?"docString: string expected":null},et.fromObject=function(j){if(j instanceof ot.onnx.ValueInfoProto)return j;var rt=new ot.onnx.ValueInfoProto;if(j.name!=null&&(rt.name=String(j.name)),j.type!=null){if(typeof j.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");rt.type=ot.onnx.TypeProto.fromObject(j.type)}return j.docString!=null&&(rt.docString=String(j.docString)),rt},et.toObject=function(j,rt){rt||(rt={});var st={};return rt.defaults&&(st.name="",st.type=null,st.docString=""),j.name!=null&&j.hasOwnProperty("name")&&(st.name=j.name),j.type!=null&&j.hasOwnProperty("type")&&(st.type=ot.onnx.TypeProto.toObject(j.type,rt)),j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.NodeProto=function(){function et(j){if(this.input=[],this.output=[],this.attribute=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.input=it.emptyArray,et.prototype.output=it.emptyArray,et.prototype.name="",et.prototype.opType="",et.prototype.domain="",et.prototype.attribute=it.emptyArray,et.prototype.docString="",et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.input!=null&&j.input.length)for(var st=0;st<j.input.length;++st)rt.uint32(10).string(j.input[st]);if(j.output!=null&&j.output.length)for(st=0;st<j.output.length;++st)rt.uint32(18).string(j.output[st]);if(j.name!=null&&j.hasOwnProperty("name")&&rt.uint32(26).string(j.name),j.opType!=null&&j.hasOwnProperty("opType")&&rt.uint32(34).string(j.opType),j.attribute!=null&&j.attribute.length)for(st=0;st<j.attribute.length;++st)ot.onnx.AttributeProto.encode(j.attribute[st],rt.uint32(42).fork()).ldelim();return j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(50).string(j.docString),j.domain!=null&&j.hasOwnProperty("domain")&&rt.uint32(58).string(j.domain),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.NodeProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.input&&at.input.length||(at.input=[]),at.input.push(j.string());break;case 2:at.output&&at.output.length||(at.output=[]),at.output.push(j.string());break;case 3:at.name=j.string();break;case 4:at.opType=j.string();break;case 7:at.domain=j.string();break;case 5:at.attribute&&at.attribute.length||(at.attribute=[]),at.attribute.push(ot.onnx.AttributeProto.decode(j,j.uint32()));break;case 6:at.docString=j.string();break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.input!=null&&j.hasOwnProperty("input")){if(!Array.isArray(j.input))return"input: array expected";for(var rt=0;rt<j.input.length;++rt)if(!it.isString(j.input[rt]))return"input: string[] expected"}if(j.output!=null&&j.hasOwnProperty("output")){if(!Array.isArray(j.output))return"output: array expected";for(rt=0;rt<j.output.length;++rt)if(!it.isString(j.output[rt]))return"output: string[] expected"}if(j.name!=null&&j.hasOwnProperty("name")&&!it.isString(j.name))return"name: string expected";if(j.opType!=null&&j.hasOwnProperty("opType")&&!it.isString(j.opType))return"opType: string expected";if(j.domain!=null&&j.hasOwnProperty("domain")&&!it.isString(j.domain))return"domain: string expected";if(j.attribute!=null&&j.hasOwnProperty("attribute")){if(!Array.isArray(j.attribute))return"attribute: array expected";for(rt=0;rt<j.attribute.length;++rt){var st=ot.onnx.AttributeProto.verify(j.attribute[rt]);if(st)return"attribute."+st}}return j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString)?"docString: string expected":null},et.fromObject=function(j){if(j instanceof ot.onnx.NodeProto)return j;var rt=new ot.onnx.NodeProto;if(j.input){if(!Array.isArray(j.input))throw TypeError(".onnx.NodeProto.input: array expected");rt.input=[];for(var st=0;st<j.input.length;++st)rt.input[st]=String(j.input[st])}if(j.output){if(!Array.isArray(j.output))throw TypeError(".onnx.NodeProto.output: array expected");for(rt.output=[],st=0;st<j.output.length;++st)rt.output[st]=String(j.output[st])}if(j.name!=null&&(rt.name=String(j.name)),j.opType!=null&&(rt.opType=String(j.opType)),j.domain!=null&&(rt.domain=String(j.domain)),j.attribute){if(!Array.isArray(j.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(rt.attribute=[],st=0;st<j.attribute.length;++st){if(typeof j.attribute[st]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");rt.attribute[st]=ot.onnx.AttributeProto.fromObject(j.attribute[st])}}return j.docString!=null&&(rt.docString=String(j.docString)),rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.input=[],st.output=[],st.attribute=[]),rt.defaults&&(st.name="",st.opType="",st.docString="",st.domain=""),j.input&&j.input.length){st.input=[];for(var at=0;at<j.input.length;++at)st.input[at]=j.input[at]}if(j.output&&j.output.length)for(st.output=[],at=0;at<j.output.length;++at)st.output[at]=j.output[at];if(j.name!=null&&j.hasOwnProperty("name")&&(st.name=j.name),j.opType!=null&&j.hasOwnProperty("opType")&&(st.opType=j.opType),j.attribute&&j.attribute.length)for(st.attribute=[],at=0;at<j.attribute.length;++at)st.attribute[at]=ot.onnx.AttributeProto.toObject(j.attribute[at],rt);return j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),j.domain!=null&&j.hasOwnProperty("domain")&&(st.domain=j.domain),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.ModelProto=function(){function et(j){if(this.opsetImport=[],this.metadataProps=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.irVersion=it.Long?it.Long.fromBits(0,0,!1):0,et.prototype.opsetImport=it.emptyArray,et.prototype.producerName="",et.prototype.producerVersion="",et.prototype.domain="",et.prototype.modelVersion=it.Long?it.Long.fromBits(0,0,!1):0,et.prototype.docString="",et.prototype.graph=null,et.prototype.metadataProps=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.irVersion!=null&&j.hasOwnProperty("irVersion")&&rt.uint32(8).int64(j.irVersion),j.producerName!=null&&j.hasOwnProperty("producerName")&&rt.uint32(18).string(j.producerName),j.producerVersion!=null&&j.hasOwnProperty("producerVersion")&&rt.uint32(26).string(j.producerVersion),j.domain!=null&&j.hasOwnProperty("domain")&&rt.uint32(34).string(j.domain),j.modelVersion!=null&&j.hasOwnProperty("modelVersion")&&rt.uint32(40).int64(j.modelVersion),j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(50).string(j.docString),j.graph!=null&&j.hasOwnProperty("graph")&&ot.onnx.GraphProto.encode(j.graph,rt.uint32(58).fork()).ldelim(),j.opsetImport!=null&&j.opsetImport.length)for(var st=0;st<j.opsetImport.length;++st)ot.onnx.OperatorSetIdProto.encode(j.opsetImport[st],rt.uint32(66).fork()).ldelim();if(j.metadataProps!=null&&j.metadataProps.length)for(st=0;st<j.metadataProps.length;++st)ot.onnx.StringStringEntryProto.encode(j.metadataProps[st],rt.uint32(114).fork()).ldelim();return rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.ModelProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.irVersion=j.int64();break;case 8:at.opsetImport&&at.opsetImport.length||(at.opsetImport=[]),at.opsetImport.push(ot.onnx.OperatorSetIdProto.decode(j,j.uint32()));break;case 2:at.producerName=j.string();break;case 3:at.producerVersion=j.string();break;case 4:at.domain=j.string();break;case 5:at.modelVersion=j.int64();break;case 6:at.docString=j.string();break;case 7:at.graph=ot.onnx.GraphProto.decode(j,j.uint32());break;case 14:at.metadataProps&&at.metadataProps.length||(at.metadataProps=[]),at.metadataProps.push(ot.onnx.StringStringEntryProto.decode(j,j.uint32()));break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.irVersion!=null&&j.hasOwnProperty("irVersion")&&!(it.isInteger(j.irVersion)||j.irVersion&&it.isInteger(j.irVersion.low)&&it.isInteger(j.irVersion.high)))return"irVersion: integer|Long expected";if(j.opsetImport!=null&&j.hasOwnProperty("opsetImport")){if(!Array.isArray(j.opsetImport))return"opsetImport: array expected";for(var rt=0;rt<j.opsetImport.length;++rt)if(st=ot.onnx.OperatorSetIdProto.verify(j.opsetImport[rt]))return"opsetImport."+st}if(j.producerName!=null&&j.hasOwnProperty("producerName")&&!it.isString(j.producerName))return"producerName: string expected";if(j.producerVersion!=null&&j.hasOwnProperty("producerVersion")&&!it.isString(j.producerVersion))return"producerVersion: string expected";if(j.domain!=null&&j.hasOwnProperty("domain")&&!it.isString(j.domain))return"domain: string expected";if(j.modelVersion!=null&&j.hasOwnProperty("modelVersion")&&!(it.isInteger(j.modelVersion)||j.modelVersion&&it.isInteger(j.modelVersion.low)&&it.isInteger(j.modelVersion.high)))return"modelVersion: integer|Long expected";if(j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString))return"docString: string expected";if(j.graph!=null&&j.hasOwnProperty("graph")&&(st=ot.onnx.GraphProto.verify(j.graph)))return"graph."+st;if(j.metadataProps!=null&&j.hasOwnProperty("metadataProps")){if(!Array.isArray(j.metadataProps))return"metadataProps: array expected";for(rt=0;rt<j.metadataProps.length;++rt){var st;if(st=ot.onnx.StringStringEntryProto.verify(j.metadataProps[rt]))return"metadataProps."+st}}return null},et.fromObject=function(j){if(j instanceof ot.onnx.ModelProto)return j;var rt=new ot.onnx.ModelProto;if(j.irVersion!=null&&(it.Long?(rt.irVersion=it.Long.fromValue(j.irVersion)).unsigned=!1:typeof j.irVersion=="string"?rt.irVersion=parseInt(j.irVersion,10):typeof j.irVersion=="number"?rt.irVersion=j.irVersion:typeof j.irVersion=="object"&&(rt.irVersion=new it.LongBits(j.irVersion.low>>>0,j.irVersion.high>>>0).toNumber())),j.opsetImport){if(!Array.isArray(j.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");rt.opsetImport=[];for(var st=0;st<j.opsetImport.length;++st){if(typeof j.opsetImport[st]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");rt.opsetImport[st]=ot.onnx.OperatorSetIdProto.fromObject(j.opsetImport[st])}}if(j.producerName!=null&&(rt.producerName=String(j.producerName)),j.producerVersion!=null&&(rt.producerVersion=String(j.producerVersion)),j.domain!=null&&(rt.domain=String(j.domain)),j.modelVersion!=null&&(it.Long?(rt.modelVersion=it.Long.fromValue(j.modelVersion)).unsigned=!1:typeof j.modelVersion=="string"?rt.modelVersion=parseInt(j.modelVersion,10):typeof j.modelVersion=="number"?rt.modelVersion=j.modelVersion:typeof j.modelVersion=="object"&&(rt.modelVersion=new it.LongBits(j.modelVersion.low>>>0,j.modelVersion.high>>>0).toNumber())),j.docString!=null&&(rt.docString=String(j.docString)),j.graph!=null){if(typeof j.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");rt.graph=ot.onnx.GraphProto.fromObject(j.graph)}if(j.metadataProps){if(!Array.isArray(j.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(rt.metadataProps=[],st=0;st<j.metadataProps.length;++st){if(typeof j.metadataProps[st]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");rt.metadataProps[st]=ot.onnx.StringStringEntryProto.fromObject(j.metadataProps[st])}}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.opsetImport=[],st.metadataProps=[]),rt.defaults){if(it.Long){var at=new it.Long(0,0,!1);st.irVersion=rt.longs===String?at.toString():rt.longs===Number?at.toNumber():at}else st.irVersion=rt.longs===String?"0":0;st.producerName="",st.producerVersion="",st.domain="",it.Long?(at=new it.Long(0,0,!1),st.modelVersion=rt.longs===String?at.toString():rt.longs===Number?at.toNumber():at):st.modelVersion=rt.longs===String?"0":0,st.docString="",st.graph=null}if(j.irVersion!=null&&j.hasOwnProperty("irVersion")&&(typeof j.irVersion=="number"?st.irVersion=rt.longs===String?String(j.irVersion):j.irVersion:st.irVersion=rt.longs===String?it.Long.prototype.toString.call(j.irVersion):rt.longs===Number?new it.LongBits(j.irVersion.low>>>0,j.irVersion.high>>>0).toNumber():j.irVersion),j.producerName!=null&&j.hasOwnProperty("producerName")&&(st.producerName=j.producerName),j.producerVersion!=null&&j.hasOwnProperty("producerVersion")&&(st.producerVersion=j.producerVersion),j.domain!=null&&j.hasOwnProperty("domain")&&(st.domain=j.domain),j.modelVersion!=null&&j.hasOwnProperty("modelVersion")&&(typeof j.modelVersion=="number"?st.modelVersion=rt.longs===String?String(j.modelVersion):j.modelVersion:st.modelVersion=rt.longs===String?it.Long.prototype.toString.call(j.modelVersion):rt.longs===Number?new it.LongBits(j.modelVersion.low>>>0,j.modelVersion.high>>>0).toNumber():j.modelVersion),j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),j.graph!=null&&j.hasOwnProperty("graph")&&(st.graph=ot.onnx.GraphProto.toObject(j.graph,rt)),j.opsetImport&&j.opsetImport.length){st.opsetImport=[];for(var lt=0;lt<j.opsetImport.length;++lt)st.opsetImport[lt]=ot.onnx.OperatorSetIdProto.toObject(j.opsetImport[lt],rt)}if(j.metadataProps&&j.metadataProps.length)for(st.metadataProps=[],lt=0;lt<j.metadataProps.length;++lt)st.metadataProps[lt]=ot.onnx.StringStringEntryProto.toObject(j.metadataProps[lt],rt);return st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.StringStringEntryProto=function(){function et(j){if(j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.key="",et.prototype.value="",et.create=function(j){return new et(j)},et.encode=function(j,rt){return rt||(rt=nt.create()),j.key!=null&&j.hasOwnProperty("key")&&rt.uint32(10).string(j.key),j.value!=null&&j.hasOwnProperty("value")&&rt.uint32(18).string(j.value),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.StringStringEntryProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.key=j.string();break;case 2:at.value=j.string();break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){return typeof j!="object"||j===null?"object expected":j.key!=null&&j.hasOwnProperty("key")&&!it.isString(j.key)?"key: string expected":j.value!=null&&j.hasOwnProperty("value")&&!it.isString(j.value)?"value: string expected":null},et.fromObject=function(j){if(j instanceof ot.onnx.StringStringEntryProto)return j;var rt=new ot.onnx.StringStringEntryProto;return j.key!=null&&(rt.key=String(j.key)),j.value!=null&&(rt.value=String(j.value)),rt},et.toObject=function(j,rt){rt||(rt={});var st={};return rt.defaults&&(st.key="",st.value=""),j.key!=null&&j.hasOwnProperty("key")&&(st.key=j.key),j.value!=null&&j.hasOwnProperty("value")&&(st.value=j.value),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.TensorAnnotation=function(){function et(j){if(this.quantParameterTensorNames=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.tensorName="",et.prototype.quantParameterTensorNames=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.tensorName!=null&&j.hasOwnProperty("tensorName")&&rt.uint32(10).string(j.tensorName),j.quantParameterTensorNames!=null&&j.quantParameterTensorNames.length)for(var st=0;st<j.quantParameterTensorNames.length;++st)ot.onnx.StringStringEntryProto.encode(j.quantParameterTensorNames[st],rt.uint32(18).fork()).ldelim();return rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.TensorAnnotation;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.tensorName=j.string();break;case 2:at.quantParameterTensorNames&&at.quantParameterTensorNames.length||(at.quantParameterTensorNames=[]),at.quantParameterTensorNames.push(ot.onnx.StringStringEntryProto.decode(j,j.uint32()));break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.tensorName!=null&&j.hasOwnProperty("tensorName")&&!it.isString(j.tensorName))return"tensorName: string expected";if(j.quantParameterTensorNames!=null&&j.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(j.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var rt=0;rt<j.quantParameterTensorNames.length;++rt){var st=ot.onnx.StringStringEntryProto.verify(j.quantParameterTensorNames[rt]);if(st)return"quantParameterTensorNames."+st}}return null},et.fromObject=function(j){if(j instanceof ot.onnx.TensorAnnotation)return j;var rt=new ot.onnx.TensorAnnotation;if(j.tensorName!=null&&(rt.tensorName=String(j.tensorName)),j.quantParameterTensorNames){if(!Array.isArray(j.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");rt.quantParameterTensorNames=[];for(var st=0;st<j.quantParameterTensorNames.length;++st){if(typeof j.quantParameterTensorNames[st]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");rt.quantParameterTensorNames[st]=ot.onnx.StringStringEntryProto.fromObject(j.quantParameterTensorNames[st])}}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.quantParameterTensorNames=[]),rt.defaults&&(st.tensorName=""),j.tensorName!=null&&j.hasOwnProperty("tensorName")&&(st.tensorName=j.tensorName),j.quantParameterTensorNames&&j.quantParameterTensorNames.length){st.quantParameterTensorNames=[];for(var at=0;at<j.quantParameterTensorNames.length;++at)st.quantParameterTensorNames[at]=ot.onnx.StringStringEntryProto.toObject(j.quantParameterTensorNames[at],rt)}return st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.GraphProto=function(){function et(j){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.node=it.emptyArray,et.prototype.name="",et.prototype.initializer=it.emptyArray,et.prototype.docString="",et.prototype.input=it.emptyArray,et.prototype.output=it.emptyArray,et.prototype.valueInfo=it.emptyArray,et.prototype.quantizationAnnotation=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.node!=null&&j.node.length)for(var st=0;st<j.node.length;++st)ot.onnx.NodeProto.encode(j.node[st],rt.uint32(10).fork()).ldelim();if(j.name!=null&&j.hasOwnProperty("name")&&rt.uint32(18).string(j.name),j.initializer!=null&&j.initializer.length)for(st=0;st<j.initializer.length;++st)ot.onnx.TensorProto.encode(j.initializer[st],rt.uint32(42).fork()).ldelim();if(j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(82).string(j.docString),j.input!=null&&j.input.length)for(st=0;st<j.input.length;++st)ot.onnx.ValueInfoProto.encode(j.input[st],rt.uint32(90).fork()).ldelim();if(j.output!=null&&j.output.length)for(st=0;st<j.output.length;++st)ot.onnx.ValueInfoProto.encode(j.output[st],rt.uint32(98).fork()).ldelim();if(j.valueInfo!=null&&j.valueInfo.length)for(st=0;st<j.valueInfo.length;++st)ot.onnx.ValueInfoProto.encode(j.valueInfo[st],rt.uint32(106).fork()).ldelim();if(j.quantizationAnnotation!=null&&j.quantizationAnnotation.length)for(st=0;st<j.quantizationAnnotation.length;++st)ot.onnx.TensorAnnotation.encode(j.quantizationAnnotation[st],rt.uint32(114).fork()).ldelim();return rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.GraphProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.node&&at.node.length||(at.node=[]),at.node.push(ot.onnx.NodeProto.decode(j,j.uint32()));break;case 2:at.name=j.string();break;case 5:at.initializer&&at.initializer.length||(at.initializer=[]),at.initializer.push(ot.onnx.TensorProto.decode(j,j.uint32()));break;case 10:at.docString=j.string();break;case 11:at.input&&at.input.length||(at.input=[]),at.input.push(ot.onnx.ValueInfoProto.decode(j,j.uint32()));break;case 12:at.output&&at.output.length||(at.output=[]),at.output.push(ot.onnx.ValueInfoProto.decode(j,j.uint32()));break;case 13:at.valueInfo&&at.valueInfo.length||(at.valueInfo=[]),at.valueInfo.push(ot.onnx.ValueInfoProto.decode(j,j.uint32()));break;case 14:at.quantizationAnnotation&&at.quantizationAnnotation.length||(at.quantizationAnnotation=[]),at.quantizationAnnotation.push(ot.onnx.TensorAnnotation.decode(j,j.uint32()));break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.node!=null&&j.hasOwnProperty("node")){if(!Array.isArray(j.node))return"node: array expected";for(var rt=0;rt<j.node.length;++rt)if(st=ot.onnx.NodeProto.verify(j.node[rt]))return"node."+st}if(j.name!=null&&j.hasOwnProperty("name")&&!it.isString(j.name))return"name: string expected";if(j.initializer!=null&&j.hasOwnProperty("initializer")){if(!Array.isArray(j.initializer))return"initializer: array expected";for(rt=0;rt<j.initializer.length;++rt)if(st=ot.onnx.TensorProto.verify(j.initializer[rt]))return"initializer."+st}if(j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString))return"docString: string expected";if(j.input!=null&&j.hasOwnProperty("input")){if(!Array.isArray(j.input))return"input: array expected";for(rt=0;rt<j.input.length;++rt)if(st=ot.onnx.ValueInfoProto.verify(j.input[rt]))return"input."+st}if(j.output!=null&&j.hasOwnProperty("output")){if(!Array.isArray(j.output))return"output: array expected";for(rt=0;rt<j.output.length;++rt)if(st=ot.onnx.ValueInfoProto.verify(j.output[rt]))return"output."+st}if(j.valueInfo!=null&&j.hasOwnProperty("valueInfo")){if(!Array.isArray(j.valueInfo))return"valueInfo: array expected";for(rt=0;rt<j.valueInfo.length;++rt)if(st=ot.onnx.ValueInfoProto.verify(j.valueInfo[rt]))return"valueInfo."+st}if(j.quantizationAnnotation!=null&&j.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(j.quantizationAnnotation))return"quantizationAnnotation: array expected";for(rt=0;rt<j.quantizationAnnotation.length;++rt){var st;if(st=ot.onnx.TensorAnnotation.verify(j.quantizationAnnotation[rt]))return"quantizationAnnotation."+st}}return null},et.fromObject=function(j){if(j instanceof ot.onnx.GraphProto)return j;var rt=new ot.onnx.GraphProto;if(j.node){if(!Array.isArray(j.node))throw TypeError(".onnx.GraphProto.node: array expected");rt.node=[];for(var st=0;st<j.node.length;++st){if(typeof j.node[st]!="object")throw TypeError(".onnx.GraphProto.node: object expected");rt.node[st]=ot.onnx.NodeProto.fromObject(j.node[st])}}if(j.name!=null&&(rt.name=String(j.name)),j.initializer){if(!Array.isArray(j.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(rt.initializer=[],st=0;st<j.initializer.length;++st){if(typeof j.initializer[st]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");rt.initializer[st]=ot.onnx.TensorProto.fromObject(j.initializer[st])}}if(j.docString!=null&&(rt.docString=String(j.docString)),j.input){if(!Array.isArray(j.input))throw TypeError(".onnx.GraphProto.input: array expected");for(rt.input=[],st=0;st<j.input.length;++st){if(typeof j.input[st]!="object")throw TypeError(".onnx.GraphProto.input: object expected");rt.input[st]=ot.onnx.ValueInfoProto.fromObject(j.input[st])}}if(j.output){if(!Array.isArray(j.output))throw TypeError(".onnx.GraphProto.output: array expected");for(rt.output=[],st=0;st<j.output.length;++st){if(typeof j.output[st]!="object")throw TypeError(".onnx.GraphProto.output: object expected");rt.output[st]=ot.onnx.ValueInfoProto.fromObject(j.output[st])}}if(j.valueInfo){if(!Array.isArray(j.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(rt.valueInfo=[],st=0;st<j.valueInfo.length;++st){if(typeof j.valueInfo[st]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");rt.valueInfo[st]=ot.onnx.ValueInfoProto.fromObject(j.valueInfo[st])}}if(j.quantizationAnnotation){if(!Array.isArray(j.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(rt.quantizationAnnotation=[],st=0;st<j.quantizationAnnotation.length;++st){if(typeof j.quantizationAnnotation[st]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");rt.quantizationAnnotation[st]=ot.onnx.TensorAnnotation.fromObject(j.quantizationAnnotation[st])}}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.node=[],st.initializer=[],st.input=[],st.output=[],st.valueInfo=[],st.quantizationAnnotation=[]),rt.defaults&&(st.name="",st.docString=""),j.node&&j.node.length){st.node=[];for(var at=0;at<j.node.length;++at)st.node[at]=ot.onnx.NodeProto.toObject(j.node[at],rt)}if(j.name!=null&&j.hasOwnProperty("name")&&(st.name=j.name),j.initializer&&j.initializer.length)for(st.initializer=[],at=0;at<j.initializer.length;++at)st.initializer[at]=ot.onnx.TensorProto.toObject(j.initializer[at],rt);if(j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),j.input&&j.input.length)for(st.input=[],at=0;at<j.input.length;++at)st.input[at]=ot.onnx.ValueInfoProto.toObject(j.input[at],rt);if(j.output&&j.output.length)for(st.output=[],at=0;at<j.output.length;++at)st.output[at]=ot.onnx.ValueInfoProto.toObject(j.output[at],rt);if(j.valueInfo&&j.valueInfo.length)for(st.valueInfo=[],at=0;at<j.valueInfo.length;++at)st.valueInfo[at]=ot.onnx.ValueInfoProto.toObject(j.valueInfo[at],rt);if(j.quantizationAnnotation&&j.quantizationAnnotation.length)for(st.quantizationAnnotation=[],at=0;at<j.quantizationAnnotation.length;++at)st.quantizationAnnotation[at]=ot.onnx.TensorAnnotation.toObject(j.quantizationAnnotation[at],rt);return st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$.TensorProto=function(){function et(j){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.dims=it.emptyArray,et.prototype.dataType=0,et.prototype.segment=null,et.prototype.floatData=it.emptyArray,et.prototype.int32Data=it.emptyArray,et.prototype.stringData=it.emptyArray,et.prototype.int64Data=it.emptyArray,et.prototype.name="",et.prototype.docString="",et.prototype.rawData=it.newBuffer([]),et.prototype.externalData=it.emptyArray,et.prototype.dataLocation=0,et.prototype.doubleData=it.emptyArray,et.prototype.uint64Data=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.dims!=null&&j.dims.length){rt.uint32(10).fork();for(var st=0;st<j.dims.length;++st)rt.int64(j.dims[st]);rt.ldelim()}if(j.dataType!=null&&j.hasOwnProperty("dataType")&&rt.uint32(16).int32(j.dataType),j.segment!=null&&j.hasOwnProperty("segment")&&ot.onnx.TensorProto.Segment.encode(j.segment,rt.uint32(26).fork()).ldelim(),j.floatData!=null&&j.floatData.length){for(rt.uint32(34).fork(),st=0;st<j.floatData.length;++st)rt.float(j.floatData[st]);rt.ldelim()}if(j.int32Data!=null&&j.int32Data.length){for(rt.uint32(42).fork(),st=0;st<j.int32Data.length;++st)rt.int32(j.int32Data[st]);rt.ldelim()}if(j.stringData!=null&&j.stringData.length)for(st=0;st<j.stringData.length;++st)rt.uint32(50).bytes(j.stringData[st]);if(j.int64Data!=null&&j.int64Data.length){for(rt.uint32(58).fork(),st=0;st<j.int64Data.length;++st)rt.int64(j.int64Data[st]);rt.ldelim()}if(j.name!=null&&j.hasOwnProperty("name")&&rt.uint32(66).string(j.name),j.rawData!=null&&j.hasOwnProperty("rawData")&&rt.uint32(74).bytes(j.rawData),j.doubleData!=null&&j.doubleData.length){for(rt.uint32(82).fork(),st=0;st<j.doubleData.length;++st)rt.double(j.doubleData[st]);rt.ldelim()}if(j.uint64Data!=null&&j.uint64Data.length){for(rt.uint32(90).fork(),st=0;st<j.uint64Data.length;++st)rt.uint64(j.uint64Data[st]);rt.ldelim()}if(j.docString!=null&&j.hasOwnProperty("docString")&&rt.uint32(98).string(j.docString),j.externalData!=null&&j.externalData.length)for(st=0;st<j.externalData.length;++st)ot.onnx.StringStringEntryProto.encode(j.externalData[st],rt.uint32(106).fork()).ldelim();return j.dataLocation!=null&&j.hasOwnProperty("dataLocation")&&rt.uint32(112).int32(j.dataLocation),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.TensorProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:if(at.dims&&at.dims.length||(at.dims=[]),(7&lt)==2)for(var ct=j.uint32()+j.pos;j.pos<ct;)at.dims.push(j.int64());else at.dims.push(j.int64());break;case 2:at.dataType=j.int32();break;case 3:at.segment=ot.onnx.TensorProto.Segment.decode(j,j.uint32());break;case 4:if(at.floatData&&at.floatData.length||(at.floatData=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.floatData.push(j.float());else at.floatData.push(j.float());break;case 5:if(at.int32Data&&at.int32Data.length||(at.int32Data=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.int32Data.push(j.int32());else at.int32Data.push(j.int32());break;case 6:at.stringData&&at.stringData.length||(at.stringData=[]),at.stringData.push(j.bytes());break;case 7:if(at.int64Data&&at.int64Data.length||(at.int64Data=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.int64Data.push(j.int64());else at.int64Data.push(j.int64());break;case 8:at.name=j.string();break;case 12:at.docString=j.string();break;case 9:at.rawData=j.bytes();break;case 13:at.externalData&&at.externalData.length||(at.externalData=[]),at.externalData.push(ot.onnx.StringStringEntryProto.decode(j,j.uint32()));break;case 14:at.dataLocation=j.int32();break;case 10:if(at.doubleData&&at.doubleData.length||(at.doubleData=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.doubleData.push(j.double());else at.doubleData.push(j.double());break;case 11:if(at.uint64Data&&at.uint64Data.length||(at.uint64Data=[]),(7&lt)==2)for(ct=j.uint32()+j.pos;j.pos<ct;)at.uint64Data.push(j.uint64());else at.uint64Data.push(j.uint64());break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.dims!=null&&j.hasOwnProperty("dims")){if(!Array.isArray(j.dims))return"dims: array expected";for(var rt=0;rt<j.dims.length;++rt)if(!(it.isInteger(j.dims[rt])||j.dims[rt]&&it.isInteger(j.dims[rt].low)&&it.isInteger(j.dims[rt].high)))return"dims: integer|Long[] expected"}if(j.dataType!=null&&j.hasOwnProperty("dataType")&&!it.isInteger(j.dataType))return"dataType: integer expected";if(j.segment!=null&&j.hasOwnProperty("segment")&&(st=ot.onnx.TensorProto.Segment.verify(j.segment)))return"segment."+st;if(j.floatData!=null&&j.hasOwnProperty("floatData")){if(!Array.isArray(j.floatData))return"floatData: array expected";for(rt=0;rt<j.floatData.length;++rt)if(typeof j.floatData[rt]!="number")return"floatData: number[] expected"}if(j.int32Data!=null&&j.hasOwnProperty("int32Data")){if(!Array.isArray(j.int32Data))return"int32Data: array expected";for(rt=0;rt<j.int32Data.length;++rt)if(!it.isInteger(j.int32Data[rt]))return"int32Data: integer[] expected"}if(j.stringData!=null&&j.hasOwnProperty("stringData")){if(!Array.isArray(j.stringData))return"stringData: array expected";for(rt=0;rt<j.stringData.length;++rt)if(!(j.stringData[rt]&&typeof j.stringData[rt].length=="number"||it.isString(j.stringData[rt])))return"stringData: buffer[] expected"}if(j.int64Data!=null&&j.hasOwnProperty("int64Data")){if(!Array.isArray(j.int64Data))return"int64Data: array expected";for(rt=0;rt<j.int64Data.length;++rt)if(!(it.isInteger(j.int64Data[rt])||j.int64Data[rt]&&it.isInteger(j.int64Data[rt].low)&&it.isInteger(j.int64Data[rt].high)))return"int64Data: integer|Long[] expected"}if(j.name!=null&&j.hasOwnProperty("name")&&!it.isString(j.name))return"name: string expected";if(j.docString!=null&&j.hasOwnProperty("docString")&&!it.isString(j.docString))return"docString: string expected";if(j.rawData!=null&&j.hasOwnProperty("rawData")&&!(j.rawData&&typeof j.rawData.length=="number"||it.isString(j.rawData)))return"rawData: buffer expected";if(j.externalData!=null&&j.hasOwnProperty("externalData")){if(!Array.isArray(j.externalData))return"externalData: array expected";for(rt=0;rt<j.externalData.length;++rt){var st;if(st=ot.onnx.StringStringEntryProto.verify(j.externalData[rt]))return"externalData."+st}}if(j.dataLocation!=null&&j.hasOwnProperty("dataLocation"))switch(j.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(j.doubleData!=null&&j.hasOwnProperty("doubleData")){if(!Array.isArray(j.doubleData))return"doubleData: array expected";for(rt=0;rt<j.doubleData.length;++rt)if(typeof j.doubleData[rt]!="number")return"doubleData: number[] expected"}if(j.uint64Data!=null&&j.hasOwnProperty("uint64Data")){if(!Array.isArray(j.uint64Data))return"uint64Data: array expected";for(rt=0;rt<j.uint64Data.length;++rt)if(!(it.isInteger(j.uint64Data[rt])||j.uint64Data[rt]&&it.isInteger(j.uint64Data[rt].low)&&it.isInteger(j.uint64Data[rt].high)))return"uint64Data: integer|Long[] expected"}return null},et.fromObject=function(j){if(j instanceof ot.onnx.TensorProto)return j;var rt=new ot.onnx.TensorProto;if(j.dims){if(!Array.isArray(j.dims))throw TypeError(".onnx.TensorProto.dims: array expected");rt.dims=[];for(var st=0;st<j.dims.length;++st)it.Long?(rt.dims[st]=it.Long.fromValue(j.dims[st])).unsigned=!1:typeof j.dims[st]=="string"?rt.dims[st]=parseInt(j.dims[st],10):typeof j.dims[st]=="number"?rt.dims[st]=j.dims[st]:typeof j.dims[st]=="object"&&(rt.dims[st]=new it.LongBits(j.dims[st].low>>>0,j.dims[st].high>>>0).toNumber())}if(j.dataType!=null&&(rt.dataType=0|j.dataType),j.segment!=null){if(typeof j.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");rt.segment=ot.onnx.TensorProto.Segment.fromObject(j.segment)}if(j.floatData){if(!Array.isArray(j.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(rt.floatData=[],st=0;st<j.floatData.length;++st)rt.floatData[st]=Number(j.floatData[st])}if(j.int32Data){if(!Array.isArray(j.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(rt.int32Data=[],st=0;st<j.int32Data.length;++st)rt.int32Data[st]=0|j.int32Data[st]}if(j.stringData){if(!Array.isArray(j.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(rt.stringData=[],st=0;st<j.stringData.length;++st)typeof j.stringData[st]=="string"?it.base64.decode(j.stringData[st],rt.stringData[st]=it.newBuffer(it.base64.length(j.stringData[st])),0):j.stringData[st].length&&(rt.stringData[st]=j.stringData[st])}if(j.int64Data){if(!Array.isArray(j.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(rt.int64Data=[],st=0;st<j.int64Data.length;++st)it.Long?(rt.int64Data[st]=it.Long.fromValue(j.int64Data[st])).unsigned=!1:typeof j.int64Data[st]=="string"?rt.int64Data[st]=parseInt(j.int64Data[st],10):typeof j.int64Data[st]=="number"?rt.int64Data[st]=j.int64Data[st]:typeof j.int64Data[st]=="object"&&(rt.int64Data[st]=new it.LongBits(j.int64Data[st].low>>>0,j.int64Data[st].high>>>0).toNumber())}if(j.name!=null&&(rt.name=String(j.name)),j.docString!=null&&(rt.docString=String(j.docString)),j.rawData!=null&&(typeof j.rawData=="string"?it.base64.decode(j.rawData,rt.rawData=it.newBuffer(it.base64.length(j.rawData)),0):j.rawData.length&&(rt.rawData=j.rawData)),j.externalData){if(!Array.isArray(j.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(rt.externalData=[],st=0;st<j.externalData.length;++st){if(typeof j.externalData[st]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");rt.externalData[st]=ot.onnx.StringStringEntryProto.fromObject(j.externalData[st])}}switch(j.dataLocation){case"DEFAULT":case 0:rt.dataLocation=0;break;case"EXTERNAL":case 1:rt.dataLocation=1}if(j.doubleData){if(!Array.isArray(j.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(rt.doubleData=[],st=0;st<j.doubleData.length;++st)rt.doubleData[st]=Number(j.doubleData[st])}if(j.uint64Data){if(!Array.isArray(j.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(rt.uint64Data=[],st=0;st<j.uint64Data.length;++st)it.Long?(rt.uint64Data[st]=it.Long.fromValue(j.uint64Data[st])).unsigned=!0:typeof j.uint64Data[st]=="string"?rt.uint64Data[st]=parseInt(j.uint64Data[st],10):typeof j.uint64Data[st]=="number"?rt.uint64Data[st]=j.uint64Data[st]:typeof j.uint64Data[st]=="object"&&(rt.uint64Data[st]=new it.LongBits(j.uint64Data[st].low>>>0,j.uint64Data[st].high>>>0).toNumber(!0))}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.dims=[],st.floatData=[],st.int32Data=[],st.stringData=[],st.int64Data=[],st.doubleData=[],st.uint64Data=[],st.externalData=[]),rt.defaults&&(st.dataType=0,st.segment=null,st.name="",rt.bytes===String?st.rawData="":(st.rawData=[],rt.bytes!==Array&&(st.rawData=it.newBuffer(st.rawData))),st.docString="",st.dataLocation=rt.enums===String?"DEFAULT":0),j.dims&&j.dims.length){st.dims=[];for(var at=0;at<j.dims.length;++at)typeof j.dims[at]=="number"?st.dims[at]=rt.longs===String?String(j.dims[at]):j.dims[at]:st.dims[at]=rt.longs===String?it.Long.prototype.toString.call(j.dims[at]):rt.longs===Number?new it.LongBits(j.dims[at].low>>>0,j.dims[at].high>>>0).toNumber():j.dims[at]}if(j.dataType!=null&&j.hasOwnProperty("dataType")&&(st.dataType=j.dataType),j.segment!=null&&j.hasOwnProperty("segment")&&(st.segment=ot.onnx.TensorProto.Segment.toObject(j.segment,rt)),j.floatData&&j.floatData.length)for(st.floatData=[],at=0;at<j.floatData.length;++at)st.floatData[at]=rt.json&&!isFinite(j.floatData[at])?String(j.floatData[at]):j.floatData[at];if(j.int32Data&&j.int32Data.length)for(st.int32Data=[],at=0;at<j.int32Data.length;++at)st.int32Data[at]=j.int32Data[at];if(j.stringData&&j.stringData.length)for(st.stringData=[],at=0;at<j.stringData.length;++at)st.stringData[at]=rt.bytes===String?it.base64.encode(j.stringData[at],0,j.stringData[at].length):rt.bytes===Array?Array.prototype.slice.call(j.stringData[at]):j.stringData[at];if(j.int64Data&&j.int64Data.length)for(st.int64Data=[],at=0;at<j.int64Data.length;++at)typeof j.int64Data[at]=="number"?st.int64Data[at]=rt.longs===String?String(j.int64Data[at]):j.int64Data[at]:st.int64Data[at]=rt.longs===String?it.Long.prototype.toString.call(j.int64Data[at]):rt.longs===Number?new it.LongBits(j.int64Data[at].low>>>0,j.int64Data[at].high>>>0).toNumber():j.int64Data[at];if(j.name!=null&&j.hasOwnProperty("name")&&(st.name=j.name),j.rawData!=null&&j.hasOwnProperty("rawData")&&(st.rawData=rt.bytes===String?it.base64.encode(j.rawData,0,j.rawData.length):rt.bytes===Array?Array.prototype.slice.call(j.rawData):j.rawData),j.doubleData&&j.doubleData.length)for(st.doubleData=[],at=0;at<j.doubleData.length;++at)st.doubleData[at]=rt.json&&!isFinite(j.doubleData[at])?String(j.doubleData[at]):j.doubleData[at];if(j.uint64Data&&j.uint64Data.length)for(st.uint64Data=[],at=0;at<j.uint64Data.length;++at)typeof j.uint64Data[at]=="number"?st.uint64Data[at]=rt.longs===String?String(j.uint64Data[at]):j.uint64Data[at]:st.uint64Data[at]=rt.longs===String?it.Long.prototype.toString.call(j.uint64Data[at]):rt.longs===Number?new it.LongBits(j.uint64Data[at].low>>>0,j.uint64Data[at].high>>>0).toNumber(!0):j.uint64Data[at];if(j.docString!=null&&j.hasOwnProperty("docString")&&(st.docString=j.docString),j.externalData&&j.externalData.length)for(st.externalData=[],at=0;at<j.externalData.length;++at)st.externalData[at]=ot.onnx.StringStringEntryProto.toObject(j.externalData[at],rt);return j.dataLocation!=null&&j.hasOwnProperty("dataLocation")&&(st.dataLocation=rt.enums===String?ot.onnx.TensorProto.DataLocation[j.dataLocation]:j.dataLocation),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et.DataType=function(){var j={},rt=Object.create(j);return rt[j[0]="UNDEFINED"]=0,rt[j[1]="FLOAT"]=1,rt[j[2]="UINT8"]=2,rt[j[3]="INT8"]=3,rt[j[4]="UINT16"]=4,rt[j[5]="INT16"]=5,rt[j[6]="INT32"]=6,rt[j[7]="INT64"]=7,rt[j[8]="STRING"]=8,rt[j[9]="BOOL"]=9,rt[j[10]="FLOAT16"]=10,rt[j[11]="DOUBLE"]=11,rt[j[12]="UINT32"]=12,rt[j[13]="UINT64"]=13,rt[j[14]="COMPLEX64"]=14,rt[j[15]="COMPLEX128"]=15,rt[j[16]="BFLOAT16"]=16,rt}(),et.Segment=function(){function j(rt){if(rt)for(var st=Object.keys(rt),at=0;at<st.length;++at)rt[st[at]]!=null&&(this[st[at]]=rt[st[at]])}return j.prototype.begin=it.Long?it.Long.fromBits(0,0,!1):0,j.prototype.end=it.Long?it.Long.fromBits(0,0,!1):0,j.create=function(rt){return new j(rt)},j.encode=function(rt,st){return st||(st=nt.create()),rt.begin!=null&&rt.hasOwnProperty("begin")&&st.uint32(8).int64(rt.begin),rt.end!=null&&rt.hasOwnProperty("end")&&st.uint32(16).int64(rt.end),st},j.encodeDelimited=function(rt,st){return this.encode(rt,st).ldelim()},j.decode=function(rt,st){rt instanceof tt||(rt=tt.create(rt));for(var at=st===void 0?rt.len:rt.pos+st,lt=new ot.onnx.TensorProto.Segment;rt.pos<at;){var ct=rt.uint32();switch(ct>>>3){case 1:lt.begin=rt.int64();break;case 2:lt.end=rt.int64();break;default:rt.skipType(7&ct)}}return lt},j.decodeDelimited=function(rt){return rt instanceof tt||(rt=new tt(rt)),this.decode(rt,rt.uint32())},j.verify=function(rt){return typeof rt!="object"||rt===null?"object expected":rt.begin!=null&&rt.hasOwnProperty("begin")&&!(it.isInteger(rt.begin)||rt.begin&&it.isInteger(rt.begin.low)&&it.isInteger(rt.begin.high))?"begin: integer|Long expected":rt.end!=null&&rt.hasOwnProperty("end")&&!(it.isInteger(rt.end)||rt.end&&it.isInteger(rt.end.low)&&it.isInteger(rt.end.high))?"end: integer|Long expected":null},j.fromObject=function(rt){if(rt instanceof ot.onnx.TensorProto.Segment)return rt;var st=new ot.onnx.TensorProto.Segment;return rt.begin!=null&&(it.Long?(st.begin=it.Long.fromValue(rt.begin)).unsigned=!1:typeof rt.begin=="string"?st.begin=parseInt(rt.begin,10):typeof rt.begin=="number"?st.begin=rt.begin:typeof rt.begin=="object"&&(st.begin=new it.LongBits(rt.begin.low>>>0,rt.begin.high>>>0).toNumber())),rt.end!=null&&(it.Long?(st.end=it.Long.fromValue(rt.end)).unsigned=!1:typeof rt.end=="string"?st.end=parseInt(rt.end,10):typeof rt.end=="number"?st.end=rt.end:typeof rt.end=="object"&&(st.end=new it.LongBits(rt.end.low>>>0,rt.end.high>>>0).toNumber())),st},j.toObject=function(rt,st){st||(st={});var at={};if(st.defaults){if(it.Long){var lt=new it.Long(0,0,!1);at.begin=st.longs===String?lt.toString():st.longs===Number?lt.toNumber():lt}else at.begin=st.longs===String?"0":0;it.Long?(lt=new it.Long(0,0,!1),at.end=st.longs===String?lt.toString():st.longs===Number?lt.toNumber():lt):at.end=st.longs===String?"0":0}return rt.begin!=null&&rt.hasOwnProperty("begin")&&(typeof rt.begin=="number"?at.begin=st.longs===String?String(rt.begin):rt.begin:at.begin=st.longs===String?it.Long.prototype.toString.call(rt.begin):st.longs===Number?new it.LongBits(rt.begin.low>>>0,rt.begin.high>>>0).toNumber():rt.begin),rt.end!=null&&rt.hasOwnProperty("end")&&(typeof rt.end=="number"?at.end=st.longs===String?String(rt.end):rt.end:at.end=st.longs===String?it.Long.prototype.toString.call(rt.end):st.longs===Number?new it.LongBits(rt.end.low>>>0,rt.end.high>>>0).toNumber():rt.end),at},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.DataLocation=function(){var j={},rt=Object.create(j);return rt[j[0]="DEFAULT"]=0,rt[j[1]="EXTERNAL"]=1,rt}(),et}(),$.TensorShapeProto=function(){function et(j){if(this.dim=[],j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.dim=it.emptyArray,et.create=function(j){return new et(j)},et.encode=function(j,rt){if(rt||(rt=nt.create()),j.dim!=null&&j.dim.length)for(var st=0;st<j.dim.length;++st)ot.onnx.TensorShapeProto.Dimension.encode(j.dim[st],rt.uint32(10).fork()).ldelim();return rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.TensorShapeProto;j.pos<st;){var lt=j.uint32();lt>>>3==1?(at.dim&&at.dim.length||(at.dim=[]),at.dim.push(ot.onnx.TensorShapeProto.Dimension.decode(j,j.uint32()))):j.skipType(7&lt)}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){if(typeof j!="object"||j===null)return"object expected";if(j.dim!=null&&j.hasOwnProperty("dim")){if(!Array.isArray(j.dim))return"dim: array expected";for(var rt=0;rt<j.dim.length;++rt){var st=ot.onnx.TensorShapeProto.Dimension.verify(j.dim[rt]);if(st)return"dim."+st}}return null},et.fromObject=function(j){if(j instanceof ot.onnx.TensorShapeProto)return j;var rt=new ot.onnx.TensorShapeProto;if(j.dim){if(!Array.isArray(j.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");rt.dim=[];for(var st=0;st<j.dim.length;++st){if(typeof j.dim[st]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");rt.dim[st]=ot.onnx.TensorShapeProto.Dimension.fromObject(j.dim[st])}}return rt},et.toObject=function(j,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.dim=[]),j.dim&&j.dim.length){st.dim=[];for(var at=0;at<j.dim.length;++at)st.dim[at]=ot.onnx.TensorShapeProto.Dimension.toObject(j.dim[at],rt)}return st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et.Dimension=function(){function j(st){if(st)for(var at=Object.keys(st),lt=0;lt<at.length;++lt)st[at[lt]]!=null&&(this[at[lt]]=st[at[lt]])}var rt;return j.prototype.dimValue=it.Long?it.Long.fromBits(0,0,!1):0,j.prototype.dimParam="",j.prototype.denotation="",Object.defineProperty(j.prototype,"value",{get:it.oneOfGetter(rt=["dimValue","dimParam"]),set:it.oneOfSetter(rt)}),j.create=function(st){return new j(st)},j.encode=function(st,at){return at||(at=nt.create()),st.dimValue!=null&&st.hasOwnProperty("dimValue")&&at.uint32(8).int64(st.dimValue),st.dimParam!=null&&st.hasOwnProperty("dimParam")&&at.uint32(18).string(st.dimParam),st.denotation!=null&&st.hasOwnProperty("denotation")&&at.uint32(26).string(st.denotation),at},j.encodeDelimited=function(st,at){return this.encode(st,at).ldelim()},j.decode=function(st,at){st instanceof tt||(st=tt.create(st));for(var lt=at===void 0?st.len:st.pos+at,ct=new ot.onnx.TensorShapeProto.Dimension;st.pos<lt;){var ut=st.uint32();switch(ut>>>3){case 1:ct.dimValue=st.int64();break;case 2:ct.dimParam=st.string();break;case 3:ct.denotation=st.string();break;default:st.skipType(7&ut)}}return ct},j.decodeDelimited=function(st){return st instanceof tt||(st=new tt(st)),this.decode(st,st.uint32())},j.verify=function(st){if(typeof st!="object"||st===null)return"object expected";var at={};if(st.dimValue!=null&&st.hasOwnProperty("dimValue")&&(at.value=1,!(it.isInteger(st.dimValue)||st.dimValue&&it.isInteger(st.dimValue.low)&&it.isInteger(st.dimValue.high))))return"dimValue: integer|Long expected";if(st.dimParam!=null&&st.hasOwnProperty("dimParam")){if(at.value===1)return"value: multiple values";if(at.value=1,!it.isString(st.dimParam))return"dimParam: string expected"}return st.denotation!=null&&st.hasOwnProperty("denotation")&&!it.isString(st.denotation)?"denotation: string expected":null},j.fromObject=function(st){if(st instanceof ot.onnx.TensorShapeProto.Dimension)return st;var at=new ot.onnx.TensorShapeProto.Dimension;return st.dimValue!=null&&(it.Long?(at.dimValue=it.Long.fromValue(st.dimValue)).unsigned=!1:typeof st.dimValue=="string"?at.dimValue=parseInt(st.dimValue,10):typeof st.dimValue=="number"?at.dimValue=st.dimValue:typeof st.dimValue=="object"&&(at.dimValue=new it.LongBits(st.dimValue.low>>>0,st.dimValue.high>>>0).toNumber())),st.dimParam!=null&&(at.dimParam=String(st.dimParam)),st.denotation!=null&&(at.denotation=String(st.denotation)),at},j.toObject=function(st,at){at||(at={});var lt={};return at.defaults&&(lt.denotation=""),st.dimValue!=null&&st.hasOwnProperty("dimValue")&&(typeof st.dimValue=="number"?lt.dimValue=at.longs===String?String(st.dimValue):st.dimValue:lt.dimValue=at.longs===String?it.Long.prototype.toString.call(st.dimValue):at.longs===Number?new it.LongBits(st.dimValue.low>>>0,st.dimValue.high>>>0).toNumber():st.dimValue,at.oneofs&&(lt.value="dimValue")),st.dimParam!=null&&st.hasOwnProperty("dimParam")&&(lt.dimParam=st.dimParam,at.oneofs&&(lt.value="dimParam")),st.denotation!=null&&st.hasOwnProperty("denotation")&&(lt.denotation=st.denotation),lt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et}(),$.TypeProto=function(){function et(rt){if(rt)for(var st=Object.keys(rt),at=0;at<st.length;++at)rt[st[at]]!=null&&(this[st[at]]=rt[st[at]])}var j;return et.prototype.tensorType=null,et.prototype.denotation="",Object.defineProperty(et.prototype,"value",{get:it.oneOfGetter(j=["tensorType"]),set:it.oneOfSetter(j)}),et.create=function(rt){return new et(rt)},et.encode=function(rt,st){return st||(st=nt.create()),rt.tensorType!=null&&rt.hasOwnProperty("tensorType")&&ot.onnx.TypeProto.Tensor.encode(rt.tensorType,st.uint32(10).fork()).ldelim(),rt.denotation!=null&&rt.hasOwnProperty("denotation")&&st.uint32(50).string(rt.denotation),st},et.encodeDelimited=function(rt,st){return this.encode(rt,st).ldelim()},et.decode=function(rt,st){rt instanceof tt||(rt=tt.create(rt));for(var at=st===void 0?rt.len:rt.pos+st,lt=new ot.onnx.TypeProto;rt.pos<at;){var ct=rt.uint32();switch(ct>>>3){case 1:lt.tensorType=ot.onnx.TypeProto.Tensor.decode(rt,rt.uint32());break;case 6:lt.denotation=rt.string();break;default:rt.skipType(7&ct)}}return lt},et.decodeDelimited=function(rt){return rt instanceof tt||(rt=new tt(rt)),this.decode(rt,rt.uint32())},et.verify=function(rt){if(typeof rt!="object"||rt===null)return"object expected";if(rt.tensorType!=null&&rt.hasOwnProperty("tensorType")){var st=ot.onnx.TypeProto.Tensor.verify(rt.tensorType);if(st)return"tensorType."+st}return rt.denotation!=null&&rt.hasOwnProperty("denotation")&&!it.isString(rt.denotation)?"denotation: string expected":null},et.fromObject=function(rt){if(rt instanceof ot.onnx.TypeProto)return rt;var st=new ot.onnx.TypeProto;if(rt.tensorType!=null){if(typeof rt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");st.tensorType=ot.onnx.TypeProto.Tensor.fromObject(rt.tensorType)}return rt.denotation!=null&&(st.denotation=String(rt.denotation)),st},et.toObject=function(rt,st){st||(st={});var at={};return st.defaults&&(at.denotation=""),rt.tensorType!=null&&rt.hasOwnProperty("tensorType")&&(at.tensorType=ot.onnx.TypeProto.Tensor.toObject(rt.tensorType,st),st.oneofs&&(at.value="tensorType")),rt.denotation!=null&&rt.hasOwnProperty("denotation")&&(at.denotation=rt.denotation),at},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et.Tensor=function(){function rt(st){if(st)for(var at=Object.keys(st),lt=0;lt<at.length;++lt)st[at[lt]]!=null&&(this[at[lt]]=st[at[lt]])}return rt.prototype.elemType=0,rt.prototype.shape=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,at){return at||(at=nt.create()),st.elemType!=null&&st.hasOwnProperty("elemType")&&at.uint32(8).int32(st.elemType),st.shape!=null&&st.hasOwnProperty("shape")&&ot.onnx.TensorShapeProto.encode(st.shape,at.uint32(18).fork()).ldelim(),at},rt.encodeDelimited=function(st,at){return this.encode(st,at).ldelim()},rt.decode=function(st,at){st instanceof tt||(st=tt.create(st));for(var lt=at===void 0?st.len:st.pos+at,ct=new ot.onnx.TypeProto.Tensor;st.pos<lt;){var ut=st.uint32();switch(ut>>>3){case 1:ct.elemType=st.int32();break;case 2:ct.shape=ot.onnx.TensorShapeProto.decode(st,st.uint32());break;default:st.skipType(7&ut)}}return ct},rt.decodeDelimited=function(st){return st instanceof tt||(st=new tt(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.elemType!=null&&st.hasOwnProperty("elemType")&&!it.isInteger(st.elemType))return"elemType: integer expected";if(st.shape!=null&&st.hasOwnProperty("shape")){var at=ot.onnx.TensorShapeProto.verify(st.shape);if(at)return"shape."+at}return null},rt.fromObject=function(st){if(st instanceof ot.onnx.TypeProto.Tensor)return st;var at=new ot.onnx.TypeProto.Tensor;if(st.elemType!=null&&(at.elemType=0|st.elemType),st.shape!=null){if(typeof st.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");at.shape=ot.onnx.TensorShapeProto.fromObject(st.shape)}return at},rt.toObject=function(st,at){at||(at={});var lt={};return at.defaults&&(lt.elemType=0,lt.shape=null),st.elemType!=null&&st.hasOwnProperty("elemType")&&(lt.elemType=st.elemType),st.shape!=null&&st.hasOwnProperty("shape")&&(lt.shape=ot.onnx.TensorShapeProto.toObject(st.shape,at)),lt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},rt}(),et}(),$.OperatorSetIdProto=function(){function et(j){if(j)for(var rt=Object.keys(j),st=0;st<rt.length;++st)j[rt[st]]!=null&&(this[rt[st]]=j[rt[st]])}return et.prototype.domain="",et.prototype.version=it.Long?it.Long.fromBits(0,0,!1):0,et.create=function(j){return new et(j)},et.encode=function(j,rt){return rt||(rt=nt.create()),j.domain!=null&&j.hasOwnProperty("domain")&&rt.uint32(10).string(j.domain),j.version!=null&&j.hasOwnProperty("version")&&rt.uint32(16).int64(j.version),rt},et.encodeDelimited=function(j,rt){return this.encode(j,rt).ldelim()},et.decode=function(j,rt){j instanceof tt||(j=tt.create(j));for(var st=rt===void 0?j.len:j.pos+rt,at=new ot.onnx.OperatorSetIdProto;j.pos<st;){var lt=j.uint32();switch(lt>>>3){case 1:at.domain=j.string();break;case 2:at.version=j.int64();break;default:j.skipType(7&lt)}}return at},et.decodeDelimited=function(j){return j instanceof tt||(j=new tt(j)),this.decode(j,j.uint32())},et.verify=function(j){return typeof j!="object"||j===null?"object expected":j.domain!=null&&j.hasOwnProperty("domain")&&!it.isString(j.domain)?"domain: string expected":j.version!=null&&j.hasOwnProperty("version")&&!(it.isInteger(j.version)||j.version&&it.isInteger(j.version.low)&&it.isInteger(j.version.high))?"version: integer|Long expected":null},et.fromObject=function(j){if(j instanceof ot.onnx.OperatorSetIdProto)return j;var rt=new ot.onnx.OperatorSetIdProto;return j.domain!=null&&(rt.domain=String(j.domain)),j.version!=null&&(it.Long?(rt.version=it.Long.fromValue(j.version)).unsigned=!1:typeof j.version=="string"?rt.version=parseInt(j.version,10):typeof j.version=="number"?rt.version=j.version:typeof j.version=="object"&&(rt.version=new it.LongBits(j.version.low>>>0,j.version.high>>>0).toNumber())),rt},et.toObject=function(j,rt){rt||(rt={});var st={};if(rt.defaults)if(st.domain="",it.Long){var at=new it.Long(0,0,!1);st.version=rt.longs===String?at.toString():rt.longs===Number?at.toNumber():at}else st.version=rt.longs===String?"0":0;return j.domain!=null&&j.hasOwnProperty("domain")&&(st.domain=j.domain),j.version!=null&&j.hasOwnProperty("version")&&(typeof j.version=="number"?st.version=rt.longs===String?String(j.version):j.version:st.version=rt.longs===String?it.Long.prototype.toString.call(j.version):rt.longs===Number?new it.LongBits(j.version.low>>>0,j.version.high>>>0).toNumber():j.version),st},et.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},et}(),$),i.exports=ot},2100:(i,o,s)=>{i.exports=s(9482)},9482:(i,o,s)=>{var a=o;function _(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=s(1173),a.BufferWriter=s(3155),a.Reader=s(1408),a.BufferReader=s(593),a.util=s(9693),a.rpc=s(5994),a.roots=s(5054),a.configure=_,_()},1408:(i,o,s)=>{i.exports=nt;var a,_=s(9693),$=_.LongBits,_e=_.utf8;function tt(at,lt){return RangeError("index out of range: "+at.pos+" + "+(lt||1)+" > "+at.len)}function nt(at){this.buf=at,this.pos=0,this.len=at.length}var it,ot=typeof Uint8Array<"u"?function(at){if(at instanceof Uint8Array||Array.isArray(at))return new nt(at);throw Error("illegal buffer")}:function(at){if(Array.isArray(at))return new nt(at);throw Error("illegal buffer")},et=function(){return _.Buffer?function(at){return(nt.create=function(lt){return _.Buffer.isBuffer(lt)?new a(lt):ot(lt)})(at)}:ot};function j(){var at=new $(0,0),lt=0;if(!(this.len-this.pos>4)){for(;lt<3;++lt){if(this.pos>=this.len)throw tt(this);if(at.lo=(at.lo|(127&this.buf[this.pos])<<7*lt)>>>0,this.buf[this.pos++]<128)return at}return at.lo=(at.lo|(127&this.buf[this.pos++])<<7*lt)>>>0,at}for(;lt<4;++lt)if(at.lo=(at.lo|(127&this.buf[this.pos])<<7*lt)>>>0,this.buf[this.pos++]<128)return at;if(at.lo=(at.lo|(127&this.buf[this.pos])<<28)>>>0,at.hi=(at.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return at;if(lt=0,this.len-this.pos>4){for(;lt<5;++lt)if(at.hi=(at.hi|(127&this.buf[this.pos])<<7*lt+3)>>>0,this.buf[this.pos++]<128)return at}else for(;lt<5;++lt){if(this.pos>=this.len)throw tt(this);if(at.hi=(at.hi|(127&this.buf[this.pos])<<7*lt+3)>>>0,this.buf[this.pos++]<128)return at}throw Error("invalid varint encoding")}function rt(at,lt){return(at[lt-4]|at[lt-3]<<8|at[lt-2]<<16|at[lt-1]<<24)>>>0}function st(){if(this.pos+8>this.len)throw tt(this,8);return new $(rt(this.buf,this.pos+=4),rt(this.buf,this.pos+=4))}nt.create=et(),nt.prototype._slice=_.Array.prototype.subarray||_.Array.prototype.slice,nt.prototype.uint32=(it=4294967295,function(){if(it=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(it=(it|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(it=(it|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return it;if((this.pos+=5)>this.len)throw this.pos=this.len,tt(this,10);return it}),nt.prototype.int32=function(){return 0|this.uint32()},nt.prototype.sint32=function(){var at=this.uint32();return at>>>1^-(1&at)|0},nt.prototype.bool=function(){return this.uint32()!==0},nt.prototype.fixed32=function(){if(this.pos+4>this.len)throw tt(this,4);return rt(this.buf,this.pos+=4)},nt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw tt(this,4);return 0|rt(this.buf,this.pos+=4)},nt.prototype.float=function(){if(this.pos+4>this.len)throw tt(this,4);var at=_.float.readFloatLE(this.buf,this.pos);return this.pos+=4,at},nt.prototype.double=function(){if(this.pos+8>this.len)throw tt(this,4);var at=_.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,at},nt.prototype.bytes=function(){var at=this.uint32(),lt=this.pos,ct=this.pos+at;if(ct>this.len)throw tt(this,at);return this.pos+=at,Array.isArray(this.buf)?this.buf.slice(lt,ct):lt===ct?new this.buf.constructor(0):this._slice.call(this.buf,lt,ct)},nt.prototype.string=function(){var at=this.bytes();return _e.read(at,0,at.length)},nt.prototype.skip=function(at){if(typeof at=="number"){if(this.pos+at>this.len)throw tt(this,at);this.pos+=at}else do if(this.pos>=this.len)throw tt(this);while(128&this.buf[this.pos++]);return this},nt.prototype.skipType=function(at){switch(at){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(at=7&this.uint32())!=4;)this.skipType(at);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+at+" at offset "+this.pos)}return this},nt._configure=function(at){a=at,nt.create=et(),a._configure();var lt=_.Long?"toLong":"toNumber";_.merge(nt.prototype,{int64:function(){return j.call(this)[lt](!1)},uint64:function(){return j.call(this)[lt](!0)},sint64:function(){return j.call(this).zzDecode()[lt](!1)},fixed64:function(){return st.call(this)[lt](!0)},sfixed64:function(){return st.call(this)[lt](!1)}})}},593:(i,o,s)=>{i.exports=$;var a=s(1408);($.prototype=Object.create(a.prototype)).constructor=$;var _=s(9693);function $(_e){a.call(this,_e)}$._configure=function(){_.Buffer&&($.prototype._slice=_.Buffer.prototype.slice)},$.prototype.string=function(){var _e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+_e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+_e,this.len))},$._configure()},5054:i=>{i.exports={}},5994:(i,o,s)=>{o.Service=s(7948)},7948:(i,o,s)=>{i.exports=_;var a=s(9693);function _($,_e,tt){if(typeof $!="function")throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=$,this.requestDelimited=!!_e,this.responseDelimited=!!tt}(_.prototype=Object.create(a.EventEmitter.prototype)).constructor=_,_.prototype.rpcCall=function $(_e,tt,nt,it,ot){if(!it)throw TypeError("request must be specified");var et=this;if(!ot)return a.asPromise($,et,_e,tt,nt,it);if(et.rpcImpl)try{return et.rpcImpl(_e,tt[et.requestDelimited?"encodeDelimited":"encode"](it).finish(),function(j,rt){if(j)return et.emit("error",j,_e),ot(j);if(rt!==null){if(!(rt instanceof nt))try{rt=nt[et.responseDelimited?"decodeDelimited":"decode"](rt)}catch(st){return et.emit("error",st,_e),ot(st)}return et.emit("data",rt,_e),ot(null,rt)}et.end(!0)})}catch(j){return et.emit("error",j,_e),void setTimeout(function(){ot(j)},0)}else setTimeout(function(){ot(Error("already ended"))},0)},_.prototype.end=function($){return this.rpcImpl&&($||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(i,o,s)=>{i.exports=_;var a=s(9693);function _(nt,it){this.lo=nt>>>0,this.hi=it>>>0}var $=_.zero=new _(0,0);$.toNumber=function(){return 0},$.zzEncode=$.zzDecode=function(){return this},$.length=function(){return 1};var _e=_.zeroHash="\0\0\0\0\0\0\0\0";_.fromNumber=function(nt){if(nt===0)return $;var it=nt<0;it&&(nt=-nt);var ot=nt>>>0,et=(nt-ot)/4294967296>>>0;return it&&(et=~et>>>0,ot=~ot>>>0,++ot>4294967295&&(ot=0,++et>4294967295&&(et=0))),new _(ot,et)},_.from=function(nt){if(typeof nt=="number")return _.fromNumber(nt);if(a.isString(nt)){if(!a.Long)return _.fromNumber(parseInt(nt,10));nt=a.Long.fromString(nt)}return nt.low||nt.high?new _(nt.low>>>0,nt.high>>>0):$},_.prototype.toNumber=function(nt){if(!nt&&this.hi>>>31){var it=1+~this.lo>>>0,ot=~this.hi>>>0;return it||(ot=ot+1>>>0),-(it+4294967296*ot)}return this.lo+4294967296*this.hi},_.prototype.toLong=function(nt){return a.Long?new a.Long(0|this.lo,0|this.hi,!!nt):{low:0|this.lo,high:0|this.hi,unsigned:!!nt}};var tt=String.prototype.charCodeAt;_.fromHash=function(nt){return nt===_e?$:new _((tt.call(nt,0)|tt.call(nt,1)<<8|tt.call(nt,2)<<16|tt.call(nt,3)<<24)>>>0,(tt.call(nt,4)|tt.call(nt,5)<<8|tt.call(nt,6)<<16|tt.call(nt,7)<<24)>>>0)},_.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},_.prototype.zzEncode=function(){var nt=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^nt)>>>0,this.lo=(this.lo<<1^nt)>>>0,this},_.prototype.zzDecode=function(){var nt=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^nt)>>>0,this.hi=(this.hi>>>1^nt)>>>0,this},_.prototype.length=function(){var nt=this.lo,it=(this.lo>>>28|this.hi<<4)>>>0,ot=this.hi>>>24;return ot===0?it===0?nt<16384?nt<128?1:2:nt<2097152?3:4:it<16384?it<128?5:6:it<2097152?7:8:ot<128?9:10}},9693:function(i,o,s){var a=o;function _(_e,tt,nt){for(var it=Object.keys(tt),ot=0;ot<it.length;++ot)_e[it[ot]]!==void 0&&nt||(_e[it[ot]]=tt[it[ot]]);return _e}function $(_e){function tt(nt,it){if(!(this instanceof tt))return new tt(nt,it);Object.defineProperty(this,"message",{get:function(){return nt}}),Error.captureStackTrace?Error.captureStackTrace(this,tt):Object.defineProperty(this,"stack",{value:new Error().stack||""}),it&&_(this,it)}return(tt.prototype=Object.create(Error.prototype)).constructor=tt,Object.defineProperty(tt.prototype,"name",{get:function(){return _e}}),tt.prototype.toString=function(){return this.name+": "+this.message},tt}a.asPromise=s(4537),a.base64=s(7419),a.EventEmitter=s(9211),a.float=s(945),a.inquire=s(7199),a.utf8=s(4997),a.pool=s(6662),a.LongBits=s(1945),a.isNode=!!(s.g!==void 0&&s.g&&s.g.process&&s.g.process.versions&&s.g.process.versions.node),a.global=a.isNode&&s.g||typeof window<"u"&&window||typeof self<"u"&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(_e){return typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e},a.isString=function(_e){return typeof _e=="string"||_e instanceof String},a.isObject=function(_e){return _e&&typeof _e=="object"},a.isset=a.isSet=function(_e,tt){var nt=_e[tt];return!(nt==null||!_e.hasOwnProperty(tt))&&(typeof nt!="object"||(Array.isArray(nt)?nt.length:Object.keys(nt).length)>0)},a.Buffer=function(){try{var _e=a.inquire("buffer").Buffer;return _e.prototype.utf8Write?_e:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(_e){return typeof _e=="number"?a.Buffer?a._Buffer_allocUnsafe(_e):new a.Array(_e):a.Buffer?a._Buffer_from(_e):typeof Uint8Array>"u"?_e:new Uint8Array(_e)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(_e){return _e?a.LongBits.from(_e).toHash():a.LongBits.zeroHash},a.longFromHash=function(_e,tt){var nt=a.LongBits.fromHash(_e);return a.Long?a.Long.fromBits(nt.lo,nt.hi,tt):nt.toNumber(!!tt)},a.merge=_,a.lcFirst=function(_e){return _e.charAt(0).toLowerCase()+_e.substring(1)},a.newError=$,a.ProtocolError=$("ProtocolError"),a.oneOfGetter=function(_e){for(var tt={},nt=0;nt<_e.length;++nt)tt[_e[nt]]=1;return function(){for(var it=Object.keys(this),ot=it.length-1;ot>-1;--ot)if(tt[it[ot]]===1&&this[it[ot]]!==void 0&&this[it[ot]]!==null)return it[ot]}},a.oneOfSetter=function(_e){return function(tt){for(var nt=0;nt<_e.length;++nt)_e[nt]!==tt&&delete this[_e[nt]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var _e=a.Buffer;_e?(a._Buffer_from=_e.from!==Uint8Array.from&&_e.from||function(tt,nt){return new _e(tt,nt)},a._Buffer_allocUnsafe=_e.allocUnsafe||function(tt){return new _e(tt)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},1173:(i,o,s)=>{i.exports=et;var a,_=s(9693),$=_.LongBits,_e=_.base64,tt=_.utf8;function nt(ut,dt,ft){this.fn=ut,this.len=dt,this.next=void 0,this.val=ft}function it(){}function ot(ut){this.head=ut.head,this.tail=ut.tail,this.len=ut.len,this.next=ut.states}function et(){this.len=0,this.head=new nt(it,0,0),this.tail=this.head,this.states=null}var j=function(){return _.Buffer?function(){return(et.create=function(){return new a})()}:function(){return new et}};function rt(ut,dt,ft){dt[ft]=255&ut}function st(ut,dt){this.len=ut,this.next=void 0,this.val=dt}function at(ut,dt,ft){for(;ut.hi;)dt[ft++]=127&ut.lo|128,ut.lo=(ut.lo>>>7|ut.hi<<25)>>>0,ut.hi>>>=7;for(;ut.lo>127;)dt[ft++]=127&ut.lo|128,ut.lo=ut.lo>>>7;dt[ft++]=ut.lo}function lt(ut,dt,ft){dt[ft]=255&ut,dt[ft+1]=ut>>>8&255,dt[ft+2]=ut>>>16&255,dt[ft+3]=ut>>>24}et.create=j(),et.alloc=function(ut){return new _.Array(ut)},_.Array!==Array&&(et.alloc=_.pool(et.alloc,_.Array.prototype.subarray)),et.prototype._push=function(ut,dt,ft){return this.tail=this.tail.next=new nt(ut,dt,ft),this.len+=dt,this},st.prototype=Object.create(nt.prototype),st.prototype.fn=function(ut,dt,ft){for(;ut>127;)dt[ft++]=127&ut|128,ut>>>=7;dt[ft]=ut},et.prototype.uint32=function(ut){return this.len+=(this.tail=this.tail.next=new st((ut>>>=0)<128?1:ut<16384?2:ut<2097152?3:ut<268435456?4:5,ut)).len,this},et.prototype.int32=function(ut){return ut<0?this._push(at,10,$.fromNumber(ut)):this.uint32(ut)},et.prototype.sint32=function(ut){return this.uint32((ut<<1^ut>>31)>>>0)},et.prototype.uint64=function(ut){var dt=$.from(ut);return this._push(at,dt.length(),dt)},et.prototype.int64=et.prototype.uint64,et.prototype.sint64=function(ut){var dt=$.from(ut).zzEncode();return this._push(at,dt.length(),dt)},et.prototype.bool=function(ut){return this._push(rt,1,ut?1:0)},et.prototype.fixed32=function(ut){return this._push(lt,4,ut>>>0)},et.prototype.sfixed32=et.prototype.fixed32,et.prototype.fixed64=function(ut){var dt=$.from(ut);return this._push(lt,4,dt.lo)._push(lt,4,dt.hi)},et.prototype.sfixed64=et.prototype.fixed64,et.prototype.float=function(ut){return this._push(_.float.writeFloatLE,4,ut)},et.prototype.double=function(ut){return this._push(_.float.writeDoubleLE,8,ut)};var ct=_.Array.prototype.set?function(ut,dt,ft){dt.set(ut,ft)}:function(ut,dt,ft){for(var ht=0;ht<ut.length;++ht)dt[ft+ht]=ut[ht]};et.prototype.bytes=function(ut){var dt=ut.length>>>0;if(!dt)return this._push(rt,1,0);if(_.isString(ut)){var ft=et.alloc(dt=_e.length(ut));_e.decode(ut,ft,0),ut=ft}return this.uint32(dt)._push(ct,dt,ut)},et.prototype.string=function(ut){var dt=tt.length(ut);return dt?this.uint32(dt)._push(tt.write,dt,ut):this._push(rt,1,0)},et.prototype.fork=function(){return this.states=new ot(this),this.head=this.tail=new nt(it,0,0),this.len=0,this},et.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new nt(it,0,0),this.len=0),this},et.prototype.ldelim=function(){var ut=this.head,dt=this.tail,ft=this.len;return this.reset().uint32(ft),ft&&(this.tail.next=ut.next,this.tail=dt,this.len+=ft),this},et.prototype.finish=function(){for(var ut=this.head.next,dt=this.constructor.alloc(this.len),ft=0;ut;)ut.fn(ut.val,dt,ft),ft+=ut.len,ut=ut.next;return dt},et._configure=function(ut){a=ut,et.create=j(),a._configure()}},3155:(i,o,s)=>{i.exports=$;var a=s(1173);($.prototype=Object.create(a.prototype)).constructor=$;var _=s(9693);function $(){a.call(this)}function _e(tt,nt,it){tt.length<40?_.utf8.write(tt,nt,it):nt.utf8Write?nt.utf8Write(tt,it):nt.write(tt,it)}$._configure=function(){$.alloc=_._Buffer_allocUnsafe,$.writeBytesBuffer=_.Buffer&&_.Buffer.prototype instanceof Uint8Array&&_.Buffer.prototype.set.name==="set"?function(tt,nt,it){nt.set(tt,it)}:function(tt,nt,it){if(tt.copy)tt.copy(nt,it,0,tt.length);else for(var ot=0;ot<tt.length;)nt[it++]=tt[ot++]}},$.prototype.bytes=function(tt){_.isString(tt)&&(tt=_._Buffer_from(tt,"base64"));var nt=tt.length>>>0;return this.uint32(nt),nt&&this._push($.writeBytesBuffer,nt,tt),this},$.prototype.string=function(tt){var nt=_.Buffer.byteLength(tt);return this.uint32(nt),nt&&this._push(_e,nt,tt),this},$._configure()},7714:(i,o,s)=>{o.R=void 0;const a=s(6919),_=s(7448);o.R=new class{async init(){}async createSessionHandler($,_e){const tt=new a.Session(_e);return await tt.loadModel($),new _.OnnxjsSessionHandler(tt)}}},4200:(i,o,s)=>{o.c8=o.rX=void 0;const a=s(1670),_=s(5381),$=s(2157),_e=s(2306);o.rX=()=>{if((typeof a.env.wasm.initTimeout!="number"||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),typeof a.env.wasm.simd!="boolean"&&(a.env.wasm.simd=!0),typeof a.env.wasm.proxy!="boolean"&&(a.env.wasm.proxy=!1),typeof a.env.wasm.numThreads!="number"||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const tt=typeof navigator>"u"?(0,_.cpus)().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((tt||1)/2))}},o.c8=new class{async init(){(0,o.rX)(),await(0,$.initWasm)()}async createSessionHandler(tt,nt){const it=new _e.OnnxruntimeWebAssemblySessionHandler;return await it.loadModel(tt,nt),Promise.resolve(it)}}},6018:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(_e,tt,nt,it){it===void 0&&(it=nt);var ot=Object.getOwnPropertyDescriptor(tt,nt);ot&&!("get"in ot?!tt.__esModule:ot.writable||ot.configurable)||(ot={enumerable:!0,get:function(){return tt[nt]}}),Object.defineProperty(_e,it,ot)}:function(_e,tt,nt,it){it===void 0&&(it=nt),_e[it]=tt[nt]}),_=this&&this.__exportStar||function(_e,tt){for(var nt in _e)nt==="default"||Object.prototype.hasOwnProperty.call(tt,nt)||a(tt,_e,nt)};Object.defineProperty(o,"__esModule",{value:!0}),_(s(1670),o);const $=s(1670);{const _e=s(7714).R;(0,$.registerBackend)("webgl",_e,-10)}{const _e=s(4200).c8;(0,$.registerBackend)("cpu",_e,10),(0,$.registerBackend)("wasm",_e,10),(0,$.registerBackend)("xnnpack",_e,9)}},246:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createAttributeWithCacheKey=void 0;class s{constructor(_){Object.assign(this,_)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(_=>`${this[_]}`).join(";")),this._cacheKey}}o.createAttributeWithCacheKey=a=>new s(a)},7778:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Attribute=void 0;const a=s(1446),_=s(9395),$=s(9162),_e=s(2517);var tt=_.onnxruntime.experimental.fbs;class nt{constructor(ot){if(this._attributes=new Map,ot!=null){for(const et of ot)et instanceof a.onnx.AttributeProto?this._attributes.set(et.name,[nt.getValue(et),nt.getType(et)]):et instanceof tt.Attribute&&this._attributes.set(et.name(),[nt.getValue(et),nt.getType(et)]);if(this._attributes.size<ot.length)throw new Error("duplicated attribute names")}}set(ot,et,j){this._attributes.set(ot,[j,et])}delete(ot){this._attributes.delete(ot)}getFloat(ot,et){return this.get(ot,"float",et)}getInt(ot,et){return this.get(ot,"int",et)}getString(ot,et){return this.get(ot,"string",et)}getTensor(ot,et){return this.get(ot,"tensor",et)}getFloats(ot,et){return this.get(ot,"floats",et)}getInts(ot,et){return this.get(ot,"ints",et)}getStrings(ot,et){return this.get(ot,"strings",et)}getTensors(ot,et){return this.get(ot,"tensors",et)}get(ot,et,j){const rt=this._attributes.get(ot);if(rt===void 0){if(j!==void 0)return j;throw new Error(`required attribute not found: ${ot}`)}if(rt[1]!==et)throw new Error(`type mismatch: expected ${et} but got ${rt[1]}`);return rt[0]}static getType(ot){const et=ot instanceof a.onnx.AttributeProto?ot.type:ot.type();switch(et){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${a.onnx.AttributeProto.AttributeType[et]}`)}}static getValue(ot){const et=ot instanceof a.onnx.AttributeProto?ot.type:ot.type();if(et===a.onnx.AttributeProto.AttributeType.GRAPH||et===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const j=this.getValueNoCheck(ot);if(et===a.onnx.AttributeProto.AttributeType.INT&&_e.LongUtil.isLong(j))return _e.LongUtil.longToNumber(j);if(et===a.onnx.AttributeProto.AttributeType.INTS){const rt=j,st=new Array(rt.length);for(let at=0;at<rt.length;at++){const lt=rt[at];st[at]=_e.LongUtil.longToNumber(lt)}return st}if(et===a.onnx.AttributeProto.AttributeType.TENSOR)return ot instanceof a.onnx.AttributeProto?$.Tensor.fromProto(j):$.Tensor.fromOrtTensor(j);if(et===a.onnx.AttributeProto.AttributeType.TENSORS){if(ot instanceof a.onnx.AttributeProto)return j.map(rt=>$.Tensor.fromProto(rt));if(ot instanceof tt.Attribute)return j.map(rt=>$.Tensor.fromOrtTensor(rt))}if(et===a.onnx.AttributeProto.AttributeType.STRING&&ot instanceof a.onnx.AttributeProto){const rt=j;return(0,_e.decodeUtf8String)(rt)}return et===a.onnx.AttributeProto.AttributeType.STRINGS&&ot instanceof a.onnx.AttributeProto?j.map(_e.decodeUtf8String):j}static getValueNoCheck(ot){return ot instanceof a.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(ot):this.getValueNoCheckFromOrtFormat(ot)}static getValueNoCheckFromOnnxFormat(ot){switch(ot.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return ot.f;case a.onnx.AttributeProto.AttributeType.INT:return ot.i;case a.onnx.AttributeProto.AttributeType.STRING:return ot.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return ot.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return ot.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return ot.floats;case a.onnx.AttributeProto.AttributeType.INTS:return ot.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return ot.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return ot.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return ot.graphs;default:throw new Error(`unsupported attribute type: ${a.onnx.AttributeProto.AttributeType[ot.type]}`)}}static getValueNoCheckFromOrtFormat(ot){switch(ot.type()){case tt.AttributeType.FLOAT:return ot.f();case tt.AttributeType.INT:return ot.i();case tt.AttributeType.STRING:return ot.s();case tt.AttributeType.TENSOR:return ot.t();case tt.AttributeType.GRAPH:return ot.g();case tt.AttributeType.FLOATS:return ot.floatsArray();case tt.AttributeType.INTS:{const et=[];for(let j=0;j<ot.intsLength();j++)et.push(ot.ints(j));return et}case tt.AttributeType.STRINGS:{const et=[];for(let j=0;j<ot.stringsLength();j++)et.push(ot.strings(j));return et}case tt.AttributeType.TENSORS:{const et=[];for(let j=0;j<ot.tensorsLength();j++)et.push(ot.tensors(j));return et}default:throw new Error(`unsupported attribute type: ${tt.AttributeType[ot.type()]}`)}}}o.Attribute=nt},7091:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveBackend=o.backend=void 0;const a=s(5038),_=new Map;async function $(_e){const tt=o.backend;if(tt[_e]!==void 0&&function(nt){const it=nt;return"initialize"in it&&typeof it.initialize=="function"&&"createSessionHandler"in it&&typeof it.createSessionHandler=="function"&&"dispose"in it&&typeof it.dispose=="function"}(tt[_e])){const nt=tt[_e];let it=nt.initialize();if(typeof it=="object"&&"then"in it&&(it=await it),it)return _.set(_e,nt),nt}}o.backend={webgl:new a.WebGLBackend},o.resolveBackend=async function _e(tt){if(!tt)return _e(["webgl"]);{const nt=typeof tt=="string"?[tt]:tt;for(const it of nt){const ot=_.get(it);if(ot)return ot;const et=await $(it);if(et)return et}}throw new Error("no available backend to use")}},5038:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLBackend=void 0;const a=s(1670),_=s(6231),$=s(6416),_e=s(7305);o.WebGLBackend=class{get contextId(){return a.env.webgl.contextId}set contextId(tt){a.env.webgl.contextId=tt}get matmulMaxBatchSize(){return a.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(tt){a.env.webgl.matmulMaxBatchSize=tt}get textureCacheMode(){return a.env.webgl.textureCacheMode}set textureCacheMode(tt){a.env.webgl.textureCacheMode=tt}get pack(){return a.env.webgl.pack}set pack(tt){a.env.webgl.pack=tt}get async(){return a.env.webgl.async}set async(tt){a.env.webgl.async=tt}initialize(){try{return this.glContext=(0,_e.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),_.Logger.setWithEnv(a.env),_.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(tt){return _.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${tt}`),!1}}createSessionHandler(tt){return new $.WebGLSessionHandler(this,tt)}dispose(){this.glContext.dispose()}}},5107:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoordsGlslLib=void 0;const a=s(2517),_=s(8520),$=s(5060),_e=s(7859),tt=s(9390);class nt extends _.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new _.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new _.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const ot=this.context.outputTextureLayout;return ot.isPacked?this.getPackedOutputSamplingSnippet(ot):this.getUnpackedOutputSamplingSnippet(ot)}getPackedOutputSamplingSnippet(ot){const et=ot.unpackedShape,j=[ot.width,ot.height],rt={},st="getOutputCoords";switch(et.length){case 0:rt[st]=this.getOutputScalarCoords();break;case 1:rt[st]=this.getOutputPacked1DCoords(et,j);break;case 2:rt[st]=this.getOutputPacked2DCoords(et,j);break;case 3:rt[st]=this.getOutputPacked3DCoords(et,j);break;default:rt[st]=this.getOutputPackedNDCoords(et,j)}const at=`
      void setOutput(vec4 val) {
        ${(0,$.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return rt.floatTextureSetRGBA=new _.GlslLibRoutine(at),rt}getUnpackedOutputSamplingSnippet(ot){const et=ot.unpackedShape,j=[ot.width,ot.height],rt={},st="getOutputCoords";switch(et.length){case 0:rt[st]=this.getOutputScalarCoords();break;case 1:rt[st]=this.getOutputUnpacked1DCoords(et,j);break;case 2:rt[st]=this.getOutputUnpacked2DCoords(et,j);break;case 3:rt[st]=this.getOutputUnpacked3DCoords(et,j);break;case 4:rt[st]=this.getOutputUnpacked4DCoords(et,j);break;case 5:rt[st]=this.getOutputUnpacked5DCoords(et,j);break;case 6:rt[st]=this.getOutputUnpacked6DCoords(et,j);break;default:throw new Error(`Unsupported output dimensionality: ${et.length}`)}const at=`
        void setOutput(float val) {
          ${(0,$.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return rt.floatTextureSetR=new _.GlslLibRoutine(at),rt}getOutputScalarCoords(){return new _.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(ot,et){const j=et;let rt="";return j[0]===1?(rt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${j[1]}.0);
          }
        `,new _.GlslLibRoutine(rt)):j[1]===1?(rt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${j[0]}.0);
          }
        `,new _.GlslLibRoutine(rt)):(rt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${j[0]}, ${j[1]}));
          return 2 * (resTexRC.y * ${j[0]} + resTexRC.x);
        }
      `,new _.GlslLibRoutine(rt))}getOutputPacked2DCoords(ot,et){let j="";if(a.ArrayUtil.arraysEqual(ot,et))return j=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${et[0]}, ${et[1]}));
        }
      `,new _.GlslLibRoutine(j);const rt=et,st=Math.ceil(ot[1]/2);return j=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${rt[0]}, ${rt[1]}));

          int index = resTexRC.y * ${rt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${st}) * 2;
          int c = 2 * (index / ${st});

          return ivec2(r, c);
        }
      `,new _.GlslLibRoutine(j)}getOutputPacked3DCoords(ot,et){const j=[et[0],et[1]],rt=Math.ceil(ot[2]/2),st=rt*Math.ceil(ot[1]/2),at=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;

          int b = index / ${st};
          index -= b * ${st};

          // reverse r and c order for packed texture
          int r = imod(index, ${rt}) * 2;
          int c = 2 * (index / ${rt});

          return ivec3(b, r, c);
        }
      `;return new _.GlslLibRoutine(at)}getOutputPackedNDCoords(ot,et){const j=[et[0],et[1]],rt=Math.ceil(ot[ot.length-1]/2),st=rt*Math.ceil(ot[ot.length-2]/2);let at=st,lt="",ct="b, r, c";for(let dt=2;dt<ot.length-1;dt++)at*=ot[ot.length-dt-1],lt=`
      int b${dt} = index / ${at};
      index -= b${dt} * ${at};
    `+lt,ct=`b${dt}, `+ct;const ut=`
      ivec${ot.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${j[0]}, ${j[1]}));
        int index = resTexRC.y * ${j[0]} + resTexRC.x;

        ${lt}

        int b = index / ${st};
        index -= b * ${st};

        // reverse r and c order for packed texture
        int r = imod(index, ${rt}) * 2;
        int c = 2 * (index / ${rt});

        return ivec${ot.length}(${ct});
      }
    `;return new _.GlslLibRoutine(ut)}getOutputUnpacked1DCoords(ot,et){const j=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          return resTexRC.y * ${et[0]} + resTexRC.x;
        }
      `;return new _.GlslLibRoutine(j)}getOutputUnpacked2DCoords(ot,et){const j=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          int r = index / ${ot[1]};
          int c = index - r * ${ot[1]};
          return ivec2(r, c);
        }
      `;return new _.GlslLibRoutine(j)}getOutputUnpacked3DCoords(ot,et){let j="";const rt=ot.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=ot[rt-1];for(let ct=rt-3;ct>=0;--ct)st[ct]=st[ct+1]*ot[ct+1];const at=["r","c","d"],lt=st.map((ct,ut)=>`int ${at[ut]} = index / ${ct}; ${ut===st.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${ct}`:`index -= ${at[ut]} * ${ct}`};`).join("");return j=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${lt}
          return ivec3(r, c, d);
        }
      `,new _.GlslLibRoutine(j)}getOutputUnpacked4DCoords(ot,et){let j="";const rt=ot.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=ot[rt-1];for(let ct=rt-3;ct>=0;--ct)st[ct]=st[ct+1]*ot[ct+1];const at=["r","c","d","d2"],lt=st.map((ct,ut)=>`int ${at[ut]} = index / ${ct}; ${ut===st.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${ct}`:`index -= ${at[ut]} * ${ct}`};`).join("");return j=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${lt}
          return ivec4(r, c, d, d2);
        }
      `,new _.GlslLibRoutine(j)}getOutputUnpacked5DCoords(ot,et){let j="";const rt=ot.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=ot[rt-1];for(let ct=rt-3;ct>=0;--ct)st[ct]=st[ct+1]*ot[ct+1];const at=["r","c","d","d2","d3"],lt=st.map((ct,ut)=>`int ${at[ut]} = index / ${ct}; ${ut===st.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${ct}`:`index -= ${at[ut]} * ${ct}`};`).join("");return j=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${lt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new _.GlslLibRoutine(j)}getOutputUnpacked6DCoords(ot,et){let j="";const rt=ot.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=ot[rt-1];for(let ct=rt-3;ct>=0;--ct)st[ct]=st[ct+1]*ot[ct+1];const at=["r","c","d","d2","d3","d4"],lt=st.map((ct,ut)=>`int ${at[ut]} = index / ${ct}; ${ut===st.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${ct}`:`index -= ${at[ut]} * ${ct}`};`).join("");return j=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${et[0]}, ${et[1]}));
         int index = resTexRC.y * ${et[0]} + resTexRC.x;
         ${lt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new _.GlslLibRoutine(j)}getCommonUtilFuncs(){const ot={};let et="uvFromFlat";ot[et]=new _.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),et="packedUVfrom1D",ot[et]=new _.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="packedUVfrom2D",ot[et]=new _.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="packedUVfrom3D",ot[et]=new _.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="sampleTexture";const j=(0,$.getGlsl)(this.context.glContext.version);return ot[et]=new _.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${j.texture2D}(textureSampler, uv).r;
        }`),ot}getInputsSamplingSnippets(){const ot={},et=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((j,rt)=>{const st=this.context.inputTextureLayouts[rt],at=(0,tt.generateShaderFuncNameFromInputSamplerName)(j);st.isPacked?ot[at]=this.getPackedSamplerFromInput(at,j,st):ot[at]=this.getUnpackedSamplerFromInput(at,j,st);const lt=(0,tt.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(j);st.unpackedShape.length<=et.unpackedShape.length&&(st.isPacked?ot[lt]=this.getPackedSamplerAtOutputCoords(lt,st,et,j):ot[lt]=this.getUnpackedSamplerAtOutputCoords(lt,st,et,j))}),ot}getPackedSamplerAtOutputCoords(ot,et,j,rt){const st=et.unpackedShape,at=j.unpackedShape,lt=rt,ct=(0,tt.generateShaderFuncNameFromInputSamplerName)(lt),ut=st.length,dt=at.length,ft=a.BroadcastUtil.getBroadcastDims(st,at),ht=(0,tt.getCoordsDataType)(dt),mt=dt-ut;let bt;const yt=(0,tt.getGlChannels)();bt=ut===0?"":dt<2&&ft.length>=1?"coords = 0;":ft.map(It=>`coords.${yt[It+mt]} = 0;`).join(`
`);let gt="";gt=dt<2&&ut>0?"coords":st.map((It,Pt)=>`coords.${yt[Pt+mt]}`).join(", ");let vt="return outputValue;";const wt=a.ShapeUtil.size(st)===1,Ct=a.ShapeUtil.size(at)===1;if(ut!==1||wt||Ct){if(wt&&!Ct)vt=dt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(ft.length){const It=ut-2,Pt=ut-1;ft.indexOf(It)>-1&&ft.indexOf(Pt)>-1?vt="return vec4(outputValue.x);":ft.indexOf(It)>-1?vt="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":ft.indexOf(Pt)>-1&&(vt="return vec4(outputValue.xx, outputValue.zz);")}}else vt=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Rt=`
      vec4 ${ot}() {
        ${ht} coords = getOutputCoords();
        
        int lastDim = coords.${yt[dt-1]};
        coords.${yt[dt-1]} = coords.${yt[dt-2]};
        coords.${yt[dt-2]} = lastDim;
      
        ${bt}
        vec4 outputValue = ${ct}(${gt});
        ${vt}
      }
    `;return new _.GlslLibRoutine(Rt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(ot,et,j,rt){const st=[j.width,j.height],at=[et.width,et.height],lt=et.unpackedShape.length,ct=j.unpackedShape.length,ut=et.unpackedShape,dt=j.unpackedShape,ft=(0,tt.generateShaderFuncNameFromInputSamplerName)(rt);if(lt===ct&&a.ArrayUtil.arraysEqual(at,st)){const Ct=`
          float ${ot}() {
            return sampleTexture(${rt}, TexCoords);
          }
        `;return new _.GlslLibRoutine(Ct,["coordinates.sampleTexture"])}const ht=(0,tt.getCoordsDataType)(ct),mt=a.BroadcastUtil.getBroadcastDims(ut,dt),bt=ct-lt;let yt;const gt=(0,tt.getGlChannels)();yt=lt===0?"":ct<2&&mt.length>=1?"coords = 0;":mt.map(Ct=>`coords.${gt[Ct+bt]} = 0;`).join(`
`);let vt="";vt=ct<2&&lt>0?"coords":et.unpackedShape.map((Ct,Rt)=>`coords.${gt[Rt+bt]}`).join(", ");const wt=`
        float ${ot}() {
          ${ht} coords = getOutputCoords();
          ${yt}
          return ${ft}(${vt});
        }
      `;return new _.GlslLibRoutine(wt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(ot,et,j){switch(j.unpackedShape.length){case 0:return this.getPackedSamplerScalar(ot,et);case 1:return this.getPackedSampler1D(ot,et,j);case 2:return this.getPackedSampler2D(ot,et,j);case 3:return this.getPackedSampler3D(ot,et,j);default:return this.getPackedSamplerND(ot,et,j)}}getUnpackedSamplerFromInput(ot,et,j){const rt=j.unpackedShape;switch(rt.length){case 0:return this.getUnpackedSamplerScalar(ot,et,j);case 1:return this.getUnpackedSampler1D(ot,et,j);case 2:return this.getUnpackedSampler2D(ot,et,j);case 3:return this.getUnpackedSampler3D(ot,et,j);case 4:return this.getUnpackedSampler4D(ot,et,j);case 5:return this.getUnpackedSampler5D(ot,et,j);case 6:return this.getUnpackedSampler6D(ot,et,j);default:throw new Error(`Unsupported dimension ${rt.length}-D`)}}getPackedSamplerScalar(ot,et){const j=`
          vec4 ${ot}() {
            return ${(0,$.getGlsl)(this.context.glContext.version).texture2D}(${et}, halfCR);
          }
        `;return new _.GlslLibRoutine(j)}getPackedSampler1D(ot,et,j){const rt=[j.width,j.height],st=[rt[1],rt[0]],at=(0,$.getGlsl)(this.context.glContext.version),lt=`vec4 ${ot}(int index) {
      vec2 uv = packedUVfrom1D(
      ${st[0]}, ${st[1]}, index);
      return ${at.texture2D}(${et}, uv);
    }`;return new _.GlslLibRoutine(lt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(ot,et,j){const rt=j.unpackedShape,st=[j.width,j.height],at=(0,$.getGlsl)(this.context.glContext.version),lt=st[0],ct=st[1];if(st!=null&&a.ArrayUtil.arraysEqual(rt,st)){const ht=`vec4 ${ot}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${ct}.0, ${lt}.0);
        return ${at.texture2D}(${et}, uv);
      }`;return new _.GlslLibRoutine(ht)}const ut=st,dt=Math.ceil(rt[1]/2),ft=`vec4 ${ot}(int row, int col) {
      vec2 uv = packedUVfrom2D(${ut[1]}, ${ut[0]}, ${dt}, row, col);
      return ${at.texture2D}(${et}, uv);
    }`;return new _.GlslLibRoutine(ft,["coordinates.packedUVfrom2D"])}getPackedSampler3D(ot,et,j){const rt=j.unpackedShape,st=[j.width,j.height],at=[st[0],st[1]],lt=(0,$.getGlsl)(this.context.glContext.version);if(rt[0]===1){const ht=rt.slice(1),mt=[1,2],bt=(0,tt.squeezeInputShape)(rt,ht),yt=["b","row","col"],gt=JSON.parse(JSON.stringify(j));gt.unpackedShape=bt;const vt=this.getPackedSamplerFromInput(ot,et,gt),wt=`${vt.routineBody}
      vec4 ${ot}(int b, int row, int col) {
        return ${ot}(${(0,tt.getSqueezedParams)(yt,mt)});
      } `;return new _.GlslLibRoutine(wt,vt.dependencies)}const ct=at[0],ut=at[1],dt=Math.ceil(rt[2]/2),ft=`vec4 ${ot}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${ut}, ${ct}, ${dt*Math.ceil(rt[1]/2)}, ${dt}, b, row, col);
      return ${lt.texture2D}(${et}, uv);}`;return new _.GlslLibRoutine(ft,["coordinates.packedUVfrom3D"])}getPackedSamplerND(ot,et,j){const rt=j.unpackedShape,st=rt.length,at=[j.width,j.height],lt=(0,$.getGlsl)(this.context.glContext.version),ct=[at[0],at[1]],ut=ct[1],dt=ct[0],ft=Math.ceil(rt[st-1]/2);let ht=ft*Math.ceil(rt[st-2]/2),mt="int b, int row, int col",bt=`b * ${ht} + (row / 2) * ${ft} + (col / 2)`;for(let gt=2;gt<st-1;gt++)mt=`int b${gt}, `+mt,ht*=rt[st-gt-1],bt=`b${gt} * ${ht} + `+bt;const yt=`vec4 ${ot}(${mt}) {
      int index = ${bt};
      int texR = index / ${dt};
      int texC = index - texR * ${dt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${dt}, ${ut});
      return ${lt.texture2D}(${et}, uv);
    }`;return new _.GlslLibRoutine(yt)}getUnpackedSamplerScalar(ot,et,j){const[rt,st]=[j.width,j.height];if(rt===1&&st===1){const lt=`
          float ${ot}() {
            return sampleTexture(${et}, halfCR);
          }
        `;return new _.GlslLibRoutine(lt,["coordinates.sampleTexture"])}const at=`
        float ${ot}() {
          int offset_${et} = coordsToOffset(TexCoords, ${rt}, ${st});
          vec2 uv = uvFromFlat(${rt}, ${st}, offset_${et});
          return sampleTexture(${et}, uv);
        }
      `;return new _.GlslLibRoutine(at,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(ot,et,j){const rt=j.width,st=j.height;if(st===1&&rt===1){const lt=`
        float ${ot}(int index) {
          return sampleTexture(${et}, halfCR);
        }
      `;return new _.GlslLibRoutine(lt,["coordinates.sampleTexture"])}if(st===1){const lt=`
          float ${ot}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${rt}.0, 0.5);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(lt,["coordinates.sampleTexture"])}if(rt===1){const lt=`
          float ${ot}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${st}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(lt,["coordinates.sampleTexture"])}const at=`
        float ${ot}(int index) {
          vec2 uv = uvFromFlat(${rt}, ${st}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new _.GlslLibRoutine(at,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(ot,et,j){const rt=j.unpackedShape,st=[j.height,j.width];if(st!=null&&a.ArrayUtil.arraysEqual(rt,st)){const ht=`
          float ${ot}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${st[1]}.0, ${st[0]}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(ht,["coordinates.sampleTexture"])}const{newShape:at,keptDims:lt}=(0,_e.squeezeShape)(rt),ct=at;if(ct.length<rt.length){const ht=(0,tt.squeezeInputShape)(rt,ct),mt=JSON.parse(JSON.stringify(j));mt.unpackedShape=ht;const bt=["col","row"],yt=`
          ${this.getUnpackedSamplerFromInput(ot,et,mt).routineBody}
          float ${ot}(int row, int col) {
            return ${ot}(${(0,tt.getSqueezedParams)(bt,lt)});
          }
        `;return new _.GlslLibRoutine(yt,["coordinates.sampleTexture"])}const ut=st[1],dt=st[0];if(dt===1){const ht=`
          float ${ot}(int row, int col) {
            int offset_${et} = coordsToOffset(TexCoords, ${ut}, ${dt});
            float index = dot(vec3(row, col, offset_${et}), vec3(${rt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${ut}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(ht,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(ut===1){const ht=`
          float ${ot}(int row, int col) {
            int offset_${et} = coordsToOffset(TexCoords, ${ut}, ${dt});
            float index = dot(vec3(row, col, offset_${et}), vec3(${rt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${dt}.0, 0.5);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(ht,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const ft=`
        float ${ot}(int row, int col) {
          int index = col * ${rt[1]} + row;
          vec2 uv = uvFromFlat(${ut}, ${dt}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new _.GlslLibRoutine(ft,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(ot,et,j){const rt=j.unpackedShape,st=rt[1]*rt[2],at=rt[2],{newShape:lt,keptDims:ct}=(0,_e.squeezeShape)(rt),ut=lt;if(ut.length<rt.length){const ft=(0,tt.squeezeInputShape)(rt,ut),ht=["batch","col","row"],mt=JSON.parse(JSON.stringify(j));mt.unpackedShape=ft;const bt=this.getUnpackedSamplerFromInput(ot,et,mt),yt=ct.reverse(),gt=`
          ${bt.routineBody}
          float ${ot}(int batch, int row, int col) {
            return ${ot}(${(0,tt.getSqueezedParams)(ht,yt)});
          }
        `;return new _.GlslLibRoutine(gt,bt.dependencies)}const dt=`
          float ${ot}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${st} + col * ${at} + row;
            vec2 uv = uvFromFlat(${j.width}, ${j.height}, index);
            return sampleTexture(${et}, uv);
          }
      `;return new _.GlslLibRoutine(dt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(ot,et,j){const rt=j.unpackedShape,st=rt[3],at=rt[2]*st,lt=`
        float ${ot}(int row, int col, int depth, int depth2) {
          int index = row * ${rt[1]*at} + col * ${at} +
              depth2 * ${st} + depth;
          vec2 uv = uvFromFlat(${j.width}, ${j.height}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new _.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(ot,et,j){const rt=j.unpackedShape,st=rt[4],at=rt[3]*st,lt=rt[2]*at,ct=rt[1]*lt,{newShape:ut,keptDims:dt}=(0,_e.squeezeShape)(rt);if(ut.length<rt.length){const ht=(0,tt.squeezeInputShape)(rt,ut),mt=["row","col","depth","depth2","depth3"],bt=JSON.parse(JSON.stringify(j));bt.unpackedShape=ht;const yt=`
          ${this.getUnpackedSamplerFromInput(ot,et,bt).routineBody}
          float ${ot}(int row, int col, int depth, int depth2, int depth3) {
            return ${ot}(${(0,tt.getSqueezedParams)(mt,dt)});
          }
        `;return new _.GlslLibRoutine(yt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ft=`
        float ${ot}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${ct} + col * ${lt} + depth * ${at} +
          depth3 * ${st} + depth2;
          vec2 uv = uvFromFlat(${j.width}, ${j.height}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new _.GlslLibRoutine(ft,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(ot,et,j){const rt=j.unpackedShape,st=rt[5],at=rt[4]*st,lt=rt[3]*at,ct=rt[2]*lt,ut=rt[1]*ct,{newShape:dt,keptDims:ft}=(0,_e.squeezeShape)(rt);if(dt.length<rt.length){const mt=(0,tt.squeezeInputShape)(rt,dt),bt=["row","col","depth","depth2","depth3","depth4"],yt=JSON.parse(JSON.stringify(j));yt.unpackedShape=mt;const gt=`
            ${this.getUnpackedSamplerFromInput(ot,et,yt).routineBody}
            float ${ot}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${ot}(${(0,tt.getSqueezedParams)(bt,ft)});
            }
          `;return new _.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ht=`
          float ${ot}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${ut} + col * ${ct} + depth * ${lt} +
            depth2 * ${at} + depth3 * ${st} + depth4;
            vec2 uv = uvFromFlat(${j.width}, ${j.height}, index);
            return sampleTexture(${et}, uv);
          }
        `;return new _.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const ot=this.context.outputTextureLayout,et=ot.shape.length,j=ot.strides,rt=ot.width,st=ot.height,at=[];for(let ct=0;ct<et-1;++ct)at.push(`
        c[${ct}] = offset / ${j[ct]};`),at.push(`
        offset -= c[${ct}] * ${j[ct]};`);at.push(`
        c[${et-1}] = offset;`);const lt=`
      void toVec(vec2 texCoords, out int c[${et}]) {
        int offset = coordsToOffset(texCoords, ${rt}, ${st});
        ${at.join("")}
      }
      void toVec(int offset, out int c[${et}]) {
        ${at.join("")}
      }
    `;return{toVec:new _.GlslLibRoutine(lt,["coordinates.coordsToOffset"])}}valueFrom(){const ot={};return this.context.programInfo.inputNames.forEach((et,j)=>{const rt=this.context.inputTextureLayouts[j],st=(rt.unpackedShape.length>0?rt.unpackedShape:rt.shape).length;let at=`_${et}`;ot[at]=new _.GlslLibRoutine(this.getValueFromSingle(et,st,rt.width,rt.height,!1),[`shapeUtils.indicesToOffset${at}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),at+="_T",ot[at]=new _.GlslLibRoutine(this.getValueFromSingle(et,st,rt.width,rt.height,!0),[`shapeUtils.indicesToOffset${at}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),ot}getValueFromSingle(ot,et,j,rt,st){let at=`_${ot}`;return st&&(at+="_T"),`
        float ${at}(int m[${et}]) {
          int offset = indicesToOffset${at}(m);
          vec2 coords = offsetToCoords(offset, ${j}, ${rt});
          float value = getColorAsFloat(${(0,$.getGlsl)(this.context.glContext.version).texture2D}(${ot}, coords));
          return value;
        }
        `}getPackedValueFrom(ot,et,j,rt,st){let at=`_${ot}_Pack`;return st&&(at+="_T"),`
        vec4 ${at}(int m[${et}]) {
          int offset = indicesToOffset_${ot}(m);
          vec2 coords = offsetToCoords(offset, ${j}, ${rt});
          return ${(0,$.getGlsl)(this.context.glContext.version).texture2D}(${ot}, coords);
        }
        `}}o.CoordsGlslLib=nt},8520:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.TopologicalSortGlslRoutines=o.GlslLibRoutineNode=o.GlslLibRoutine=o.GlslLib=o.GlslContext=o.FunctionType=void 0,(s=o.FunctionType||(o.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",o.GlslContext=class{constructor(a,_,$,_e){this.glContext=a,this.programInfo=_,this.inputTextureLayouts=$,this.outputTextureLayout=_e}},o.GlslLib=class{constructor(a){this.context=a}},o.GlslLibRoutine=class{constructor(a,_){this.routineBody=a,this.dependencies=_}},o.GlslLibRoutineNode=class{constructor(a,_,$){this.name=a,this.dependencies=$||[],_&&(this.routineBody=_)}addDependency(a){a&&this.dependencies.push(a)}},o.TopologicalSortGlslRoutines=class{static returnOrderedNodes(a){if(!a||a.length===0)return[];if(a.length===1)return a;const _=new Set,$=new Set,_e=new Array;return this.createOrderedNodes(a,_,$,_e),_e}static createOrderedNodes(a,_,$,_e){for(let tt=0;tt<a.length;++tt)this.dfsTraverse(a[tt],_,$,_e)}static dfsTraverse(a,_,$,_e){if(!a||$.has(a.name))return;if(_.has(a.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");_.add(a.name);const tt=a.dependencies;if(tt&&tt.length>0)for(let nt=0;nt<tt.length;++nt)this.dfsTraverse(tt[nt],_,$,_e);_e.push(a),$.add(a.name),_.delete(a.name)}}},7341:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EncodingGlslLib=void 0;const a=s(8520);class _ extends a.GlslLib{constructor(_e){super(_e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new a.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new a.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const _e=_.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${_e}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const _e=_.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${_e}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const _e=new ArrayBuffer(4),tt=new Uint32Array(_e),nt=new Uint8Array(_e);if(tt[0]=3735928559,nt[0]===239)return!0;if(nt[0]===222)return!1;throw new Error("unknown endianness")}}o.EncodingGlslLib=_},9894:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FragColorGlslLib=void 0;const a=s(8520),_=s(5060);class $ extends a.GlslLib{constructor(tt){super(tt)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const tt=(0,_.getGlsl)(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine(`
        void setFragColor(float value) {
            ${tt.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new a.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}o.FragColorGlslLib=$},2848:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;o.replaceInlines=function(a){const _={};let $;for(;($=s.exec(a))!==null;){const _e=$[3].split(",").map(tt=>{const nt=tt.trim().split(" ");return nt&&nt.length===2?{type:nt[0],name:nt[1]}:null}).filter(tt=>tt!==null);_[$[2]]={params:_e,body:$[4]}}for(const _e in _){const tt="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",_e),nt=new RegExp(tt,"gm");for(;($=nt.exec(a))!==null;){const it=$[1],ot=$[2],et=$[3].split(","),j=it?`${it} ${ot};`:"";let rt=_[_e].body,st="";_[_e].params.forEach((lt,ct)=>{lt&&(st+=`${lt.type} ${lt.name} = ${et[ct]};
`)}),rt=`${st}
 ${rt}`,rt=rt.replace("return",`${ot} = `);const at=`
      ${j}
      {
        ${rt}
      }
      `;a=a.replace($[0],at)}}return a.replace(s,"")}},8879:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlslPreprocessor=void 0;const a=s(8520),_=s(2848),$=s(5483),_e=s(5060);o.GlslPreprocessor=class{constructor(tt,nt,it,ot){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new a.GlslContext(tt,nt,it,ot),Object.keys($.glslRegistry).forEach(j=>{const rt=new $.glslRegistry[j](this.context);this.libs[j]=rt});const et=this.glslLibRoutineDependencyGraph;for(const j in this.libs){const rt=this.libs[j].getFunctions();for(const st in rt){const at=j+"."+st;let lt;et[at]?(lt=et[at],lt.routineBody=rt[st].routineBody):(lt=new a.GlslLibRoutineNode(at,rt[st].routineBody),et[at]=lt);const ct=rt[st].dependencies;if(ct)for(let ut=0;ut<ct.length;++ut)if(et[ct[ut]])lt.addDependency(et[ct[ut]]);else{const dt=new a.GlslLibRoutineNode(ct[ut]);et[ct[ut]]=dt,lt.addDependency(dt)}}}}preprocess(){const tt=this.context.programInfo;let nt=tt.shaderSource;return this.context.programInfo.hasMain||(nt=`${nt}
      ${(0,_e.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),nt=(0,_.replaceInlines)(nt),`${(0,_e.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(tt.inputNames,tt.variables)}
    ${this.getImports(nt)}
    ${nt}`}getImports(tt){const nt=this.selectGlslLibRoutinesToBeIncluded(tt);if(nt.length===0)return"";let it="";for(let ot=0;ot<nt.length;++ot){if(!nt[ot].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${nt[ot].name}`);it+=nt[ot].routineBody+`
`}return it}selectGlslLibRoutinesToBeIncluded(tt){const nt=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(it=>{const ot=it.split(".")[1];tt.indexOf(ot)!==-1&&nt.push(this.glslLibRoutineDependencyGraph[it])}),a.TopologicalSortGlslRoutines.returnOrderedNodes(nt)}getUniforms(tt,nt){const it=[];if(tt)for(const ot of tt)it.push(`uniform sampler2D ${ot};`);if(nt)for(const ot of nt)it.push(`uniform ${ot.type} ${ot.name}${ot.arrayLength?`[${ot.arrayLength}]`:""};`);return it.join(`
`)}}},5483:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.glslRegistry=void 0;const a=s(5107),_=s(7341),$=s(9894),_e=s(2655),tt=s(3891);o.glslRegistry={encoding:_.EncodingGlslLib,fragcolor:$.FragColorGlslLib,vec:tt.VecGlslLib,shapeUtils:_e.ShapeUtilsGlslLib,coordinates:a.CoordsGlslLib}},2655:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ShapeUtilsGlslLib=void 0;const a=s(8520);class _ extends a.GlslLib{constructor(_e){super(_e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const _e=this.context.outputTextureLayout.shape.length,tt={};return this.context.programInfo.inputNames.forEach((nt,it)=>{const ot=this.context.inputTextureLayouts[it].unpackedShape;if(ot.length<=_e){const et=ot.length,j=_e-et,rt=`bcastIndices_${nt}`;let st="";for(let lt=0;lt<et;++lt)st+=`
          realIndices[${lt}] = int( mod(float(bcastedIndices[${j+lt}]), ${ot[lt]}.0) );
          `;const at=`
        void ${rt} (int bcastedIndices[${_e}], out int realIndices[${et}]) {
          ${st}
        }
        `;tt[rt]=new a.GlslLibRoutine(at)}}),tt}bcastMatmulIndex(){const _e=this.context.outputTextureLayout.shape.length,tt={};return this.context.programInfo.inputNames.forEach((nt,it)=>{const ot=this.context.inputTextureLayouts[it].shape;if(!(ot.length<2||ot.length>_e)){const et=ot.length,j=_e-et,rt=`bcastMatmulIndices_${nt}`;let st="";for(let lt=0;lt<et-2;++lt)st+=`
          realIndices[${lt}] = int( mod(float(bcastedIndices[${j+lt}]), ${ot[lt]}.0) );
          `;const at=`
        void ${rt}(int bcastedIndices[${_e}], out int realIndices[${et}]) {
          ${st}
          realIndices[${et-1}] = bcastedIndices[${_e-1}];
          realIndices[${et-2}] = bcastedIndices[${_e-2}];
        }
        `;tt[rt]=new a.GlslLibRoutine(at)}}),tt}indicesToOffset(){const _e={};return this.context.programInfo.inputNames.forEach((tt,nt)=>{const it=this.context.inputTextureLayouts[nt].shape,ot=this.context.inputTextureLayouts[nt].strides,et=it.length;let j=`indicesToOffset_${tt}`;_e[j]=new a.GlslLibRoutine(_.indexToOffsetSingle(j,et,ot)),j=`indicesToOffset_${tt}_T`,_e[j]=new a.GlslLibRoutine(_.indexToOffsetSingle(j,et,ot.slice().reverse()))}),_e}static indexToOffsetSingle(_e,tt,nt){let it="";for(let ot=tt-1;ot>=0;--ot)it+=`
        offset += indices[${ot}] * ${nt[ot]};
        `;return`
      int ${_e}(int indices[${tt}]) {
        int offset = 0;
        ${it}
        return offset;
      }
      `}offsetToIndices(){const _e={};return this.context.programInfo.inputNames.forEach((tt,nt)=>{const it=this.context.inputTextureLayouts[nt].shape,ot=this.context.inputTextureLayouts[nt].strides,et=it.length;let j=`offsetToIndices_${tt}`;_e[j]=new a.GlslLibRoutine(_.offsetToIndicesSingle(j,et,ot)),j=`offsetToIndices_${tt}_T`,_e[j]=new a.GlslLibRoutine(_.offsetToIndicesSingle(j,et,ot.slice().reverse()))}),_e}static offsetToIndicesSingle(_e,tt,nt){const it=[];for(let ot=0;ot<tt-1;++ot)it.push(`
      indices[${ot}] = offset / ${nt[ot]};`),it.push(`
        offset -= indices[${ot}] * ${nt[ot]};`);return it.push(`
      indices[${tt-1}] = offset;`),`
      void ${_e}(int offset, out int indices[${tt}]) {
        ${it.join("")}
      }
      `}incrementIndices(){const _e={};return this.context.programInfo.inputNames.forEach((tt,nt)=>{const it=this.context.inputTextureLayouts[nt].shape,ot=it.length,et=`incrementIndices_${tt}`;let j="";for(let st=0;st<ot;++st)j+=`
        shape[${st}] = ${it[st]};`;const rt=`
        void ${et}(int axis, out int indices[${ot}]) {
          int shape[${ot}];
          ${j};
          for(int i = ${ot} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;_e[et]=new a.GlslLibRoutine(rt)}),_e}}o.ShapeUtilsGlslLib=_},5060:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getDefaultFragShaderMain=o.getFragShaderPreamble=o.getVertexShaderSource=o.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},a={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function _($){return $===1?s:a}o.getGlsl=_,o.getVertexShaderSource=function($){const _e=_($);return`${_e.version}
      precision highp float;
      ${_e.attribute} vec3 position;
      ${_e.attribute} vec2 textureCoord;

      ${_e.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},o.getFragShaderPreamble=function($){const _e=_($);return`${_e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${_e.varyingFrag} vec2 TexCoords;
    ${_e.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},o.getDefaultFragShaderMain=function($,_e){return`
  void main() {
    int indices[${_e}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${_($).output} = result;
  }
  `}},3891:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VecGlslLib=void 0;const a=s(8520);class _ extends a.GlslLib{constructor(_e){super(_e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const _e=this.context.outputTextureLayout.shape.length,tt={add:"+=",sub:"-=",mul:"*=",div:"/="},nt={};for(const it in tt){const ot=`${it}Vec`;let et="";for(let rt=0;rt<_e;++rt)et+=`
          dest[${rt}] ${tt[it]} src[${rt}];
          `;const j=`
        void ${ot}(int src[${_e}], out int dest[${_e}]) {
          ${et}
        }
        `;nt[ot]=new a.GlslLibRoutine(j)}return nt}copyVec(){const _e=this.context.outputTextureLayout.shape.length;let tt="";for(let it=0;it<_e;++it)tt+=`
        dest[${it}] = src[${it}];
        `;const nt=`
      void copyVec(int src[${_e}], out int dest[${_e}]) {
        ${tt}
      }
      `;return{copyVec:new a.GlslLibRoutine(nt)}}setVecItem(){const _e=this.context.outputTextureLayout.shape.length;let tt=`
        if(index < 0)
            index =${_e} + index;
        if (index == 0)
            m[0] = value;
        `;for(let it=1;it<_e-1;++it)tt+=`
        else if (index == ${it})
            m[${it}] = value;
            `;tt+=`
        else
            m[${_e-1}] = value;
        `;const nt=`
      void setVecItem(out int m[${_e}], int index, int value) {
        ${tt}
      }
        `;return{setVecItem:new a.GlslLibRoutine(nt)}}getVecItem(){const _e=this.context.outputTextureLayout.shape.length;let tt=`
        if(index < 0)
            index = ${_e} + index;
        if (index == 0)
            return m[0];
      `;for(let it=1;it<_e-1;++it)tt+=`
        else if (index == ${it})
            return m[${it}];
      `;tt+=`
        else
            return m[${_e-1}];
        `;const nt=`
      int getVecItem(int m[${_e}], int index) {
        ${tt}
      }
    `;return{getVecItem:new a.GlslLibRoutine(nt)}}}o.VecGlslLib=_},8316:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLInferenceHandler=void 0;const a=s(6231),_=s(9162),$=s(2517),_e=s(2403),tt=s(7019),nt=s(8710),it=s(5611),ot=s(4057),et=s(2039);o.WebGLInferenceHandler=class{constructor(j){this.session=j,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(j,rt){return(0,ot.calculateTextureWidthAndHeight)(this.session.layoutStrategy,j,rt)}executeProgram(j,rt){if(rt.length<j.inputNames.length)throw new Error(`Input size mustn't be less than ${j.inputNames.length}.`);if(j.inputNames.length!==j.inputTypes.length)throw new Error("input names size does not match input types");const st=[];for(let ft=0;ft<j.inputNames.length;++ft)st[ft]=this.getOrCreateTextureData(rt[ft],j.inputTypes[ft]);const at=((ft,ht)=>{const mt=ht.map(yt=>`${yt.unpackedShape.join(",")};${yt.width}x${yt.height}`).join("_");let bt=ft.name;return ft.cacheHint&&(bt+="["+ft.cacheHint+"]"),bt+=":"+mt,bt})(j,st);let lt=this.session.programManager.getArtifact(at);const ct=lt?lt.programInfo:typeof j.get=="function"?j.get():j,ut=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ct.output.dims,ct.output.textureType),dt=this.createTextureData(ut,ct.output.type);return lt||(lt=this.session.programManager.build(ct,st,dt),this.session.programManager.setArtifact(at,lt)),this.runProgram(lt,st,dt),dt}run(j,rt){return this.executeProgram(j,rt).tensor}runProgram(j,rt,st){for(let at=0;at<rt.length;++at)if(!!rt[at].isPacked!=(j.programInfo.inputTypes[at]===et.TextureType.packed))throw new Error(`input[${at}] property packed inconsistent`);if(!!st.isPacked!=(j.programInfo.output.textureType===et.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(j,rt,st)}getOrCreateTextureData(j,rt){let st=this.getTextureData(j.dataId,rt===et.TextureType.packed);if(!st&&(st=this.getTextureData(j.dataId,rt!==et.TextureType.packed),st))return rt===et.TextureType.packed?this.pack(st):this.unpack(st);if(!st){const at=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,j.dims,rt);if(rt===et.TextureType.packedLastDimension){const ut=j.dims;if(ut.length===4){const dt=[ut[0],Math.ceil(ut[1]*ut[2]*ut[3]/4)],ft=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,dt,rt);let ht=j.numberData;if(ut[1]*ut[2]*ut[3]%4!=0){const mt=ut[0],bt=ut[1]*ut[2]*ut[3],yt=Math.ceil(bt*1/4)*4;ht=new Float32Array(mt*yt);for(let gt=0;gt<mt;++gt){const vt=gt*bt,wt=gt*yt+gt%1*bt;ht.set(j.numberData.subarray(vt,vt+bt),wt)}}return this.createTextureData(ft,j.type,ht,j,1)}}if(rt===et.TextureType.packed){const lt=(0,ot.createTextureLayoutFromShape)(this.session.layoutStrategy,j.dims,1,[],{reverseWH:!0}),ct=this.createTextureData(lt,j.type,j.numberData,j,1);st=this.pack(ct)}else st=this.createTextureData(at,j.type,j.numberData,j,1)}return st}createTextureDataFromLayoutBindTensor(j,rt,st,at){return this.createTextureData(j,rt,st,at,1)}createTextureData(j,rt,st,at,lt){a.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(j)}]`);const ct=this.session.textureManager.createTextureFromLayout(rt,j,st,lt);return this.createTextureDataFromTexture(j,rt,ct,at)}reshapeUnpacked(j,rt){const st=this.getOrCreateTextureData(j,et.TextureType.unpacked),at={channels:st.channels,height:st.height,width:st.width,shape:rt.length!==0?rt:[1],strides:$.ShapeUtil.computeStrides(rt),unpackedShape:rt};return this.createTextureDataFromTexture(at,j.type,st.texture).tensor}reshapePacked(j,rt){const st=this.getOrCreateTextureData(j,et.TextureType.packed);if((0,tt.isReshapeCheap)(j.dims,rt)){const dt={channels:st.channels,height:st.height,width:st.width,shape:rt.length!==0?rt:[1],strides:$.ShapeUtil.computeStrides(rt),unpackedShape:rt,isPacked:!0};return this.createTextureDataFromTexture(dt,j.type,st.texture).tensor}const at=(0,tt.processDims3D)(j.dims),lt=(0,tt.processDims3D)(rt),ct=this.reshapePacked(j,at),ut=this.run((0,tt.createPackedReshape3DProgramInfoLoader)(this,ct,lt),[ct]);return this.reshapePacked(ut,rt)}cast(j,rt){const st=this.getOrCreateTextureData(j,et.TextureType.unpacked);return this.createTextureDataFromTexture(st,rt,st.texture).tensor}createTextureDataFromTexture(j,rt,st,at,lt){const ct=Object.assign(Object.assign({},j),{tensor:at||new _.Tensor(j.unpackedShape,rt,ut=>this.readTexture(ct),async ut=>this.readTextureAsync(ct),void 0,lt),texture:st});return this.setTextureData(ct.tensor.dataId,ct,j.isPacked),ct}getTextureData(j,rt=!1){return this.session.isInitializer(j)?this.session.getTextureData(j,rt):rt?this.packedTextureDataCache.get(j):this.unpackedTextureDataCache.get(j)}setTextureData(j,rt,st=!1){this.session.isInitializer(j)?this.session.setTextureData(j,rt,st):(st?this.packedTextureDataCache:this.unpackedTextureDataCache).set(j,rt)}isTextureLayoutCached(j,rt=!1){return!!this.getTextureData(j.dataId,rt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(j=>this.session.textureManager.releaseTexture(j)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(j=>this.session.textureManager.releaseTexture(j)),this.unpackedTextureDataCache=new Map}readTexture(j){return j.isPacked?this.readTexture(this.unpack(j)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(j,j.tensor.type,j.channels):this.session.textureManager.readUint8TextureAsFloat((0,nt.encodeAsUint8)(this,j))}async readTextureAsync(j){return j.isPacked?this.readTextureAsync(this.unpack(j)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(j,j.tensor.type,j.channels):this.session.textureManager.readUint8TextureAsFloat((0,nt.encodeAsUint8)(this,j))}pack(j){return this.executeProgram((0,_e.createPackProgramInfoLoader)(this,j.tensor),[j.tensor])}unpack(j){return this.executeProgram((0,it.createUnpackProgramInfoLoader)(this,j.tensor),[j.tensor])}}},1640:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function($t,Ft,Ut,Kt){Kt===void 0&&(Kt=Ut);var ar=Object.getOwnPropertyDescriptor(Ft,Ut);ar&&!("get"in ar?!Ft.__esModule:ar.writable||ar.configurable)||(ar={enumerable:!0,get:function(){return Ft[Ut]}}),Object.defineProperty($t,Kt,ar)}:function($t,Ft,Ut,Kt){Kt===void 0&&(Kt=Ut),$t[Kt]=Ft[Ut]}),_=this&&this.__setModuleDefault||(Object.create?function($t,Ft){Object.defineProperty($t,"default",{enumerable:!0,value:Ft})}:function($t,Ft){$t.default=Ft}),$=this&&this.__importStar||function($t){if($t&&$t.__esModule)return $t;var Ft={};if($t!=null)for(var Ut in $t)Ut!=="default"&&Object.prototype.hasOwnProperty.call($t,Ut)&&a(Ft,$t,Ut);return _(Ft,$t),Ft};Object.defineProperty(o,"__esModule",{value:!0}),o.WEBGL_OP_RESOLVE_RULES=void 0;const _e=s(2898),tt=$(s(7839)),nt=s(4196),it=s(2069),ot=s(8138),et=s(9663),j=s(5193),rt=s(7992),st=s(1253),at=s(4776),lt=s(6572),ct=s(3346),ut=s(5623),dt=s(2870),ft=s(2143),ht=s(4939),mt=s(718),bt=s(2268),yt=s(8117),gt=s(2278),vt=s(5524),wt=s(5975),Ct=s(3933),Rt=s(6558),It=s(5723),Pt=s(3738),St=$(s(4909)),Ot=s(8428),At=s(9793);o.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",St.abs],["Acos","","7+",St.acos],["Add","","7+",tt.add],["And","","7+",tt.and],["Asin","","7+",St.asin],["Atan","","7+",St.atan],["AveragePool","","7+",ft.averagePool,ft.parseAveragePoolAttributes],["BatchNormalization","","7+",_e.batchNormalization,_e.parseBatchNormalizationAttributes],["Cast","","6+",nt.cast,nt.parseCastAttributes],["Ceil","","6+",St.ceil],["Clip","","6-10",St.clip,St.parseClipAttributes],["Clip","","11+",St.clipV11],["Concat","","4+",it.concat,it.parseConcatAttributes],["Conv","","1+",ot.conv,ot.parseConvAttributes],["ConvTranspose","","1+",et.convTranspose,et.parseConvTransposeAttributes],["Cos","","7+",St.cos],["Div","","7+",tt.div],["Dropout","","7+",St.identity],["DepthToSpace","","1+",j.depthToSpace,j.parseDepthToSpaceAttributes],["Equal","","7+",tt.equal],["Elu","","6+",St.elu,St.parseEluAttributes],["Exp","","6+",St.exp],["Flatten","","1+",rt.flatten,rt.parseFlattenAttributes],["Floor","","6+",St.floor],["FusedConv","com.microsoft","1+",ot.conv,ot.parseConvAttributes],["Gather","","1+",st.gather,st.parseGatherAttributes],["Gemm","","7-10",at.gemm,at.parseGemmAttributesV7],["Gemm","","11+",at.gemm,at.parseGemmAttributesV11],["GlobalAveragePool","","1+",ft.globalAveragePool,ft.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",ft.globalMaxPool],["Greater","","7+",tt.greater],["Identity","","1+",St.identity],["ImageScaler","","1+",lt.imageScaler,lt.parseImageScalerAttributes],["InstanceNormalization","","6+",ct.instanceNormalization,ct.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",St.leakyRelu,St.parseLeakyReluAttributes],["Less","","7+",tt.less],["Log","","6+",St.log],["MatMul","","1+",ut.matMul,ut.parseMatMulAttributes],["MaxPool","","1+",ft.maxPool,ft.parseMaxPoolAttributes],["Mul","","7+",tt.mul],["Neg","","6+",St.neg],["Not","","1+",St.not],["Or","","7+",tt.or],["Pad","","2-10",dt.padV2,dt.parsePadAttributesV2],["Pad","","11+",dt.padV11,dt.parsePadAttributesV11],["Pow","","7+",tt.pow],["PRelu","","7+",tt.pRelu],["ReduceLogSum","","1+",ht.reduceLogSum,ht.parseReduceAttributes],["ReduceMax","","1+",ht.reduceMax,ht.parseReduceAttributes],["ReduceMean","","1+",ht.reduceMean,ht.parseReduceAttributes],["ReduceMin","","1+",ht.reduceMin,ht.parseReduceAttributes],["ReduceProd","","1+",ht.reduceProd,ht.parseReduceAttributes],["ReduceSum","","1-12",ht.reduceSum,ht.parseReduceAttributes],["ReduceSumSquare","","1+",ht.reduceLogSumSquare,ht.parseReduceAttributes],["Relu","","6+",St.relu],["Reshape","","5+",mt.reshape],["Resize","","10",bt.resize,bt.parseResizeAttributesV10],["Resize","","11+",bt.resize,bt.parseResizeAttributesV11],["Shape","","1+",yt.shape],["Sigmoid","","6+",St.sigmoid],["Sin","","7+",St.sin],["Slice","","10+",gt.sliceV10],["Slice","","1-9",gt.slice,gt.parseSliceAttributes],["Softmax","","1-12",vt.softmax,vt.parseSoftmaxAttributes],["Softmax","","13+",vt.softmaxV13,vt.parseSoftmaxAttributesV13],["Split","","2-12",wt.split,wt.parseSplitAttributes],["Sqrt","","6+",St.sqrt],["Squeeze","","1-12",Ct.squeeze,Ct.parseSqueezeAttributes],["Squeeze","","13+",Ct.squeezeV13],["Sub","","7+",tt.sub],["Sum","","6+",Rt.sum],["Tan","","7+",St.tan],["Tanh","","6+",St.tanh],["Tile","","6+",It.tile],["Transpose","","1+",Pt.transpose,Pt.parseTransposeAttributes],["Upsample","","7-8",At.upsample,At.parseUpsampleAttributesV7],["Upsample","","9",At.upsample,At.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Ot.unsqueeze,Ot.parseUnsqueezeAttributes],["Unsqueeze","","13+",Ot.unsqueezeV13],["Xor","","7+",tt.xor]]},2898:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseBatchNormalizationAttributes=o.batchNormalization=void 0;const a=s(246),_=s(5060),$=s(2039),_e={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]};o.batchNormalization=(it,ot,et)=>(nt(ot),[it.run(Object.assign(Object.assign({},_e),{cacheHint:et.cacheKey,get:()=>tt(it,ot,et)}),ot)]),o.parseBatchNormalizationAttributes=it=>{const ot=it.attributes.getFloat("epsilon",1e-5),et=it.attributes.getFloat("momentum",.9),j=it.attributes.getInt("spatial",1);return(0,a.createAttributeWithCacheKey)({epsilon:ot,momentum:et,spatial:j})};const tt=(it,ot,et)=>{const j=(0,_.getGlsl)(it.session.backend.glContext.version),rt=ot[0].dims.length,[st,at]=it.calculateTextureWidthAndHeight(ot[1].dims,$.TextureType.unpacked),lt=`
  float process(int[${rt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${st}, ${at});
    float scale = getColorAsFloat(${j.texture2D}(Scale, position));
    float mean = getColorAsFloat(${j.texture2D}(Mean, position));
    float variance = getColorAsFloat(${j.texture2D}(Variance, position));
    float b = getColorAsFloat(${j.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${et.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},_e),{output:{dims:ot[0].dims,type:ot[0].type,textureType:$.TextureType.unpacked},shaderSource:lt})},nt=it=>{if(!it||it.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const ot=it[0],et=it[1],j=it[2],rt=it[3],st=it[4];if(ot.dims.length<3||et.dims.length!==1||j.dims.length!==1||rt.dims.length!==1||st.dims.length!==1)throw new Error("invalid input shape.");if(et.dims[0]!==ot.dims[1]||j.dims[0]!==ot.dims[1]||rt.dims[0]!==ot.dims[1]||st.dims[0]!==ot.dims[1])throw new Error("invalid input shape.");if(ot.type!=="float32"&&ot.type!=="float64"||et.type!=="float32"&&et.type!=="float64"||j.type!=="float32"&&j.type!=="float64"||rt.type!=="float32"&&rt.type!=="float64"||st.type!=="float32"&&st.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.xor=o.sub=o.pRelu=o.pow=o.or=o.mul=o.less=o.greater=o.equal=o.div=o.and=o.add=o.glslPRelu=o.glslPow=o.glslXor=o.glslOr=o.glslAnd=o.glslLess=o.glslGreater=o.glslEqual=o.glslSub=o.glslMul=o.glslDiv=o.glslAdd=void 0;const a=s(2517),_=s(8520),$=s(5060),_e=s(2039);function tt(){const ht="add_";return{body:`
  float ${ht}(float a, float b) {
    return a + b;
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function nt(){const ht="div_";return{body:`
  float ${ht}(float a, float b) {
    return a / b;
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function it(){const ht="mul_";return{body:`
  float ${ht}(float a, float b) {
    return a * b;
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function ot(){const ht="sub_";return{body:`
  float ${ht}(float a, float b) {
    return a - b;
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function et(){const ht="equal_";return{body:`
  float ${ht}(float a, float b) {
    return float(a == b);
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function j(){const ht="greater_";return{body:`
  float ${ht}(float a, float b) {
    return float(a > b);
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function rt(){const ht="less_";return{body:`
  float ${ht}(float a, float b) {
    return float(a < b);
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function st(){const ht="and_";return{body:`
  float ${ht}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function at(){const ht="or_";return{body:`
  float ${ht}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function lt(){const ht="xor_";return{body:`
  float ${ht}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}function ct(){return function(ht){const mt=`${ht}_`;return{body:`
  float ${mt}(float a, float b) {
    return ${ht}(a, b);
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return ${ht}(v1, v2);
  }
  `,name:mt,type:_.FunctionType.ValueBased}}("pow")}function ut(){const ht="prelu_";return{body:`
  float ${ht}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${ht}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:ht,type:_.FunctionType.ValueBased}}o.glslAdd=tt,o.glslDiv=nt,o.glslMul=it,o.glslSub=ot,o.glslEqual=et,o.glslGreater=j,o.glslLess=rt,o.glslAnd=st,o.glslOr=at,o.glslXor=lt,o.glslPow=ct,o.glslPRelu=ut;const dt=(ht,mt,bt,yt=mt[0].type,gt)=>{const vt=ht.session.pack?_e.TextureType.packed:_e.TextureType.unpacked;return{name:bt.name,inputNames:["A","B"],inputTypes:[vt,vt],cacheHint:gt,get:()=>ft(ht,mt,bt,yt)}},ft=(ht,mt,bt,yt=mt[0].type)=>{const gt=ht.session.pack?_e.TextureType.packed:_e.TextureType.unpacked,vt=!a.ShapeUtil.areEqual(mt[0].dims,mt[1].dims);let wt=mt[0].dims;const Ct=ht.session.pack;if(vt){const Pt=a.BroadcastUtil.calcShape(mt[0].dims,mt[1].dims,!1);if(!Pt)throw new Error("Can't perform binary op on the given tensors");wt=Pt;const St=wt.length,Ot=mt[0].dims.length!==0?mt[0].dims.length:1,At=mt[1].dims.length!==0?mt[1].dims.length:1,$t=mt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Ft=mt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Ut=(0,$.getGlsl)(ht.session.backend.glContext.version),Kt=Ct?`
      ${bt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${bt.name}(a, b);
        ${Ut.output} = result;
      }`:`
      ${bt.body}
      float process(int indices[${St}]) {
        int aindices[${Ot}];
        int bindices[${At}];
        ${$t}
        ${Ft}
        return ${bt.name}(_A(aindices), _B(bindices));
      }`;return{name:bt.name,inputNames:["A","B"],inputTypes:[gt,gt],output:{dims:wt,type:yt,textureType:gt},shaderSource:Kt,hasMain:Ct}}const Rt=(0,$.getGlsl)(ht.session.backend.glContext.version),It=`
    ${bt.body}
    void main() {
      vec4 v1 = ${Rt.texture2D}(A, TexCoords);
      vec4 v2 = ${Rt.texture2D}(B, TexCoords);
      vec4 result = ${bt.name}(v1, v2);
      ${Rt.output} = result;
    }
    `;return{name:bt.name,inputNames:["A","B"],inputTypes:[gt,gt],output:{dims:mt[0].dims,type:yt,textureType:gt},shaderSource:It,hasMain:!0}};o.add=(ht,mt)=>[ht.run(dt(ht,mt,tt()),mt)],o.and=(ht,mt)=>[ht.run(dt(ht,mt,st(),"bool"),mt)],o.div=(ht,mt)=>[ht.run(dt(ht,mt,nt()),mt)],o.equal=(ht,mt)=>[ht.run(dt(ht,mt,et(),"bool"),mt)],o.greater=(ht,mt)=>[ht.run(dt(ht,mt,j(),"bool"),mt)],o.less=(ht,mt)=>[ht.run(dt(ht,mt,rt(),"bool"),mt)],o.mul=(ht,mt)=>[ht.run(dt(ht,mt,it()),mt)],o.or=(ht,mt)=>[ht.run(dt(ht,mt,at(),"bool"),mt)],o.pow=(ht,mt)=>[ht.run(dt(ht,mt,ct()),mt)],o.pRelu=(ht,mt)=>[ht.run(dt(ht,mt,ut()),mt)],o.sub=(ht,mt)=>[ht.run(dt(ht,mt,ot()),mt)],o.xor=(ht,mt)=>[ht.run(dt(ht,mt,lt(),"bool"),mt)]},4196:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseCastAttributes=o.cast=void 0;const a=s(2517);o.cast=($,_e,tt)=>(_(_e),[$.cast(_e[0],tt)]),o.parseCastAttributes=$=>a.ProtoUtil.tensorDataTypeFromProto($.attributes.getInt("to"));const _=$=>{if(!$||$.length!==1)throw new Error("Cast requires 1 input.");if($[0].type==="string")throw new Error("Invalid input type.")}},1163:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedConcatProgramInfoLoader=void 0;const a=s(5060),_=s(2039),$=s(9390),_e=s(2827);o.createPackedConcatProgramInfoLoader=(nt,it,ot)=>{const et=(j=it.length,rt=ot.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:j},(st,at)=>`X${at}`),inputTypes:Array(j).fill(_.TextureType.packed),cacheHint:rt});var j,rt;return Object.assign(Object.assign({},et),{get:()=>((st,at,lt,ct)=>{const ut=lt[0].dims.slice();if(ct>=ut.length||ct<-1*ut.length)throw new Error("axis specified for concat doesn't match input dimensionality");ct<0&&(ct=ut.length+ct);const dt=ut.slice(0);for(let $t=1;$t<lt.length;$t++){const Ft=lt[$t].dims.slice();for(let Ut=0;Ut<ut.length;Ut++)if(Ut===ct)dt[ct]+=Ft[Ut];else if(ut[Ut]!==Ft[Ut])throw new Error("non concat dimensions must match")}const ft=dt.length,ht=(0,_e.getChannels)("coords",ft),mt=(0,$.getCoordsDataType)(ft),bt=(0,_e.unpackFromChannel)(),yt=lt.map($t=>$t.dims),gt=(0,$.getGlChannels)(ft),vt=new Array(yt.length-1);vt[0]=yt[0][ct];for(let $t=1;$t<vt.length;$t++)vt[$t]=vt[$t-1]+yt[$t][ct];const wt=gt[ct],Ct=gt.slice(-2),Rt=gt.join();let It=`if (${wt} < ${vt[0]}) {
        return getChannel(
            getX0(${Rt}), vec2(${Ct.join()}));
        }`;for(let $t=1;$t<vt.length;$t++){const Ft=vt[$t-1];It+=`
            if (${wt} < ${vt[$t]}  && ${wt} >= ${vt[$t-1]}) {
              return getChannel(
                getX${$t}(${tt(gt,wt,Ft)}),
                vec2(${tt(Ct,wt,Ft)}));
            }`}const Pt=vt.length,St=vt[vt.length-1];It+=`
            return getChannel(
              getX${Pt}(${tt(gt,wt,St)}),
              vec2(${tt(Ct,wt,St)}));`;const Ot=(0,a.getGlsl)(st.session.backend.glContext.version),At=`
          ${bt}
          float getValue(${gt.map($t=>"int "+$t)}) {
            ${It}
          }

          void main() {
            ${mt} coords = getOutputCoords();
            int lastDim = coords.${gt[ft-1]};
            coords.${gt[ft-1]} = coords.${gt[ft-2]};
            coords.${gt[ft-2]} = lastDim;

            vec4 result = vec4(getValue(${ht}), 0., 0., 0.);

            ${ht[ft-1]} = ${ht[ft-1]} + 1;
            if (${ht[ft-1]} < ${dt[ft-1]}) {
              result.g = getValue(${ht});
            }

            ${ht[ft-2]} = ${ht[ft-2]} + 1;
            if (${ht[ft-2]} < ${dt[ft-2]}) {
              result.a = getValue(${ht});
            }

            ${ht[ft-1]} = ${ht[ft-1]} - 1;
            if (${ht[ft-2]} < ${dt[ft-2]} &&
                ${ht[ft-1]} < ${dt[ft-1]}) {
              result.b = getValue(${ht});
            }
            ${Ot.output} = result;
          }
        `;return Object.assign(Object.assign({},at),{output:{dims:dt,type:lt[0].type,textureType:_.TextureType.packed},shaderSource:At,hasMain:!0})})(nt,et,it,ot.axis)})};const tt=(nt,it,ot)=>{const et=nt.indexOf(it);return nt.map((j,rt)=>rt===et?`${j} - ${ot}`:j).join()}},2069:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConcatAttributes=o.concat=void 0;const a=s(246),_=s(2039),$=s(1163);o.concat=(j,rt,st)=>(et(rt),j.session.pack&&rt[0].dims.length>1?[j.run((0,$.createPackedConcatProgramInfoLoader)(j,rt,st),rt)]:[j.run(_e(j,rt,st),rt)]);const _e=(j,rt,st)=>{const at=(lt=rt.length,ct=st.cacheKey,{name:"Concat",inputNames:Array.from({length:lt},(ut,dt)=>`X${dt}`),inputTypes:Array(lt).fill(_.TextureType.unpacked),cacheHint:ct});var lt,ct;return Object.assign(Object.assign({},at),{get:()=>((ut,dt,ft,ht)=>{const mt=ft[0].dims.slice();if(ht>=mt.length||ht<-1*mt.length)throw new Error("axis specified for concat doesn't match input dimensionality");ht<0&&(ht=mt.length+ht);const bt=mt.slice(0);for(let Rt=1;Rt<ft.length;Rt++){const It=ft[Rt].dims.slice();for(let Pt=0;Pt<mt.length;Pt++)if(Pt===ht)bt[ht]+=It[Pt];else if(mt[Pt]!==It[Pt])throw new Error("non concat dimensions must match")}const yt=bt.length,gt=new Array(ft.length);let vt=0;for(let Rt=0;Rt<gt.length;++Rt)vt+=ft[Rt].dims[ht],gt[Rt]=vt;let wt="";wt=ft.length<5?tt(gt):nt(gt);const Ct=`
        ${it(ft.length,yt)}
        ${ot(gt)}
        ${wt}
        float process(int indices[${yt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${ht}]);

          if(textureIndex != 0) {
            indices[${ht}] = indices[${ht}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},dt),{output:{dims:bt,type:ft[0].type,textureType:_.TextureType.unpacked},shaderSource:Ct})})(0,at,rt,st.axis)})},tt=j=>`int getTextureWhereDataResides(int index) {
      ${j.map((rt,st)=>`if(index<${rt}) {return ${st};}
`).join("")}
    }`,nt=j=>tt(j),it=(j,rt)=>{const st=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${rt}]) {`];for(let at=0;at<j;++at)at===0?st.push(`	if (textureIndex == ${at}) { return _X${at}(indices); }`):at===j-1?st.push(`	else { return _X${at}(indices); }`):st.push(`	else if (textureIndex == ${at}) { return _X${at}(indices); }`);return st.push("	}"),st.join(`
`)},ot=j=>{const rt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let st=0;st<j.length;++st)st===0?rt.push(`	if (index == ${st}) { return ${j[st]}; }`):st===j.length-1?rt.push(`	else { return ${j[st]}; }`):rt.push(`	else if (index == ${st}) { return ${j[st]}; }`);return rt.push("	}"),rt.join(`
`)};o.parseConcatAttributes=j=>(0,a.createAttributeWithCacheKey)({axis:j.attributes.getInt("axis")});const et=j=>{if(!j||j.length<1)throw new Error("too few inputs");const rt=j[0].type,st=j[0].dims.length;if(rt==="string")throw new Error("string tensor is not supported yet");for(const at of j){if(at.type!==rt)throw new Error("input tensors should be one type");if(at.dims.length!==st)throw new Error("input tensors should have the same shape")}}},4770:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackedGroupedConvProgramInfoLoader=void 0;const a=s(6231),_=s(5060),$=s(2039),_e=s(8138),tt=s(2823);o.createUnpackedGroupedConvProgramInfoLoader=(nt,it,ot)=>{const et=(j=it.length>2,rt=ot.cacheKey,{name:"GroupedConv",inputNames:j?["X","W","Bias"]:["X","W"],inputTypes:j?[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.unpacked],cacheHint:rt});var j,rt;return Object.assign(Object.assign({},et),{get:()=>((st,at,lt,ct)=>{const ut=at.length>2?"value += getBias(output_channel);":"",dt=at[0].dims.slice(),ft=at[1].dims.slice(),ht=ft[0]/ct.group;a.Logger.verbose("GroupedConv",`autpPad:${ct.autoPad}, dilations:${ct.dilations}, group:${ct.group}, kernelShape:${ct.kernelShape}, pads:${ct.pads}, strides:${ct.strides}`);const mt=(0,_e.calculateOutputShape)(dt,ft,ct.dilations,ct.pads,ct.strides),bt=(0,_.getGlsl)(st.session.backend.glContext.version),{activationFunction:yt,applyActivation:gt}=(0,tt.getActivationSnippet)(ct),vt=`
  const ivec2 strides = ivec2(${ct.strides[0]}, ${ct.strides[1]});
  const ivec2 pads = ivec2(${ct.pads[0]}, ${ct.pads[1]});
  ${yt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${ht};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${ft[1]}; wInChannel++) {
      int input_channel = group_id * ${ft[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${ft[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${ct.dilations[0]};

        if (xHeight < 0 || xHeight >= ${dt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${ft[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${ct.dilations[1]};
          if (xWidth < 0 || xWidth >= ${dt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${ut}
    ${gt}
    ${bt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},lt),{output:{dims:mt,type:at[0].type,textureType:$.TextureType.unpacked},shaderSource:vt,hasMain:!0})})(nt,it,et,ot)})}},1386:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.conv2DPacked=o.conv2DPackedPointwise=void 0;const a=s(8138),_=s(8555),$=s(708);o.conv2DPackedPointwise=(_e,tt,nt)=>{const it=tt[0].dims,ot=tt[1].dims,et=(0,a.calculateOutputShape)(it,ot,nt.dilations,nt.pads,nt.strides),j=_e.reshapePacked(tt[0],[it[1],it[2]*it[3]]),rt=_e.reshapePacked(tt[1],[ot[0],ot[1]]),st=tt.length>2?[rt,j,tt[2]]:[rt,j],at=_e.run((0,$.createPackedMatmulProgramInfoLoader)(_e,st,nt),st);return _e.reshapePacked(at,et)},o.conv2DPacked=(_e,tt,nt)=>{const it=tt[0].dims,ot=tt[1].dims,et=(0,a.calculateOutputShape)(it,ot,nt.dilations,nt.pads,nt.strides),j=_e.run((0,_.createPackedIm2ColProgramInfoLoader)(_e,tt[0],tt[1],et,nt),[tt[0]]),rt=_e.reshapePacked(tt[1],[ot[0],ot[1]*ot[2]*ot[3]]),st=tt.length===3?[rt,j,tt[2]]:[rt,j],at=_e.run((0,$.createPackedMatmulProgramInfoLoader)(_e,st,nt),st);return _e.reshapePacked(at,et)}},9663:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvTransposeAttributes=o.convTranspose=void 0;const a=s(246),_=s(5060),$=s(2039),_e=s(2823),tt=(rt,st,at,lt,ct,ut)=>(rt-1)*st+at+(lt-1)*ct+1-ut,nt=(rt,st,at,lt,ct)=>{const ut=Math.floor(rt/2);st==="SAME_UPPER"?(at[lt]=ut,at[ct]=rt-ut):st==="SAME_LOWER"&&(at[lt]=rt-ut,at[ct]=ut)};o.convTranspose=(rt,st,at)=>(j(st,at),it(rt,st,at));const it=(rt,st,at)=>{const lt=et(at,st);return[ot(rt,st,lt)]},ot=(rt,st,at)=>rt.run(((lt,ct,ut)=>{const dt=(ft=ct.length>2,ht=ut.cacheKey,{name:"ConvTranspose",inputNames:ft?["X","W","B"]:["X","W"],inputTypes:ft?[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.unpacked],cacheHint:ht});var ft,ht;return Object.assign(Object.assign({},dt),{get:()=>((mt,bt,yt,gt)=>{const vt=bt.length>2?"getB(output_channel)":"0.0",wt=bt[0].dims,Ct=bt[1].dims,Rt=Ct[1],It=Ct[0]/gt.group,Pt=[bt[0].dims[0],bt[1].dims[1]*gt.group,...gt.outputShape],St=(0,_.getGlsl)(mt.session.backend.glContext.version),{activationFunction:Ot,applyActivation:At}=(0,_e.getActivationSnippet)(gt),$t=`
  const ivec2 strides = ivec2(${gt.strides[0]}, ${gt.strides[1]});
  const ivec2 pads = ivec2(${gt.pads[0]}, ${gt.pads[1]});
  ${Ot}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Rt};
    int wOutChannel = output_channel - group_id * ${Rt};

    float value = ${vt};
    for (int inChannelOffset = 0; inChannelOffset < ${It}; inChannelOffset++) {
      int input_channel = group_id * ${It} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Ct[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Ct[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${gt.dilations[0]}, wHOff * ${gt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${wt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${wt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${At}
    ${St.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},yt),{output:{dims:Pt,type:bt[0].type,textureType:$.TextureType.unpacked},shaderSource:$t,hasMain:!0})})(lt,ct,dt,ut)})})(rt,st,at),st),et=(rt,st)=>{const at=rt.kernelShape.slice();if(rt.kernelShape.length===0)for(let dt=2;dt<st[1].dims.length;++dt)at.push(st[1].dims[dt]);const lt=rt.pads.slice(),ct=rt.outputShape.slice();((dt,ft,ht,mt,bt,yt,gt,vt)=>{const wt=dt.length-2,Ct=vt.length===0;for(let Rt=0;Rt<wt;++Rt){const It=Ct?dt[Rt+2]*yt[Rt]:vt[Rt],Pt=tt(dt[Rt+2],yt[Rt],bt[Rt],ft[Rt],ht[Rt],It);nt(Pt,mt,bt,Rt,Rt+wt),Ct&&vt.push(yt[Rt]*(dt[Rt+2]-1)+gt[Rt]+(ft[Rt]-1)*ht[Rt]+1-bt[Rt]-bt[Rt+wt])}})(st[0].dims,at,rt.dilations,rt.autoPad,lt,rt.strides,rt.outputPadding,ct);const ut=Object.assign({},rt);return Object.assign(ut,{kernelShape:at,pads:lt,outputShape:ct,cacheKey:rt.cacheKey}),ut};o.parseConvTransposeAttributes=rt=>{const st=rt.attributes,at=(0,_e.parseInternalActivationAttributes)(st),lt=st.getString("auto_pad","NOTSET"),ct=st.getInts("dilations",[1,1]),ut=st.getInt("group",1),dt=st.getInts("kernel_shape",[]),ft=st.getInts("output_padding",[0,0]),ht=st.getInts("output_shape",[]),mt=st.getInts("pads",[0,0,0,0]),bt=st.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:lt,dilations:ct,group:ut,kernelShape:dt,outputPadding:ft,outputShape:ht,pads:mt,strides:bt},at))};const j=(rt,st)=>{if(!rt||rt.length!==2&&rt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(rt[0].dims.length!==4||rt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(rt[0].dims[1]!==rt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const at=rt[1].dims[1]*st.group;if(rt.length===3&&(rt[2].dims.length!==1||rt[2].dims[0]!==at))throw new Error("invalid bias");const lt=rt[0].dims.length-2;if(st.dilations.length!==lt)throw new Error(`dilations should be ${lt}D`);if(st.strides.length!==lt)throw new Error(`strides should be ${lt}D`);if(st.pads.length!==2*lt)throw new Error(`pads should be ${2*lt}D`);if(st.outputPadding.length!==lt)throw new Error(`output_padding should be ${lt}D`);if(st.kernelShape.length!==0&&st.kernelShape.length!==rt[1].dims.length-2)throw new Error("invalid kernel shape");if(st.outputShape.length!==0&&st.outputShape.length!==rt[0].dims.length-2)throw new Error("invalid output shape");if(rt[0].type!=="float32"||rt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(rt.length===3&&rt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvAttributes=o.conv=o.calculateOutputShape=void 0;const a=s(246),_=s(2517),$=s(4770),_e=s(1386),tt=s(9828),nt=s(2823),it=s(3248),ot=s(5623);o.calculateOutputShape=(lt,ct,ut,dt,ft)=>{const ht=lt[0],mt=lt.slice(2),bt=mt.length,yt=ct[0],gt=ct.slice(2).map((wt,Ct)=>wt+(wt-1)*(ut[Ct]-1)),vt=mt.map((wt,Ct)=>wt+dt[Ct]+dt[Ct+bt]).map((wt,Ct)=>Math.floor((wt-gt[Ct]+ft[Ct])/ft[Ct]));return[ht,yt].concat(...vt)},o.conv=(lt,ct,ut)=>(at(ct,ut),et(lt,ct,ut));const et=(lt,ct,ut)=>{const dt=st(ut,ct),ft=lt.session.pack,ht=dt.kernelShape[0]===1&&dt.kernelShape[1]===1;return dt.group>1?[lt.run((0,$.createUnpackedGroupedConvProgramInfoLoader)(lt,ct,dt),ct)]:ht&&ft?[j(lt,ct,dt)]:ft&&ct[0].dims.length===4&&ct[0].dims[0]===1&&!ht?[(0,_e.conv2DPacked)(lt,ct,dt)]:[rt(lt,ct,dt)]},j=(lt,ct,ut)=>{const dt=ct[0].dims,ft=ct[1].dims,ht=(0,o.calculateOutputShape)(dt,ft,ut.dilations,ut.pads,ut.strides),mt=lt.reshapeUnpacked(ct[0],[dt[1],dt[2]*dt[3]]),bt=lt.reshapeUnpacked(ct[1],[ft[0],ft[1]]),yt=ct.length>2?[bt,mt,ct[2]]:[bt,mt],gt=lt.run((0,ot.createMatmulProgramInfoLoader)(yt,ut),yt);return lt.reshapeUnpacked(gt,ht)},rt=(lt,ct,ut)=>{const dt=ct[0].dims,ft=ct[1].dims,ht=(0,o.calculateOutputShape)(dt,ft,ut.dilations,ut.pads,ut.strides),mt=lt.run((0,it.createIm2ColProgramInfoLoader)(lt,ct[0],ct[1],ht,ut),[ct[0]]),bt=ct.length===3?[mt,ct[1],ct[2]]:[mt,ct[1]];return lt.run((0,tt.createDotProductProgramInfoLoader)(lt,ct,ht,ut),bt)},st=(lt,ct)=>{const ut=lt.kernelShape.slice();if(lt.kernelShape.length===0)for(let ht=2;ht<ct[1].dims.length;++ht)ut.push(ct[1].dims[ht]);const dt=lt.pads.slice();_.PoolConvUtil.adjustPadsBasedOnAutoPad(ct[0].dims,lt.strides,lt.dilations,ut,dt,lt.autoPad);const ft=Object.assign({},lt);return Object.assign(ft,{kernelShape:ut,pads:dt,cacheKey:lt.cacheKey}),ft};o.parseConvAttributes=lt=>{const ct=lt.attributes,ut=(0,nt.parseInternalActivationAttributes)(ct),dt=ct.getString("auto_pad","NOTSET"),ft=ct.getInts("dilations",[1,1]),ht=ct.getInt("group",1),mt=ct.getInts("kernel_shape",[]),bt=ct.getInts("pads",[0,0,0,0]),yt=ct.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:dt,dilations:ft,group:ht,kernelShape:mt,pads:bt,strides:yt},ut))};const at=(lt,ct)=>{if(!lt||lt.length!==2&&lt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(lt[0].dims.length!==4||lt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(lt[0].dims[1]!==lt[1].dims[1]*ct.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(lt.length===3&&(lt[2].dims.length!==1||lt[1].dims[0]!==lt[2].dims[0]))throw new Error("invalid bias");const ut=lt[0].dims.length-2;if(ct.dilations.length!==ut)throw new Error(`dilations should be ${ut}D`);if(ct.strides.length!==ut)throw new Error(`strides should be ${ut}D`);if(ct.pads.length!==2*ut)throw new Error(`pads should be ${2*ut}D`);if(ct.kernelShape.length!==0&&ct.kernelShape.length!==lt[1].dims.length-2)throw new Error("invalid kernel shape");if(lt[0].type!=="float32"||lt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(lt.length===3&&lt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseDepthToSpaceAttributes=o.depthToSpace=void 0;const a=s(3738);o.depthToSpace=($,_e,tt)=>{_(_e);const nt=tt.blocksize,it=nt*nt,ot=tt.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],et=tt.mode==="DCR"?[_e[0].dims[0],nt,nt,_e[0].dims[1]/it,_e[0].dims[2],_e[0].dims[3]]:[_e[0].dims[0],_e[0].dims[1]/it,nt,nt,_e[0].dims[2],_e[0].dims[3]],j=$.reshapeUnpacked(_e[0],et),rt={perm:ot,cacheKey:`${ot}`},[st]=(0,a.transpose)($,[j],rt),at=[_e[0].dims[0],_e[0].dims[1]/it,_e[0].dims[2]*nt,_e[0].dims[3]*nt];return[$.reshapeUnpacked(st,at)]},o.parseDepthToSpaceAttributes=$=>{const _e=$.attributes.getInt("blocksize");if(_e<1)throw new Error(`blocksize must be >= 1, but got : ${_e} for DepthToSpace`);const tt=$.attributes.getString("mode","DCR");if(tt!=="DCR"&&tt!=="CRD")throw new Error(`unrecognized mode: ${tt} for DepthToSpace`);return{mode:tt,blocksize:_e}};const _=$=>{if($.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${$.length}`);if($[0].type==="string"||$[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDotProductProgramInfoLoader=void 0;const a=s(2517),_=s(5060),$=s(2039),_e=s(2823),tt=s(3248);o.createDotProductProgramInfoLoader=(nt,it,ot,et)=>{const j=((rt,st)=>({name:"ConvDotProduct",inputNames:rt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:rt?[$.TextureType.unpacked,$.TextureType.packedLastDimension,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.packedLastDimension],cacheKey:st.activationCacheKey}))(it.length>2,et);return Object.assign(Object.assign({},j),{get:()=>((rt,st,at,lt,ct)=>{const ut=at[0].dims,dt=at[1].dims,ft=[dt[0],Math.ceil(ut[1]*dt[2]*dt[3]/4)],ht=(0,tt.calculateIm2ColDims)(ut,dt,lt),[mt,bt]=rt.calculateTextureWidthAndHeight(ft,$.TextureType.packedLastDimension),yt=a.ShapeUtil.computeStrides(ht),[gt,vt]=rt.calculateTextureWidthAndHeight(ht,$.TextureType.packedLastDimension),wt=lt.length,Ct=at.length<3?"0.0":"_B(b)",Rt=Math.ceil(ut[1]*dt[2]*dt[3]/4),{activationFunction:It,applyActivation:Pt}=(0,_e.getActivationSnippet)(ct),St=(0,_.getGlsl)(rt.session.backend.glContext.version),Ot=`
${It}
float process(int indices[${wt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${yt[0]} + im2col[1] * ${yt[1]} + im2col[2] * ${yt[2]};
  int kernelOffset = indices[1] * ${ft[1]};
  float value = ${Ct};
  for (int i = 0; i < ${Rt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${gt}, ${vt});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${mt}, ${bt});
    value += dot(${St.texture2D}(Im2Col, im2colCoords), ${St.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Pt}
  return value;
}`;return Object.assign(Object.assign({},st),{output:{dims:lt,type:at[0].type,textureType:$.TextureType.unpacked},shaderSource:Ot})})(nt,j,it,ot,et)})}},7992:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseFlattenAttributes=o.flatten=void 0;const a=s(2517);o.flatten=($,_e,tt)=>{_(_e,tt);const nt=a.ShapeUtil.flattenShape(_e[0].dims,tt);return[$.reshapeUnpacked(_e[0],nt)]},o.parseFlattenAttributes=$=>$.attributes.getInt("axis",1);const _=($,_e)=>{if(!$||$.length!==1)throw new Error("Flatten requires 1 input.");const tt=$[0].dims.length;if(tt===0)throw new Error("scalar tensor is not supported.");if(_e<-tt||_e>tt)throw new Error("Invalid axis");if($[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInternalActivationAttributes=o.getActivationSnippet=void 0;const a=s(2517),_=s(4909);o.getActivationSnippet=function($){let _e;switch($.activation){case"Relu":_e=(0,_.glslRelu)();break;case"Sigmoid":_e=(0,_.glslSigmoid)();break;case"Clip":_e=(0,_.glslClip)($.clipMin,$.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const tt=_e.name;return{activationFunction:_e.body,applyActivation:`value = ${tt}_(value);`}},o.parseInternalActivationAttributes=$=>{const _e=$.getString("activation","");if(_e==="Clip"){const[tt,nt]=$.getFloats("activation_params",[a.MIN_CLIP,a.MAX_CLIP]);return{activation:_e,clipMax:nt,clipMin:tt,activationCacheKey:`${_e}:${tt},${nt}`}}return{activation:_e,activationCacheKey:_e}}},1253:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGatherAttributes=o.gather=void 0;const a=s(246),_=s(782),$=s(2517),_e=s(2039);o.gather=(ot,et,j)=>(it(et,j.axis),[ot.run(nt(ot,et,j),et)]),o.parseGatherAttributes=ot=>(0,a.createAttributeWithCacheKey)({axis:ot.attributes.getInt("axis",0)});const tt={name:"Gather",inputNames:["A","B"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked]},nt=(ot,et,j)=>{const rt=Object.assign(Object.assign({},tt),{cacheHint:j.cacheKey});return Object.assign(Object.assign({},rt),{get:()=>((st,at,lt,ct)=>{const ut=lt[0].dims.slice(),dt=lt[1].dims.slice(),ft=new Array(ut.length+dt.length-1);ct=$.ShapeUtil.normalizeAxis(ct,ut.length);const ht=[];for(let bt=0;bt<ft.length;bt++)bt<ct?(ft[bt]=ut[bt],ht.push(`inputIdx[${bt}] = outputIdx[${bt}];`)):bt<ct+dt.length?(ft[bt]=dt[bt-ct],ht.push(`indexDataIdx[${bt-ct}] = outputIdx[${bt}];`)):(ft[bt]=ut[bt-dt.length+1],ht.push(`inputIdx[${bt-dt.length+1}] = outputIdx[${bt}];`));const mt=`
      float process(int outputIdx[${ft.length||1}]) {
        int inputIdx[${ut.length}];
        int indexDataIdx[${dt.length||1}];
        indexDataIdx[0] = 0;
        ${ht.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${ct}] = idx < 0 ? idx + ${ut[ct]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},at),{output:{dims:ft,type:lt[0].type,textureType:_e.TextureType.unpacked},shaderSource:mt})})(0,rt,et,j.axis)})},it=(ot,et)=>{if(!ot||ot.length!==2)throw new Error("Gather requires 2 inputs.");const j=ot[0].dims.length;if(j<1)throw new Error("Invalid input shape.");if(et<-j||et>j-1)throw new Error("Invalid axis.");if(_.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invaid input type.");if(ot[1].type!=="int32"&&ot[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGemmAttributesV11=o.parseGemmAttributesV7=o.gemm=void 0;const a=s(246),_=s(2517),$=s(2039);o.gemm=(ot,et,j)=>(it(et,j),[ot.run(tt(et,j),et)]);const _e=(ot,et)=>{const j=ot.attributes.getInt("transA",0)!==0,rt=ot.attributes.getInt("transB",0)!==0,st=ot.attributes.getFloat("alpha",1),at=ot.attributes.getFloat("beta",1);return(0,a.createAttributeWithCacheKey)({transA:j,transB:rt,alpha:st,beta:at,isOptionalC:et})};o.parseGemmAttributesV7=ot=>_e(ot,!1),o.parseGemmAttributesV11=ot=>_e(ot,!0);const tt=(ot,et)=>{const j={name:"Gemm",inputNames:ot.length===3?["A","B","C"]:["A","B"],inputTypes:ot.length===3?[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.unpacked],key:et.cacheKey};return Object.assign(Object.assign({},j),{get:()=>nt(j,ot,et)})},nt=(ot,et,j)=>{const rt=et[0].dims.slice(),st=et[1].dims.slice(),[at,lt]=_.GemmUtil.getShapeOfGemmResult(rt,j.transA,st,j.transB,et.length===3?et[2].dims:void 0),ct=[at,lt];if(!ct)throw new Error("Can't use gemm on the given tensors");let ut=rt[rt.length-1],dt="";j.transA&&(ut=rt[0]),j.transA&&j.transB?dt="value += _A_T(a) * _B_T(b);":j.transA&&!j.transB?dt="value += _A_T(a) * _B(b);":!j.transA&&j.transB?dt="value += _A(a) * _B_T(b);":j.transA||j.transB||(dt="value += _A(a) * _B(b);");const ft=ct.length,ht=`
      float process(int indices[${ft}]) {
          int a[${ft}];
          int b[${ft}];
          ${et.length===3?`int c[${et[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${et.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${ut}; ++k) {
              a[${ft-1}] = k;
              b[${ft-2}] = k;
              ${dt}
          }

          value = value * alpha;
          ${et.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:ct,type:et[0].type,textureType:$.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:j.alpha},{name:"beta",type:"float",data:j.beta}],shaderSource:ht})},it=(ot,et)=>{if(!ot)throw new Error("Input is missing");if(et.isOptionalC&&(ot.length<2||ot.length>3))throw new Error("Invaid input shape.");if(!et.isOptionalC&&ot.length!==3)throw new Error("Gemm requires 3 inputs");if(ot.length===3&&ot[2].dims.length!==1&&ot[2].dims.length!==2)throw new Error("Invalid input shape of C");if(ot[0].type!=="float32"&&ot[0].type!=="float64"||ot[1].type!=="float32"&&ot[1].type!=="float64"||ot.length===3&&ot[2].type!=="float32"&&ot[2].type!=="float64")throw new Error("Invalid input type.");if(ot[0].type!==ot[1].type||ot.length===3&&ot[0].type!==ot[2].type)throw new Error("Input types are mismatched")}},8555:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedIm2ColProgramInfoLoader=void 0;const a=s(5060),_=s(2039),$=s(2827);o.createPackedIm2ColProgramInfoLoader=(_e,tt,nt,it,ot)=>{const et=(j=ot.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[_.TextureType.packed],cacheHint:j});var j;return Object.assign(Object.assign({},et),{get:()=>((rt,st,at,lt,ct,ut)=>{const dt=at.dims,ft=lt.dims,ht=ct.length,mt=[ft[1]*ft[2]*ft[3],ct[2]*ct[3]],bt=ft[2]*ft[3],yt=(0,$.unpackFromChannel)(),gt=(0,a.getGlsl)(rt.session.backend.glContext.version);let vt="";for(let Ct=0;Ct<=1;Ct++)for(let Rt=0;Rt<=1;Rt++)vt+=`
            blockIndex = rc.x + ${Rt};
            pos = rc.y + ${Ct};

            if(blockIndex < ${mt[1]} && pos < ${mt[0]}) {
              offsetY = int(blockIndex / (${ct[ht-1]})) * ${ut.strides[0]} -
                ${ut.pads[0]};
              d0 = offsetY + ${ut.dilations[0]} * (imod(pos, ${bt}) / ${ft[2]});

              if(d0 < ${dt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${ct[ht-1]}) * ${ut.strides[1]} -
                  ${ut.pads[1]};
                d1 = offsetX + ${ut.dilations[1]} * imod(imod(pos, ${bt}), ${ft[2]});

                if(d1 < ${dt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${bt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Ct+Rt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const wt=`
      ${yt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${vt}
          ${gt.output} = result;
      }
            `;return Object.assign(Object.assign({},st),{output:{dims:mt,type:at.type,textureType:_.TextureType.packed},shaderSource:wt,hasMain:!0})})(_e,et,tt,nt,it,ot)})}},3248:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.calculateIm2ColDims=o.createIm2ColProgramInfoLoader=void 0;const a=s(2039);o.createIm2ColProgramInfoLoader=(_,$,_e,tt,nt)=>{const it=(ot=nt.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:ot});var ot;return Object.assign(Object.assign({},it),{get:()=>((et,j,rt,st,at,lt)=>{const ct=rt.dims,ut=st.dims,dt=at.length,ft=(0,o.calculateIm2ColDims)(ct,ut,at,4),ht=`
        const int XC = ${ct[1]};
        const int XH = ${ct[2]};
        const int XW = ${ct[3]};
        const int KH = ${lt.kernelShape[0]};
        const int KW = ${lt.kernelShape[1]};
        const int dilationH = ${lt.dilations[0]};
        const int dilationW = ${lt.dilations[1]};
        const int strideH = ${lt.strides[0]};
        const int strideW = ${lt.strides[1]};
        const int padH = ${lt.pads[0]};
        const int padW = ${lt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${dt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${ct.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},j),{output:{dims:ft,type:rt.type,textureType:a.TextureType.packedLastDimension},shaderSource:ht})})(0,it,$,_e,tt,nt)})},o.calculateIm2ColDims=(_,$,_e,tt=4)=>[_e[0],_e[2],_e[3],Math.ceil(_[1]*$[2]*$[3]/tt)]},6572:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseImageScalerAttributes=o.imageScaler=void 0;const a=s(246),_=s(2039);o.imageScaler=(it,ot,et)=>(nt(ot),[it.run(_e(it,ot,et),ot)]),o.parseImageScalerAttributes=it=>{const ot=it.attributes.getFloat("scale"),et=it.attributes.getFloats("bias");return(0,a.createAttributeWithCacheKey)({scale:ot,bias:et})};const $={name:"ImageScaler",inputNames:["X"],inputTypes:[_.TextureType.unpacked]},_e=(it,ot,et)=>{const j=Object.assign(Object.assign({},$),{cacheHint:et.cacheKey});return Object.assign(Object.assign({},j),{get:()=>((rt,st,at,lt)=>{const ct=at[0].dims.slice(),ut=ct.length,dt=`
      ${tt(lt.bias.length)}
      float process(int indices[${ut}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},st),{output:{dims:ct,type:at[0].type,textureType:_.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:lt.bias.length,data:lt.bias},{name:"scale",type:"float",data:lt.scale}],shaderSource:dt})})(0,j,ot,et)})},tt=it=>{const ot=[`float getBias(float bias[${it}], int channel) {`];for(let et=0;et<it;++et)et===0?ot.push(`	if (channel == ${et}) { return bias[${et}]; }`):et===it-1?ot.push(`	else { return bias[${et}]; }`):ot.push(`	else if (channel == ${et}) { return bias[${et}]; }`);return ot.push("	}"),ot.join(`
`)},nt=it=>{if(!it||it.length!==1)throw new Error("ImageScaler requires 1 input.");if(it[0].dims.length!==4)throw new Error("Invalid input shape.");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInstanceNormalizationAttributes=o.instanceNormalization=void 0;const a=s(5060),_=s(2039);o.instanceNormalization=(ot,et,j)=>{it(et);const rt=ot.run(_e(et[0]),et);return[ot.run(nt(ot,et[0],j,rt.dims),[et[0],rt,et[1],et[2]])]},o.parseInstanceNormalizationAttributes=ot=>ot.attributes.getFloat("epsilon",1e-5);const $={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[_.TextureType.unpacked]},_e=ot=>Object.assign(Object.assign({},$),{get:()=>((et,j)=>{const rt=j.dims.slice(),st=rt[1],at=rt[2]*rt[3],lt=[rt[0],st],ct=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${rt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${rt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${at});
        temp = 0.0;
        for(int a2=0; a2<${rt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${rt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${at});

        return v;
      }`;return Object.assign(Object.assign({},et),{output:{dims:lt,type:j.type,textureType:_.TextureType.packedLastDimension},shaderSource:ct})})($,ot)}),tt={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[_.TextureType.unpacked,_.TextureType.packedLastDimension,_.TextureType.unpacked,_.TextureType.unpacked]},nt=(ot,et,j,rt)=>{const st=Object.assign(Object.assign({},tt),{cacheHint:`${j}`});return Object.assign(Object.assign({},st),{get:()=>((at,lt,ct,ut,dt)=>{const ft=(0,a.getGlsl)(at.session.backend.glContext.version),[ht,mt]=at.calculateTextureWidthAndHeight(dt,_.TextureType.packedLastDimension),[bt,yt]=[ht/4,mt],gt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${bt}, ${yt});
        return ${ft.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:ct.dims,type:ct.type,textureType:_.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:ut}],shaderSource:gt})})(ot,st,et,j,rt)})},it=ot=>{if(!ot||ot.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const et=ot[0],j=ot[1],rt=ot[2];if(et.dims.length<3||j.dims.length!==1||rt.dims.length!==1)throw new Error("Invalid input shape.");if(j.dims[0]!==et.dims[1]||rt.dims[0]!==et.dims[1])throw new Error("Input shapes are mismatched.");if(et.type!=="float32"&&et.type!=="float64"||j.type!=="float32"&&j.type!=="float64"||rt.type!=="float32"&&rt.type!=="float64")throw new Error("Invalid input type.");if(ot[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedMatmulProgramInfoLoader=void 0;const a=s(2517),_=s(5060),$=s(2039),_e=s(9390),tt=s(2823),nt=s(5623);o.createPackedMatmulProgramInfoLoader=(it,ot,et)=>{const j=(rt=ot.length>2,st=et.activationCacheKey,{name:"MatMul (packed)",inputNames:rt?["A","B","Bias"]:["A","B"],inputTypes:rt?[$.TextureType.packed,$.TextureType.packed,$.TextureType.packed]:[$.TextureType.packed,$.TextureType.packed],cacheHint:st});var rt,st;return Object.assign(Object.assign({},j),{get:()=>((at,lt,ct,ut)=>{const dt=ct.length>2,ft=dt?"value += getBiasForMatmul();":"",ht=ct[0].dims,mt=ct[1].dims,bt=a.BroadcastUtil.calcShape(ht,mt,!0),yt=!a.ShapeUtil.areEqual(ct[0].dims,ct[1].dims);if(!bt)throw new Error("Can't use matmul on the given tensors");const gt=ht[ht.length-1],vt=Math.ceil(gt/2),wt=ht.length,Ct=mt.length,Rt=(0,_.getGlsl)(at.session.backend.glContext.version),It=(0,_e.getCoordsDataType)(bt.length),Pt=bt.length,St=(0,_e.getGlChannels)(),{activationFunction:Ot,applyActivation:At}=(0,tt.getActivationSnippet)(ut),$t=dt?`${(0,nt.getBiasForMatmul)(It,St,ct[2].dims,bt,!0)}`:"",Ft=yt?`${function(lr,rr,Jt,cr){let Xt=[],Lt=[];const Zt=Jt[0].dims,ur=Jt[1].dims,Qt=Zt.length,nr=ur.length,gr=cr.length,$r=gr-Qt,Mr=gr-nr;Xt=Zt.map((Rr,Fr)=>`coords.${rr[Fr+$r]}`),Xt[Qt-1]="i*2",Xt.join(", "),Lt=ur.map((Rr,Fr)=>`coords.${rr[Fr+Mr]}`),Lt[nr-2]="i*2",Lt.join(", ");const Gr=a.BroadcastUtil.getBroadcastDims(Zt,cr),Er=a.BroadcastUtil.getBroadcastDims(ur,cr),Yr=Gr.map(Rr=>`coords.${rr[Rr+$r]} = 0;`).join(`
`),Ur=Er.map(Rr=>`coords.${rr[Rr+Mr]} = 0;`).join(`
`),Lr=`int lastDim = coords.${rr[gr-1]};
  coords.${rr[gr-1]} = coords.${rr[gr-2]};
  coords.${rr[gr-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${lr} coords = getOutputCoords();
  ${Lr}
  ${Yr}
  vec4 outputValue = getA(${Xt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${lr} coords = getOutputCoords();
  ${Lr}
  ${Ur}
  vec4 outputValue = getB(${Lt});
  return outputValue;
}`}(It,St,ct,bt)}`:"",Ut=yt?"getAAtOutCoordsMatmul(i)":`getA(${function(lr,rr){let Jt="";for(let cr=0;cr<rr-2;cr++)Jt+=`rc.${lr[cr]}, `;return Jt+=`rc.${lr[rr-2]}, i*2`,Jt}(St,wt)})`,Kt=yt?"getBAtOutCoordsMatmul(i)":`getB(${function(lr,rr){let Jt="";for(let cr=0;cr<rr-2;cr++)Jt+=`rc.${lr[cr]}, `;return Jt+=`i*2, rc.${lr[rr-1]}`,Jt}(St,Ct)})`,ar=`
            ${Ft}
            ${$t}
            ${Ot}
            void main() {
              ${yt?"":`${It} rc =
          getOutputCoords(); int lastDim = rc.${St[Pt-1]}; rc.${St[Pt-1]} =
          rc.${St[Pt-2]}; rc.${St[Pt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${vt}; i++) {
                vec4 a = ${Ut};
                vec4 b = ${Kt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${ft}
              ${At}
              ${Rt.output} = value;
            }`;return Object.assign(Object.assign({},lt),{output:{dims:bt,type:ct[0].type,textureType:$.TextureType.packed},shaderSource:ar,hasMain:!0})})(it,j,ot,et)})}},5623:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBiasForMatmul=o.createMatmulProgramInfoLoader=o.parseMatMulAttributes=o.matMul=void 0;const a=s(2517),_=s(2039),$=s(9390),_e=s(2823),tt=s(708);function nt(et,j){const rt=(st=et.length>2,at=j.activationCacheKey,{name:"MatMul",inputNames:st?["A","B","Bias"]:["A","B"],inputTypes:st?[_.TextureType.unpacked,_.TextureType.unpacked,_.TextureType.unpacked]:[_.TextureType.unpacked,_.TextureType.unpacked],cacheHint:at});var st,at;return Object.assign(Object.assign({},rt),{get:()=>function(lt,ct,ut){const dt=ct[0].dims,ft=ct[1].dims,ht=a.BroadcastUtil.calcShape(dt,ft,!0);if(!ht)throw new Error("Can't use matmul on the given tensors");const mt=(0,$.getCoordsDataType)(ht.length),bt=(0,$.getGlChannels)(),{activationFunction:yt,applyActivation:gt}=(0,_e.getActivationSnippet)(ut),vt=ct.length>2,wt=vt?"value += getBiasForMatmul();":"",Ct=vt?`${ot(mt,bt,ct[2].dims,ht,!1)}`:"",Rt=ht.length,It=dt.length,Pt=ft.length,St=`
    ${yt}
    ${Ct}
    float process(int indices[${Rt}]) {
        int a[${It}];
        int b[${Pt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${dt[dt.length-1]}; ++k) {
            a[${It-1}] = k;
            b[${Pt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${wt}
        ${gt}
        return value;
    }`;return Object.assign(Object.assign({},lt),{output:{dims:ht,type:ct[0].type,textureType:_.TextureType.unpacked},shaderSource:St})}(rt,et,j)})}o.matMul=(et,j,rt)=>(it(j),et.session.pack?[et.run((0,tt.createPackedMatmulProgramInfoLoader)(et,j,rt),j)]:[et.run(nt(j,rt),j)]),o.parseMatMulAttributes=et=>(0,_e.parseInternalActivationAttributes)(et.attributes),o.createMatmulProgramInfoLoader=nt;const it=et=>{if(!et||et.length!==2)throw new Error("MatMul requires 2 inputs.");if(et[0].dims[et[0].dims.length-1]!==et[1].dims[et[1].dims.length-2])throw new Error("shared dimension does not match.");if(et[0].type!=="float32"&&et[0].type!=="float64"||et[1].type!=="float32"&&et[1].type!=="float64")throw new Error("inputs should be float type");if(et[0].type!==et[1].type)throw new Error("inputs types should match")};function ot(et,j,rt,st,at){let lt="";const ct=rt.length,ut=st.length,dt=ut-ct;lt=ut<2&&ct>0?"coords":rt.map((mt,bt)=>`coords.${j[bt+dt]}`).join(", ");const ft=a.BroadcastUtil.getBroadcastDims(rt,st).map(mt=>`coords.${j[mt+dt]} = 0;`).join(`
`);let ht="vec4(outputValue.xx, outputValue.yy)";return a.ShapeUtil.size(rt)===1&&(ht="vec4(outputValue.x)"),at?`
vec4 getBiasForMatmul() {
  ${et} coords = getOutputCoords();
  ${ft}
  vec4 outputValue = getBias(${lt});
  return ${ht};
}`:`
float getBiasForMatmul() {
  ${et} coords = getOutputCoords();
  ${ft}
  return getBias(coords.x);
}`}o.getBiasForMatmul=ot},2403:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackProgramInfoLoader=void 0;const a=s(5060),_=s(2039),$=s(9390),_e=s(2827),tt={name:"pack",inputNames:["A"],inputTypes:[_.TextureType.unpackedReversed]};o.createPackProgramInfoLoader=(nt,it)=>Object.assign(Object.assign({},tt),{get:()=>((ot,et)=>{const j=(0,a.getGlsl)(ot.session.backend.glContext.version),rt=et.dims,st=rt.length,at=et.dims.length,lt=(0,$.getCoordsDataType)(at),ct=(0,_e.getChannels)("rc",at),ut=(dt=at,ft=ct,ht=rt[rt.length-2],mt=rt[rt.length-1],dt===0||dt===1?"":`
    int r = ${ft[dt-2]};
    int c = ${ft[dt-1]};
    int rp1 = ${ft[dt-2]} + 1;
    int cp1 = ${ft[dt-1]} + 1;
    bool rEdge = rp1 >= ${mt};
    bool cEdge = cp1 >= ${ht};
    `);var dt,ft,ht,mt;let bt;bt=st===0?[1,1]:st===1?[rt[0],1]:[rt[at-1],rt[at-2]];const yt=function(wt,Ct,Rt){if(wt===0)return"false";if(wt===1)return`rc > ${Ct[0]}`;let It="";for(let Pt=wt-2;Pt<wt;Pt++)It+=`${Rt[Pt]} >= ${Ct[Pt-wt+2]}`,Pt<wt-1&&(It+="||");return It}(at,bt,ct),gt=function(wt,Ct){const Rt=wt.length;if(Rt===0)return"getA(), 0, 0, 0";if(Rt===1)return`getA(rc),
            rc + 1 >= ${wt[0]} ? 0. : getA(rc + 1),
            0, 0`;let It="";if(Rt>2)for(let Pt=0;Pt<Rt-2;++Pt)It+=`${Ct[Pt]},`;return`getA(${It}r, c),
          rEdge ? 0. : getA(${It}rp1, c),
          cEdge ? 0. : getA(${It}r, cp1),
          rEdge || cEdge ? 0. : getA(${It}rp1, cp1)`}(rt,ct),vt=`
        void main() {
          ${lt} rc = getOutputCoords();

          if(${yt}) {
            ${j.output} = vec4(0);
          } else {
            ${ut}

            ${j.output} = vec4(${gt});
          }
        }
      `;return Object.assign(Object.assign({},tt),{hasMain:!0,output:{dims:et.dims,type:et.type,textureType:_.TextureType.packed},shaderSource:vt})})(nt,it)})},2827:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.unpackFromChannel=o.getChannels=o.getVecChannels=void 0;const a=s(9390);function _($,_e){return(0,a.getGlChannels)(_e).map(tt=>`${$}.${tt}`)}o.getVecChannels=_,o.getChannels=function($,_e){return _e===1?[$]:_($,_e)},o.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parsePadAttributesV11=o.padV11=o.parsePadAttributesV2=o.padV2=void 0;const a=s(246),_=s(2517),$=s(5060),_e=s(2039),tt={name:"Pad",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};o.padV2=(lt,ct,ut)=>(ot(ct),[lt.run(Object.assign(Object.assign({},tt),{cacheHint:ut.cacheKey,get:()=>it(lt,ct[0],ut)}),ct)]),o.parsePadAttributesV2=lt=>{const ct=lt.attributes.getString("mode","constant"),ut=lt.attributes.getFloat("value",0),dt=lt.attributes.getInts("pads");return(0,a.createAttributeWithCacheKey)({mode:ct,value:ut,pads:dt})},o.padV11=(lt,ct,ut)=>{et(ct);const dt=nt(lt,ct,ut);return(0,o.padV2)(lt,[ct[0]],dt)},o.parsePadAttributesV11=lt=>lt.attributes.getString("mode","constant");const nt=(lt,ct,ut)=>{if(!lt.session.isInitializer(ct[1].dataId)||ct.length>=3&&!lt.session.isInitializer(ct[2].dataId))throw new Error("dynamic pad attributes are not allowed");const dt=Array.from(ct[1].integerData),ft=ct.length>=3?ct[2].floatData[0]:0;return(0,a.createAttributeWithCacheKey)({mode:ut,pads:dt,value:ft})},it=(lt,ct,ut)=>{const dt=_.ShapeUtil.padShape(ct.dims.slice(),ut.pads),ft=dt.length,ht=`
      ${j(lt,ct,ut)}
      float process(int[${ft}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[_e.TextureType.unpacked],output:{dims:dt,type:ct.type,textureType:_e.TextureType.unpacked},shaderSource:ht}},ot=lt=>{if(!lt||lt.length!==1)throw new Error("Pad requires 1 input");if(lt[0].type!=="float32"&&lt[0].type!=="float64")throw new Error("Invalid input type.")},et=lt=>{if(!lt||lt.length!==2&&lt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(lt[1].type!=="int32")throw new Error("Invalid input type.");if(lt.length>=3&&lt[2].type==="string")throw new Error("Invalid input type.")},j=(lt,ct,ut)=>{const dt=(0,$.getGlsl)(lt.session.backend.glContext.version),[ft,ht]=lt.calculateTextureWidthAndHeight(ct.dims,_e.TextureType.unpacked),mt=_.ShapeUtil.computeStrides(ct.dims);switch(ut.mode){case"constant":return rt(dt,ct.dims,mt,ft,ht,ut.pads,ut.value);case"reflect":return st(dt,ct.dims,mt,ft,ht,ut.pads);case"edge":return at(dt,ct.dims,mt,ft,ht,ut.pads);default:throw new Error("Invalid mode")}},rt=(lt,ct,ut,dt,ft,ht,mt)=>{const bt=ct.length;let yt="";for(let gt=bt-1;gt>=0;--gt)yt+=`
        k = m[${gt}] - ${ht[gt]};
        if (k < 0)  return constant;
        if (k >= ${ct[gt]}) return constant;
        offset += k * ${ut[gt]};
        `;return`
      float padA(int m[${bt}]) {
        const float constant = float(${mt});
        int offset = 0;
        int k = 0;
        ${yt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ft});
        float value = getColorAsFloat(${lt.texture2D}(A, coords));
        return value;
      }
      `},st=(lt,ct,ut,dt,ft,ht)=>{const mt=ct.length;let bt="";for(let yt=mt-1;yt>=0;--yt)bt+=`
        k = m[${yt}] - ${ht[yt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(ct[yt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${ct[yt]}) { k = _2n_1 - k; }
        }
        offset += k * ${ut[yt]};
        `;return`
      float padA(int m[${mt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ft});
        float value = getColorAsFloat(${lt.texture2D}(A, coords));
        return value;
      }
      `},at=(lt,ct,ut,dt,ft,ht)=>{const mt=ct.length;let bt="";for(let yt=mt-1;yt>=0;--yt)bt+=`
        k = m[${yt}] - ${ht[yt]};
        if (k < 0)  k = 0;
        if (k >= ${ct[yt]}) k = ${ct[yt]-1};
        offset += k * ${ut[yt]};
      `;return`
      float padA(int m[${mt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ft});
        float value = getColorAsFloat(${lt.texture2D}(A, coords));
        return value;
      }
      `}},2143:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.globalMaxPool=o.parseMaxPoolAttributes=o.maxPool=o.parseGlobalAveragePoolAttributes=o.globalAveragePool=o.parseAveragePoolAttributes=o.averagePool=void 0;const a=s(246),_=s(2517),$=s(2039);o.averagePool=(at,lt,ct)=>{et(lt);const ut={name:"AveragePool",inputNames:["X"],inputTypes:[$.TextureType.unpacked],cacheHint:ct.cacheKey};return[at.run(Object.assign(Object.assign({},ut),{get:()=>_e(lt,ut,!1,ct)}),lt)]},o.parseAveragePoolAttributes=at=>{const lt=at.attributes.getString("auto_pad","NOTSET"),ct=at.attributes.getInt("ceil_mode",0),ut=at.attributes.getInt("count_include_pad",0)!==0,dt=at.attributes.getInts("kernel_shape"),ft=at.attributes.getInts("strides",[]),ht=at.attributes.getInts("pads",[]);if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)({autoPad:lt,ceilMode:ct,countIncludePad:ut,kernelShape:dt,strides:ft,pads:ht})};const _e=(at,lt,ct,ut)=>{const[dt,ft]=nt(at,ut,ct),ht=_.ShapeUtil.size(dt.kernelShape);let mt="";dt.countIncludePad?mt+=`value /= float(${ht});`:mt+=`value /= float(${ht} - pad);`;const bt=`
        ${j(at[0].dims,dt,"value += _X(x);",mt,"0.0")}
      `;return Object.assign(Object.assign({},lt),{output:{dims:ft,type:at[0].type,textureType:$.TextureType.unpacked},shaderSource:bt})};o.globalAveragePool=(at,lt,ct)=>{et(lt);const ut={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[$.TextureType.unpacked],cacheHint:`${ct.countIncludePad}`};return[at.run(Object.assign(Object.assign({},ut),{get:()=>_e(lt,ut,!0,ct)}),lt)]},o.parseGlobalAveragePoolAttributes=at=>{const lt=at.attributes.getInt("count_include_pad",0)!==0;return(0,a.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:lt,kernelShape:[],strides:[],pads:[]})},o.maxPool=(at,lt,ct)=>{et(lt);const ut={name:"MaxPool",inputNames:["X"],inputTypes:[$.TextureType.unpacked],cacheHint:ct.cacheKey};return[at.run(Object.assign(Object.assign({},ut),{get:()=>tt(lt,ut,!1,ct)}),lt)]},o.parseMaxPoolAttributes=at=>{const lt=at.attributes.getString("auto_pad","NOTSET"),ct=at.attributes.getInt("ceil_mode",0),ut=at.attributes.getInts("kernel_shape"),dt=at.attributes.getInts("strides",[]),ft=at.attributes.getInts("pads",[]),ht=at.attributes.getInt("storage_order",0),mt=at.attributes.getInts("dilations",[]);if(ht!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)({autoPad:lt,ceilMode:ct,countIncludePad:!1,kernelShape:ut,strides:dt,pads:ft,storageOrder:ht,dilations:mt})};const tt=(at,lt,ct,ut)=>{const[dt,ft]=nt(at,ut,ct),ht=`
      ${j(at[0].dims,dt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},lt),{output:{dims:ft,type:at[0].type,textureType:$.TextureType.unpacked},shaderSource:ht})},nt=(at,lt,ct)=>{const ut=at[0].dims.slice(),dt=Object.hasOwnProperty.call(lt,"dilations"),ft=lt.kernelShape.slice(),ht=lt.strides.slice(),mt=dt?lt.dilations.slice():[],bt=lt.pads.slice();_.PoolConvUtil.adjustPoolAttributes(ct,ut,ft,ht,mt,bt);const yt=_.PoolConvUtil.computePoolOutputShape(ct,ut,ht,mt,ft,bt,lt.autoPad),gt=Object.assign({},lt);return dt?Object.assign(gt,{kernelShape:ft,strides:ht,pads:bt,dilations:mt,cacheKey:lt.cacheKey}):Object.assign(gt,{kernelShape:ft,strides:ht,pads:bt,cacheKey:lt.cacheKey}),[gt,yt]},it={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},ot={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[$.TextureType.unpacked]};o.globalMaxPool=(at,lt)=>(et(lt),[at.run(Object.assign(Object.assign({},ot),{get:()=>tt(lt,ot,!0,it)}),lt)]);const et=at=>{if(!at||at.length!==1)throw new Error("Pool ops requires 1 input.");if(at[0].type!=="float32"&&at[0].type!=="float64")throw new Error("Invalid input type.")},j=(at,lt,ct,ut,dt)=>{const ft=at.length;if(lt.kernelShape.length<=2){const ht=lt.kernelShape[lt.kernelShape.length-1],mt=lt.strides[lt.strides.length-1],bt=lt.pads[lt.pads.length/2-1],yt=lt.pads[lt.pads.length-1],gt=at[ft-1];let vt="",wt="",Ct="";if(vt=bt+yt!==0?`
          for (int i = 0; i < ${ht}; i++) {
            x[${ft} - 1] = indices[${ft} - 1] * ${mt} - ${bt} + i;
            if (x[${ft} - 1] < 0 || x[${ft} - 1] >= ${gt}) {
              pad++;
              continue;
            }
            ${ct}
          }`:`
          for (int i = 0; i < ${ht}; i++) {
            x[${ft} - 1] = indices[${ft} - 1] * ${mt} - ${bt} + i;
            ${ct}
          }`,lt.kernelShape.length===2){const Rt=lt.kernelShape[lt.kernelShape.length-2],It=lt.strides[lt.strides.length-2],Pt=lt.pads[lt.pads.length/2-2],St=lt.pads[lt.pads.length-2],Ot=at[ft-2];wt=Pt+St!==0?`
            for (int j = 0; j < ${Rt}; j++) {
              x[${ft} - 2] = indices[${ft} - 2] * ${It} - ${Pt} + j;
              if (x[${ft} - 2] < 0 || x[${ft} - 2] >= ${Ot}) {
                pad+= ${ht};
                continue;
              }
          `:`
            for (int j = 0; j < ${Rt}; j++) {
              x[${ft} - 2] = indices[${ft} - 2] * ${It} - ${Pt} + j;
            `,Ct=`
          }
        `}return`
        float process(int indices[${ft}]) {
          int x[${ft}];
          copyVec(indices, x);

          float value = ${dt};
          int pad = 0;
          ${wt}
          ${vt}
          ${Ct}
          ${ut}
          return value;
        }
      `}{const ht=_.ShapeUtil.size(lt.kernelShape),mt=_.ShapeUtil.computeStrides(lt.kernelShape),bt=mt.length,yt=lt.pads.length,gt=st(bt),vt=rt(at,"inputDims"),wt=rt(lt.pads,"pads"),Ct=rt(mt,"kernelStrides"),Rt=rt(lt.strides,"strides");let It="";return It=lt.pads.reduce((Pt,St)=>Pt+St)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${ct}
          }`:`
          }
          ${ct}
        `,`
        ${gt}
        float process(int indices[${ft}]) {
          int x[${ft}];
          copyVec(indices, x);
          int offset[${bt}];
          int pads[${yt}];
          int inputDims[${ft}];
          int kernelStrides[${bt}];
          int strides[${bt}];
          ${wt}
          ${vt}
          ${Rt}
          ${Ct}

          float value = ${dt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${ht}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${ft} - ${bt}; j < ${ft}; j++) {
              x[j] = indices[j] * strides[j - ${ft} + ${bt}]
                + offset[j - ${ft} + ${bt}] - pads[j - 2];
              ${It}
          }
          ${ut}

          return value;
        }
      `}},rt=(at,lt)=>{let ct="";for(let ut=0;ut<at.length;ut++)ct+=`
      ${lt}[${ut}] = ${at[ut]};
    `;return ct},st=at=>`
  void offsetToIndices(int offset, int[${at}] strides, out int[${at}] indices) {
    if (${at} == 0) {
      return;
    }
    for (int i = 0; i < ${at} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${at} - 1] = offset;
  }`},4939:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reduceLogSumSquare=o.reduceLogSum=o.reduceProd=o.reduceMin=o.reduceMax=o.reduceMean=o.reduceSum=o.parseReduceAttributes=void 0;const a=s(246),_=s(782),$=s(2517),_e=s(2039),tt=(ot,et,j,rt,st)=>{it(et);const at={name:rt,inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};return[ot.run(Object.assign(Object.assign({},at),{cacheHint:j.cacheKey,get:()=>nt(ot,et,j,rt,st,at)}),et)]};o.parseReduceAttributes=ot=>{const et=ot.attributes.getInts("axes",[]),j=ot.attributes.getInt("keepdims",1)===1;return(0,a.createAttributeWithCacheKey)({axes:et,keepDims:j})};const nt=(ot,et,j,rt,st,at)=>{const lt=[],ct=et[0].dims.length||1,ut=[],dt=$.ShapeUtil.normalizeAxes(j.axes,et[0].dims.length),ft=st(et,dt);let ht=ft[1];for(let bt=0;bt<et[0].dims.length;bt++)dt.indexOf(bt)>=0||dt.length===0?(j.keepDims&&lt.push(1),ht=`
          for(int j${bt} = 0; j${bt} < ${et[0].dims[bt]}; j${bt}++) {
            inputIdx[${bt}] = j${bt};
            ${ht}
          }`):(ut.push(`inputIdx[${bt}] = outputIdx[${lt.length}];`),lt.push(et[0].dims[bt]));const mt=`
      float process(int outputIdx[${lt.length||1}]) {
        float value;                 // final result
        int inputIdx[${ct}];      // addressing input data
        ${ut.join(`
`)}
        ${ft[0]}       // init ops for reduce max/min
        ${ht}
        ${ft[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},at),{output:{dims:lt,type:et[0].type,textureType:_e.TextureType.unpacked},shaderSource:mt})},it=ot=>{if(!ot||ot.length!==1)throw new Error("Reduce op requires 1 input.");if(_.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invalid input type.")};o.reduceSum=(ot,et,j)=>tt(ot,et,j,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),o.reduceMean=(ot,et,j)=>tt(ot,et,j,"ReduceMean",(rt,st)=>{let at=1;for(let lt=0;lt<rt[0].dims.length;lt++)(st.indexOf(lt)>=0||st.length===0)&&(at*=rt[0].dims[lt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${at}.;`]}),o.reduceMax=(ot,et,j)=>tt(ot,et,j,"ReduceMax",(rt,st)=>{const at=[];for(let lt=0;lt<rt[0].dims.length;lt++)(st.indexOf(lt)>=0||st.length===0)&&at.push(`inputIdx[${lt}] = 0;`);return[`${at.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),o.reduceMin=(ot,et,j)=>tt(ot,et,j,"ReduceMin",(rt,st)=>{const at=[];for(let lt=0;lt<rt[0].dims.length;lt++)(st.indexOf(lt)>=0||st.length===0)&&at.push(`inputIdx[${lt}] = 0;`);return[`${at.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),o.reduceProd=(ot,et,j)=>tt(ot,et,j,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),o.reduceLogSum=(ot,et,j)=>tt(ot,et,j,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),o.reduceLogSumSquare=(ot,et,j)=>tt(ot,et,j,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isReshapeCheap=o.processDims3D=o.createPackedReshape3DProgramInfoLoader=void 0;const a=s(2517),_=s(5060),$=s(2039),_e=s(2827);o.createPackedReshape3DProgramInfoLoader=(tt,nt,it)=>{const ot=(et=>({name:"Reshape (packed)",inputTypes:[$.TextureType.packed],inputNames:["A"],cacheHint:`${et}`}))(it);return Object.assign(Object.assign({},ot),{get:()=>((et,j,rt,st)=>{const at=j.dims,lt=st;let ct="";for(let ft=0;ft<4;ft++){let ht="";switch(ft){case 0:ht="outputCoords = rc;";break;case 1:ht="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:ht="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:ht="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}ct+=`
        ${ht}
        ${ft>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${ft}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${ft>0?"}":""}
      `}const ut=(0,_.getGlsl)(et.session.backend.glContext.version),dt=`
      ${function(ft){const ht=a.ShapeUtil.computeStrides(ft),mt=["b","r","c"],bt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${ht.map((yt,gt)=>`int ${mt[gt]} = ${bt} / ${yt}; ${gt===ht.length-1?`int ${mt[gt+1]} = ${bt} - ${mt[gt]} * ${yt}`:`index -= ${mt[gt]} * ${yt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(at)}
      ${function(ft){const ht=a.ShapeUtil.computeStrides(ft);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${ht[0]} + coords.z * ${ht[1]} + coords.y;
  }
`}(lt)}
      ${(0,_e.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${lt[2]};
        int cols = ${lt[1]};

        ${ct}
        ${ut.output} = result;
      }
    `;return Object.assign(Object.assign({},rt),{output:{dims:lt,type:j.type,textureType:$.TextureType.packed},shaderSource:dt,hasMain:!0})})(tt,nt,ot,it)})},o.processDims3D=function(tt){if(tt.length===0)return[1,1,1];let nt=1;for(let it=0;it<tt.length-2;++it)nt*=tt[it];return[nt,tt.length>1?tt[tt.length-2]:1,tt[tt.length-1]]},o.isReshapeCheap=function(tt,nt){let it=!1;return it=tt.length===0||nt.length===0||(tt.length<2||nt.length<2?tt[tt.length-1]===nt[nt.length-1]:tt[tt.length-1]===nt[nt.length-1]&&tt[tt.length-2]===nt[nt.length-2]),it}},718:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reshape=void 0;const a=s(2517);o.reshape=(_,$)=>{const _e=a.ShapeUtil.calculateReshapedDims($[0].dims,$[1].integerData);return _.session.pack?[_.reshapePacked($[0],_e)]:[_.reshapeUnpacked($[0],_e)]}},2268:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseResizeAttributesV11=o.parseResizeAttributesV10=o.resize=void 0;const a=s(5060),_=s(2039),$=s(9390),_e=s(2827),tt=s(9793),nt={name:"Resize",inputNames:["A"],inputTypes:[_.TextureType.packed]};o.resize=(rt,st,at)=>((0,tt.validateInputs)(st,at),[rt.run(Object.assign(Object.assign({},nt),{cacheHint:at.cacheKey,get:()=>it(rt,st,at)}),st)]),o.parseResizeAttributesV10=rt=>(0,tt.parseUpsampleAttributes)(rt,10),o.parseResizeAttributesV11=rt=>(0,tt.parseUpsampleAttributes)(rt,11);const it=(rt,st,at)=>{const lt=(0,a.getGlsl)(rt.session.backend.glContext.version),[ct,ut]=ot(st,at);if(ct.every(It=>It===1)&&at.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},nt),{output:{dims:ut,type:st[0].type,textureType:_.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${lt.texture2D}(X, TexCoords);
                    ${lt.output} = v;
                }`});const dt=ut.length;if(dt<2)throw new Error(`output dimension should be at least 2, but got ${dt}`);const ft=ut[dt-2],ht=ut[dt-1],mt=st[0].dims;if(dt!==mt.length)throw new Error(`output dimension should match input ${mt.length}, but got ${dt}`);const bt=mt[dt-2],yt=mt[dt-1],gt=ct[dt-2],vt=ct[dt-1];let wt="";if(at.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${at.mode}'`);switch(at.coordinateTransformMode){case"asymmetric":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${ht}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${ft}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${ht}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${ft}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${ht}.0 - 1.0, ${ft}.0 - 1.0, ${ht}.0 - 1.0,
                            ${ft}.0 - 1.0);
                        vec4 original = vec4(${yt}.0 - 1.0, ${bt}.0 - 1.0, ${yt}.0 - 1.0,
                            ${bt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${at.coordinateTransformMode}'`)}const Ct=(0,$.getCoordsDataType)(dt),Rt=`
            const vec2 inputWH = vec2(${bt}.0, ${yt}.0);
            const vec4 scaleWHWH = vec4(float(${gt}), float(${vt}), float(${gt}), float(${vt}));
            ${(0,_e.unpackFromChannel)()}
            ${wt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Ct} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${ft-1};
                bool hasNextCol = rc.z < ${ht-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${lt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},nt),{output:{dims:ut,type:st[0].type,textureType:_.TextureType.packed},hasMain:!0,shaderSource:Rt})},ot=(rt,st)=>{const at=rt[0].dims;let lt,ct=st.scales;if(ct.length===0){const dt=rt[st.scalesInputIdx];if(dt&&dt.size!==0){if(rt[st.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");ct=et(dt,st.mode,st.isResize)}else{const ft=rt[st.sizesInputIdx];if(!ft||ft.size===0)throw new Error("Either scales or sizes MUST be provided as input.");lt=Array.from(ft.integerData),ct=j(lt,at,st.mode,st.isResize)}}else if(rt[st.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const ut=lt||at.map((dt,ft)=>Math.floor(dt*ct[ft]));return[ct,ut]},et=(rt,st,at)=>{const lt=Array.from(rt.floatData);return(0,tt.scalesValidation)(lt,st,at),lt},j=(rt,st,at,lt)=>{const ct=st.length,ut=new Array(ct);for(let dt=0,ft=ct;dt<ft;dt++)if(st[dt]===0){if(rt[dt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");ut[dt]=1}else ut[dt]=rt[dt]/st[dt];return(0,tt.scalesValidation)(ut,at,lt),ut}},8117:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.shape=void 0;const a=s(9162);o.shape=($,_e)=>(_(_e),[new a.Tensor([_e[0].dims.length],"int32",void 0,void 0,new Int32Array(_e[0].dims))]);const _=$=>{if(!$||$.length!==1)throw new Error("Shape requires 1 input.")}},2278:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sliceV10=o.parseSliceAttributes=o.slice=void 0;const a=s(246),_=s(782),$=s(2517),_e=s(2039),tt={name:"Slice",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};o.slice=(j,rt,st)=>(it(rt),[j.run(Object.assign(Object.assign({},tt),{cacheHint:st.cacheKey,get:()=>nt(j,rt[0],st)}),rt)]),o.parseSliceAttributes=j=>{const rt=j.attributes.getInts("starts"),st=j.attributes.getInts("ends"),at=j.attributes.getInts("axes",[]);return(0,a.createAttributeWithCacheKey)({starts:rt,ends:st,axes:at})};const nt=(j,rt,st)=>{const at=st.axes.length===0?rt.dims.slice(0).map((mt,bt)=>bt):st.axes,lt=$.ShapeUtil.normalizeAxes(at,rt.dims.length),ct=st.starts.map((mt,bt)=>mt>rt.dims[lt[bt]]-1?rt.dims[lt[bt]]:$.ShapeUtil.normalizeAxis(mt,rt.dims[lt[bt]])),ut=st.ends.map((mt,bt)=>mt>rt.dims[lt[bt]]-1?rt.dims[lt[bt]]:$.ShapeUtil.normalizeAxis(mt,rt.dims[lt[bt]])),dt=rt.dims.slice(),ft=[];for(let mt=0;mt<lt.length;mt++)dt[lt[mt]]=ut[mt]-ct[mt],ct[mt]>0&&ft.push(`outputIdx[${lt[mt]}] += ${ct[mt]};`);const ht=`
      float process(int outputIdx[${dt.length}]) {
        ${ft.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},tt),{output:{dims:dt,type:rt.type,textureType:_e.TextureType.unpacked},shaderSource:ht})},it=j=>{if(!j||j.length!==1)throw new Error("Slice requires 1 input.");if(_.NUMBER_TYPES.indexOf(j[0].type)===-1)throw new Error("Invalid input type.")};o.sliceV10=(j,rt)=>{et(rt);const st=ot(j,rt);return[j.run(Object.assign(Object.assign({},tt),{cacheHint:st.cacheKey,get:()=>nt(j,rt[0],st)}),[rt[0]])]};const ot=(j,rt)=>{if(!j.session.isInitializer(rt[1].dataId)||!j.session.isInitializer(rt[2].dataId)||rt.length>=4&&!j.session.isInitializer(rt[3].dataId)||rt.length>=5&&!j.session.isInitializer(rt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(rt.length>=5&&rt[4].integerData.some(ct=>ct!==1))throw new Error("currently non-1 steps is not supported for Slice");const st=Array.from(rt[1].integerData),at=Array.from(rt[2].integerData),lt=rt.length>=4?Array.from(rt[3].integerData):[];return{starts:st,ends:at,axes:lt,cacheKey:`${lt};${st};${at}`}},et=j=>{if(!j||j.length<3||j.length>5)throw new Error("Invalid input number.");if(j[1].type!=="int32"||j[1].dims.length!==1)throw new Error("Invalid input type.");if(j[2].type!=="int32"||j[2].dims.length!==1)throw new Error("Invalid input type.");if(j.length>=4&&(j[3].type!=="int32"||j[3].dims.length!==1))throw new Error("Invalid input type.");if(j.length>=5&&(j[4].type!=="int32"||j[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.softmaxV13=o.parseSoftmaxAttributesV13=o.parseSoftmaxAttributes=o.softmax=void 0;const a=s(246),_=s(2517),$=s(5060),_e=s(2039),tt=s(3738),nt={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]},it={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked]},ot={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]};o.softmax=(lt,ct,ut)=>{at(ct);const dt=ct[0].dims.slice(),ft=_.ShapeUtil.normalizeAxis(ut.axis,dt.length),ht=_.ShapeUtil.sizeToDimension(dt,ft),mt=_.ShapeUtil.sizeFromDimension(dt,ft);return et(lt,ct,ut,ht,mt)},o.parseSoftmaxAttributes=lt=>(0,a.createAttributeWithCacheKey)({axis:lt.attributes.getInt("axis",1)}),o.parseSoftmaxAttributesV13=lt=>(0,a.createAttributeWithCacheKey)({axis:lt.attributes.getInt("axis",-1)}),o.softmaxV13=(lt,ct,ut)=>{at(ct);const dt=ct[0].dims.slice(),ft=_.ShapeUtil.normalizeAxis(ut.axis,dt.length),ht=dt.length,mt=ft!==ht-1,bt=[];let yt,gt=[],vt=[];mt&&(gt=Array.from({length:ht}).map((It,Pt)=>Pt),gt[ft]=ht-1,gt[ht-1]=ft,gt.map(It=>bt.push(dt[It])),yt=(0,a.createAttributeWithCacheKey)({perm:gt}),vt=(0,tt.transpose)(lt,ct,yt));const wt=mt?_.ShapeUtil.sizeToDimension(bt,ht-1):_.ShapeUtil.sizeToDimension(dt,ht-1),Ct=mt?_.ShapeUtil.sizeFromDimension(bt,ht-1):_.ShapeUtil.sizeFromDimension(dt,ht-1),Rt=et(lt,mt?vt:ct,ut,wt,Ct);return mt?(0,tt.transpose)(lt,Rt,yt):Rt};const et=(lt,ct,ut,dt,ft)=>{const ht=j(lt,ct[0],dt,ft,[dt]),mt=lt.run(Object.assign(Object.assign({},nt),{cacheHint:ut.cacheKey,get:()=>ht}),ct),bt=rt(lt,ct[0],dt,ft,ht.output.dims,[dt]),yt=lt.run(Object.assign(Object.assign({},it),{cacheHint:ut.cacheKey,get:()=>bt}),[ct[0],mt]),gt=st(lt,ct[0],dt,ft,ht.output.dims,bt.output.dims);return[lt.run(Object.assign(Object.assign({},ot),{cacheHint:ut.cacheKey,get:()=>gt}),[ct[0],mt,yt])]},j=(lt,ct,ut,dt,ft)=>{const[ht,mt]=lt.calculateTextureWidthAndHeight(ct.dims,_e.TextureType.unpacked),bt=ft.length;if(ut<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ft.length!==1)throw new Error("Dimensionality of the output should be 1");if(ft[0]!==ut)throw new Error("Shape of the output should be equal to logical row count");const yt=(0,$.getGlsl)(lt.session.backend.glContext.version),gt=`
      float process(int[${bt}] indices) {
        int logical_row_start_offset = indices[0] * ${dt};

        float max = getColorAsFloat(${yt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${ht},
        ${mt} )));
        for(int i=1; i<${dt}; ++i)
        {
          float current = getColorAsFloat(${yt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${ht}, ${mt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},nt),{output:{dims:ft,type:ct.type,textureType:_e.TextureType.unpacked},shaderSource:gt})},rt=(lt,ct,ut,dt,ft,ht)=>{const[mt,bt]=lt.calculateTextureWidthAndHeight(ct.dims,_e.TextureType.unpacked),yt=ht.length;if(ut<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ht.length!==1)throw new Error("Dimensionality of the output should be 1");if(ht[0]!==ut)throw new Error("Shape of the output should be equal to logical row count");if(ft.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ft[0]!==ut)throw new Error("Shape of the intermediate results should be equal to logical row count");const gt=`
      float process(int[${yt}] indices) {
        int logical_row_start_offset = indices[0] * ${dt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${dt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,$.getGlsl)(lt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${mt}, ${bt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},it),{output:{dims:ht,type:ct.type,textureType:_e.TextureType.unpacked},shaderSource:gt})},st=(lt,ct,ut,dt,ft,ht)=>{const[mt,bt]=lt.calculateTextureWidthAndHeight(ct.dims,_e.TextureType.unpacked),yt=ct.dims.length;if(ut<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ft.length!==1||ht.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ft[0]!==ut||ht[0]!==ut)throw new Error("Shape of the intermediate results should be equal to logical row count");const gt=`
      float process(int[${yt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${mt}, ${bt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${dt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},ot),{output:{dims:ct.dims,type:ct.type,textureType:_e.TextureType.unpacked},shaderSource:gt})},at=lt=>{if(!lt||lt.length!==1)throw new Error("Softmax requires 1 input.");if(lt[0].type!=="float32"&&lt[0].type!=="float64")throw new Error("Invalid input type")}},5975:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSplitAttributes=o.split=void 0;const a=s(246),_=s(2517),$=s(2039),_e={name:"Split",inputNames:["A"],inputTypes:[$.TextureType.unpacked]};o.split=(ot,et,j)=>{it(et);const rt=_.ShapeUtil.normalizeAxis(j.axis,et[0].dims.length),st=tt(ot,et,rt,j),at=[];for(let lt=0;lt<st;++lt)at.push(ot.run(Object.assign(Object.assign({},_e),{cacheHint:`${j.cacheKey};${lt}`,get:()=>nt(ot,et[0],j,rt,lt)}),et));return at},o.parseSplitAttributes=ot=>{const et=ot.attributes.getInt("axis",0),j=ot.attributes.getInts("split",[]),rt=ot.outputs.length;return(0,a.createAttributeWithCacheKey)({axis:et,split:j,numOutputs:rt})};const tt=(ot,et,j,rt)=>{const[,st]=_.SplitUtil.splitShape(et[0].dims,j,rt.split,rt.numOutputs);return st.length},nt=(ot,et,j,rt,st)=>{const[at,lt]=_.SplitUtil.splitShape(et.dims,rt,j.split,j.numOutputs),ct=lt[st],ut=at[st],dt=`
      float process(int indices[${ut.length}]) {
        indices[${rt}] += ${ct};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},_e),{cacheHint:`${j.cacheKey}:${st}`,output:{dims:ut,type:et.type,textureType:$.TextureType.unpacked},shaderSource:dt})},it=ot=>{if(!ot||ot.length!==1)throw new Error("Split requires one input.");if(ot[0].type!=="int8"&&ot[0].type!=="uint8"&&ot[0].type!=="int16"&&ot[0].type!=="uint16"&&ot[0].type!=="int32"&&ot[0].type!=="uint32"&&ot[0].type!=="float32"&&ot[0].type!=="float64"&&ot[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSqueezeAttributes=o.squeezeV13=o.squeeze=void 0;const a=s(2517);o.squeeze=(_e,tt,nt)=>{_(tt);const it=a.ShapeUtil.squeezeShape(tt[0].dims,nt);return[_e.reshapeUnpacked(tt[0],it)]},o.squeezeV13=(_e,tt)=>($(tt),(0,o.squeeze)(_e,[tt[0]],Array.from(tt[1].integerData))),o.parseSqueezeAttributes=_e=>_e.attributes.getInts("axes");const _=_e=>{if(!_e||_e.length!==1)throw new Error("Squeeze requires 1 input.");if(_e[0].type==="string")throw new Error("invalid input tensor types.")},$=_e=>{if(!_e||_e.length!==2)throw new Error("Squeeze requires 2 inputs.");if(_e[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sum=void 0;const a=s(5060),_=s(2039);o.sum=(tt,nt)=>{_e(nt);const it={name:"Sum",inputNames:nt.map((ot,et)=>`X${et}`),inputTypes:new Array(nt.length).fill(_.TextureType.unpacked)};return[tt.run(Object.assign(Object.assign({},it),{get:()=>$(tt,nt,it)}),nt)]};const $=(tt,nt,it)=>{const ot=(0,a.getGlsl)(tt.session.backend.glContext.version),et=nt[0].dims.slice(),j=`
      void main() {
        vec4 result = ${nt.map((rt,st)=>`${ot.texture2D}(X${st},TexCoords)`).join(" + ")};
        ${ot.output} = result;
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:et,type:nt[0].type,textureType:_.TextureType.unpacked},hasMain:!0,shaderSource:j})},_e=tt=>{if(!tt||tt.length===0)throw new Error("Sum requires inputs.");const nt=tt[0].dims.length;for(let it=1;it<tt.length;it++){if(nt!==tt[it].dims.length)throw new Error("Input shapes are mismatched.");for(let ot=0;ot<nt;ot++)if(tt[0].dims[ot]!==tt[it].dims[ot])throw new Error("Input shapes are not matched.")}if(tt[0].type!=="float32"&&tt[0].type!=="float64")throw new Error("Invalid input type.");for(let it=1;it<tt.length;it++)if(tt[0].type!==tt[it].type)throw new Error("Input types are not matched.")}},5723:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tile=void 0;const a=s(782),_=s(2039);o.tile=(tt,nt)=>{_e(nt);const it={name:"Tile",inputNames:["A"],inputTypes:[_.TextureType.unpacked]};return[tt.run(Object.assign(Object.assign({},it),{get:()=>$(tt,nt,it)}),nt)]};const $=(tt,nt,it)=>{const ot=nt[0].dims.slice(),et=new Array(ot.length),j=[];for(let at=0;at<ot.length;at++)et[at]=ot[at]*nt[1].numberData[at],j.push(`inputIdx[${at}] = int(mod(float(outputIdx[${at}]), ${ot[at]}.));`);const rt=et.length,st=`
      float process(int outputIdx[${rt}]) {
        int inputIdx[${rt}];
        ${j.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:et,type:nt[0].type,textureType:_.TextureType.unpacked},shaderSource:st})},_e=tt=>{if(!tt||tt.length!==2)throw new Error("Tile requires 2 input.");if(tt[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(tt[1].dims[0]!==tt[0].dims.length)throw new Error("Invalid input shape.");if(a.NUMBER_TYPES.indexOf(tt[0].type)===-1)throw new Error("Invalid input type.");if(tt[1].type!=="int32"&&tt[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseTransposeAttributes=o.transpose=void 0;const a=s(246),_=s(2517),$=s(2039),_e={name:"Transpose",inputNames:["A"],inputTypes:[$.TextureType.unpacked]};o.transpose=(j,rt,st)=>(et(rt),[j.run(Object.assign(Object.assign({},_e),{cacheHint:st.cacheKey,get:()=>tt(j,rt[0],st.perm)}),rt)]),o.parseTransposeAttributes=j=>(0,a.createAttributeWithCacheKey)({perm:j.attributes.getInts("perm",[])});const tt=(j,rt,st)=>{const at=rt.dims;st=nt(at,st);const lt=it(at,st),ct=at.length,ut=`
      ${ot("perm",st,ct)}
      float process(int indices[${ct}]) {
        int a[${ct}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},_e),{output:{dims:lt,type:rt.type,textureType:$.TextureType.unpacked},shaderSource:ut})},nt=(j,rt)=>(rt&&rt.length!==j.length&&(rt=[...j.keys()].reverse()),rt),it=(j,rt)=>(rt=nt(j,rt),_.ShapeUtil.sortBasedOnPerm(j,rt)),ot=(j,rt,st)=>{const at=[];at.push(`void ${j}(out int a[${st}], int src[${st}]) {`);for(let lt=0;lt<st;++lt)at.push(`	a[${rt[lt]}]=src[${lt}];`);return at.push("	}"),at.join(`
`)},et=j=>{if(!j||j.length!==1)throw new Error("Transpose requires 1 input.");if(j[0].type!=="float32"&&j[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.encodeAsUint8=void 0;const a=s(5060),_=s(2039);o.encodeAsUint8=($,_e)=>{const tt=_e.shape,nt=(0,a.getGlsl)($.session.backend.glContext.version),it=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${nt.texture2D}(X,TexCoords).r;
      ${nt.output} = encodeAsUint8(value);
    }`,ot={name:"Uint8Encode",inputTypes:[_.TextureType.unpacked],inputNames:["X"],output:{dims:tt,type:_e.tensor.type,textureType:_.TextureType.downloadUint8AsFloat},shaderSource:it,hasMain:!0};return $.executeProgram(ot,[_e.tensor])}},4909:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tanh=o.tan=o.sqrt=o.sin=o.sigmoid=o.relu=o.not=o.neg=o.log=o.parseLeakyReluAttributes=o.leakyRelu=o.identity=o.floor=o.exp=o.parseEluAttributes=o.elu=o.cos=o.ceil=o.clipV11=o.parseClipAttributes=o.clip=o.atan=o.asin=o.acos=o.abs=o.glslTanh=o.glslTan=o.glslSqrt=o.glslSigmoid=o.glslRelu=o.glslSin=o.glslNot=o.glslNeg=o.glslLog=o.glslLeakyRelu=o.glslIdentity=o.glslClip=o.glslFloor=o.glslExp=o.glslElu=o.glslCos=o.glslCeil=o.glslAtan=o.glslAsin=o.glslAcos=o.glslAbs=void 0;const a=s(246),_=s(2517),$=s(8520),_e=s(5060),tt=s(2039);function nt(){return Rt("abs")}function it(){return Rt("acos")}function ot(){return Rt("asin")}function et(){return Rt("atan")}function j(){return Rt("ceil")}function rt(){return Rt("cos")}function st(St){const Ot="elu";return{body:`
  const float alpha = float(${St});

  float ${Ot}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Ot}_(vec4 v) {
    return vec4(${Ot}_(v.x), ${Ot}_(v.y), ${Ot}_(v.z), ${Ot}_(v.w));
  }
  `,name:Ot,type:$.FunctionType.ValueBased}}function at(){return Rt("exp")}function lt(){return Rt("floor")}function ct(St,Ot){const At="clip";return{body:`
  const float min = float(${St});
  const float max = float(${Ot});

  float ${At}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${At}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:At,type:$.FunctionType.ValueBased}}function ut(){const St="indentity";return{body:`
  float ${St}_(float a) {
    return a;
  }
  vec4 ${St}_(vec4 v) {
    return v;
  }
  `,name:St,type:$.FunctionType.ValueBased}}function dt(St){const Ot="leakyRelu";return{body:`
  const float alpha = float(${St});

  float ${Ot}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Ot}_(vec4 v) {
    return vec4(${Ot}_(v.x), ${Ot}_(v.y), ${Ot}_(v.z), ${Ot}_(v.w));
  }
  `,name:Ot,type:$.FunctionType.ValueBased}}function ft(){return Rt("log")}function ht(){const St="neg";return{body:`
  float ${St}_(float a) {
    return -a;
  }
  vec4 ${St}_(vec4 v) {
    return -v;
  }
  `,name:St,type:$.FunctionType.ValueBased}}function mt(){const St="not";return{body:`
  float ${St}_(float a) {
    return float( ! bool(a) );
  }
  bool ${St}_(bool a) {
    return !a;
  }
  vec4 ${St}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${St}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:St,type:$.FunctionType.ValueBased}}function bt(){return Rt("sin")}function yt(){const St="relu";return{body:`
  float ${St}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${St}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:St,type:$.FunctionType.ValueBased}}function gt(){const St="sigmoid";return{body:`
  float ${St}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${St}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:St,type:$.FunctionType.ValueBased}}function vt(){return Rt("sqrt")}function wt(){return Rt("tan")}function Ct(){const St="tanh";return{body:`
  float ${St}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${St}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:St,type:$.FunctionType.ValueBased}}function Rt(St){return{body:`
  float ${St}_(float a) {
    return ${St}(a);
  }
  vec4 ${St}_(vec4 v) {
    return ${St}(v);
  }
  `,name:St,type:$.FunctionType.ValueBased}}o.glslAbs=nt,o.glslAcos=it,o.glslAsin=ot,o.glslAtan=et,o.glslCeil=j,o.glslCos=rt,o.glslElu=st,o.glslExp=at,o.glslFloor=lt,o.glslClip=ct,o.glslIdentity=ut,o.glslLeakyRelu=dt,o.glslLog=ft,o.glslNeg=ht,o.glslNot=mt,o.glslSin=bt,o.glslRelu=yt,o.glslSigmoid=gt,o.glslSqrt=vt,o.glslTan=wt,o.glslTanh=Ct;const It=(St,Ot,At,$t)=>{const Ft=St.session.pack?tt.TextureType.packed:tt.TextureType.unpacked,Ut={name:At.name,inputTypes:[Ft],inputNames:["A"],cacheHint:$t};return Object.assign(Object.assign({},Ut),{get:()=>((Kt,ar,lr,rr)=>{const Jt=Kt.session.pack?tt.TextureType.packed:tt.TextureType.unpacked,cr=(0,_e.getGlsl)(Kt.session.backend.glContext.version);return Object.assign(Object.assign({},ar),{output:{dims:lr.dims,type:lr.type,textureType:Jt},shaderSource:`
     ${rr.body}
     void main() {
       vec4 v = ${cr.texture2D}(A, TexCoords);
       v = ${rr.name}_(v);
       ${cr.output} = v;
     }
     `,hasMain:!0})})(St,Ut,Ot,At)})};o.abs=(St,Ot)=>[St.run(It(St,Ot[0],nt()),Ot)],o.acos=(St,Ot)=>[St.run(It(St,Ot[0],it()),Ot)],o.asin=(St,Ot)=>[St.run(It(St,Ot[0],ot()),Ot)],o.atan=(St,Ot)=>[St.run(It(St,Ot[0],et()),Ot)],o.clip=(St,Ot,At)=>[St.run(It(St,Ot[0],ct(At.min,At.max),At.cacheKey),Ot)],o.parseClipAttributes=St=>(0,a.createAttributeWithCacheKey)({min:St.attributes.getFloat("min",_.MIN_CLIP),max:St.attributes.getFloat("max",_.MAX_CLIP)}),o.clipV11=(St,Ot)=>{const At=Pt(St,Ot);return(0,o.clip)(St,[Ot[0]],At)};const Pt=(St,Ot)=>{if(Ot.length>=3&&(!St.session.isInitializer(Ot[1].dataId)||!St.session.isInitializer(Ot[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const At=Ot.length>=3?Ot[1].numberData[0]:_.MIN_CLIP,$t=Ot.length>=3?Ot[2].numberData[0]:_.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:At,max:$t})};o.ceil=(St,Ot)=>[St.run(It(St,Ot[0],j()),Ot)],o.cos=(St,Ot)=>[St.run(It(St,Ot[0],rt()),Ot)],o.elu=(St,Ot,At)=>[St.run(It(St,Ot[0],st(At.alpha),At.cacheKey),Ot)],o.parseEluAttributes=St=>(0,a.createAttributeWithCacheKey)({alpha:St.attributes.getFloat("alpha",1)}),o.exp=(St,Ot)=>[St.run(It(St,Ot[0],at()),Ot)],o.floor=(St,Ot)=>[St.run(It(St,Ot[0],lt()),Ot)],o.identity=(St,Ot)=>[St.run(It(St,Ot[0],ut()),Ot)],o.leakyRelu=(St,Ot,At)=>[St.run(It(St,Ot[0],dt(At.alpha),At.cacheKey),Ot)],o.parseLeakyReluAttributes=St=>(0,a.createAttributeWithCacheKey)({alpha:St.attributes.getFloat("alpha",.01)}),o.log=(St,Ot)=>[St.run(It(St,Ot[0],ft()),Ot)],o.neg=(St,Ot)=>[St.run(It(St,Ot[0],ht()),Ot)],o.not=(St,Ot)=>[St.run(It(St,Ot[0],mt()),Ot)],o.relu=(St,Ot)=>[St.run(It(St,Ot[0],yt()),Ot)],o.sigmoid=(St,Ot)=>[St.run(It(St,Ot[0],gt()),Ot)],o.sin=(St,Ot)=>[St.run(It(St,Ot[0],bt()),Ot)],o.sqrt=(St,Ot)=>[St.run(It(St,Ot[0],vt()),Ot)],o.tan=(St,Ot)=>[St.run(It(St,Ot[0],wt()),Ot)],o.tanh=(St,Ot)=>[St.run(It(St,Ot[0],Ct()),Ot)]},5611:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackProgramInfoLoader=o.createUnpackProgramInfo=void 0;const a=s(5060),_=s(2039),$=s(9390),_e=s(2827),tt={name:"unpack",inputNames:["A"],inputTypes:[_.TextureType.packed]};o.createUnpackProgramInfo=(nt,it)=>{const ot=it.dims.length,et=(0,_e.getChannels)("rc",ot),j=et.slice(-2),rt=(0,$.getCoordsDataType)(ot),st=(0,_e.unpackFromChannel)(),at=it.dims.length===0?"":function(ut,dt){if(ut===1)return"rc";let ft="";for(let ht=0;ht<ut;ht++)ft+=dt[ht],ht<ut-1&&(ft+=",");return ft}(ot,et),lt=ot<=1?"rc":`vec2(${j.join(",")})`,ct=`
    ${st}
    void main() {
      ${rt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${at});

       ${(0,a.getGlsl)(nt.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${lt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},tt),{hasMain:!0,output:{dims:it.dims,type:it.type,textureType:_.TextureType.unpacked},shaderSource:ct})},o.createUnpackProgramInfoLoader=(nt,it)=>Object.assign(Object.assign({},tt),{get:()=>(0,o.createUnpackProgramInfo)(nt,it)})},8428:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseUnsqueezeAttributes=o.unsqueezeV13=o.unsqueeze=void 0;const a=s(2517);o.unsqueeze=(_e,tt,nt)=>{_(tt);const it=a.ShapeUtil.unsqueezeShape(tt[0].dims,nt);return[_e.reshapeUnpacked(tt[0],it)]},o.unsqueezeV13=(_e,tt)=>($(tt),(0,o.unsqueeze)(_e,[tt[0]],Array.from(tt[1].integerData))),o.parseUnsqueezeAttributes=_e=>_e.attributes.getInts("axes");const _=_e=>{if(!_e||_e.length!==1)throw new Error("Unsqueeze requires 1 input.");if(_e[0].type==="string")throw new Error("invalid input tensor types.")},$=_e=>{if(!_e||_e.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(_e[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.scalesValidation=o.validateInputs=o.parseUpsampleAttributes=o.parseUpsampleAttributesV9=o.parseUpsampleAttributesV7=o.upsample=void 0;const a=s(246),_=s(5060),$=s(2039),_e={name:"Upsample",inputNames:["X"],inputTypes:[$.TextureType.unpacked]};o.upsample=(nt,it,ot)=>((0,o.validateInputs)(it,ot),[nt.run(Object.assign(Object.assign({},_e),{cacheHint:ot.cacheKey,get:()=>tt(nt,it,ot)}),it)]),o.parseUpsampleAttributesV7=nt=>(0,o.parseUpsampleAttributes)(nt,7),o.parseUpsampleAttributesV9=nt=>(0,o.parseUpsampleAttributes)(nt,9),o.parseUpsampleAttributes=(nt,it)=>{const ot=it>=10,et=nt.attributes.getString("mode","nearest");if(et!=="nearest"&&et!=="linear"&&(it<11||et!=="cubic"))throw new Error(`unrecognized mode: ${et}`);let j=[];it<9&&(j=nt.attributes.getFloats("scales"),(0,o.scalesValidation)(j,et,ot));const rt=nt.attributes.getFloat("extrapolation_value",0),st=it>10?nt.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(st)===-1)throw new Error(`coordinate_transform_mode '${st}' is not supported`);const at=st==="tf_crop_and_resize",lt=at,ct=et==="nearest"&&it>=11?nt.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(ct)===-1)throw new Error(`nearest_mode '${ct}' is not supported`);const ut=nt.attributes.getFloat("cubic_coeff_a",-.75),dt=nt.attributes.getInt("exclude_outside",0)!==0;if(dt&&et!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const ft=it<11||et==="nearest"&&st==="asymmetric"&&ct==="floor";let ht=0,mt=0,bt=0;return it>10?nt.inputs.length>2?(ht=1,mt=2,bt=3):(mt=1,bt=2):it===9&&(mt=1),(0,a.createAttributeWithCacheKey)({opset:it,isResize:ot,mode:et,scales:j,extrapolationValue:rt,coordinateTransformMode:st,useExtrapolation:lt,needRoiInput:at,nearestMode:ct,cubicCoefficientA:ut,excludeOutside:dt,useNearest2xOptimization:ft,roiInputIdx:ht,scalesInputIdx:mt,sizesInputIdx:bt})};const tt=(nt,it,ot)=>{const et=(0,_.getGlsl)(nt.session.backend.glContext.version),[j,rt]=nt.calculateTextureWidthAndHeight(it[0].dims,$.TextureType.unpacked),st=it[0].dims.map((bt,yt)=>Math.floor(bt*ot.scales[yt])),[at,lt]=nt.calculateTextureWidthAndHeight(st,$.TextureType.unpacked),ct=st.length,ut=new Array(ct),dt=new Array(ct);let ft=`
      int output_pitches[${ct}];
      int input_pitches[${ct}];
      `;for(let bt=ct-1;bt>=0;bt--)ut[bt]=bt===ct-1?1:ut[bt+1]*st[bt+1],dt[bt]=bt===ct-1?1:dt[bt+1]*it[0].dims[bt+1],ft+=`
        output_pitches[${bt}] = ${ut[bt]};
        input_pitches[${bt}] = ${dt[bt]};
        `;const ht=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${j}, ${rt});
        float value = getColorAsFloat(${et.texture2D}(X, coords));
        return value;
      }
      `,mt=ot.mode==="nearest"?`
    ${ht}
    float process(int indices[${ct}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${lt});

      ${ft}

      int d, m;
      for (int dim = 0; dim < ${ct}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:ct===4?`
    ${ht}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${lt});

      ${ft}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${it[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${ht}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${lt});

      ${ft}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${it[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},_e),{output:{dims:st,type:it[0].type,textureType:$.TextureType.unpacked},shaderSource:mt,variables:[{name:"scales",type:"int",arrayLength:ot.scales.length,data:ot.scales.map(bt=>Math.ceil(bt))}]})};o.validateInputs=(nt,it)=>{if(!nt||it.opset<9&&nt.length!==1||it.opset>=9&&it.opset<11&&nt.length!==2||it.opset>=11&&nt.length<2)throw new Error("invalid inputs.");if(it.scales.length>0&&nt[0].dims.length!==it.scales.length)throw new Error("Invalid input shape.");if(nt[0].type==="string")throw new Error("Invalid input tensor types.")},o.scalesValidation=(nt,it,ot)=>{if(ot){for(const et of nt)if(et<=0)throw new Error("Scale value should be greater than 0.")}else for(const et of nt)if(et<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(it!=="linear"&&it!=="cubic"||nt.length===2||nt.length===4&&nt[0]===1&&nt[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${ot?"Resize":"Upsample"} opeartor.`)}},1958:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProgramManager=void 0;const a=s(1670),_=s(6231),$=s(8879),_e=s(5060);o.ProgramManager=class{constructor(tt,nt,it){this.profiler=tt,this.glContext=nt,this.textureLayoutStrategy=it,this.repo=new Map,this.attributesBound=!1}getArtifact(tt){return this.repo.get(tt)}setArtifact(tt,nt){this.repo.set(tt,nt)}run(tt,nt,it){var ot;this.profiler.event("op",`ProgramManager.run ${(ot=tt.programInfo.name)!==null&&ot!==void 0?ot:"unknown kernel"}`,()=>{var et;const j=this.glContext.gl,rt=tt.program;j.useProgram(rt);try{this.bindOutput(it),this.attributesBound||this.bindAttributes(tt.attribLocations),this.bindUniforms(tt.uniformLocations,(et=tt.programInfo.variables)!==null&&et!==void 0?et:[],nt)}catch(st){throw _.Logger.error("ProgramManager",tt.programInfo.shaderSource),st}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(tt=>this.glContext.deleteProgram(tt.program))}build(tt,nt,it){return this.profiler.event("backend","ProgramManager.build",()=>{const ot=new $.GlslPreprocessor(this.glContext,tt,nt,it),et=ot.preprocess(),j=this.compile(et);return{programInfo:tt,program:j,uniformLocations:this.getUniformLocations(j,ot.context.programInfo.inputNames,ot.context.programInfo.variables),attribLocations:this.getAttribLocations(j)}})}compile(tt){if(!this.vertexShader){_.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const ot=(0,_e.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(ot,this.glContext.gl.VERTEX_SHADER)}a.env.debug&&_.Logger.verbose("ProrgramManager",`FragShader:
${tt}
`);const nt=this.glContext.compileShader(tt,this.glContext.gl.FRAGMENT_SHADER),it=this.glContext.createProgram(this.vertexShader,nt);return this.glContext.deleteShader(nt),it}bindOutput(tt){const nt=tt.width,it=tt.height;_.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${nt}/${it}, shape=${tt.shape}, type=${tt.tensor.type}`),this.glContext.attachFramebuffer(tt.texture,nt,it)}bindAttributes(tt){const nt=tt.position,it=tt.textureCoord;this.glContext.setVertexAttributes(nt,it),this.attributesBound=!0}bindUniforms(tt,nt,it){var ot;const et=this.glContext.gl;let j=0;for(const{name:rt,type:st,location:at,arrayLength:lt}of tt){const ct=(ot=nt.find(ut=>ut.name===rt))===null||ot===void 0?void 0:ot.data;if(st!=="sampler2D"&&!ct)throw new Error(`variable '${rt}' does not have data defined in program info`);switch(st){case"sampler2D":this.bindTexture(it[j],at,j),j++;break;case"float":lt?et.uniform1fv(at,ct):et.uniform1f(at,ct);break;case"int":lt?et.uniform1iv(at,ct):et.uniform1i(at,ct);break;default:throw new Error(`Uniform not implemented: ${st}`)}}}bindTexture(tt,nt,it){this.glContext.bindTextureToUniform(tt.texture,it,nt)}getAttribLocations(tt){return{position:this.getAttribLocation(tt,"position"),textureCoord:this.getAttribLocation(tt,"textureCoord")}}getUniformLocations(tt,nt,it){const ot=[];if(nt)for(const et of nt)ot.push({name:et,type:"sampler2D",location:this.getUniformLocation(tt,et)});if(it)for(const et of it)ot.push(Object.assign(Object.assign({},et),{location:this.getUniformLocation(tt,et.name)}));return ot}getUniformLocation(tt,nt){const it=this.glContext.gl.getUniformLocation(tt,nt);if(it===null)throw new Error(`Uniform ${nt} not found.`);return it}getAttribLocation(tt,nt){return this.glContext.gl.getAttribLocation(tt,nt)}}},6416:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLSessionHandler=void 0;const a=s(6231),_=s(1047),$=s(8316),_e=s(1640),tt=s(1958),nt=s(7859),it=s(5702);o.WebGLSessionHandler=class{constructor(ot,et){this.backend=ot,this.context=et,this.layoutStrategy=new nt.PreferLogicalStrategy(ot.glContext.maxTextureSize),this.programManager=new tt.ProgramManager(this.context.profiler,ot.glContext,this.layoutStrategy),this.textureManager=new it.TextureManager(ot.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:ot.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=ot.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new $.WebGLInferenceHandler(this)}onGraphInitialized(ot){const et=ot.getValues().filter(j=>j.from===-1&&j.tensor).map(j=>j.tensor.dataId);this.initializers=new Set(et)}isInitializer(ot){return!!this.initializers&&this.initializers.has(ot)}addInitializer(ot){this.initializers.add(ot)}getTextureData(ot,et){return et?this.packedTextureDataCache.get(ot):this.unpackedTextureDataCache.get(ot)}setTextureData(ot,et,j=!1){a.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),j?this.packedTextureDataCache.set(ot,et):this.unpackedTextureDataCache.set(ot,et)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(ot=>this.textureManager.releaseTexture(ot,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(ot=>this.textureManager.releaseTexture(ot,!0)),this.unpackedTextureDataCache=new Map}resolve(ot,et,j){const rt=(0,_.resolveOperator)(ot,et,_e.WEBGL_OP_RESOLVE_RULES);return{impl:rt.opImpl,context:rt.opInit?rt.opInit(ot,j):ot}}}},7769:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Uint8DataEncoder=o.RGBAFloatDataEncoder=o.RedFloat32DataEncoder=void 0;const a=s(6231);o.RedFloat32DataEncoder=class{constructor(_,$=1){if($===1)this.internalFormat=_.R32F,this.format=_.RED,this.textureType=_.FLOAT,this.channelSize=$;else{if($!==4)throw new Error(`Invalid number of channels: ${$}`);this.internalFormat=_.RGBA32F,this.format=_.RGBA,this.textureType=_.FLOAT,this.channelSize=$}}encode(_,$){let _e,tt;return _.constructor!==Float32Array&&(a.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),tt=new Float32Array(_)),$*this.channelSize>_.length?(a.Logger.warning("Encoder","Source data too small. Allocating larger array"),tt=_,_e=this.allocate($*this.channelSize),tt.forEach((nt,it)=>_e[it]=nt)):(tt=_,_e=tt),_e}allocate(_){return new Float32Array(4*_)}decode(_,$){return this.channelSize===1?_.filter((_e,tt)=>tt%4==0).subarray(0,$):_.subarray(0,$)}},o.RGBAFloatDataEncoder=class{constructor(_,$=1,_e){if($!==1&&$!==4)throw new Error(`Invalid number of channels: ${$}`);this.internalFormat=_.RGBA,this.format=_.RGBA,this.channelSize=$,this.textureType=_e||_.FLOAT}encode(_,$){let _e=_;return this.channelSize===1&&(a.Logger.verbose("Encoder","Exploding into a larger array"),_e=this.allocate($),_.forEach((tt,nt)=>_e[4*nt]=tt)),_e}allocate(_){return new Float32Array(4*_)}decode(_,$){return this.channelSize===1?_.filter((_e,tt)=>tt%4==0).subarray(0,$):_.subarray(0,$)}},o.Uint8DataEncoder=class{constructor(_,$=1){if(this.channelSize=4,$===1)this.internalFormat=_.ALPHA,this.format=_.ALPHA,this.textureType=_.UNSIGNED_BYTE,this.channelSize=$;else{if($!==4)throw new Error(`Invalid number of channels: ${$}`);this.internalFormat=_.RGBA,this.format=_.RGBA,this.textureType=_.UNSIGNED_BYTE,this.channelSize=$}}encode(_,$){return new Uint8Array(_.buffer,_.byteOffset,_.byteLength)}allocate(_){return new Uint8Array(_*this.channelSize)}decode(_,$){if(_ instanceof Uint8Array)return _.subarray(0,$);throw new Error(`Invalid array type: ${_.constructor}`)}}},7859:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBatchDim=o.sizeToSquarishShape=o.getRowsCols=o.sizeFromShape=o.isInt=o.parseAxisParam=o.squeezeShape=o.PreferLogicalStrategy=o.AlwaysKeepOriginalSizeStrategy=void 0;const a=s(6231),_=s(2517);function $(ot,et){const j=[],rt=[],st=et!=null&&Array.isArray(et)&&et.length===0,at=et==null||st?null:_e(et,ot).sort();let lt=0;for(let ct=0;ct<ot.length;++ct){if(at!=null){if(at[lt]===ct&&ot[ct]!==1)throw new Error(`Can't squeeze axis ${ct} since its dim '${ot[ct]}' is not 1`);(at[lt]==null||at[lt]>ct)&&ot[ct]===1&&(j.push(ot[ct]),rt.push(ct)),at[lt]<=ct&&lt++}ot[ct]!==1&&(j.push(ot[ct]),rt.push(ct))}return{newShape:j,keptDims:rt}}function _e(ot,et){const j=et.length;return ot=ot==null?et.map((rt,st)=>st):[].concat(ot),(0,_.assert)(ot.every(rt=>rt>=-j&&rt<j),()=>`All values in axis param must be in range [-${j}, ${j}) but got axis ${ot}`),(0,_.assert)(ot.every(tt),()=>`All values in axis param must be integers but got axis ${ot}`),ot.map(rt=>rt<0?j+rt:rt)}function tt(ot){return ot%1==0}function nt(ot){if(ot.length===0)return 1;let et=ot[0];for(let j=1;j<ot.length;j++)et*=ot[j];return et}function it(ot){const et=Math.ceil(Math.sqrt(ot));return[et,Math.ceil(ot/et)]}o.AlwaysKeepOriginalSizeStrategy=class{constructor(ot){this.maxTextureSize=ot}computeTextureWH(ot,et){if(ot.length===0)return[1,1];const j=this.maxTextureSize;if(et&&et.breakAxis!==void 0){const at=et.breakAxis>=ot.length?1:ot.slice(et.breakAxis).reduce((ct,ut)=>ct*ut),lt=et.breakAxis<=0?1:ot.slice(0,et.breakAxis).reduce((ct,ut)=>ct*ut);if(!(at>j||lt>j))return[at,lt];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ot}, breakAxis:${et.breakAxis}`)}const rt=ot.reduce((at,lt)=>at*lt);let st=Math.floor(Math.sqrt(rt));for(;st<j&&st<rt&&rt%st!=0;st++);if(st>=j||rt%st!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${ot}`);return[st,rt/st]}},o.PreferLogicalStrategy=class{constructor(ot){this.maxTextureSize=ot}computeTextureWH(ot,et){const j=this.computeTexture(ot,et);return et&&et.isPacked&&(j[0]/=2,j[1]/=2),et&&et.reverseWH?[j[1],j[0]]:j}computeTexture(ot,et){const j=et&&et.isPacked;if(ot.length===0)return j?[2,2]:[1,1];let rt=this.maxTextureSize;if(et&&et.breakAxis!==void 0){const lt=et.breakAxis>=ot.length?1:ot.slice(et.breakAxis).reduce((ut,dt)=>ut*dt),ct=et.breakAxis<=0?1:ot.slice(0,et.breakAxis).reduce((ut,dt)=>ut*dt);if(!(lt>rt||ct>rt))return[lt,ct];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ot}, breakAxis:${et.breakAxis}`)}let st=ot.slice(0);j&&(rt*=2,st=st.map((lt,ct)=>ct>=st.length-2?st[ct]%2==0?st[ct]:st[ct]+1:st[ct]),st.length===1&&(st=[2,st[0]])),st.length!==2&&(st=$(st).newShape);const at=nt(st);return st.length<=1&&at<=rt?[1,at]:st.length===2&&st[0]<=rt&&st[1]<=rt?st:st.length===3&&st[0]*st[1]<=rt&&st[2]<=rt?[st[0]*st[1],st[2]]:st.length===3&&st[0]<=rt&&st[1]*st[2]<=rt?[st[0],st[1]*st[2]]:st.length===4&&st[0]*st[1]*st[2]<=rt&&st[3]<=rt?[st[0]*st[1]*st[2],st[3]]:st.length===4&&st[0]<=rt&&st[1]*st[2]*st[3]<=rt?[st[0],st[1]*st[2]*st[3]]:j?it(at/4).map(lt=>2*lt):it(at)}},o.squeezeShape=$,o.parseAxisParam=_e,o.isInt=tt,o.sizeFromShape=nt,o.getRowsCols=function(ot){if(ot.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[ot.length>1?ot[ot.length-2]:1,ot[ot.length-1]]},o.sizeToSquarishShape=it,o.getBatchDim=function(ot,et=2){return nt(ot.slice(0,ot.length-et))}},4057:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createTextureLayoutFromShape=o.calculateTextureWidthAndHeight=o.createTextureLayoutFromTextureType=void 0;const a=s(2517),_=s(2039);o.createTextureLayoutFromTextureType=($,_e,tt)=>{const nt=tt===_.TextureType.unpacked||tt===_.TextureType.unpackedReversed?1:4,it=tt===_.TextureType.packed,ot=tt===_.TextureType.unpackedReversed||tt===_.TextureType.packed,et=tt===_.TextureType.packedLastDimension?_e.length-1:void 0,j=tt===_.TextureType.packedLastDimension?_e.map((rt,st)=>st===_e.length-1?4*rt:rt):void 0;return(0,o.createTextureLayoutFromShape)($,_e,nt,j,{isPacked:it,reverseWH:ot,breakAxis:et})},o.calculateTextureWidthAndHeight=($,_e,tt)=>{const nt=(0,o.createTextureLayoutFromTextureType)($,_e,tt);return[nt.width,nt.height]},o.createTextureLayoutFromShape=($,_e,tt=1,nt,it)=>{const ot=!(!it||!it.isPacked),[et,j]=$.computeTextureWH(ot&&nt||_e,it),rt=_e.length;let st=_e.slice(0);if(rt===0&&(st=[1]),tt===1)nt=_e;else if(ot){if(tt!==4)throw new Error("a packed texture must be 4-channel");nt=_e,rt>0&&(st[rt-1]=Math.ceil(st[rt-1]/2)),rt>1&&(st[rt-2]=Math.ceil(st[rt-2]/2))}else if(!nt)throw new Error("Unpacked shape is needed when using channels > 1");return{width:et,height:j,channels:tt,isPacked:ot,shape:st,strides:a.ShapeUtil.computeStrides(st),unpackedShape:nt,reversedWH:it&&it.reverseWH}}},5702:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextureManager=void 0;const a=s(6231);o.TextureManager=class{constructor(_,$,_e,tt){this.glContext=_,this.layoutStrategy=$,this.profiler=_e,this.config=tt,this.pendingRead=new Map,tt.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(_,$,_e,tt){const nt=this.toEncoderType(_),it=this.glContext.getEncoder(nt,$.channels||1,tt);if($.isPacked&&tt===1)throw new Error("not implemented");const ot=$.width,et=$.height;let j,rt;if(this.config.reuseTextures){j=`${ot}x${et}_${it.format}_${it.internalFormat}_${it.textureType}`,rt=this.inUseTextures.get(j),rt||(rt=[],this.inUseTextures.set(j,rt));const at=this.idleTextures.get(j);if(at&&at.length>0){const lt=at.pop();return rt.push(lt),tt===1&&this.glContext.updateTexture(lt,ot,et,it,this.toTextureData(_,_e)),lt}}a.Logger.verbose("TextureManager",`Creating new texture of size ${$.width}x${$.height}`);const st=this.glContext.allocateTexture(ot,et,it,this.toTextureData(_,_e));return this.config.reuseTextures&&(rt.push(st),this.textureLookup.set(st,j)),st}readTexture(_,$,_e){return _e||(_e=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const tt=_.shape.reduce((it,ot)=>it*ot)*_e,nt=this.glContext.readTexture(_.texture,_.width,_.height,tt,this.toEncoderType($),_e);return this.toTensorData($,nt)})}async readTextureAsync(_,$,_e){const tt=_.tensor.dataId;if(_e||(_e=1),this.pendingRead.has(tt)){const nt=this.pendingRead.get(tt);return new Promise(it=>nt==null?void 0:nt.push(it))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(tt,[]);const nt=_.shape.reduce((j,rt)=>j*rt)*_e;await this.glContext.createAndWaitForFence();const it=this.glContext.readTexture(_.texture,_.width,_.height,nt,this.toEncoderType($),_e),ot=this.toTensorData($,it),et=this.pendingRead.get(tt);return this.pendingRead.delete(tt),et==null||et.forEach(j=>j(ot)),ot})}readUint8TextureAsFloat(_){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const $=_.shape.reduce((tt,nt)=>tt*nt),_e=this.glContext.readTexture(_.texture,_.width,_.height,4*$,"byte",4);return new Float32Array(_e.buffer,_e.byteOffset,$)})}releaseTexture(_,$){let _e;if(this.config.reuseTextures&&(_e=this.textureLookup.get(_.texture),_e)){$&&this.textureLookup.delete(_e);const tt=this.inUseTextures.get(_e);if(tt){const nt=tt.indexOf(_.texture);if(nt!==-1){tt.splice(nt,1);let it=this.idleTextures.get(_e);it||(it=[],this.idleTextures.set(_e,it)),it.push(_.texture)}}}_e&&!$||(a.Logger.verbose("TextureManager",`Deleting texture of size ${_.width}x${_.height}`),this.glContext.deleteTexture(_.texture))}toTensorData(_,$){switch(_){case"int16":return $ instanceof Int16Array?$:Int16Array.from($);case"int32":return $ instanceof Int32Array?$:Int32Array.from($);case"int8":return $ instanceof Int8Array?$:Int8Array.from($);case"uint16":return $ instanceof Uint16Array?$:Uint16Array.from($);case"uint32":return $ instanceof Uint32Array?$:Uint32Array.from($);case"uint8":case"bool":return $ instanceof Uint8Array?$:Uint8Array.from($);case"float32":return $ instanceof Float32Array?$:Float32Array.from($);case"float64":return $ instanceof Float64Array?$:Float64Array.from($);default:throw new Error(`TensorData type ${_} is not supported`)}}toTextureData(_,$){if($)return $ instanceof Float32Array?$:new Float32Array($)}toEncoderType(_){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.TextureType=void 0,(s=o.TextureType||(o.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},9390:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getGlChannels=o.getCoordsDataType=o.getSqueezedParams=o.squeezeInputShape=o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=o.generateShaderFuncNameFromInputSamplerName=o.repeatedTry=o.getPackedShape=void 0;const a=s(2517);o.getPackedShape=function(_){const $=_.length;return _.slice(0,$-1).concat(_[$-1]/4)},o.repeatedTry=async function(_,$=tt=>0,_e){return new Promise((tt,nt)=>{let it=0;const ot=()=>{if(_())return void tt();it++;const et=$(it);_e!=null&&it>=_e?nt():setTimeout(ot,et)};ot()})},o.generateShaderFuncNameFromInputSamplerName=function(_){return(0,a.assert)(_!==void 0&&_.length!==0,()=>"empty string found for sampler name"),"get"+_.charAt(0).toUpperCase()+_.slice(1)},o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(_){return(0,a.assert)(_!==void 0&&_.length!==0,()=>"empty string found for sampler name"),"get"+_.charAt(0).toUpperCase()+_.slice(1)+"AtOutCoords"},o.squeezeInputShape=function(_,$){let _e=JSON.parse(JSON.stringify(_));return _e=$,_e},o.getSqueezedParams=function(_,$){return $.map(_e=>_[_e]).join(", ")},o.getCoordsDataType=function(_){if(_<=1)return"int";if(_===2)return"ivec2";if(_===3)return"ivec3";if(_===4)return"ivec4";if(_===5)return"ivec5";if(_===6)return"ivec6";throw Error(`GPU for rank ${_} is not yet supported`)},o.getGlChannels=function(_=6){return["x","y","z","w","u","v"].slice(0,_)}},7305:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createNewWebGLContext=o.createWebGLContext=void 0;const a=s(6231),_=s(1713),$={};function _e(tt){const nt=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const et=document.createElement("canvas");return et.width=1,et.height=1,et}();let it;const ot={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!tt||tt==="webgl2")&&(it=nt.getContext("webgl2",ot),it))try{return new _.WebGLContext(it,2)}catch(et){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${et}`)}if((!tt||tt==="webgl")&&(it=nt.getContext("webgl",ot)||nt.getContext("experimental-webgl",ot),it))try{return new _.WebGLContext(it,1)}catch(et){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${et}`)}throw new Error("WebGL is not supported")}o.createWebGLContext=function tt(nt){let it;nt&&nt!=="webgl2"||!("webgl2"in $)?nt&&nt!=="webgl"||!("webgl"in $)||(it=$.webgl):it=$.webgl2,it=it||_e(nt),nt=nt||it.version===1?"webgl":"webgl2";const ot=it.gl;return $[nt]=it,ot.isContextLost()?(delete $[nt],tt(nt)):(ot.disable(ot.DEPTH_TEST),ot.disable(ot.STENCIL_TEST),ot.disable(ot.BLEND),ot.disable(ot.DITHER),ot.disable(ot.POLYGON_OFFSET_FILL),ot.disable(ot.SAMPLE_COVERAGE),ot.enable(ot.SCISSOR_TEST),ot.enable(ot.CULL_FACE),ot.cullFace(ot.BACK),it)},o.createNewWebGLContext=_e},1713:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(ot,et,j,rt){rt===void 0&&(rt=j);var st=Object.getOwnPropertyDescriptor(et,j);st&&!("get"in st?!et.__esModule:st.writable||st.configurable)||(st={enumerable:!0,get:function(){return et[j]}}),Object.defineProperty(ot,rt,st)}:function(ot,et,j,rt){rt===void 0&&(rt=j),ot[rt]=et[j]}),_=this&&this.__setModuleDefault||(Object.create?function(ot,et){Object.defineProperty(ot,"default",{enumerable:!0,value:et})}:function(ot,et){ot.default=et}),$=this&&this.__importStar||function(ot){if(ot&&ot.__esModule)return ot;var et={};if(ot!=null)for(var j in ot)j!=="default"&&Object.prototype.hasOwnProperty.call(ot,j)&&a(et,ot,j);return _(et,ot),et};Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLContext=o.linearSearchLastTrue=void 0;const _e=s(1670),tt=$(s(7769)),nt=s(9390);function it(ot){let et=0;for(;et<ot.length&&ot[et]();++et);return et-1}o.linearSearchLastTrue=it,o.WebGLContext=class{constructor(ot,et){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=ot,this.version=et,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(ot,et,j,rt){const st=this.gl,at=st.createTexture();st.bindTexture(st.TEXTURE_2D,at),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_MIN_FILTER,st.NEAREST),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_MAG_FILTER,st.NEAREST),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_WRAP_S,st.CLAMP_TO_EDGE),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_WRAP_T,st.CLAMP_TO_EDGE);const lt=rt?j.encode(rt,ot*et):null;return st.texImage2D(st.TEXTURE_2D,0,j.internalFormat,ot,et,0,j.format,j.textureType,lt),this.checkError(),at}updateTexture(ot,et,j,rt,st){const at=this.gl;at.bindTexture(at.TEXTURE_2D,ot);const lt=rt.encode(st,et*j);at.texSubImage2D(at.TEXTURE_2D,0,0,0,et,j,rt.format,rt.textureType,lt),this.checkError()}attachFramebuffer(ot,et,j){const rt=this.gl;rt.bindTexture(rt.TEXTURE_2D,ot),rt.bindFramebuffer(rt.FRAMEBUFFER,this.framebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,ot,0),this.checkError(),rt.viewport(0,0,et,j),rt.scissor(0,0,et,j)}readTexture(ot,et,j,rt,st,at){const lt=this.gl;at||(at=1),this.frameBufferBound||this.attachFramebuffer(ot,et,j);const ct=this.getEncoder(st,at),ut=ct.allocate(et*j);return lt.bindTexture(lt.TEXTURE_2D,ot),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,ot,0),lt.readPixels(0,0,et,j,lt.RGBA,ct.textureType,ut),this.checkError(),ct.decode(ut,rt)}isFramebufferReady(){return!0}getActiveTexture(){const ot=this.gl;return"TEXTURE"+(ot.getParameter(this.gl.ACTIVE_TEXTURE)-ot.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(ot,et){const j=this.gl;j.vertexAttribPointer(ot,3,j.FLOAT,!1,20,0),j.enableVertexAttribArray(ot),et!==-1&&(j.vertexAttribPointer(et,2,j.FLOAT,!1,20,12),j.enableVertexAttribArray(et)),this.checkError()}createProgram(ot,et){const j=this.gl,rt=j.createProgram();return j.attachShader(rt,ot),j.attachShader(rt,et),j.linkProgram(rt),rt}compileShader(ot,et){const j=this.gl,rt=j.createShader(et);if(!rt)throw new Error(`createShader() returned null with type ${et}`);if(j.shaderSource(rt,ot),j.compileShader(rt),j.getShaderParameter(rt,j.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${j.getShaderInfoLog(rt)}
Shader source:
${ot}`);return rt}deleteShader(ot){this.gl.deleteShader(ot)}bindTextureToUniform(ot,et,j){const rt=this.gl;rt.activeTexture(rt.TEXTURE0+et),this.checkError(),rt.bindTexture(rt.TEXTURE_2D,ot),this.checkError(),rt.uniform1i(j,et),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(_e.env.debug){const ot=this.gl,et=ot.getError();let j="";switch(et){case ot.NO_ERROR:return;case ot.INVALID_ENUM:j="INVALID_ENUM";break;case ot.INVALID_VALUE:j="INVALID_VALUE";break;case ot.INVALID_OPERATION:j="INVALID_OPERATION";break;case ot.INVALID_FRAMEBUFFER_OPERATION:j="INVALID_FRAMEBUFFER_OPERATION";break;case ot.OUT_OF_MEMORY:j="OUT_OF_MEMORY";break;case ot.CONTEXT_LOST_WEBGL:j="CONTEXT_LOST_WEBGL";break;default:j=`Unknown WebGL Error: ${et.toString(16)}`}throw new Error(j)}}deleteTexture(ot){this.gl.deleteTexture(ot)}deleteProgram(ot){this.gl.deleteProgram(ot)}getEncoder(ot,et,j=0){if(this.version===2)return new tt.RedFloat32DataEncoder(this.gl,et);switch(ot){case"float":return j===1||this.isRenderFloat32Supported?new tt.RGBAFloatDataEncoder(this.gl,et):new tt.RGBAFloatDataEncoder(this.gl,et,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new tt.Uint8DataEncoder(this.gl,et);default:throw new Error(`Invalid dataType: ${ot}`)}}clearActiveTextures(){const ot=this.gl;for(let et=0;et<this.maxTextureImageUnits;++et)ot.activeTexture(ot.TEXTURE0+et),ot.bindTexture(ot.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const ot=this.gl;ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteFramebuffer(this.framebuffer),ot.bindBuffer(ot.ARRAY_BUFFER,null),ot.deleteBuffer(this.vertexbuffer),ot.bindBuffer(ot.ELEMENT_ARRAY_BUFFER,null),ot.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const ot=this.gl,et=ot.createBuffer();if(!et)throw new Error("createBuffer() returned null");const j=this.createDefaultGeometry();return ot.bindBuffer(ot.ARRAY_BUFFER,et),ot.bufferData(ot.ARRAY_BUFFER,j,ot.STATIC_DRAW),this.checkError(),et}createFramebuffer(){const ot=this.gl.createFramebuffer();if(!ot)throw new Error("createFramebuffer returned null");return ot}queryVitalParameters(){const ot=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=ot.getParameter(ot.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=ot.getParameter(ot.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const ot=this.gl,et=ot.createTexture();ot.bindTexture(ot.TEXTURE_2D,et);const j=this.version===2?ot.RGBA32F:ot.RGBA;ot.texImage2D(ot.TEXTURE_2D,0,j,1,1,0,ot.RGBA,ot.FLOAT,null);const rt=ot.createFramebuffer();ot.bindFramebuffer(ot.FRAMEBUFFER,rt),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,et,0);const st=ot.checkFramebufferStatus(ot.FRAMEBUFFER)===ot.FRAMEBUFFER_COMPLETE;return ot.bindTexture(ot.TEXTURE_2D,null),ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteTexture(et),ot.deleteFramebuffer(rt),st}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const ot=this.gl;let et,j,rt,st,at;try{et=ot.createTexture(),j=ot.createFramebuffer(),ot.bindTexture(ot.TEXTURE_2D,et);const lt=this.version===2?ot.RGBA32F:ot.RGBA;return ot.texImage2D(ot.TEXTURE_2D,0,lt,1,1,0,ot.RGBA,ot.FLOAT,null),ot.bindFramebuffer(ot.FRAMEBUFFER,j),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,et,0),ot.enable(ot.BLEND),rt=ot.createShader(ot.VERTEX_SHADER),!!rt&&(ot.shaderSource(rt,"void main(){}"),ot.compileShader(rt),st=ot.createShader(ot.FRAGMENT_SHADER),!!st&&(ot.shaderSource(st,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),ot.compileShader(st),at=ot.createProgram(),!!at&&(ot.attachShader(at,rt),ot.attachShader(at,st),ot.linkProgram(at),ot.useProgram(at),ot.drawArrays(ot.POINTS,0,1),ot.getError()===ot.NO_ERROR)))}finally{ot.disable(ot.BLEND),at&&ot.deleteProgram(at),rt&&ot.deleteShader(rt),st&&ot.deleteShader(st),j&&(ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteFramebuffer(j)),et&&(ot.bindTexture(ot.TEXTURE_2D,null),ot.deleteTexture(et))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const ot=this.gl,et=this.disjointTimerQueryWebgl2Extension,j=ot.createQuery();return ot.beginQuery(et.TIME_ELAPSED_EXT,j),j}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const ot=this.gl,et=this.disjointTimerQueryWebgl2Extension;ot.endQuery(et.TIME_ELAPSED_EXT)}}isTimerResultAvailable(ot){let et=!1,j=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const rt=this.gl,st=this.disjointTimerQueryWebgl2Extension;et=rt.getQueryParameter(ot,rt.QUERY_RESULT_AVAILABLE),j=rt.getParameter(st.GPU_DISJOINT_EXT)}return et&&!j}getTimerResult(ot){let et=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const j=this.gl;et=j.getQueryParameter(ot,j.QUERY_RESULT),j.deleteQuery(ot)}return et/1e6}async waitForQueryAndGetTime(ot){return await(0,nt.repeatedTry)(()=>this.isTimerResultAvailable(ot)),this.getTimerResult(ot)}async createAndWaitForFence(){const ot=this.createFence(this.gl);return this.pollFence(ot)}createFence(ot){let et;const j=ot,rt=j.fenceSync(j.SYNC_GPU_COMMANDS_COMPLETE,0);return ot.flush(),et=rt===null?()=>!0:()=>{const st=j.clientWaitSync(rt,0,0);return st===j.ALREADY_SIGNALED||st===j.CONDITION_SATISFIED},{query:rt,isFencePassed:et}}async pollFence(ot){return new Promise(et=>{this.addItemToPoll(()=>ot.isFencePassed(),()=>et())})}pollItems(){const ot=it(this.itemsToPoll.map(et=>et.isDoneFn));for(let et=0;et<=ot;++et){const{resolveFn:j}=this.itemsToPoll[et];j()}this.itemsToPoll=this.itemsToPoll.slice(ot+1)}async addItemToPoll(ot,et){this.itemsToPoll.push({isDoneFn:ot,resolveFn:et}),this.itemsToPoll.length>1||await(0,nt.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExecutionPlan=void 0;const a=s(6231);class _{constructor(_e,tt){this.op=_e,this.node=tt}}o.ExecutionPlan=class{constructor($,_e,tt){this.graph=$,this.profiler=tt,this.initialize(_e)}initialize($){this.profiler.event("session","ExecutionPlan.initialize",()=>{const _e=this.graph.getNodes();if(_e.length!==$.length)throw new Error("The size of nodes and OPs do not match.");this._ops=$.map((tt,nt)=>new _(tt,_e[nt])),this.reset(),this._starter=[],this._ops.forEach((tt,nt)=>{let it=!0;for(const ot of tt.node.inputs)if(!this._values[ot]&&this.graph.getInputIndices().indexOf(ot)===-1){it=!1;break}it&&this._starter.push(nt)})})}reset(){this._values=this.graph.getValues().map($=>$.tensor)}async execute($,_e){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const tt=$.createInferenceHandler(),nt=this.graph.getInputIndices();if(_e.length!==nt.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${_e.length} expected: ${nt.length}`);_e.forEach((st,at)=>{const lt=nt[at];this._values[lt]=st});const it=this._starter.slice(0),ot=this.graph.getValues(),et=this.graph.getNodes();let j=0;for(;j<it.length;){const st=it[j++],at=this._ops[st],lt=at.node.inputs.map(ft=>this._values[ft]);if(lt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${at.node}`);const ct=lt;a.Logger.verbose("ExecPlan",`Runing op:${at.node.name} (${ct.map((ft,ht)=>`'${at.node.inputs[ht]}': ${ft.type}[${ft.dims.join(",")}]`).join(", ")})`);const ut=await this.profiler.event("node",at.node.name,async()=>at.op.impl(tt,ct,at.op.context));if(ut.length!==at.node.outputs.length)throw new Error("the size of output does not match model definition.");ut.forEach((ft,ht)=>{const mt=at.node.outputs[ht];if(this._values[mt])throw new Error(`output [${mt}] already has value: op:${at.node.name}`);this._values[mt]=ft});const dt=new Set;ut.forEach((ft,ht)=>{const mt=at.node.outputs[ht];for(const bt of ot[mt].to){const yt=et[bt];let gt=!0;for(const vt of yt.inputs)if(!this._values[vt]){gt=!1;break}gt&&dt.add(bt)}}),it.push(...dt)}const rt=[];for(let st=0;st<this.graph.getOutputIndices().length;st++){const at=this.graph.getOutputIndices()[st],lt=this._values[at];if(lt===void 0)throw new Error(`required output [${at}] does not have value`);at===0?await lt.getData():lt.data,rt.push(lt)}return a.Logger.verbose("ExecPlan","disposing of inferenceHandler"),tt.dispose(),rt})}}},7070:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Graph=void 0;const a=s(1446),_=s(7778),$=s(9395),_e=s(9162),tt=s(2517);var nt=$.onnxruntime.experimental.fbs;o.Graph={from:(j,rt)=>new et(j,rt)};class it{constructor(rt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,rt&&(this.type=tt.ProtoUtil.tensorValueTypeFromProto(rt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class ot{constructor(rt,st){rt instanceof a.onnx.NodeProto?(this.name=rt.name,this.opType=rt.opType,this.attributes=new _.Attribute(rt.attribute)):rt instanceof nt.Node&&(this.name=st??rt.name(),this.opType=rt.opType(),this.attributes=new _.Attribute(tt.ProtoUtil.tensorAttributesFromORTFormat(rt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class et{constructor(rt,st){if(!rt)throw new TypeError("graph is empty");this.buildGraph(rt),this.transformGraph(st),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(rt){if(rt instanceof a.onnx.GraphProto)this.buildGraphFromOnnxFormat(rt);else{if(!(rt instanceof nt.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(rt)}}buildGraphFromOnnxFormat(rt){const st=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const at=new Map;if(!rt.input)throw new Error("missing information in graph: input");const lt=[];for(const ct of rt.input){if(st.has(ct.name))throw new Error(`duplicated input name: ${ct.name}`);const ut=this._allData.push(new it(ct))-1;st.set(ct.name,ut),lt.push(ct.name)}if(!rt.initializer)throw new Error("missing information in graph: initializer");for(const ct of rt.initializer){let ut=st.get(ct.name);if(ut===void 0){const dt=new it;dt.type={shape:{dims:tt.ProtoUtil.tensorDimsFromProto(ct.dims)},tensorType:tt.ProtoUtil.tensorDataTypeFromProto(ct.dataType)},ut=this._allData.push(dt)-1,st.set(ct.name,ut)}this._allData[ut]._from=-1,this._allData[ut].tensor=_e.Tensor.fromProto(ct)}for(let ct=0;ct<this._allData.length;ct++)this._allData[ct].tensor||(this._allInputIndices.push(ct),this._allInputNames.push(lt[ct]));if(!rt.output)throw new Error("missing information in graph: output");for(const ct of rt.output){if(st.has(ct.name))throw new Error(`duplicated output name: ${ct.name}`);const ut=this._allData.push(new it(ct))-1;st.set(ct.name,ut),this._allOutputIndices.push(ut),this._allOutputNames.push(ct.name)}if(!rt.node)throw new Error("missing information in graph: node");for(const ct of rt.node){if(!ct.name)for(let dt=0;;dt++){const ft=`unnamed_${ct.opType}_${dt}`;if(!at.has(ft)){ct.name=ft;break}}if(at.has(ct.name))throw new Error(`duplicated node name: ${ct.name}`);const ut=this._nodes.push(new ot(ct))-1;at.set(ct.name,ut)}for(let ct=0;ct<this._nodes.length;ct++){const ut=this._nodes[ct],dt=rt.node[ct];if(!dt.output)throw new Error(`missing output for node: ${dt.name}`);for(const ft of dt.output){let ht=st.get(ft);if(ht===void 0&&(ht=this._allData.push(new it)-1,st.set(ft,ht)),ut.outputs.push(ht),this._allData[ht]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${ht}`);if(this._allData[ht]._from=ct,dt.opType==="Constant"){if(!dt.attribute||dt.attribute.length!==1||!dt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!dt.output||dt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ut.outputs.pop(),ut.executeNode=!1,this._allData[ht]._from=-1,this._allData[ht].tensor=_e.Tensor.fromProto(dt.attribute[0].t)}}}for(let ct=0;ct<this._nodes.length;ct++){const ut=this._nodes[ct],dt=rt.node[ct];if(!dt.input)throw new Error(`missing input for node: ${dt.name}`);for(const ft of dt.input){const ht=st.get(ft);if(ht===void 0){if(ft===""&&dt.input.length===3&&dt.opType==="Resize")continue;throw new Error(`unrecognized input '${ft}' for node: ${dt.name}`)}ut.inputs.push(ht),this._allData[ht]._to.push(ct)}}return!0}buildGraphFromOrtFormat(rt){var st,at,lt;const ct=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ut=new Map,dt=[];for(let ft=0;ft<rt.inputsLength();ft++){const ht=rt.inputs(ft);if(ct.has(ht))throw new Error(`duplicated input name: ${ht}`);for(let mt=0;mt<rt.nodeArgsLength();mt++)if(((st=rt.nodeArgs(mt))===null||st===void 0?void 0:st.name())===ht){const bt=new it;if(((lt=(at=rt.nodeArgs(mt))===null||at===void 0?void 0:at.type())===null||lt===void 0?void 0:lt.valueType())!==nt.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const yt=rt.nodeArgs(mt).type().value(new nt.TensorTypeAndShape),gt=tt.ProtoUtil.tensorDataTypeFromProto(yt.elemType()),vt=yt.shape(),wt=[];for(let Rt=0;Rt<vt.dimLength();Rt++)wt.push(tt.LongUtil.longToNumber(vt.dim(Rt).value().dimValue()));bt.type={shape:{dims:wt},tensorType:gt};const Ct=this._allData.push(bt)-1;ct.set(ht,Ct),dt.push(ht)}}for(let ft=0;ft<rt.initializersLength();ft++){const ht=rt.initializers(ft);let mt=ct.get(ht.name());if(mt===void 0){const bt=new it,yt=tt.ProtoUtil.tensorDimsFromORTFormat(ht),gt=tt.ProtoUtil.tensorDataTypeFromProto(ht.dataType());bt.type={shape:{dims:yt},tensorType:gt},mt=this._allData.push(bt)-1,ct.set(ht.name(),mt)}this._allData[mt]._from=-1,this._allData[mt].tensor=_e.Tensor.fromOrtTensor(ht)}for(let ft=0;ft<this._allData.length;ft++)this._allData[ft].tensor||(this._allInputIndices.push(ft),this._allInputNames.push(dt[ft]));for(let ft=0;ft<rt.outputsLength();ft++){const ht=rt.outputs(ft);if(ct.has(ht))throw new Error(`duplicated output name: ${ht}`);const mt=this._allData.push(new it)-1;ct.set(ht,mt),this._allOutputIndices.push(mt),this._allOutputNames.push(ht)}if(!rt.nodes)throw new Error("missing information in graph: node");for(let ft=0;ft<rt.nodesLength();ft++){const ht=rt.nodes(ft);let mt=ht.name();if(!mt)for(let yt=0;mt=`unnamed_${ht.opType()}_${yt}`,ut.has(mt);yt++);if(ut.has(mt))throw new Error(`duplicated node name: ${mt}`);const bt=this._nodes.push(new ot(ht,mt))-1;ut.set(mt,bt)}for(let ft=0;ft<this._nodes.length;ft++){const ht=this._nodes[ft],mt=rt.nodes(ft);if(mt==null)throw new Error(`No node exists at index ${ft}`);if((mt==null?void 0:mt.outputsLength())===0)throw new Error(`missing output for node: ${mt.name}`);for(let bt=0;bt<(mt==null?void 0:mt.outputsLength());bt++){const yt=mt==null?void 0:mt.outputs(bt);let gt=ct.get(yt);if(gt===void 0&&(gt=this._allData.push(new it)-1,ct.set(yt,gt)),ht.outputs.push(gt),this._allData[gt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${gt}`);if(this._allData[gt]._from=ft,mt.opType()==="Constant"){if(mt.attributesLength()!==1||!mt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(mt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ht.outputs.pop(),ht.executeNode=!1,this._allData[gt]._from=-1,this._allData[gt].tensor=_e.Tensor.fromOrtTensor(mt.attributes(0).t())}}}for(let ft=0;ft<this._nodes.length;ft++){const ht=this._nodes[ft],mt=rt.nodes(ft);if(mt.inputsLength()===0)throw new Error(`missing input for node: ${mt.name}`);for(let bt=0;bt<mt.inputsLength();bt++){const yt=mt.inputs(bt),gt=ct.get(yt);if(gt===void 0)throw new Error(`unrecognized input '${yt}' for node: ${mt.name()}`);ht.inputs.push(gt),this._allData[gt]._to.push(ft)}}}checkIsAcyclic(){const rt=new Set;this._allInputIndices.forEach(lt=>{this._allData[lt]._to.forEach(ct=>{rt.add(ct)})});const st=Array.from(rt),at=new Array(this._nodes.length).fill("white");for(;st.length>0;){const lt=st.pop();at[lt]==="gray"?at[lt]="black":(st.push(lt),at[lt]="gray",this._nodes[lt].outputs.forEach(ct=>{const ut=this._allData[ct];if(ut.tensor!==void 0)throw new Error("node outputs should not be initialized");if(ut._from!==lt)throw new Error("from property of the Value object doesn't match index of Node being processed");ut._to.forEach(dt=>{if(at[dt]==="gray")throw new Error("model graph is cyclic");at[dt]==="white"&&st.push(dt)})}))}}transformGraph(rt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),rt&&rt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let rt=0;for(let st=0;st<this._nodes.length;st++)this._nodes[st].executeNode?rt>0&&(this._nodes[st].inputs.forEach(at=>{const lt=this._allData[at]._to.indexOf(st+rt);lt!==-1&&(this._allData[at]._to[lt]=st)}),this._nodes[st].outputs.forEach(at=>{this._allData[at]._from&&this._allData[at]._from===st+rt&&(this._allData[at]._from=st)})):(rt++,this._nodes[st].outputs.forEach(at=>{this._allData[at]._from=-2}),this._nodes.splice(st,1),st--);rt=0;for(let st=0;st<this._allData.length;st++)if(this._allData[st].from!==-2||this._allOutputIndices.indexOf(st+rt)!==-1){if(rt>0){let at=-1;this._allData[st].from!==void 0&&this._allData[st].from!==-1?(at=this._nodes[this._allData[st].from].outputs.indexOf(st+rt),at!==-1&&(this._nodes[this._allData[st].from].outputs[at]=st)):(at=this._allInputIndices.indexOf(st+rt),at!==-1&&(this._allInputIndices[at]=st)),this._allData[st].to.forEach(lt=>{at=this._nodes[lt].inputs.indexOf(st+rt),at!==-1&&(this._nodes[lt].inputs[at]=st)}),this._allData[st].to.length===0&&(at=this._allOutputIndices.indexOf(st+rt),at!==-1&&(this._allOutputIndices[at]=st))}}else rt++,this._allData.splice(st,1),st--}deleteNode(rt){const st=this._nodes[rt];if(st.outputs.length>1){for(let ft=1;ft<st.outputs.length;ft++)if(this._allData[st.outputs[ft]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}st.executeNode=!1;const at=st.inputs[0],lt=st.outputs[0],ct=this._allData[lt].to,ut=this._allData[at].to.indexOf(rt);if(ut===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[at].to.splice(ut,1),this._allData[lt]._to=[];const dt=this._allOutputIndices.indexOf(lt);if(dt!==-1&&(this._allOutputIndices[dt]=at),ct&&ct.length>0)for(const ft of ct){const ht=this._nodes[ft].inputs.indexOf(lt);if(ht===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ft].inputs[ht]=at,this._allData[at].to.push(ft)}}removeAllDropoutNodes(){let rt=0;for(const st of this._nodes){if(st.opType==="Dropout"){if(st.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(st.outputs.length!==1&&st.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(st.outputs.length===2&&this._allData[st.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(rt)}rt++}}removeAllIdentityNodes(){let rt=0;for(const st of this._nodes)st.opType==="Identity"&&this.deleteNode(rt),rt++}isActivation(rt){switch(rt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const rt of this._nodes)if(rt.opType==="Conv"){const st=this._allData[rt.outputs[0]]._to;if(st.length===1&&this.isActivation(this._nodes[st[0]])){const at=this._nodes[st[0]];if(at.opType==="Clip")if(at.inputs.length===1)try{rt.attributes.set("activation_params","floats",[at.attributes.getFloat("min"),at.attributes.getFloat("max")])}catch{rt.attributes.set("activation_params","floats",[tt.MIN_CLIP,tt.MAX_CLIP])}else{if(!(at.inputs.length>=3&&this._allData[at.inputs[1]].tensor!==void 0&&this._allData[at.inputs[2]].tensor!==void 0))continue;rt.attributes.set("activation_params","floats",[this._allData[at.inputs[1]].tensor.floatData[0],this._allData[at.inputs[2]].tensor.floatData[0]])}rt.attributes.set("activation","string",at.opType),this.deleteNode(st[0])}}}}},6231:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.now=o.Profiler=o.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(ot,et,j){}},console:new class{log(ot,et,j){console.log(`${this.color(ot)} ${j?"\x1B[35m"+j+"\x1B[0m ":""}${et}`)}color(ot){switch(ot){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${ot}`)}}}},_={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let $={"":_};function _e(ot,et,j,rt){if(et===void 0)return st=ot,{verbose:_e.verbose.bind(null,st),info:_e.info.bind(null,st),warning:_e.warning.bind(null,st),error:_e.error.bind(null,st),fatal:_e.fatal.bind(null,st)};if(j===void 0)tt(ot,et);else if(typeof j=="number"&&rt===void 0)tt(ot,et);else if(typeof j=="string"&&rt===void 0)tt(ot,j,0,et);else{if(typeof j!="string"||typeof rt!="number")throw new TypeError("input is valid");tt(ot,j,0,et)}var st}function tt(ot,et,j,rt){const st=$[rt||""]||$[""];s[ot]<s[st.minimalSeverity]||(st.logDateTime&&(et=`${new Date().toISOString()}|${et}`),st.logSourceLocation,a[st.provider].log(ot,et,rt))}(function(ot){function et(rt){$={},j("",rt||{})}function j(rt,st){if(rt==="*")et(st);else{const at=$[rt]||_;$[rt]={provider:st.provider||at.provider,minimalSeverity:st.minimalSeverity||at.minimalSeverity,logDateTime:st.logDateTime===void 0?at.logDateTime:st.logDateTime,logSourceLocation:st.logSourceLocation===void 0?at.logSourceLocation:st.logSourceLocation}}}ot.verbose=function(rt,st){ot("verbose",rt,st)},ot.info=function(rt,st){ot("info",rt,st)},ot.warning=function(rt,st){ot("warning",rt,st)},ot.error=function(rt,st){ot("error",rt,st)},ot.fatal=function(rt,st){ot("fatal",rt,st)},ot.reset=et,ot.set=j,ot.setWithEnv=function(rt){const st={};rt.logLevel&&(st.minimalSeverity=rt.logLevel),j("",st)}})(_e||(_e={})),o.Logger=_e;class nt{constructor(et,j,rt,st,at,lt){this.category=et,this.name=j,this.startTime=rt,this.endCallback=st,this.timer=at,this.ctx=lt}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class it{constructor(et,j,rt,st){this.category=et,this.name=j,this.startTime=rt,this.endTime=st}}o.Profiler=class{static create(ot){return ot===void 0?new this:new this(ot.maxNumberEvents,ot.flushBatchSize,ot.flushIntervalInMilliseconds)}constructor(ot,et,j){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=ot===void 0?1e4:ot,this._flushBatchSize=et===void 0?10:et,this._flushIntervalInMilliseconds=j===void 0?5e3:j}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,o.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(ot,et,j,rt){const st=this._started?this.begin(ot,et,rt):void 0;let at=!1;const lt=j();if(lt&&typeof lt.then=="function")return at=!0,new Promise((ct,ut)=>{lt.then(async dt=>{st&&await st.end(),ct(dt)},async dt=>{st&&await st.end(),ut(dt)})});if(!at&&st){const ct=st.end();if(ct&&typeof ct.then=="function")return new Promise((ut,dt)=>{ct.then(()=>{ut(lt)},ft=>{dt(ft)})})}return lt}begin(ot,et,j){if(!this._started)throw new Error("profiler is not started yet");if(j===void 0){const rt=(0,o.now)();return this.flush(rt),new nt(ot,et,rt,st=>this.endSync(st))}{const rt=j.beginTimer();return new nt(ot,et,0,async st=>this.end(st),rt,j)}}async end(ot){const et=await ot.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(ot.category,ot.name,ot.startTime,et)),this.flush(et))}endSync(ot){const et=(0,o.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(ot.category,ot.name,ot.startTime,et)),this.flush(et))}logOneEvent(ot){o.Logger.verbose(`Profiler.${ot.category}`,`${(ot.endTime-ot.startTime).toFixed(2)}ms on event '${ot.name}' at ${ot.endTime.toFixed(2)}`)}flush(ot){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||ot-this._flushTime>=this._flushIntervalInMilliseconds){for(const et=this._flushPointer;this._flushPointer<et+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,o.now)()}}get started(){return this._started}},o.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Model=void 0;const a=s(5686),_=s(1446),$=s(7070),_e=s(9395),tt=s(2517);var nt=_e.onnxruntime.experimental.fbs;o.Model=class{constructor(){}load(it,ot,et){if(!et)try{return void this.loadFromOnnxFormat(it,ot)}catch(j){if(et!==void 0)throw j}this.loadFromOrtFormat(it,ot)}loadFromOnnxFormat(it,ot){const et=_.onnx.ModelProto.decode(it);if(tt.LongUtil.longToNumber(et.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=et.opsetImport.map(j=>({domain:j.domain,version:tt.LongUtil.longToNumber(j.version)})),this._graph=$.Graph.from(et.graph,ot)}loadFromOrtFormat(it,ot){const et=new a.flatbuffers.ByteBuffer(it),j=nt.InferenceSession.getRootAsInferenceSession(et).model();if(tt.LongUtil.longToNumber(j.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let rt=0;rt<j.opsetImportLength();rt++){const st=j.opsetImport(rt);this._opsets.push({domain:st==null?void 0:st.domain(),version:tt.LongUtil.longToNumber(st.version())})}this._graph=$.Graph.from(j.graph(),ot)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FLOAT_TYPES=o.INT_TYPES=o.NUMBER_TYPES=void 0,o.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],o.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],o.FLOAT_TYPES=["float32","float64"]},1047:(i,o)=>{function s(a,_){if(_.endsWith("+")){const $=Number.parseInt(_.substring(0,_.length-1),10);return!isNaN($)&&$<=a}if(_.split("-").length===2){const $=_.split("-"),_e=Number.parseInt($[0],10),tt=Number.parseInt($[1],10);return!isNaN(_e)&&!isNaN(tt)&&_e<=a&&a<=tt}return Number.parseInt(_,10)===a}Object.defineProperty(o,"__esModule",{value:!0}),o.resolveOperator=void 0,o.resolveOperator=function(a,_,$){for(const _e of $){const tt=_e[0],nt=_e[1],it=_e[2],ot=_e[3],et=_e[4];if(a.opType===tt){for(const j of _)if((j.domain===nt||j.domain==="ai.onnx"&&nt==="")&&s(j.version,it))return{opImpl:ot,opInit:et}}}throw new TypeError(`cannot resolve operator '${a.opType}' with opsets: ${_.map(_e=>`${_e.domain||"ai.onnx"} v${_e.version}`).join(", ")}`)}},9395:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.onnxruntime=void 0;const a=s(5686);var _,$;_=o.onnxruntime||(o.onnxruntime={}),function(_e){(function(tt){tt[tt.UNDEFINED=0]="UNDEFINED",tt[tt.FLOAT=1]="FLOAT",tt[tt.INT=2]="INT",tt[tt.STRING=3]="STRING",tt[tt.TENSOR=4]="TENSOR",tt[tt.GRAPH=5]="GRAPH",tt[tt.FLOATS=6]="FLOATS",tt[tt.INTS=7]="INTS",tt[tt.STRINGS=8]="STRINGS",tt[tt.TENSORS=9]="TENSORS",tt[tt.GRAPHS=10]="GRAPHS",tt[tt.SPARSE_TENSOR=11]="SPARSE_TENSOR",tt[tt.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(_e.AttributeType||(_e.AttributeType={}))}(($=_.experimental||(_.experimental={})).fbs||($.fbs={})),function(_e){(function(tt){(function(nt){(function(it){it[it.UNKNOWN=0]="UNKNOWN",it[it.VALUE=1]="VALUE",it[it.PARAM=2]="PARAM"})(nt.DimensionValueType||(nt.DimensionValueType={}))})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){(function(it){it[it.UNDEFINED=0]="UNDEFINED",it[it.FLOAT=1]="FLOAT",it[it.UINT8=2]="UINT8",it[it.INT8=3]="INT8",it[it.UINT16=4]="UINT16",it[it.INT16=5]="INT16",it[it.INT32=6]="INT32",it[it.INT64=7]="INT64",it[it.STRING=8]="STRING",it[it.BOOL=9]="BOOL",it[it.FLOAT16=10]="FLOAT16",it[it.DOUBLE=11]="DOUBLE",it[it.UINT32=12]="UINT32",it[it.UINT64=13]="UINT64",it[it.COMPLEX64=14]="COMPLEX64",it[it.COMPLEX128=15]="COMPLEX128",it[it.BFLOAT16=16]="BFLOAT16"})(nt.TensorDataType||(nt.TensorDataType={}))})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){(function(it){it[it.Primitive=0]="Primitive",it[it.Fused=1]="Fused"})(nt.NodeType||(nt.NodeType={}))})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){(function(it){it[it.NONE=0]="NONE",it[it.tensor_type=1]="tensor_type",it[it.sequence_type=2]="sequence_type",it[it.map_type=3]="map_type"})(nt.TypeInfoValue||(nt.TypeInfoValue={}))})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsShape(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsShape(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}dim(et,j){let rt=this.bb.__offset(this.bb_pos,4);return rt?(j||new _e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}dimLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}static startShape(et){et.startObject(1)}static addDim(et,j){et.addFieldOffset(0,j,0)}static createDimVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startDimVector(et,j){et.startVector(4,j,4)}static endShape(et){return et.endObject()}static createShape(et,j){return it.startShape(et),it.addDim(et,j),it.endShape(et)}}nt.Shape=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsDimension(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsDimension(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}value(et){let j=this.bb.__offset(this.bb_pos,4);return j?(et||new _e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}denotation(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__string(this.bb_pos+j,et):null}static startDimension(et){et.startObject(2)}static addValue(et,j){et.addFieldOffset(0,j,0)}static addDenotation(et,j){et.addFieldOffset(1,j,0)}static endDimension(et){return et.endObject()}static createDimension(et,j,rt){return it.startDimension(et),it.addValue(et,j),it.addDenotation(et,rt),it.endDimension(et)}}nt.Dimension=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsDimensionValue(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsDimensionValue(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}dimType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt8(this.bb_pos+et):_e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}dimParam(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__string(this.bb_pos+j,et):null}static startDimensionValue(et){et.startObject(3)}static addDimType(et,j){et.addFieldInt8(0,j,_e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(et,j){et.addFieldInt64(1,j,et.createLong(0,0))}static addDimParam(et,j){et.addFieldOffset(2,j,0)}static endDimensionValue(et){return et.endObject()}static createDimensionValue(et,j,rt,st){return it.startDimensionValue(et),it.addDimType(et,j),it.addDimValue(et,rt),it.addDimParam(et,st),it.endDimensionValue(et)}}nt.DimensionValue=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsTensorTypeAndShape(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTensorTypeAndShape(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}elemType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt32(this.bb_pos+et):_e.experimental.fbs.TensorDataType.UNDEFINED}shape(et){let j=this.bb.__offset(this.bb_pos,6);return j?(et||new _e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startTensorTypeAndShape(et){et.startObject(2)}static addElemType(et,j){et.addFieldInt32(0,j,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(et,j){et.addFieldOffset(1,j,0)}static endTensorTypeAndShape(et){return et.endObject()}static createTensorTypeAndShape(et,j,rt){return it.startTensorTypeAndShape(et),it.addElemType(et,j),it.addShape(et,rt),it.endTensorTypeAndShape(et)}}nt.TensorTypeAndShape=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsMapType(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsMapType(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}keyType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt32(this.bb_pos+et):_e.experimental.fbs.TensorDataType.UNDEFINED}valueType(et){let j=this.bb.__offset(this.bb_pos,6);return j?(et||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startMapType(et){et.startObject(2)}static addKeyType(et,j){et.addFieldInt32(0,j,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(et,j){et.addFieldOffset(1,j,0)}static endMapType(et){return et.endObject()}static createMapType(et,j,rt){return it.startMapType(et),it.addKeyType(et,j),it.addValueType(et,rt),it.endMapType(et)}}nt.MapType=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsSequenceType(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSequenceType(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}elemType(et){let j=this.bb.__offset(this.bb_pos,4);return j?(et||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startSequenceType(et){et.startObject(1)}static addElemType(et,j){et.addFieldOffset(0,j,0)}static endSequenceType(et){return et.endObject()}static createSequenceType(et,j){return it.startSequenceType(et),it.addElemType(et,j),it.endSequenceType(et)}}nt.SequenceType=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(tt.fbs||(tt.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(nt,it){return this.bb_pos=nt,this.bb=it,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(nt,it,ot,et){return nt.prep(4,12),nt.writeInt32(et),nt.writeInt32(ot),nt.writeInt32(it),nt.offset()}}})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsNodeEdge(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsNodeEdge(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}nodeIndex(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readUint32(this.bb_pos+et):0}inputEdges(et,j){let rt=this.bb.__offset(this.bb_pos,6);return rt?(j||new _e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+rt)+12*et,this.bb):null}inputEdgesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}outputEdges(et,j){let rt=this.bb.__offset(this.bb_pos,8);return rt?(j||new _e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+rt)+12*et,this.bb):null}outputEdgesLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}static startNodeEdge(et){et.startObject(3)}static addNodeIndex(et,j){et.addFieldInt32(0,j,0)}static addInputEdges(et,j){et.addFieldOffset(1,j,0)}static startInputEdgesVector(et,j){et.startVector(12,j,4)}static addOutputEdges(et,j){et.addFieldOffset(2,j,0)}static startOutputEdgesVector(et,j){et.startVector(12,j,4)}static endNodeEdge(et){return et.endObject()}static createNodeEdge(et,j,rt,st){return it.startNodeEdge(et),it.addNodeIndex(et,j),it.addInputEdges(et,rt),it.addOutputEdges(et,st),it.endNodeEdge(et)}}nt.NodeEdge=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsNode(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsNode(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}name(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}docString(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__string(this.bb_pos+j,et):null}domain(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__string(this.bb_pos+j,et):null}sinceVersion(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readInt32(this.bb_pos+et):0}index(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.readUint32(this.bb_pos+et):0}opType(et){let j=this.bb.__offset(this.bb_pos,14);return j?this.bb.__string(this.bb_pos+j,et):null}type(){let et=this.bb.__offset(this.bb_pos,16);return et?this.bb.readInt32(this.bb_pos+et):_e.experimental.fbs.NodeType.Primitive}executionProviderType(et){let j=this.bb.__offset(this.bb_pos,18);return j?this.bb.__string(this.bb_pos+j,et):null}inputs(et,j){let rt=this.bb.__offset(this.bb_pos,20);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}inputsLength(){let et=this.bb.__offset(this.bb_pos,20);return et?this.bb.__vector_len(this.bb_pos+et):0}outputs(et,j){let rt=this.bb.__offset(this.bb_pos,22);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}outputsLength(){let et=this.bb.__offset(this.bb_pos,22);return et?this.bb.__vector_len(this.bb_pos+et):0}attributes(et,j){let rt=this.bb.__offset(this.bb_pos,24);return rt?(j||new _e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}attributesLength(){let et=this.bb.__offset(this.bb_pos,24);return et?this.bb.__vector_len(this.bb_pos+et):0}inputArgCounts(et){let j=this.bb.__offset(this.bb_pos,26);return j?this.bb.readInt32(this.bb.__vector(this.bb_pos+j)+4*et):0}inputArgCountsLength(){let et=this.bb.__offset(this.bb_pos,26);return et?this.bb.__vector_len(this.bb_pos+et):0}inputArgCountsArray(){let et=this.bb.__offset(this.bb_pos,26);return et?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}implicitInputs(et,j){let rt=this.bb.__offset(this.bb_pos,28);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}implicitInputsLength(){let et=this.bb.__offset(this.bb_pos,28);return et?this.bb.__vector_len(this.bb_pos+et):0}static startNode(et){et.startObject(13)}static addName(et,j){et.addFieldOffset(0,j,0)}static addDocString(et,j){et.addFieldOffset(1,j,0)}static addDomain(et,j){et.addFieldOffset(2,j,0)}static addSinceVersion(et,j){et.addFieldInt32(3,j,0)}static addIndex(et,j){et.addFieldInt32(4,j,0)}static addOpType(et,j){et.addFieldOffset(5,j,0)}static addType(et,j){et.addFieldInt32(6,j,_e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(et,j){et.addFieldOffset(7,j,0)}static addInputs(et,j){et.addFieldOffset(8,j,0)}static createInputsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startInputsVector(et,j){et.startVector(4,j,4)}static addOutputs(et,j){et.addFieldOffset(9,j,0)}static createOutputsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startOutputsVector(et,j){et.startVector(4,j,4)}static addAttributes(et,j){et.addFieldOffset(10,j,0)}static createAttributesVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startAttributesVector(et,j){et.startVector(4,j,4)}static addInputArgCounts(et,j){et.addFieldOffset(11,j,0)}static createInputArgCountsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addInt32(j[rt]);return et.endVector()}static startInputArgCountsVector(et,j){et.startVector(4,j,4)}static addImplicitInputs(et,j){et.addFieldOffset(12,j,0)}static createImplicitInputsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startImplicitInputsVector(et,j){et.startVector(4,j,4)}static endNode(et){return et.endObject()}static createNode(et,j,rt,st,at,lt,ct,ut,dt,ft,ht,mt,bt,yt){return it.startNode(et),it.addName(et,j),it.addDocString(et,rt),it.addDomain(et,st),it.addSinceVersion(et,at),it.addIndex(et,lt),it.addOpType(et,ct),it.addType(et,ut),it.addExecutionProviderType(et,dt),it.addInputs(et,ft),it.addOutputs(et,ht),it.addAttributes(et,mt),it.addInputArgCounts(et,bt),it.addImplicitInputs(et,yt),it.endNode(et)}}nt.Node=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsValueInfo(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsValueInfo(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}name(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}docString(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__string(this.bb_pos+j,et):null}type(et){let j=this.bb.__offset(this.bb_pos,8);return j?(et||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startValueInfo(et){et.startObject(3)}static addName(et,j){et.addFieldOffset(0,j,0)}static addDocString(et,j){et.addFieldOffset(1,j,0)}static addType(et,j){et.addFieldOffset(2,j,0)}static endValueInfo(et){return et.endObject()}static createValueInfo(et,j,rt,st){return it.startValueInfo(et),it.addName(et,j),it.addDocString(et,rt),it.addType(et,st),it.endValueInfo(et)}}nt.ValueInfo=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsTypeInfo(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTypeInfo(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}denotation(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}valueType(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readUint8(this.bb_pos+et):_e.experimental.fbs.TypeInfoValue.NONE}value(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__union(et,this.bb_pos+j):null}static startTypeInfo(et){et.startObject(3)}static addDenotation(et,j){et.addFieldOffset(0,j,0)}static addValueType(et,j){et.addFieldInt8(1,j,_e.experimental.fbs.TypeInfoValue.NONE)}static addValue(et,j){et.addFieldOffset(2,j,0)}static endTypeInfo(et){return et.endObject()}static createTypeInfo(et,j,rt,st){return it.startTypeInfo(et),it.addDenotation(et,j),it.addValueType(et,rt),it.addValue(et,st),it.endTypeInfo(et)}}nt.TypeInfo=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsOperatorSetId(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsOperatorSetId(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}domain(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}version(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}static startOperatorSetId(et){et.startObject(2)}static addDomain(et,j){et.addFieldOffset(0,j,0)}static addVersion(et,j){et.addFieldInt64(1,j,et.createLong(0,0))}static endOperatorSetId(et){return et.endObject()}static createOperatorSetId(et,j,rt){return it.startOperatorSetId(et),it.addDomain(et,j),it.addVersion(et,rt),it.endOperatorSetId(et)}}nt.OperatorSetId=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsTensor(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTensor(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}name(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}docString(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__string(this.bb_pos+j,et):null}dims(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.readInt64(this.bb.__vector(this.bb_pos+j)+8*et):this.bb.createLong(0,0)}dimsLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}dataType(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readInt32(this.bb_pos+et):_e.experimental.fbs.TensorDataType.UNDEFINED}rawData(et){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.readUint8(this.bb.__vector(this.bb_pos+j)+et):0}rawDataLength(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.__vector_len(this.bb_pos+et):0}rawDataArray(){let et=this.bb.__offset(this.bb_pos,12);return et?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}stringData(et,j){let rt=this.bb.__offset(this.bb_pos,14);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}stringDataLength(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__vector_len(this.bb_pos+et):0}static startTensor(et){et.startObject(6)}static addName(et,j){et.addFieldOffset(0,j,0)}static addDocString(et,j){et.addFieldOffset(1,j,0)}static addDims(et,j){et.addFieldOffset(2,j,0)}static createDimsVector(et,j){et.startVector(8,j.length,8);for(let rt=j.length-1;rt>=0;rt--)et.addInt64(j[rt]);return et.endVector()}static startDimsVector(et,j){et.startVector(8,j,8)}static addDataType(et,j){et.addFieldInt32(3,j,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(et,j){et.addFieldOffset(4,j,0)}static createRawDataVector(et,j){et.startVector(1,j.length,1);for(let rt=j.length-1;rt>=0;rt--)et.addInt8(j[rt]);return et.endVector()}static startRawDataVector(et,j){et.startVector(1,j,1)}static addStringData(et,j){et.addFieldOffset(5,j,0)}static createStringDataVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startStringDataVector(et,j){et.startVector(4,j,4)}static endTensor(et){return et.endObject()}static createTensor(et,j,rt,st,at,lt,ct){return it.startTensor(et),it.addName(et,j),it.addDocString(et,rt),it.addDims(et,st),it.addDataType(et,at),it.addRawData(et,lt),it.addStringData(et,ct),it.endTensor(et)}}nt.Tensor=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsSparseTensor(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSparseTensor(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}values(et){let j=this.bb.__offset(this.bb_pos,4);return j?(et||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}indices(et){let j=this.bb.__offset(this.bb_pos,6);return j?(et||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}dims(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.readInt64(this.bb.__vector(this.bb_pos+j)+8*et):this.bb.createLong(0,0)}dimsLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}static startSparseTensor(et){et.startObject(3)}static addValues(et,j){et.addFieldOffset(0,j,0)}static addIndices(et,j){et.addFieldOffset(1,j,0)}static addDims(et,j){et.addFieldOffset(2,j,0)}static createDimsVector(et,j){et.startVector(8,j.length,8);for(let rt=j.length-1;rt>=0;rt--)et.addInt64(j[rt]);return et.endVector()}static startDimsVector(et,j){et.startVector(8,j,8)}static endSparseTensor(et){return et.endObject()}static createSparseTensor(et,j,rt,st){return it.startSparseTensor(et),it.addValues(et,j),it.addIndices(et,rt),it.addDims(et,st),it.endSparseTensor(et)}}nt.SparseTensor=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsAttribute(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsAttribute(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}name(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}docString(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__string(this.bb_pos+j,et):null}type(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.readInt32(this.bb_pos+et):_e.experimental.fbs.AttributeType.UNDEFINED}f(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readFloat32(this.bb_pos+et):0}i(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}s(et){let j=this.bb.__offset(this.bb_pos,14);return j?this.bb.__string(this.bb_pos+j,et):null}t(et){let j=this.bb.__offset(this.bb_pos,16);return j?(et||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}g(et){let j=this.bb.__offset(this.bb_pos,18);return j?(et||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}floats(et){let j=this.bb.__offset(this.bb_pos,20);return j?this.bb.readFloat32(this.bb.__vector(this.bb_pos+j)+4*et):0}floatsLength(){let et=this.bb.__offset(this.bb_pos,20);return et?this.bb.__vector_len(this.bb_pos+et):0}floatsArray(){let et=this.bb.__offset(this.bb_pos,20);return et?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}ints(et){let j=this.bb.__offset(this.bb_pos,22);return j?this.bb.readInt64(this.bb.__vector(this.bb_pos+j)+8*et):this.bb.createLong(0,0)}intsLength(){let et=this.bb.__offset(this.bb_pos,22);return et?this.bb.__vector_len(this.bb_pos+et):0}strings(et,j){let rt=this.bb.__offset(this.bb_pos,24);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}stringsLength(){let et=this.bb.__offset(this.bb_pos,24);return et?this.bb.__vector_len(this.bb_pos+et):0}tensors(et,j){let rt=this.bb.__offset(this.bb_pos,26);return rt?(j||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}tensorsLength(){let et=this.bb.__offset(this.bb_pos,26);return et?this.bb.__vector_len(this.bb_pos+et):0}graphs(et,j){let rt=this.bb.__offset(this.bb_pos,28);return rt?(j||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}graphsLength(){let et=this.bb.__offset(this.bb_pos,28);return et?this.bb.__vector_len(this.bb_pos+et):0}static startAttribute(et){et.startObject(13)}static addName(et,j){et.addFieldOffset(0,j,0)}static addDocString(et,j){et.addFieldOffset(1,j,0)}static addType(et,j){et.addFieldInt32(2,j,_e.experimental.fbs.AttributeType.UNDEFINED)}static addF(et,j){et.addFieldFloat32(3,j,0)}static addI(et,j){et.addFieldInt64(4,j,et.createLong(0,0))}static addS(et,j){et.addFieldOffset(5,j,0)}static addT(et,j){et.addFieldOffset(6,j,0)}static addG(et,j){et.addFieldOffset(7,j,0)}static addFloats(et,j){et.addFieldOffset(8,j,0)}static createFloatsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addFloat32(j[rt]);return et.endVector()}static startFloatsVector(et,j){et.startVector(4,j,4)}static addInts(et,j){et.addFieldOffset(9,j,0)}static createIntsVector(et,j){et.startVector(8,j.length,8);for(let rt=j.length-1;rt>=0;rt--)et.addInt64(j[rt]);return et.endVector()}static startIntsVector(et,j){et.startVector(8,j,8)}static addStrings(et,j){et.addFieldOffset(10,j,0)}static createStringsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startStringsVector(et,j){et.startVector(4,j,4)}static addTensors(et,j){et.addFieldOffset(11,j,0)}static createTensorsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startTensorsVector(et,j){et.startVector(4,j,4)}static addGraphs(et,j){et.addFieldOffset(12,j,0)}static createGraphsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startGraphsVector(et,j){et.startVector(4,j,4)}static endAttribute(et){return et.endObject()}static createAttribute(et,j,rt,st,at,lt,ct,ut,dt,ft,ht,mt,bt,yt){return it.startAttribute(et),it.addName(et,j),it.addDocString(et,rt),it.addType(et,st),it.addF(et,at),it.addI(et,lt),it.addS(et,ct),it.addT(et,ut),it.addG(et,dt),it.addFloats(et,ft),it.addInts(et,ht),it.addStrings(et,mt),it.addTensors(et,bt),it.addGraphs(et,yt),it.endAttribute(et)}}nt.Attribute=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsGraph(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsGraph(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}initializers(et,j){let rt=this.bb.__offset(this.bb_pos,4);return rt?(j||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}initializersLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}nodeArgs(et,j){let rt=this.bb.__offset(this.bb_pos,6);return rt?(j||new _e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}nodeArgsLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}nodes(et,j){let rt=this.bb.__offset(this.bb_pos,8);return rt?(j||new _e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}nodesLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}maxNodeIndex(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readUint32(this.bb_pos+et):0}nodeEdges(et,j){let rt=this.bb.__offset(this.bb_pos,12);return rt?(j||new _e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}nodeEdgesLength(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.__vector_len(this.bb_pos+et):0}inputs(et,j){let rt=this.bb.__offset(this.bb_pos,14);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}inputsLength(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__vector_len(this.bb_pos+et):0}outputs(et,j){let rt=this.bb.__offset(this.bb_pos,16);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*et,j):null}outputsLength(){let et=this.bb.__offset(this.bb_pos,16);return et?this.bb.__vector_len(this.bb_pos+et):0}sparseInitializers(et,j){let rt=this.bb.__offset(this.bb_pos,18);return rt?(j||new _e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}sparseInitializersLength(){let et=this.bb.__offset(this.bb_pos,18);return et?this.bb.__vector_len(this.bb_pos+et):0}static startGraph(et){et.startObject(8)}static addInitializers(et,j){et.addFieldOffset(0,j,0)}static createInitializersVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startInitializersVector(et,j){et.startVector(4,j,4)}static addNodeArgs(et,j){et.addFieldOffset(1,j,0)}static createNodeArgsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startNodeArgsVector(et,j){et.startVector(4,j,4)}static addNodes(et,j){et.addFieldOffset(2,j,0)}static createNodesVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startNodesVector(et,j){et.startVector(4,j,4)}static addMaxNodeIndex(et,j){et.addFieldInt32(3,j,0)}static addNodeEdges(et,j){et.addFieldOffset(4,j,0)}static createNodeEdgesVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startNodeEdgesVector(et,j){et.startVector(4,j,4)}static addInputs(et,j){et.addFieldOffset(5,j,0)}static createInputsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startInputsVector(et,j){et.startVector(4,j,4)}static addOutputs(et,j){et.addFieldOffset(6,j,0)}static createOutputsVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startOutputsVector(et,j){et.startVector(4,j,4)}static addSparseInitializers(et,j){et.addFieldOffset(7,j,0)}static createSparseInitializersVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startSparseInitializersVector(et,j){et.startVector(4,j,4)}static endGraph(et){return et.endObject()}static createGraph(et,j,rt,st,at,lt,ct,ut,dt){return it.startGraph(et),it.addInitializers(et,j),it.addNodeArgs(et,rt),it.addNodes(et,st),it.addMaxNodeIndex(et,at),it.addNodeEdges(et,lt),it.addInputs(et,ct),it.addOutputs(et,ut),it.addSparseInitializers(et,dt),it.endGraph(et)}}nt.Graph=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsModel(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsModel(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}irVersion(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}opsetImport(et,j){let rt=this.bb.__offset(this.bb_pos,6);return rt?(j||new _e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}opsetImportLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}producerName(et){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__string(this.bb_pos+j,et):null}producerVersion(et){let j=this.bb.__offset(this.bb_pos,10);return j?this.bb.__string(this.bb_pos+j,et):null}domain(et){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.__string(this.bb_pos+j,et):null}modelVersion(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}docString(et){let j=this.bb.__offset(this.bb_pos,16);return j?this.bb.__string(this.bb_pos+j,et):null}graph(et){let j=this.bb.__offset(this.bb_pos,18);return j?(et||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}graphDocString(et){let j=this.bb.__offset(this.bb_pos,20);return j?this.bb.__string(this.bb_pos+j,et):null}static startModel(et){et.startObject(9)}static addIrVersion(et,j){et.addFieldInt64(0,j,et.createLong(0,0))}static addOpsetImport(et,j){et.addFieldOffset(1,j,0)}static createOpsetImportVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startOpsetImportVector(et,j){et.startVector(4,j,4)}static addProducerName(et,j){et.addFieldOffset(2,j,0)}static addProducerVersion(et,j){et.addFieldOffset(3,j,0)}static addDomain(et,j){et.addFieldOffset(4,j,0)}static addModelVersion(et,j){et.addFieldInt64(5,j,et.createLong(0,0))}static addDocString(et,j){et.addFieldOffset(6,j,0)}static addGraph(et,j){et.addFieldOffset(7,j,0)}static addGraphDocString(et,j){et.addFieldOffset(8,j,0)}static endModel(et){return et.endObject()}static createModel(et,j,rt,st,at,lt,ct,ut,dt,ft){return it.startModel(et),it.addIrVersion(et,j),it.addOpsetImport(et,rt),it.addProducerName(et,st),it.addProducerVersion(et,at),it.addDomain(et,lt),it.addModelVersion(et,ct),it.addDocString(et,ut),it.addGraph(et,dt),it.addGraphDocString(et,ft),it.endModel(et)}}nt.Model=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsKernelCreateInfos(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsKernelCreateInfos(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}nodeIndices(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readUint32(this.bb.__vector(this.bb_pos+j)+4*et):0}nodeIndicesLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}nodeIndicesArray(){let et=this.bb.__offset(this.bb_pos,4);return et?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}kernelDefHashes(et){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.readUint64(this.bb.__vector(this.bb_pos+j)+8*et):this.bb.createLong(0,0)}kernelDefHashesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}static startKernelCreateInfos(et){et.startObject(2)}static addNodeIndices(et,j){et.addFieldOffset(0,j,0)}static createNodeIndicesVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addInt32(j[rt]);return et.endVector()}static startNodeIndicesVector(et,j){et.startVector(4,j,4)}static addKernelDefHashes(et,j){et.addFieldOffset(1,j,0)}static createKernelDefHashesVector(et,j){et.startVector(8,j.length,8);for(let rt=j.length-1;rt>=0;rt--)et.addInt64(j[rt]);return et.endVector()}static startKernelDefHashesVector(et,j){et.startVector(8,j,8)}static endKernelCreateInfos(et){return et.endObject()}static createKernelCreateInfos(et,j,rt){return it.startKernelCreateInfos(et),it.addNodeIndices(et,j),it.addKernelDefHashes(et,rt),it.endKernelCreateInfos(et)}}nt.KernelCreateInfos=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsSubGraphSessionState(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSubGraphSessionState(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}graphId(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}sessionState(et){let j=this.bb.__offset(this.bb_pos,6);return j?(et||new _e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startSubGraphSessionState(et){et.startObject(2)}static addGraphId(et,j){et.addFieldOffset(0,j,0)}static addSessionState(et,j){et.addFieldOffset(1,j,0)}static endSubGraphSessionState(et){let j=et.endObject();return et.requiredField(j,4),j}static createSubGraphSessionState(et,j,rt){return it.startSubGraphSessionState(et),it.addGraphId(et,j),it.addSessionState(et,rt),it.endSubGraphSessionState(et)}}nt.SubGraphSessionState=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsSessionState(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSessionState(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}kernels(et){let j=this.bb.__offset(this.bb_pos,4);return j?(et||new _e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}subGraphSessionStates(et,j){let rt=this.bb.__offset(this.bb_pos,6);return rt?(j||new _e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*et),this.bb):null}subGraphSessionStatesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}static startSessionState(et){et.startObject(2)}static addKernels(et,j){et.addFieldOffset(0,j,0)}static addSubGraphSessionStates(et,j){et.addFieldOffset(1,j,0)}static createSubGraphSessionStatesVector(et,j){et.startVector(4,j.length,4);for(let rt=j.length-1;rt>=0;rt--)et.addOffset(j[rt]);return et.endVector()}static startSubGraphSessionStatesVector(et,j){et.startVector(4,j,4)}static endSessionState(et){return et.endObject()}static createSessionState(et,j,rt){return it.startSessionState(et),it.addKernels(et,j),it.addSubGraphSessionStates(et,rt),it.endSessionState(et)}}nt.SessionState=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(_e){(function(tt){(function(nt){class it{constructor(){this.bb=null,this.bb_pos=0}__init(et,j){return this.bb_pos=et,this.bb=j,this}static getRootAsInferenceSession(et,j){return(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsInferenceSession(et,j){return et.setPosition(et.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(j||new it).__init(et.readInt32(et.position())+et.position(),et)}static bufferHasIdentifier(et){return et.__has_identifier("ORTM")}ortVersion(et){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__string(this.bb_pos+j,et):null}model(et){let j=this.bb.__offset(this.bb_pos,6);return j?(et||new _e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}sessionState(et){let j=this.bb.__offset(this.bb_pos,8);return j?(et||new _e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+j),this.bb):null}static startInferenceSession(et){et.startObject(3)}static addOrtVersion(et,j){et.addFieldOffset(0,j,0)}static addModel(et,j){et.addFieldOffset(1,j,0)}static addSessionState(et,j){et.addFieldOffset(2,j,0)}static endInferenceSession(et){return et.endObject()}static finishInferenceSessionBuffer(et,j){et.finish(j,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(et,j){et.finish(j,"ORTM",!0)}static createInferenceSession(et,j,rt,st){return it.startInferenceSession(et),it.addOrtVersion(et,j),it.addModel(et,rt),it.addSessionState(et,st),it.endInferenceSession(et)}}nt.InferenceSession=it})(tt.fbs||(tt.fbs={}))})(_e.experimental||(_e.experimental={}))}(o.onnxruntime||(o.onnxruntime={}))},7448:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxjsSessionHandler=void 0;const a=s(1670),_=s(9162);o.OnnxjsSessionHandler=class{constructor($){this.session=$,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run($,_e,tt){const nt=new Map;for(const et in $)if(Object.hasOwnProperty.call($,et)){const j=$[et];nt.set(et,new _.Tensor(j.dims,j.type,void 0,void 0,j.data))}const it=await this.session.run(nt),ot={};return it.forEach((et,j)=>{ot[j]=new a.Tensor(et.type,et.data,et.dims)}),ot}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Session=void 0;const a=s(7067),_=s(1296),$=s(7091),_e=s(1036),tt=s(6231),nt=s(2644);o.Session=class{constructor(it={}){this._initialized=!1,this.backendHint=it.backendHint,this.profiler=tt.Profiler.create(it.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(it,ot,et){await this.profiler.event("session","Session.loadModel",async()=>{const j=await(0,$.resolveBackend)(this.backendHint);if(this.sessionHandler=j.createSessionHandler(this.context),this._model=new nt.Model,typeof it=="string"){const rt=it.endsWith(".ort");if(typeof fetch>"u"){const st=await(0,_.promisify)(a.readFile)(it);this.initialize(st,rt)}else{const st=await fetch(it),at=await st.arrayBuffer();this.initialize(new Uint8Array(at),rt)}}else if(ArrayBuffer.isView(it))this.initialize(it);else{const rt=new Uint8Array(it,ot||0,et||it.byteLength);this.initialize(rt)}})}initialize(it,ot){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const et=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(it,et,ot),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new _e.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(it){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const ot=this.normalizeAndValidateInputs(it),et=await this._executionPlan.execute(this.sessionHandler,ot);return this.createOutput(et)})}normalizeAndValidateInputs(it){const ot=this._model.graph.getInputNames();if(Array.isArray(it)){if(it.length!==ot.length)throw new Error(`incorrect input array length: expected ${ot.length} but got ${it.length}`)}else{if(it.size!==ot.length)throw new Error(`incorrect input map size: expected ${ot.length} but got ${it.size}`);const et=new Array(it.size);let j=0;for(let rt=0;rt<ot.length;++rt){const st=it.get(ot[rt]);if(!st)throw new Error(`missing input tensor for: '${name}'`);et[j++]=st}it=et}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,it,!1);else{const et=this._model.graph.getInputIndices(),j=this._model.graph.getValues(),rt=new Array(et.length);for(let st=0;st<et.length;++st){const at=j[et[st]];rt[st]=at.type.shape.dims,this.context.graphInputTypes.push(at.type.tensorType),this.context.graphInputDims.push(it[st].dims)}this.validateInputTensorDims(rt,it,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,it),it}validateInputTensorTypes(it,ot){for(let et=0;et<ot.length;et++){const j=it[et],rt=ot[et].type;if(j!==rt)throw new Error(`input tensor[${et}] check failed: expected type '${j}' but got ${rt}`)}}validateInputTensorDims(it,ot,et){for(let j=0;j<ot.length;j++){const rt=it[j],st=ot[j].dims;if(!this.compareTensorDims(rt,st,et))throw new Error(`input tensor[${j}] check failed: expected shape '[${rt.join(",")}]' but got [${st.join(",")}]`)}}compareTensorDims(it,ot,et){if(it.length!==ot.length)return!1;for(let j=0;j<it.length;++j)if(it[j]!==ot[j]&&(!et||it[j]!==0))return!1;return!0}createOutput(it){const ot=this._model.graph.getOutputNames();if(it.length!==ot.length)throw new Error("expected number of outputs do not match number of generated outputs");const et=new Map;for(let j=0;j<ot.length;++j)et.set(ot[j],it[j]);return et}initializeOps(it){const ot=it.getNodes();this._ops=new Array(ot.length);for(let et=0;et<ot.length;et++)this._ops[et]=this.sessionHandler.resolve(ot[et],this._model.opsets,it)}}},9162:function(i,o,s){var a=this&&this.__importDefault||function(at){return at&&at.__esModule?at:{default:at}};Object.defineProperty(o,"__esModule",{value:!0}),o.Tensor=void 0;const _=s(3442),$=a(s(3720)),_e=s(1446),tt=s(9395),nt=s(2517);var it=tt.onnxruntime.experimental.fbs;class ot{get data(){if(this.cache===void 0){const lt=this.dataProvider(this.dataId);if(lt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=lt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(lt){return this.data[nt.ShapeUtil.indicesToOffset(lt,this.strides)]}set(lt,ct){this.data[nt.ShapeUtil.indicesToOffset(lt,this.strides)]=ct}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=nt.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(lt,ct,ut,dt,ft,ht=_.Guid.create()){this.dims=lt,this.type=ct,this.dataProvider=ut,this.asyncDataProvider=dt,this.cache=ft,this.dataId=ht,this.size=nt.ShapeUtil.validateDimsAndCalcSize(lt);const mt=this.size,bt=ut===void 0&&dt===void 0&&ft===void 0;if(ft!==void 0&&ft.length!==mt)throw new RangeError("Input dims doesn't match data length.");if(ct==="string"){if(!(ft===void 0||Array.isArray(ft)&&ft.every(yt=>typeof yt=="string")))throw new TypeError("cache should be a string array");bt&&(this.cache=new Array(mt))}else{if(ft!==void 0){const yt=j(ct);if(!(ft instanceof yt))throw new TypeError(`cache should be type ${yt.name}`)}if(bt){const yt=new ArrayBuffer(mt*function(gt){switch(gt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${gt}`)}}(ct));this.cache=function(gt,vt){return new(j(vt))(gt)}(yt,ct)}}}static fromProto(lt){if(!lt)throw new Error("cannot construct Value from an empty tensor");const ct=nt.ProtoUtil.tensorDataTypeFromProto(lt.dataType),ut=nt.ProtoUtil.tensorDimsFromProto(lt.dims),dt=new ot(ut,ct);if(ct==="string")lt.stringData.forEach((ft,ht)=>{dt.data[ht]=(0,nt.decodeUtf8String)(ft)});else if(lt.rawData&&typeof lt.rawData.byteLength=="number"&&lt.rawData.byteLength>0){const ft=dt.data,ht=new DataView(lt.rawData.buffer,lt.rawData.byteOffset,lt.rawData.byteLength),mt=et(lt.dataType),bt=lt.rawData.byteLength/mt;if(lt.rawData.byteLength%mt!=0)throw new Error("invalid buffer length");if(ft.length!==bt)throw new Error("buffer length mismatch");for(let yt=0;yt<bt;yt++){const gt=st(ht,lt.dataType,yt*mt);ft[yt]=gt}}else{let ft;switch(lt.dataType){case _e.onnx.TensorProto.DataType.FLOAT:ft=lt.floatData;break;case _e.onnx.TensorProto.DataType.INT32:case _e.onnx.TensorProto.DataType.INT16:case _e.onnx.TensorProto.DataType.UINT16:case _e.onnx.TensorProto.DataType.INT8:case _e.onnx.TensorProto.DataType.UINT8:case _e.onnx.TensorProto.DataType.BOOL:ft=lt.int32Data;break;case _e.onnx.TensorProto.DataType.INT64:ft=lt.int64Data;break;case _e.onnx.TensorProto.DataType.DOUBLE:ft=lt.doubleData;break;case _e.onnx.TensorProto.DataType.UINT32:case _e.onnx.TensorProto.DataType.UINT64:ft=lt.uint64Data;break;default:throw new Error("unspecific error")}if(ft==null)throw new Error("failed to populate data from a tensorproto value");const ht=dt.data;if(ht.length!==ft.length)throw new Error("array length mismatch");for(let mt=0;mt<ft.length;mt++){const bt=ft[mt];$.default.isLong(bt)?ht[mt]=rt(bt,lt.dataType):ht[mt]=bt}}return dt}static fromData(lt,ct,ut){return new ot(ct,ut,void 0,void 0,lt)}static fromOrtTensor(lt){if(!lt)throw new Error("cannot construct Value from an empty tensor");const ct=nt.ProtoUtil.tensorDimsFromORTFormat(lt),ut=nt.ProtoUtil.tensorDataTypeFromProto(lt.dataType()),dt=new ot(ct,ut);if(ut==="string")for(let ft=0;ft<lt.stringDataLength();ft++)dt.data[ft]=lt.stringData(ft);else if(lt.rawDataArray()&&typeof lt.rawDataLength()=="number"&&lt.rawDataLength()>0){const ft=dt.data,ht=new DataView(lt.rawDataArray().buffer,lt.rawDataArray().byteOffset,lt.rawDataLength()),mt=et(lt.dataType()),bt=lt.rawDataLength()/mt;if(lt.rawDataLength()%mt!=0)throw new Error("invalid buffer length");if(ft.length!==bt)throw new Error("buffer length mismatch");for(let yt=0;yt<bt;yt++){const gt=st(ht,lt.dataType(),yt*mt);ft[yt]=gt}}return dt}}function et(at){switch(at){case _e.onnx.TensorProto.DataType.UINT8:case _e.onnx.TensorProto.DataType.INT8:case _e.onnx.TensorProto.DataType.BOOL:return 1;case _e.onnx.TensorProto.DataType.UINT16:case _e.onnx.TensorProto.DataType.INT16:return 2;case _e.onnx.TensorProto.DataType.FLOAT:case _e.onnx.TensorProto.DataType.INT32:case _e.onnx.TensorProto.DataType.UINT32:return 4;case _e.onnx.TensorProto.DataType.INT64:case _e.onnx.TensorProto.DataType.DOUBLE:case _e.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${_e.onnx.TensorProto.DataType[at]}`)}}function j(at){switch(at){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function rt(at,lt){if(lt===_e.onnx.TensorProto.DataType.INT64||lt===it.TensorDataType.INT64){if(at.greaterThanOrEqual(2147483648)||at.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(lt!==_e.onnx.TensorProto.DataType.UINT32&&lt!==it.TensorDataType.UINT32&&lt!==_e.onnx.TensorProto.DataType.UINT64&&lt!==it.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${_e.onnx.TensorProto.DataType[lt]}`);if(at.greaterThanOrEqual(4294967296)||at.lessThan(0))throw new TypeError("uint64 is not supported")}return at.toNumber()}function st(at,lt,ct){switch(lt){case _e.onnx.TensorProto.DataType.BOOL:case _e.onnx.TensorProto.DataType.UINT8:return at.getUint8(ct);case _e.onnx.TensorProto.DataType.INT8:return at.getInt8(ct);case _e.onnx.TensorProto.DataType.UINT16:return at.getUint16(ct,!0);case _e.onnx.TensorProto.DataType.INT16:return at.getInt16(ct,!0);case _e.onnx.TensorProto.DataType.FLOAT:return at.getFloat32(ct,!0);case _e.onnx.TensorProto.DataType.INT32:return at.getInt32(ct,!0);case _e.onnx.TensorProto.DataType.UINT32:return at.getUint32(ct,!0);case _e.onnx.TensorProto.DataType.INT64:return rt($.default.fromBits(at.getUint32(ct,!0),at.getUint32(ct+4,!0),!1),lt);case _e.onnx.TensorProto.DataType.DOUBLE:return at.getFloat64(ct,!0);case _e.onnx.TensorProto.DataType.UINT64:return rt($.default.fromBits(at.getUint32(ct,!0),at.getUint32(ct+4,!0),!0),lt);default:throw new Error(`cannot read from DataView for type ${_e.onnx.TensorProto.DataType[lt]}`)}}o.Tensor=ot},2517:function(i,o,s){var a=this&&this.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(o,"__esModule",{value:!0}),o.decodeUtf8String=o.MAX_CLIP=o.MIN_CLIP=o.PoolConvUtil=o.ReduceUtil=o.SplitUtil=o.MathUtil=o.ShapeUtil=o.LongUtil=o.ProtoUtil=o.GemmUtil=o.arrayCopyHelper=o.BroadcastUtil=o.MatMulUtil=o.ArrayUtil=o.assert=o.checkInputsShape=void 0;const _=s(5686),$=a(s(3720)),_e=s(1446),tt=s(9162);o.checkInputsShape=function(lt,...ct){if(!lt||lt.length!==ct.length)return!1;for(let ut=0;ut<lt.length;ut++)if(!lt[ut].dims||lt[ut].dims.length!==ct[ut])return!1;return!0},o.assert=function(lt,ct){if(!lt)throw new Error(typeof ct=="string"?ct:ct())},o.ArrayUtil=class{static arraysEqual(lt,ct){if(lt.length!==ct.length)return!1;for(let ut=0;ut<lt.length;ut++)if(lt[ut]!==ct[ut])return!1;return!0}};class nt{static preprocessInputShapes(ct,ut){return[ct.length===1?[1,ct[0]]:ct,ut.length===1?[ut[0],1]:ut]}static postprocessOutputShape(ct,ut,dt){ut===1&&ct.splice(ct.length-2,1),dt===1&&ct.pop()}static calcMatMulShape(ct,ut){return ct[1]!==ut[0]?void 0:[ct[0],ut[1]]}}o.MatMulUtil=nt;class it{static calcShape(ct,ut,dt=!1){const ft=ct.length,ht=ut.length;if(ft===0)return ut;if(ht===0)return ct;const mt=Math.max(ct.length,ut.length),bt=new Array(mt);if(dt){if(ft<2||ht<2)return;const yt=nt.calcMatMulShape([ct[ft-2],ct[ft-1]],[ut[ht-2],ut[ht-1]]);if(yt===void 0)return;[bt[mt-2],bt[mt-1]]=yt}for(let yt=dt?3:1;yt<=mt;yt++){const gt=ft-yt<0?1:ct[ft-yt],vt=ht-yt<0?1:ut[ht-yt];if(gt!==vt&&gt>1&&vt>1)return;bt[mt-yt]=Math.max(gt,vt)}return bt}static index(ct,ut){const dt=new Array(ut.length);return it.fillIndex(ct,ut,dt),dt}static fillIndex(ct,ut,dt){const ft=ct.length-ut.length;for(let ht=0;ht<ut.length;ht++)dt[ht]=ct[ft+ht]%ut[ht]}static calc(ct,ut,dt,ft,ht){const mt=it.calcShape(ct.dims,ut.dims);if(mt){if(ft&&!j.areEqual(mt,ct.dims))return;const bt=j.size(mt),yt=ft?ct:new tt.Tensor(mt,ht||ct.type);if(mt.length===0)yt.set([],dt(ct.get([]),ut.get([])));else{const gt=new Array(mt.length),vt=new Array(ct.dims.length),wt=new Array(ut.dims.length);let Ct,Rt=0,It=0,Pt=!1,St=!1;ct.dims.length===0&&(Rt=ct.get([]),Pt=!0),ut.dims.length===0&&(It=ut.get([]),St=!0);for(let Ot=0;Ot<bt;Ot++){Ct=Ot;for(let At=mt.length-1;At>=0;At--)gt[At]=Ct%mt[At],Ct=Math.floor(Ct/mt[At]);Pt||(it.fillIndex(gt,ct.dims,vt),Rt=ct.get(vt)),St||(it.fillIndex(gt,ut.dims,wt),It=ut.get(wt)),yt.set(gt,dt(Rt,It))}}return yt}}static isValidBroadcast(ct,ut){const dt=ct.length,ft=ut.length;if(dt>ft)return!1;for(let ht=1;ht<=dt;ht++)if(ct[dt-ht]!==1&&ct[dt-ht]!==ut[ft-ht])return!1;return!0}static getBroadcastDims(ct,ut){const dt=ct.length,ft=[];for(let ht=0;ht<dt;ht++){const mt=dt-1-ht,bt=ct[mt]||1;(ut[ut.length-1-ht]||1)>1&&bt===1&&ft.unshift(mt)}return ft}}o.BroadcastUtil=it,o.arrayCopyHelper=function(lt,ct,ut,dt,ft){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=lt.length)throw new Error("targetIndex out of bounds");if(dt+ft>ct.length)throw new Error("source indices to be copied are outside bounds");if(ut+ft>lt.length)throw new Error("target array is too small to hold result");for(let ht=0;ht<ft;ht++)lt[ut+ht]=ct[dt+ht]},o.GemmUtil=class{static getShapeOfGemmResult(lt,ct,ut,dt,ft){if(lt.length!==2||ut.length!==2)throw new Error("shape need to be of size 2");let ht,mt,bt;ct?(ht=lt[1],mt=lt[0]):(ht=lt[0],mt=lt[1]);let yt=-1;if(dt?(bt=ut[0],yt=1):(bt=ut[1],yt=0),ut[yt]!==mt)throw new Error("dimension mismatch");if(ht<=0||bt<=0||mt<=0)throw new Error("invalid shape specified");if(ft&&!it.isValidBroadcast(ft,[ht,bt]))throw new Error("gemm: invalid bias shape for broadcast");return[ht,bt,mt]}};class ot{static tensorDataTypeFromProto(ct){switch(ct){case _e.onnx.TensorProto.DataType.INT8:return"int8";case _e.onnx.TensorProto.DataType.UINT8:return"uint8";case _e.onnx.TensorProto.DataType.BOOL:return"bool";case _e.onnx.TensorProto.DataType.INT16:return"int16";case _e.onnx.TensorProto.DataType.UINT16:return"uint16";case _e.onnx.TensorProto.DataType.INT32:return"int32";case _e.onnx.TensorProto.DataType.UINT32:return"uint32";case _e.onnx.TensorProto.DataType.FLOAT:return"float32";case _e.onnx.TensorProto.DataType.DOUBLE:return"float64";case _e.onnx.TensorProto.DataType.STRING:return"string";case _e.onnx.TensorProto.DataType.INT64:return"int32";case _e.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${_e.onnx.TensorProto.DataType[ct]}`)}}static tensorDataTypeStringToEnum(ct){switch(ct){case"int8":return _e.onnx.TensorProto.DataType.INT8;case"uint8":return _e.onnx.TensorProto.DataType.UINT8;case"bool":return _e.onnx.TensorProto.DataType.BOOL;case"int16":return _e.onnx.TensorProto.DataType.INT16;case"uint16":return _e.onnx.TensorProto.DataType.UINT16;case"int32":return _e.onnx.TensorProto.DataType.INT32;case"uint32":return _e.onnx.TensorProto.DataType.UINT32;case"float32":return _e.onnx.TensorProto.DataType.FLOAT;case"float64":return _e.onnx.TensorProto.DataType.DOUBLE;case"string":return _e.onnx.TensorProto.DataType.STRING;case"int64":return _e.onnx.TensorProto.DataType.INT64;case"uint64":return _e.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${ct}`)}}static tensorDimsFromProto(ct){return ct.map(ut=>$.default.isLong(ut)?ut.toNumber():ut)}static tensorValueTypeFromProto(ct){return{tensorType:ot.tensorDataTypeFromProto(ct.elemType),shape:{dims:ot.tensorDimsFromProto(ct.shape.dim.map(ut=>ut.dimValue))}}}static tensorDimsFromORTFormat(ct){const ut=[];for(let dt=0;dt<ct.dimsLength();dt++)ut.push(et.longToNumber(ct.dims(dt)));return ut}static tensorAttributesFromORTFormat(ct){const ut=[];for(let dt=0;dt<ct.attributesLength();dt++)ut.push(ct.attributes(dt));return ut}}o.ProtoUtil=ot;class et{static longToNumber(ct,ut){return $.default.isLong(ct)?ct.toNumber():ct instanceof _.flatbuffers.Long?$.default.fromValue({low:ct.low,high:ct.high,unsigned:ut!=null&&ut}).toNumber():ct}static isLong(ct){return $.default.isLong(ct)||ct instanceof _.flatbuffers.Long}}o.LongUtil=et;class j{static size(ct){return j.getSizeFromDimensionRange(ct,0,ct.length)}static sizeFromDimension(ct,ut){if(ut<0||ut>ct.length)throw new Error(`invalid dimension of ${ut} for sizeFromDimension as Tensor has ${ct.length} dimensions.`);return j.getSizeFromDimensionRange(ct,ut,ct.length)}static sizeToDimension(ct,ut){if(ut<0||ut>ct.length)throw new Error(`invalid dimension of ${ut} for sizeToDimension as Tensor has ${ct.length} dimensions.`);return j.getSizeFromDimensionRange(ct,0,ut)}static getSizeFromDimensionRange(ct,ut,dt){let ft=1;for(let ht=ut;ht<dt;ht++){if(ct[ht]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");ft*=ct[ht]}return ft}static computeStrides(ct){const ut=ct.length;if(ut===0)return[];if(ut===1)return[1];const dt=new Array(ut);dt[ut-1]=1,dt[ut-2]=ct[ut-1];for(let ft=ut-3;ft>=0;--ft)dt[ft]=dt[ft+1]*ct[ft+1];return dt}static transpose(ct){return ct.slice().reverse()}static indicesToOffset(ct,ut,dt){dt===void 0&&(dt=ct.length);let ft=0;for(let ht=0;ht<dt;++ht)ft+=ut[ht]*ct[ht];return ft}static offsetToIndices(ct,ut){const dt=ut.length;if(dt===0)return[];if(dt===1)return[ct*ut[0]];const ft=new Array(ut.length);for(let ht=0;ht<ft.length-1;++ht)ft[ht]=Math.floor(ct/ut[ht]),ct-=ft[ht]*ut[ht];return ft[ft.length-1]=ct,ft}static normalizeAxis(ct,ut){if(ct<-ut&&ct>=ut)throw new Error("unsupported axis for this operation.");return ct<0?ct+ut:ct}static normalizeAxes(ct,ut){return ct.map(dt=>this.normalizeAxis(dt,ut))}static incrementIndex(ct,ut,dt){if(ut.length===0||ct.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(dt===void 0)dt=ut.length;else if(dt<=0||dt>ut.length)throw new Error("Incorrect axis to increment on");for(let ft=dt-1;ft>=0&&(ct[ft]++,!(ct[ft]<ut[ft]));--ft)ct[ft]=0}static calculateReshapedDims(ct,ut){if(ut.length===0){if(ct.length===0||j.size(ct)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const dt=ut.length,ft=new Array(dt);let ht=-1,mt=1;for(let yt=0;yt<dt;yt++){if(ut[yt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(ut[yt]===-1){if(ht!==-1)throw new Error("at most one dimension in shape hints can be -1");ht=yt}else{if(ut[yt]===0){if(yt>=ct.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");ft[yt]=ct[yt]}else ft[yt]=ut[yt];mt*=ft[yt]}}const bt=j.size(ct);if(ht!==-1){if(bt%mt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${ct}] Output shape: [${ut}]`);ft[ht]=bt/mt}else if(mt!==bt)throw new Error("reshapedDims and originalDims don't have matching sizes");return ft}static sortBasedOnPerm(ct,ut){return ut?ut.map(dt=>ct[dt]):ct.slice().reverse()}static padShape(ct,ut){const dt=ct.length;return ct.map((ft,ht)=>ft+ut[ht]+ut[ht+dt])}static areEqual(ct,ut){return ct.length===ut.length&&ct.every((dt,ft)=>dt===ut[ft])}static validateDimsAndCalcSize(ct){if(ct.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let ut=1;for(const dt of ct){if(!Number.isInteger(dt))throw new TypeError(`Invalid shape: ${dt} is not an integer`);if(dt<0||dt>2147483647)throw new TypeError(`Invalid shape: length ${dt} is not allowed`);ut*=dt}return ut}static flattenShape(ct,ut){ut<0&&(ut+=ct.length);const dt=ct.reduce((ht,mt)=>ht*mt,1),ft=ct.slice(ut).reduce((ht,mt)=>ht*mt,1);return[dt/ft,ft]}static squeezeShape(ct,ut){const dt=new Array;ut=j.normalizeAxes(ut,ct.length);for(let ft=0;ft<ct.length;ft++){const ht=ut.indexOf(ft)>=0;if(ht&&ct[ft]!==1)throw new Error("squeeze an axis of size different than 1");(ut.length===0&&ct[ft]>1||ut.length>0&&!ht)&&dt.push(ct[ft])}return dt}static unsqueezeShape(ct,ut){const dt=new Array(ct.length+ut.length);dt.fill(0);for(let ht=0;ht<ut.length;ht++){const mt=j.normalizeAxis(ut[ht],dt.length);if(mt>=dt.length)throw new Error("'axes' has an out of range axis");if(dt[mt]!==0)throw new Error("'axes' has a duplicate axis");dt[mt]=1}let ft=0;for(let ht=0;ht<dt.length;ht++)dt[ht]===0&&(dt[ht]=ct[ft++]);if(ft!==ct.length)throw new Error("the unsqueezed dimension could not be established");return dt}}o.ShapeUtil=j,o.MathUtil=class{static sqr(lt,ct,ut,dt,ft){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=lt.length)throw new Error("targetIndex out of bounds");if(dt+ft>ct.length)throw new Error("source indices to be copied are outside bounds");if(ut+ft>lt.length)throw new Error("target array is too small to hold result");for(let ht=0;ht<ft;ht++)lt[ut+ht]+=Math.pow(ct[dt+ht],2)}static axpy(lt,ct,ut,dt,ft,ht){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=lt.length)throw new Error("targetIndex out of bounds");if(dt+ft>ct.length)throw new Error("source indices to be copied are outside bounds");if(ut+ft>lt.length)throw new Error("target array is too small to hold result");for(let mt=0;mt<ft;mt++)lt[ut+mt]+=ht*ct[dt+mt]}static powx(lt,ct,ut,dt,ft,ht){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=lt.length)throw new Error("targetIndex out of bounds");if(dt+ft>ct.length)throw new Error("source indices to be copied are outside bounds");if(ut+ft>lt.length)throw new Error("target array is too small to hold result");for(let mt=0;mt<ft;mt++)lt[ut+mt]=Math.pow(ct[dt+mt],ht)}static mul(lt,ct,ut,dt,ft){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=lt.length)throw new Error("targetIndex out of bounds");if(dt+ft>ct.length)throw new Error("source indices to be copied are outside bounds");if(ut+ft>lt.length)throw new Error("target array is too small to hold result");for(let ht=0;ht<ft;ht++)lt[ut+ht]=ct[dt+ht]*lt[ut+ht]}};class rt{static splitShape(ct,ut,dt,ft){if(dt.length===0){if(!ft)throw new Error("need to know number of outputs when the 'split' attribute is not specified");rt.determineSplit(ct[ut],ft,dt)}const ht=[],mt=[0];for(let bt=0;bt<dt.length;++bt){bt!==0&&mt.push(mt[bt-1]+dt[bt-1]);const yt=ct.slice();yt[ut]=dt[bt],ht.push(yt)}return[ht,mt]}static determineSplit(ct,ut,dt){if(ct%ut!=0)throw new Error("cannot split tensor to equal sized parts");for(let ft=0;ft<ut;++ft)dt.push(ct/ut)}}o.SplitUtil=rt;class st{static calcReduce(ct,ut,dt,ft,ht){const mt=ct.dims.slice(0);ut.length===0&&mt.forEach((Rt,It)=>ut.push(It));const bt=st.calcReduceShape(mt,ut,!0),yt=j.size(bt),gt=new tt.Tensor(bt,ct.type),vt=j.computeStrides(bt),wt=j.computeStrides(mt),Ct=new Array(mt.length);for(let Rt=0;Rt<yt;Rt++){const It=j.offsetToIndices(Rt,vt);it.fillIndex(It,mt,Ct),gt.set(It,st.calcReduceByAxis(ct.numberData,ut,mt,0,j.indicesToOffset(Ct,wt),ft,ht))}return dt?gt:new tt.Tensor(st.calcReduceShape(mt,ut,dt),gt.type,void 0,void 0,gt.data,gt.dataId)}static calcReduceByAxis(ct,ut,dt,ft,ht,mt,bt){let yt=0;if(ft>=ut.length)return mt(ct[ht]);const gt=ut[ft],vt=gt>=dt.length?1:j.size(dt.slice(gt+1));for(let wt=0;wt<dt[gt];wt++)yt=wt===0?st.calcReduceByAxis(ct,ut,dt,ft+1,ht,mt,bt):bt(yt,st.calcReduceByAxis(ct,ut,dt,ft+1,ht,mt,bt)),ht+=vt;return yt}static calcReduceShape(ct,ut,dt){const ft=ct.slice();for(let ht=0;ht<ut.length;ht++)ft[ut[ht]]=dt?1:0;return ft.filter(ht=>ht!==0)}}o.ReduceUtil=st;class at{static adjustPoolAttributes(ct,ut,dt,ft,ht,mt){if(!ct&&dt.length!==ut.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ct)for(let bt=0;bt<ut.length-2;bt++)bt>=dt.length?dt.push(ut[bt+2]):dt[bt]=ut[bt+2];for(let bt=0;bt<dt.length;bt++)if(bt<ft.length){if(ft[bt]<0)throw new Error("strides should be greater than or equal to 1")}else ft.push(1);for(let bt=0;bt<dt.length;bt++)if(bt<ht.length){if(ht[bt]<0)throw new Error("dilations should be greater than or equal to 1")}else ht.push(1);for(let bt=0;bt<2*dt.length;bt++)if(bt<mt.length){if(mt[bt]<0)throw new Error("pad should be greater than or equal to 1")}else mt.push(0);for(let bt=0;bt<dt.length;bt++){if(dt[bt]<=0)throw new Error("kernel shapes need to be greater than 0");if(mt[bt]>=dt[bt]||mt[bt+dt.length]>=dt[bt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ct,ut,dt,ft,ht,mt){if(mt){if(ht.length!==2*(ct.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ut.length!==ct.length-2)throw new Error("length of strides should be the length of data dimensions");if(ft.length!==ct.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let bt=0;bt<ct.length-2;bt++)at.adjustPadAndReturnShape(ct[bt+2],ut[bt],dt[bt],ft[bt],ht,bt,bt+ct.length-2,mt)}}static computePoolOutputShape(ct,ut,dt,ft,ht,mt,bt){if(ut.length<=0)throw new Error("input shape must be of size greater than 0");const yt=[ut[0],ut[1]];return at.computeShapeHelper(ct,ut,yt,dt,ft,ht,mt,bt),yt}static computeConvOutputShape(ct,ut,dt,ft,ht,mt,bt){if(ct.length<=0||ut.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const yt=[ct[0],ut[0]];return at.computeShapeHelper(!1,ct,yt,dt,ft,ht,mt,bt),yt}static computeShapeHelper(ct,ut,dt,ft,ht,mt,bt,yt){if(ct)for(let gt=0;gt<ut.length-2;gt++)dt.push(1);else for(let gt=0;gt<ut.length-2;gt++)dt.push(at.adjustPadAndReturnShape(ut[gt+2],ft[gt],ht[gt],mt[gt],bt,gt,gt+ut.length-2,yt))}static adjustPadAndReturnShape(ct,ut,dt,ft,ht,mt,bt,yt){const gt=dt*(ft-1)+1;if(!yt||yt==="NOTSET")return Math.floor((ct+ht[mt]+ht[bt]-gt)/ut+1);switch(yt){case"VALID":return ht[mt]=0,ht[bt]=0,Math.floor((ct-gt)/ut+1);case"SAME_LOWER":case"SAME_UPPER":if(dt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const vt=((ct+ut-1)/ut-1)*ut+ft-ct;return ht[mt]=Math.floor(yt==="SAME_LOWER"?(vt+1)/2:vt/2),ht[bt]=vt-ht[mt],Math.floor((ct+vt-ft)/ut+1)}default:throw new Error("Unsupported AutoPad type")}}}o.PoolConvUtil=at,o.MIN_CLIP=-34028234663852886e22,o.MAX_CLIP=34028234663852886e22,o.decodeUtf8String=function(lt){return new TextDecoder().decode(lt)}},7967:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.iterateExtraOptions=void 0,o.iterateExtraOptions=(s,a,_,$)=>{if(typeof s=="object"&&s!==null){if(_.has(s))throw new Error("Circular reference in options");_.add(s)}Object.entries(s).forEach(([_e,tt])=>{const nt=a?a+_e:_e;if(typeof tt=="object")(0,o.iterateExtraOptions)(tt,nt+".",_,$);else if(typeof tt=="string"||typeof tt=="number")$(nt,tt.toString());else{if(typeof tt!="boolean")throw new Error("Can't handle extra config type: "+typeof tt);$(nt,tt?"1":"0")}})}},2157:function(i,o,s){var a,_=this&&this.__createBinding||(Object.create?function(vt,wt,Ct,Rt){Rt===void 0&&(Rt=Ct);var It=Object.getOwnPropertyDescriptor(wt,Ct);It&&!("get"in It?!wt.__esModule:It.writable||It.configurable)||(It={enumerable:!0,get:function(){return wt[Ct]}}),Object.defineProperty(vt,Rt,It)}:function(vt,wt,Ct,Rt){Rt===void 0&&(Rt=Ct),vt[Rt]=wt[Ct]}),$=this&&this.__setModuleDefault||(Object.create?function(vt,wt){Object.defineProperty(vt,"default",{enumerable:!0,value:wt})}:function(vt,wt){vt.default=wt}),_e=this&&this.__importStar||function(vt){if(vt&&vt.__esModule)return vt;var wt={};if(vt!=null)for(var Ct in vt)Ct!=="default"&&Object.prototype.hasOwnProperty.call(vt,Ct)&&_(wt,vt,Ct);return $(wt,vt),wt};Object.defineProperty(o,"__esModule",{value:!0}),o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initOrt=o.initWasm=void 0;const tt=s(1670),nt=_e(s(349)),it=s(6361),ot=()=>!!tt.env.wasm.proxy&&typeof document<"u";let et,j,rt,st=!1,at=!1,lt=!1;const ct=[],ut=[],dt=[],ft=[],ht=[],mt=[],bt=()=>{if(st||!at||lt||!et)throw new Error("worker not ready")},yt=vt=>{switch(vt.data.type){case"init-wasm":st=!1,vt.data.err?(lt=!0,j[1](vt.data.err)):(at=!0,j[0]());break;case"init-ort":vt.data.err?rt[1](vt.data.err):rt[0]();break;case"create_allocate":vt.data.err?ct.shift()[1](vt.data.err):ct.shift()[0](vt.data.out);break;case"create_finalize":vt.data.err?ut.shift()[1](vt.data.err):ut.shift()[0](vt.data.out);break;case"create":vt.data.err?dt.shift()[1](vt.data.err):dt.shift()[0](vt.data.out);break;case"release":vt.data.err?ft.shift()[1](vt.data.err):ft.shift()[0]();break;case"run":vt.data.err?ht.shift()[1](vt.data.err):ht.shift()[0](vt.data.out);break;case"end-profiling":vt.data.err?mt.shift()[1](vt.data.err):mt.shift()[0]()}},gt=typeof document<"u"?(a=document==null?void 0:document.currentScript)===null||a===void 0?void 0:a.src:void 0;o.initWasm=async()=>{if(ot()){if(at)return;if(st)throw new Error("multiple calls to 'initWasm()' detected.");if(lt)throw new Error("previous call to 'initWasm()' failed.");return st=!0,tt.env.wasm.wasmPaths===void 0&&gt&&gt.indexOf("blob:")!==0&&(tt.env.wasm.wasmPaths=gt.substr(0,+gt.lastIndexOf("/")+1)),new Promise((vt,wt)=>{et==null||et.terminate(),et=s(9710).Z(),et.onmessage=yt,j=[vt,wt];const Ct={type:"init-wasm",in:tt.env.wasm};et.postMessage(Ct)})}return(0,it.initializeWebAssembly)(tt.env.wasm)},o.initOrt=async(vt,wt)=>{if(ot())return bt(),new Promise((Ct,Rt)=>{rt=[Ct,Rt];const It={type:"init-ort",in:{numThreads:vt,loggingLevel:wt}};et.postMessage(It)});nt.initOrt(vt,wt)},o.createSessionAllocate=async vt=>ot()?(bt(),new Promise((wt,Ct)=>{ct.push([wt,Ct]);const Rt={type:"create_allocate",in:{model:vt}};et.postMessage(Rt,[vt.buffer])})):nt.createSessionAllocate(vt),o.createSessionFinalize=async(vt,wt)=>ot()?(bt(),new Promise((Ct,Rt)=>{ut.push([Ct,Rt]);const It={type:"create_finalize",in:{modeldata:vt,options:wt}};et.postMessage(It)})):nt.createSessionFinalize(vt,wt),o.createSession=async(vt,wt)=>ot()?(bt(),new Promise((Ct,Rt)=>{dt.push([Ct,Rt]);const It={type:"create",in:{model:vt,options:wt}};et.postMessage(It,[vt.buffer])})):nt.createSession(vt,wt),o.releaseSession=async vt=>{if(ot())return bt(),new Promise((wt,Ct)=>{ft.push([wt,Ct]);const Rt={type:"release",in:vt};et.postMessage(Rt)});nt.releaseSession(vt)},o.run=async(vt,wt,Ct,Rt,It)=>ot()?(bt(),new Promise((Pt,St)=>{ht.push([Pt,St]);const Ot={type:"run",in:{sessionId:vt,inputIndices:wt,inputs:Ct,outputIndices:Rt,options:It}};et.postMessage(Ot,nt.extractTransferableBuffers(Ct))})):nt.run(vt,wt,Ct,Rt,It),o.endProfiling=async vt=>{if(ot())return bt(),new Promise((wt,Ct)=>{mt.push([wt,Ct]);const Rt={type:"end-profiling",in:vt};et.postMessage(Rt)});nt.endProfiling(vt)}},586:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setRunOptions=void 0;const a=s(7967),_=s(4983),$=s(6361);o.setRunOptions=_e=>{const tt=(0,$.getInstance)();let nt=0;const it=[],ot=_e||{};try{if((_e==null?void 0:_e.logSeverityLevel)===void 0)ot.logSeverityLevel=2;else if(typeof _e.logSeverityLevel!="number"||!Number.isInteger(_e.logSeverityLevel)||_e.logSeverityLevel<0||_e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${_e.logSeverityLevel}`);if((_e==null?void 0:_e.logVerbosityLevel)===void 0)ot.logVerbosityLevel=0;else if(typeof _e.logVerbosityLevel!="number"||!Number.isInteger(_e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${_e.logVerbosityLevel}`);(_e==null?void 0:_e.terminate)===void 0&&(ot.terminate=!1);let et=0;if((_e==null?void 0:_e.tag)!==void 0&&(et=(0,_.allocWasmString)(_e.tag,it)),nt=tt._OrtCreateRunOptions(ot.logSeverityLevel,ot.logVerbosityLevel,!!ot.terminate,et),nt===0)throw new Error("Can't create run options");return(_e==null?void 0:_e.extra)!==void 0&&(0,a.iterateExtraOptions)(_e.extra,"",new WeakSet,(j,rt)=>{const st=(0,_.allocWasmString)(j,it),at=(0,_.allocWasmString)(rt,it);if(tt._OrtAddRunConfigEntry(nt,st,at)!==0)throw new Error(`Can't set a run config entry: ${j} - ${rt}`)}),[nt,it]}catch(et){throw nt!==0&&tt._OrtReleaseRunOptions(nt),it.forEach(tt._free),et}}},2306:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxruntimeWebAssemblySessionHandler=void 0;const a=s(2806),_=s(1670),$=s(2850),_e=s(2157);let tt;o.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(nt){const it=await fetch(nt),ot=await it.arrayBuffer();return(0,_e.createSessionAllocate)(new Uint8Array(ot))}async loadModel(nt,it){if(tt||(await(0,_e.initOrt)(_.env.wasm.numThreads,(ot=>{switch(ot){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${ot}`)}})(_.env.logLevel)),tt=!0),typeof nt=="string")if(typeof fetch>"u"){const ot=await(0,$.promisify)(a.readFile)(nt);[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSession)(ot,it)}else{const ot=await this.createSessionAllocate(nt);[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSessionFinalize)(ot,it)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSession)(nt,it)}async dispose(){return(0,_e.releaseSession)(this.sessionId)}async run(nt,it,ot){const et=[],j=[];Object.entries(nt).forEach(lt=>{const ct=lt[0],ut=lt[1],dt=this.inputNames.indexOf(ct);if(dt===-1)throw new Error(`invalid input '${ct}'`);et.push(ut),j.push(dt)});const rt=[];Object.entries(it).forEach(lt=>{const ct=lt[0],ut=this.outputNames.indexOf(ct);if(ut===-1)throw new Error(`invalid output '${ct}'`);rt.push(ut)});const st=await(0,_e.run)(this.sessionId,j,et.map(lt=>[lt.type,lt.dims,lt.data]),rt,ot),at={};for(let lt=0;lt<st.length;lt++)at[this.outputNames[rt[lt]]]=new _.Tensor(st[lt][0],st[lt][2],st[lt][1]);return at}startProfiling(){}endProfiling(){(0,_e.endProfiling)(this.sessionId)}}},4919:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setSessionOptions=void 0;const a=s(7967),_=s(4983),$=s(6361);o.setSessionOptions=_e=>{const tt=(0,$.getInstance)();let nt=0;const it=[],ot=_e||{};(et=>{et.extra||(et.extra={}),et.extra.session||(et.extra.session={});const j=et.extra.session;j.use_ort_model_bytes_directly||(j.use_ort_model_bytes_directly="1")})(ot);try{(_e==null?void 0:_e.graphOptimizationLevel)===void 0&&(ot.graphOptimizationLevel="all");const et=(st=>{switch(st){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${st}`)}})(ot.graphOptimizationLevel);(_e==null?void 0:_e.enableCpuMemArena)===void 0&&(ot.enableCpuMemArena=!0),(_e==null?void 0:_e.enableMemPattern)===void 0&&(ot.enableMemPattern=!0),(_e==null?void 0:_e.executionMode)===void 0&&(ot.executionMode="sequential");const j=(st=>{switch(st){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${st}`)}})(ot.executionMode);let rt=0;if((_e==null?void 0:_e.logId)!==void 0&&(rt=(0,_.allocWasmString)(_e.logId,it)),(_e==null?void 0:_e.logSeverityLevel)===void 0)ot.logSeverityLevel=2;else if(typeof _e.logSeverityLevel!="number"||!Number.isInteger(_e.logSeverityLevel)||_e.logSeverityLevel<0||_e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${_e.logSeverityLevel}`);if((_e==null?void 0:_e.logVerbosityLevel)===void 0)ot.logVerbosityLevel=0;else if(typeof _e.logVerbosityLevel!="number"||!Number.isInteger(_e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${_e.logVerbosityLevel}`);if((_e==null?void 0:_e.enableProfiling)===void 0&&(ot.enableProfiling=!1),nt=tt._OrtCreateSessionOptions(et,!!ot.enableCpuMemArena,!!ot.enableMemPattern,j,!!ot.enableProfiling,0,rt,ot.logSeverityLevel,ot.logVerbosityLevel),nt===0)throw new Error("Can't create session options");return _e!=null&&_e.executionProviders&&((st,at,lt)=>{for(const ct of at){let ut=typeof ct=="string"?ct:ct.name;switch(ut){case"xnnpack":ut="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${ut}`)}const dt=(0,_.allocWasmString)(ut,lt);if((0,$.getInstance)()._OrtAppendExecutionProvider(st,dt)!==0)throw new Error(`Can't append execution provider: ${ut}`)}})(nt,_e.executionProviders,it),(_e==null?void 0:_e.extra)!==void 0&&(0,a.iterateExtraOptions)(_e.extra,"",new WeakSet,(st,at)=>{const lt=(0,_.allocWasmString)(st,it),ct=(0,_.allocWasmString)(at,it);if(tt._OrtAddSessionConfigEntry(nt,lt,ct)!==0)throw new Error(`Can't set a session config entry: ${st} - ${at}`)}),[nt,it]}catch(et){throw nt!==0&&tt._OrtReleaseSessionOptions(nt),it.forEach(tt._free),et}}},4983:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.allocWasmString=void 0;const a=s(6361);o.allocWasmString=(_,$)=>{const _e=(0,a.getInstance)(),tt=_e.lengthBytesUTF8(_)+1,nt=_e._malloc(tt);return _e.stringToUTF8(_,nt,tt),$.push(nt),nt}},349:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.extractTransferableBuffers=o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initOrt=void 0;const a=s(586),_=s(4919),$=s(4983),_e=s(6361);o.initOrt=(et,j)=>{const rt=(0,_e.getInstance)()._OrtInit(et,j);if(rt!==0)throw new Error(`Can't initialize onnxruntime. error code = ${rt}`)};const tt=new Map;o.createSessionAllocate=et=>{const j=(0,_e.getInstance)(),rt=j._malloc(et.byteLength);return j.HEAPU8.set(et,rt),[rt,et.byteLength]},o.createSessionFinalize=(et,j)=>{const rt=(0,_e.getInstance)();let st=0,at=0,lt=[];try{if([at,lt]=(0,_.setSessionOptions)(j),st=rt._OrtCreateSession(et[0],et[1],at),st===0)throw new Error("Can't create a session")}finally{rt._free(et[0]),rt._OrtReleaseSessionOptions(at),lt.forEach(rt._free)}const ct=rt._OrtGetInputCount(st),ut=rt._OrtGetOutputCount(st),dt=[],ft=[],ht=[],mt=[];for(let bt=0;bt<ct;bt++){const yt=rt._OrtGetInputName(st,bt);if(yt===0)throw new Error("Can't get an input name");ft.push(yt),dt.push(rt.UTF8ToString(yt))}for(let bt=0;bt<ut;bt++){const yt=rt._OrtGetOutputName(st,bt);if(yt===0)throw new Error("Can't get an output name");mt.push(yt),ht.push(rt.UTF8ToString(yt))}return tt.set(st,[st,ft,mt]),[st,dt,ht]},o.createSession=(et,j)=>{const rt=(0,o.createSessionAllocate)(et);return(0,o.createSessionFinalize)(rt,j)},o.releaseSession=et=>{const j=(0,_e.getInstance)(),rt=tt.get(et);if(!rt)throw new Error("invalid session id");const st=rt[0],at=rt[1],lt=rt[2];at.forEach(j._OrtFree),lt.forEach(j._OrtFree),j._OrtReleaseSession(st),tt.delete(et)};const nt=et=>{switch(et){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${et}`)}},it=et=>{switch(et){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${et}`)}},ot=et=>{switch(et){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${et}`)}};o.run=(et,j,rt,st,at)=>{const lt=(0,_e.getInstance)(),ct=tt.get(et);if(!ct)throw new Error("invalid session id");const ut=ct[0],dt=ct[1],ft=ct[2],ht=j.length,mt=st.length;let bt=0,yt=[];const gt=[],vt=[];try{[bt,yt]=(0,a.setRunOptions)(at);for(let St=0;St<ht;St++){const Ot=rt[St][0],At=rt[St][1],$t=rt[St][2];let Ft,Ut;if(Array.isArray($t)){Ut=4*$t.length,Ft=lt._malloc(Ut),vt.push(Ft);let lr=Ft/4;for(let rr=0;rr<$t.length;rr++){if(typeof $t[rr]!="string")throw new TypeError(`tensor data at index ${rr} is not a string`);lt.HEAPU32[lr++]=(0,$.allocWasmString)($t[rr],vt)}}else Ut=$t.byteLength,Ft=lt._malloc(Ut),vt.push(Ft),lt.HEAPU8.set(new Uint8Array($t.buffer,$t.byteOffset,Ut),Ft);const Kt=lt.stackSave(),ar=lt.stackAlloc(4*At.length);try{let lr=ar/4;At.forEach(Jt=>lt.HEAP32[lr++]=Jt);const rr=lt._OrtCreateTensor(nt(Ot),Ft,Ut,ar,At.length);if(rr===0)throw new Error("Can't create a tensor");gt.push(rr)}finally{lt.stackRestore(Kt)}}const wt=lt.stackSave(),Ct=lt.stackAlloc(4*ht),Rt=lt.stackAlloc(4*ht),It=lt.stackAlloc(4*mt),Pt=lt.stackAlloc(4*mt);try{let St=Ct/4,Ot=Rt/4,At=It/4,$t=Pt/4;for(let Kt=0;Kt<ht;Kt++)lt.HEAPU32[St++]=gt[Kt],lt.HEAPU32[Ot++]=dt[j[Kt]];for(let Kt=0;Kt<mt;Kt++)lt.HEAPU32[At++]=0,lt.HEAPU32[$t++]=ft[st[Kt]];let Ft=lt._OrtRun(ut,Rt,Ct,ht,Pt,mt,It,bt);const Ut=[];if(Ft===0)for(let Kt=0;Kt<mt;Kt++){const ar=lt.HEAPU32[It/4+Kt],lr=lt.stackSave(),rr=lt.stackAlloc(16);let Jt,cr=0;try{if(Ft=lt._OrtGetTensorData(ar,rr,rr+4,rr+8,rr+12),Ft!==0)throw new Error(`Can't access output tensor data. error code = ${Ft}`);let Xt=rr/4;const Lt=lt.HEAPU32[Xt++];cr=lt.HEAPU32[Xt++];const Zt=lt.HEAPU32[Xt++],ur=lt.HEAPU32[Xt++],Qt=[];for(let gr=0;gr<ur;gr++)Qt.push(lt.HEAPU32[Zt/4+gr]);lt._OrtFree(Zt);const nr=Qt.length===0?1:Qt.reduce((gr,$r)=>gr*$r);if(Jt=it(Lt),Jt==="string"){const gr=[];let $r=cr/4;for(let Mr=0;Mr<nr;Mr++){const Gr=lt.HEAPU32[$r++],Er=Mr===nr-1?void 0:lt.HEAPU32[$r]-Gr;gr.push(lt.UTF8ToString(Gr,Er))}Ut.push([Jt,Qt,gr])}else{const gr=new(ot(Jt))(nr);new Uint8Array(gr.buffer,gr.byteOffset,gr.byteLength).set(lt.HEAPU8.subarray(cr,cr+gr.byteLength)),Ut.push([Jt,Qt,gr])}}finally{lt.stackRestore(lr),Jt==="string"&&cr&&lt._free(cr),lt._OrtReleaseTensor(ar)}}if(Ft===0)return Ut;throw new Error(`failed to call OrtRun(). error code = ${Ft}.`)}finally{lt.stackRestore(wt)}}finally{gt.forEach(lt._OrtReleaseTensor),vt.forEach(lt._free),lt._OrtReleaseRunOptions(bt),yt.forEach(lt._free)}},o.endProfiling=et=>{const j=(0,_e.getInstance)(),rt=tt.get(et);if(!rt)throw new Error("invalid session id");const st=rt[0],at=j._OrtEndProfiling(st);if(at===0)throw new Error("Can't get an profile file name");j._OrtFree(at)},o.extractTransferableBuffers=et=>{const j=[];for(const rt of et){const st=rt[2];!Array.isArray(st)&&st.buffer&&j.push(st.buffer)}return j}},6361:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(at,lt,ct,ut){ut===void 0&&(ut=ct);var dt=Object.getOwnPropertyDescriptor(lt,ct);dt&&!("get"in dt?!lt.__esModule:dt.writable||dt.configurable)||(dt={enumerable:!0,get:function(){return lt[ct]}}),Object.defineProperty(at,ut,dt)}:function(at,lt,ct,ut){ut===void 0&&(ut=ct),at[ut]=lt[ct]}),_=this&&this.__setModuleDefault||(Object.create?function(at,lt){Object.defineProperty(at,"default",{enumerable:!0,value:lt})}:function(at,lt){at.default=lt}),$=this&&this.__importStar||function(at){if(at&&at.__esModule)return at;var lt={};if(at!=null)for(var ct in at)ct!=="default"&&Object.prototype.hasOwnProperty.call(at,ct)&&a(lt,at,ct);return _(lt,at),lt},_e=this&&this.__importDefault||function(at){return at&&at.__esModule?at:{default:at}};Object.defineProperty(o,"__esModule",{value:!0}),o.dispose=o.getInstance=o.initializeWebAssembly=void 0;const tt=$(s(6449)),nt=_e(s(932)),it=s(3474);let ot,et=!1,j=!1,rt=!1;const st=(at,lt)=>lt?at?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":at?"ort-wasm-simd.wasm":"ort-wasm.wasm";o.initializeWebAssembly=async at=>{if(et)return Promise.resolve();if(j)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(rt)throw new Error("previous call to 'initializeWebAssembly()' failed.");j=!0;const lt=at.initTimeout,ct=at.numThreads,ut=at.simd,dt=ct>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),ft=ut&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),ht=typeof at.wasmPaths=="string"?at.wasmPaths:void 0,mt=st(!1,dt),bt=st(ft,dt),yt=typeof at.wasmPaths=="object"?at.wasmPaths[bt]:void 0;let gt=!1;const vt=[];if(lt>0&&vt.push(new Promise(wt=>{setTimeout(()=>{gt=!0,wt()},lt)})),vt.push(new Promise((wt,Ct)=>{const Rt=dt?it:nt.default,It={locateFile:(Pt,St)=>dt&&Pt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):Pt===mt?yt??(ht??St)+bt:St+Pt};if(dt)if(typeof Blob>"u")It.mainScriptUrlOrBlob=tt.join("/","ort-wasm-threaded.js");else{const Pt=`var ortWasmThreaded=(function(){var _scriptDir;return ${Rt.toString()}})();`;It.mainScriptUrlOrBlob=new Blob([Pt],{type:"text/javascript"})}Rt(It).then(Pt=>{j=!1,et=!0,ot=Pt,wt()},Pt=>{j=!1,rt=!0,Ct(Pt)})})),await Promise.race(vt),gt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${lt}ms`)},o.getInstance=()=>{if(et&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")},o.dispose=()=>{var at;!et||j||rt||(j=!0,(at=ot.PThread)===null||at===void 0||at.terminateAllThreads(),ot=void 0,j=!1,et=!1,rt=!0)}},9710:(i,o,s)=>{s.d(o,{Z:()=>$});var a=s(477),_=s.n(a);function $(){return _()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:i=>{i.exports=function(o,s,a,_){var $=self||window;try{try{var _e;try{_e=new $.Blob([o])}catch{(_e=new($.BlobBuilder||$.WebKitBlobBuilder||$.MozBlobBuilder||$.MSBlobBuilder)).append(o),_e=_e.getBlob()}var tt=$.URL||$.webkitURL,nt=tt.createObjectURL(_e),it=new $[s](nt,a);return tt.revokeObjectURL(nt),it}catch{return new $[s]("data:application/javascript,".concat(encodeURIComponent(o)),a)}}catch{if(!_)throw Error("Inline worker is not supported");return new $[s](_,a)}}},4154:i=>{i.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:i=>{i.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(i,o,s)=>{s.r(o),s.d(o,{flatbuffers:()=>a});var a={};a.Offset,a.Table,a.SIZEOF_SHORT=2,a.SIZEOF_INT=4,a.FILE_IDENTIFIER_LENGTH=4,a.SIZE_PREFIX_LENGTH=4,a.Encoding={UTF8_BYTES:1,UTF16_STRING:2},a.int32=new Int32Array(2),a.float32=new Float32Array(a.int32.buffer),a.float64=new Float64Array(a.int32.buffer),a.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,a.Long=function(_,$){this.low=0|_,this.high=0|$},a.Long.create=function(_,$){return _==0&&$==0?a.Long.ZERO:new a.Long(_,$)},a.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},a.Long.prototype.equals=function(_){return this.low==_.low&&this.high==_.high},a.Long.ZERO=new a.Long(0,0),a.Builder=function(_){if(_)$=_;else var $=1024;this.bb=a.ByteBuffer.allocate($),this.space=$,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.forceDefaults=function(_){this.force_defaults=_},a.Builder.prototype.dataBuffer=function(){return this.bb},a.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},a.Builder.prototype.prep=function(_,$){_>this.minalign&&(this.minalign=_);for(var _e=1+~(this.bb.capacity()-this.space+$)&_-1;this.space<_e+_+$;){var tt=this.bb.capacity();this.bb=a.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-tt}this.pad(_e)},a.Builder.prototype.pad=function(_){for(var $=0;$<_;$++)this.bb.writeInt8(--this.space,0)},a.Builder.prototype.writeInt8=function(_){this.bb.writeInt8(this.space-=1,_)},a.Builder.prototype.writeInt16=function(_){this.bb.writeInt16(this.space-=2,_)},a.Builder.prototype.writeInt32=function(_){this.bb.writeInt32(this.space-=4,_)},a.Builder.prototype.writeInt64=function(_){this.bb.writeInt64(this.space-=8,_)},a.Builder.prototype.writeFloat32=function(_){this.bb.writeFloat32(this.space-=4,_)},a.Builder.prototype.writeFloat64=function(_){this.bb.writeFloat64(this.space-=8,_)},a.Builder.prototype.addInt8=function(_){this.prep(1,0),this.writeInt8(_)},a.Builder.prototype.addInt16=function(_){this.prep(2,0),this.writeInt16(_)},a.Builder.prototype.addInt32=function(_){this.prep(4,0),this.writeInt32(_)},a.Builder.prototype.addInt64=function(_){this.prep(8,0),this.writeInt64(_)},a.Builder.prototype.addFloat32=function(_){this.prep(4,0),this.writeFloat32(_)},a.Builder.prototype.addFloat64=function(_){this.prep(8,0),this.writeFloat64(_)},a.Builder.prototype.addFieldInt8=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addInt8($),this.slot(_))},a.Builder.prototype.addFieldInt16=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addInt16($),this.slot(_))},a.Builder.prototype.addFieldInt32=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addInt32($),this.slot(_))},a.Builder.prototype.addFieldInt64=function(_,$,_e){!this.force_defaults&&$.equals(_e)||(this.addInt64($),this.slot(_))},a.Builder.prototype.addFieldFloat32=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addFloat32($),this.slot(_))},a.Builder.prototype.addFieldFloat64=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addFloat64($),this.slot(_))},a.Builder.prototype.addFieldOffset=function(_,$,_e){(this.force_defaults||$!=_e)&&(this.addOffset($),this.slot(_))},a.Builder.prototype.addFieldStruct=function(_,$,_e){$!=_e&&(this.nested($),this.slot(_))},a.Builder.prototype.nested=function(_){if(_!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},a.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},a.Builder.prototype.slot=function(_){this.vtable[_]=this.offset()},a.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},a.Builder.growByteBuffer=function(_){var $=_.capacity();if(3221225472&$)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var _e=$<<1,tt=a.ByteBuffer.allocate(_e);return tt.setPosition(_e-$),tt.bytes().set(_.bytes(),_e-$),tt},a.Builder.prototype.addOffset=function(_){this.prep(a.SIZEOF_INT,0),this.writeInt32(this.offset()-_+a.SIZEOF_INT)},a.Builder.prototype.startObject=function(_){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=_;for(var $=0;$<_;$++)this.vtable[$]=0;this.isNested=!0,this.object_start=this.offset()},a.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var _=this.offset(),$=this.vtable_in_use-1;$>=0&&this.vtable[$]==0;$--);for(var _e=$+1;$>=0;$--)this.addInt16(this.vtable[$]!=0?_-this.vtable[$]:0);this.addInt16(_-this.object_start);var tt=(_e+2)*a.SIZEOF_SHORT;this.addInt16(tt);var nt=0,it=this.space;e:for($=0;$<this.vtables.length;$++){var ot=this.bb.capacity()-this.vtables[$];if(tt==this.bb.readInt16(ot)){for(var et=a.SIZEOF_SHORT;et<tt;et+=a.SIZEOF_SHORT)if(this.bb.readInt16(it+et)!=this.bb.readInt16(ot+et))continue e;nt=this.vtables[$];break}}return nt?(this.space=this.bb.capacity()-_,this.bb.writeInt32(this.space,nt-_)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-_,this.offset()-_)),this.isNested=!1,_},a.Builder.prototype.finish=function(_,$,_e){var tt=_e?a.SIZE_PREFIX_LENGTH:0;if($){var nt=$;if(this.prep(this.minalign,a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH+tt),nt.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var it=a.FILE_IDENTIFIER_LENGTH-1;it>=0;it--)this.writeInt8(nt.charCodeAt(it))}this.prep(this.minalign,a.SIZEOF_INT+tt),this.addOffset(_),tt&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},a.Builder.prototype.finishSizePrefixed=function(_,$){this.finish(_,$,!0)},a.Builder.prototype.requiredField=function(_,$){var _e=this.bb.capacity()-_,tt=_e-this.bb.readInt32(_e);if(this.bb.readInt16(tt+$)==0)throw new Error("FlatBuffers: field "+$+" must be set")},a.Builder.prototype.startVector=function(_,$,_e){this.notNested(),this.vector_num_elems=$,this.prep(a.SIZEOF_INT,_*$),this.prep(_e,_*$)},a.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},a.Builder.prototype.createString=function(_){if(_ instanceof Uint8Array)var $=_;else{$=[];for(var _e=0;_e<_.length;){var tt,nt=_.charCodeAt(_e++);(tt=nt<55296||nt>=56320?nt:(nt<<10)+_.charCodeAt(_e++)+-56613888)<128?$.push(tt):(tt<2048?$.push(tt>>6&31|192):(tt<65536?$.push(tt>>12&15|224):$.push(tt>>18&7|240,tt>>12&63|128),$.push(tt>>6&63|128)),$.push(63&tt|128))}}this.addInt8(0),this.startVector(1,$.length,1),this.bb.setPosition(this.space-=$.length),_e=0;for(var it=this.space,ot=this.bb.bytes();_e<$.length;_e++)ot[it++]=$[_e];return this.endVector()},a.Builder.prototype.createLong=function(_,$){return a.Long.create(_,$)},a.ByteBuffer=function(_){this.bytes_=_,this.position_=0},a.ByteBuffer.allocate=function(_){return new a.ByteBuffer(new Uint8Array(_))},a.ByteBuffer.prototype.clear=function(){this.position_=0},a.ByteBuffer.prototype.bytes=function(){return this.bytes_},a.ByteBuffer.prototype.position=function(){return this.position_},a.ByteBuffer.prototype.setPosition=function(_){this.position_=_},a.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},a.ByteBuffer.prototype.readInt8=function(_){return this.readUint8(_)<<24>>24},a.ByteBuffer.prototype.readUint8=function(_){return this.bytes_[_]},a.ByteBuffer.prototype.readInt16=function(_){return this.readUint16(_)<<16>>16},a.ByteBuffer.prototype.readUint16=function(_){return this.bytes_[_]|this.bytes_[_+1]<<8},a.ByteBuffer.prototype.readInt32=function(_){return this.bytes_[_]|this.bytes_[_+1]<<8|this.bytes_[_+2]<<16|this.bytes_[_+3]<<24},a.ByteBuffer.prototype.readUint32=function(_){return this.readInt32(_)>>>0},a.ByteBuffer.prototype.readInt64=function(_){return new a.Long(this.readInt32(_),this.readInt32(_+4))},a.ByteBuffer.prototype.readUint64=function(_){return new a.Long(this.readUint32(_),this.readUint32(_+4))},a.ByteBuffer.prototype.readFloat32=function(_){return a.int32[0]=this.readInt32(_),a.float32[0]},a.ByteBuffer.prototype.readFloat64=function(_){return a.int32[a.isLittleEndian?0:1]=this.readInt32(_),a.int32[a.isLittleEndian?1:0]=this.readInt32(_+4),a.float64[0]},a.ByteBuffer.prototype.writeInt8=function(_,$){this.bytes_[_]=$},a.ByteBuffer.prototype.writeUint8=function(_,$){this.bytes_[_]=$},a.ByteBuffer.prototype.writeInt16=function(_,$){this.bytes_[_]=$,this.bytes_[_+1]=$>>8},a.ByteBuffer.prototype.writeUint16=function(_,$){this.bytes_[_]=$,this.bytes_[_+1]=$>>8},a.ByteBuffer.prototype.writeInt32=function(_,$){this.bytes_[_]=$,this.bytes_[_+1]=$>>8,this.bytes_[_+2]=$>>16,this.bytes_[_+3]=$>>24},a.ByteBuffer.prototype.writeUint32=function(_,$){this.bytes_[_]=$,this.bytes_[_+1]=$>>8,this.bytes_[_+2]=$>>16,this.bytes_[_+3]=$>>24},a.ByteBuffer.prototype.writeInt64=function(_,$){this.writeInt32(_,$.low),this.writeInt32(_+4,$.high)},a.ByteBuffer.prototype.writeUint64=function(_,$){this.writeUint32(_,$.low),this.writeUint32(_+4,$.high)},a.ByteBuffer.prototype.writeFloat32=function(_,$){a.float32[0]=$,this.writeInt32(_,a.int32[0])},a.ByteBuffer.prototype.writeFloat64=function(_,$){a.float64[0]=$,this.writeInt32(_,a.int32[a.isLittleEndian?0:1]),this.writeInt32(_+4,a.int32[a.isLittleEndian?1:0])},a.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var _="",$=0;$<a.FILE_IDENTIFIER_LENGTH;$++)_+=String.fromCharCode(this.readInt8(this.position_+a.SIZEOF_INT+$));return _},a.ByteBuffer.prototype.__offset=function(_,$){var _e=_-this.readInt32(_);return $<this.readInt16(_e)?this.readInt16(_e+$):0},a.ByteBuffer.prototype.__union=function(_,$){return _.bb_pos=$+this.readInt32($),_.bb=this,_},a.ByteBuffer.prototype.__string=function(_,$){_+=this.readInt32(_);var _e=this.readInt32(_),tt="",nt=0;if(_+=a.SIZEOF_INT,$===a.Encoding.UTF8_BYTES)return this.bytes_.subarray(_,_+_e);for(;nt<_e;){var it,ot=this.readUint8(_+nt++);if(ot<192)it=ot;else{var et=this.readUint8(_+nt++);if(ot<224)it=(31&ot)<<6|63&et;else{var j=this.readUint8(_+nt++);it=ot<240?(15&ot)<<12|(63&et)<<6|63&j:(7&ot)<<18|(63&et)<<12|(63&j)<<6|63&this.readUint8(_+nt++)}}it<65536?tt+=String.fromCharCode(it):(it-=65536,tt+=String.fromCharCode(55296+(it>>10),56320+(1023&it)))}return tt},a.ByteBuffer.prototype.__indirect=function(_){return _+this.readInt32(_)},a.ByteBuffer.prototype.__vector=function(_){return _+this.readInt32(_)+a.SIZEOF_INT},a.ByteBuffer.prototype.__vector_len=function(_){return this.readInt32(_+this.readInt32(_))},a.ByteBuffer.prototype.__has_identifier=function(_){if(_.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var $=0;$<a.FILE_IDENTIFIER_LENGTH;$++)if(_.charCodeAt($)!=this.readInt8(this.position_+a.SIZEOF_INT+$))return!1;return!0},a.ByteBuffer.prototype.createLong=function(_,$){return a.Long.create(_,$)}}},__webpack_module_cache__={};function __webpack_require__(i){var o=__webpack_module_cache__[i];if(o!==void 0)return o.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(i,o)=>{for(var s in o)__webpack_require__.o(o,s)&&!__webpack_require__.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min);var ortWeb_minExports=ortWeb_min.exports,models={},common$3={};Object.defineProperty(common$3,"__esModule",{value:!0});var legacy={},_a$1;Object.defineProperty(legacy,"__esModule",{value:!0});legacy.SileroLegacy=void 0;const logging_1$2=logging;class SileroLegacy{constructor(o,s,a,_,$){this.ortInstance=o,this._session=s,this._h=a,this._c=_,this._sr=$,this.reset_state=()=>{const _e=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",_e,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",_e,[2,1,64])},this.process=async _e=>{var j;const nt={input:new this.ortInstance.Tensor("float32",_e,[1,_e.length]),h:this._h,c:this._c,sr:this._sr},it=await this._session.run(nt);this._h=it.hn,this._c=it.cn;const[ot]=(j=it.output)==null?void 0:j.data;return{notSpeech:1-ot,isSpeech:ot}}}}legacy.SileroLegacy=SileroLegacy;_a$1=SileroLegacy;SileroLegacy.new=async(i,o)=>{logging_1$2.log.debug("initializing vad");const s=await o(),a=await i.InferenceSession.create(s),_=new i.Tensor("int64",[16000n]),$=Array(2*64).fill(0),_e=new i.Tensor("float32",$,[2,1,64]),tt=new i.Tensor("float32",$,[2,1,64]);return logging_1$2.log.debug("vad is initialized"),new _a$1(i,a,_e,tt,_)};var v5={},_a;Object.defineProperty(v5,"__esModule",{value:!0});v5.SileroV5=void 0;const logging_1$1=logging;function getNewState(i){const o=Array(256).fill(0);return new i.Tensor("float32",o,[2,1,128])}class SileroV5{constructor(o,s,a,_){this._session=o,this._state=s,this._sr=a,this.ortInstance=_,this.reset_state=()=>{this._state=getNewState(this.ortInstance)},this.process=async $=>{var et;const tt={input:new this.ortInstance.Tensor("float32",$,[1,$.length]),state:this._state,sr:this._sr},nt=await this._session.run(tt);this._state=nt.stateN;const[it]=(et=nt.output)==null?void 0:et.data;return{notSpeech:1-it,isSpeech:it}}}}v5.SileroV5=SileroV5;_a=SileroV5;SileroV5.new=async(i,o)=>{logging_1$1.log.debug("Loading VAD...");const s=await o(),a=await i.InferenceSession.create(s),_=new i.Tensor("int64",[16000n]),$=getNewState(i);return logging_1$1.log.debug("...finished loading VAD"),new _a(a,$,_,i)};(function(i){var o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function($,_e,tt,nt){nt===void 0&&(nt=tt);var it=Object.getOwnPropertyDescriptor(_e,tt);(!it||("get"in it?!_e.__esModule:it.writable||it.configurable))&&(it={enumerable:!0,get:function(){return _e[tt]}}),Object.defineProperty($,nt,it)}:function($,_e,tt,nt){nt===void 0&&(nt=tt),$[nt]=_e[tt]}),s=commonjsGlobal&&commonjsGlobal.__exportStar||function($,_e){for(var tt in $)tt!=="default"&&!Object.prototype.hasOwnProperty.call(_e,tt)&&o(_e,$,tt)};Object.defineProperty(i,"__esModule",{value:!0}),i.SileroV5=i.SileroLegacy=void 0,s(common$3,i);var a=legacy;Object.defineProperty(i,"SileroLegacy",{enumerable:!0,get:function(){return a.SileroLegacy}});var _=v5;Object.defineProperty(i,"SileroV5",{enumerable:!0,get:function(){return _.SileroV5}})})(models);var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor(o){this.options=o,this.process=s=>{const a=[];for(const _ of s)for(this.inputBuffer.push(_);this.hasEnoughDataForFrame();){const $=this.generateOutputFrame();a.push($)}return a},o.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}async*stream(o){for(const s of o)for(this.inputBuffer.push(s);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const o=new Float32Array(this.options.targetFrameSize);let s=0,a=0;for(;s<this.options.targetFrameSize;){let _=0,$=0;for(;a<Math.min(this.inputBuffer.length,(s+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const _e=this.inputBuffer[a];_e!==void 0&&(_+=_e,$++),a++}o[s]=_/$,s++}return this.inputBuffer=this.inputBuffer.slice(a),o}}resampler.Resampler=Resampler;(function(i){var o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,rt,st,at){at===void 0&&(at=st);var lt=Object.getOwnPropertyDescriptor(rt,st);(!lt||("get"in lt?!rt.__esModule:lt.writable||lt.configurable))&&(lt={enumerable:!0,get:function(){return rt[st]}}),Object.defineProperty(j,at,lt)}:function(j,rt,st,at){at===void 0&&(at=st),j[at]=rt[st]}),s=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(j,rt){Object.defineProperty(j,"default",{enumerable:!0,value:rt})}:function(j,rt){j.default=rt}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var rt={};if(j!=null)for(var st in j)st!=="default"&&Object.prototype.hasOwnProperty.call(j,st)&&o(rt,j,st);return s(rt,j),rt};Object.defineProperty(i,"__esModule",{value:!0}),i.NonRealTimeVAD=i.defaultNonRealTimeVADOptions=void 0;const _=a(ortWeb_minExports),$=assetPath,_e=defaultModelFetcher$1,tt=frameProcessor,nt=messages,it=models,ot=resampler;i.defaultNonRealTimeVADOptions={...tt.defaultLegacyFrameProcessorOptions,ortConfig:void 0,modelURL:$.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:_e.defaultModelFetcher};class et{static async new(rt={}){const st={...i.defaultNonRealTimeVADOptions,...rt};(0,tt.validateOptions)(st),st.ortConfig!==void 0&&st.ortConfig(_);const at=()=>st.modelFetcher(st.modelURL),lt=await it.SileroLegacy.new(_,at),ct=new tt.FrameProcessor(lt.process,lt.reset_state,{frameSamples:st.frameSamples,positiveSpeechThreshold:st.positiveSpeechThreshold,negativeSpeechThreshold:st.negativeSpeechThreshold,redemptionFrames:st.redemptionFrames,preSpeechPadFrames:st.preSpeechPadFrames,minSpeechFrames:st.minSpeechFrames,submitUserSpeechOnPause:st.submitUserSpeechOnPause});return ct.resume(),new this(at,_,st,ct)}constructor(rt,st,at,lt){this.modelFetcher=rt,this.ort=st,this.options=at,this.frameProcessor=lt}async*run(rt,st){const at={nativeSampleRate:st,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},lt=new ot.Resampler(at);let ct=0,ut=0,dt=0,ft=[];for await(const bt of lt.stream(rt)){await this.frameProcessor.process(bt,yt=>{ft.push(yt)});for(const yt of ft)switch(yt.msg){case nt.Message.SpeechStart:ct=dt*this.options.frameSamples/16;break;case nt.Message.SpeechEnd:ut=(dt+1)*this.options.frameSamples/16,yield{audio:yt.audio,start:ct,end:ut};break}dt++}const{msg:ht,audio:mt}=this.frameProcessor.endSegment(bt=>{ft.push(bt)});for(const bt of ft)switch(bt.msg){case nt.Message.SpeechEnd:yield{audio:bt.audio,start:ct,end:dt*this.options.frameSamples/16}}}}i.NonRealTimeVAD=et})(nonRealTimeVad);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.audioFileToArray=utils.encodeWAV=utils.arrayBufferToBase64=utils.minFramesForTargetMS=void 0;function minFramesForTargetMS(i,o,s=16e3){return Math.ceil(i*s/1e3/o)}utils.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(i){const o=new Uint8Array(i),s=o.byteLength,a=new Array(s);for(var _=0;_<s;_++){const $=o[_];if($===void 0)break;a[_]=String.fromCharCode($)}return btoa(a.join(""))}utils.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(i,o=3,s=16e3,a=1,_=32){var $=_/8,_e=a*$,tt=new ArrayBuffer(44+i.length*$),nt=new DataView(tt);return writeString(nt,0,"RIFF"),nt.setUint32(4,36+i.length*$,!0),writeString(nt,8,"WAVE"),writeString(nt,12,"fmt "),nt.setUint32(16,16,!0),nt.setUint16(20,o,!0),nt.setUint16(22,a,!0),nt.setUint32(24,s,!0),nt.setUint32(28,s*_e,!0),nt.setUint16(32,_e,!0),nt.setUint16(34,_,!0),writeString(nt,36,"data"),nt.setUint32(40,i.length*$,!0),o===1?floatTo16BitPCM(nt,44,i):writeFloat32(nt,44,i),tt}utils.encodeWAV=encodeWAV;function writeFloat32(i,o,s){for(var a=0;a<s.length;a++,o+=4)i.setFloat32(o,s[a],!0)}function floatTo16BitPCM(i,o,s){for(var a=0;a<s.length;a++,o+=2){var _=Math.max(-1,Math.min(1,s[a]));i.setInt16(o,_<0?_*32768:_*32767,!0)}}function writeString(i,o,s){for(var a=0;a<s.length;a++)i.setUint8(o+a,s.charCodeAt(a))}async function audioFileToArray(i){const o=new OfflineAudioContext(1,1,44100),s=new FileReader;let a=null;if(await new Promise(_e=>{s.addEventListener("loadend",tt=>{const nt=s.result;o.decodeAudioData(nt,it=>{a=it,o.startRendering().then(ot=>{console.log("Rendering completed successfully"),_e()}).catch(ot=>{console.error(`Rendering failed: ${ot}`)})},it=>{console.log(`Error with decoding audio data: ${it}`)})}),s.readAsArrayBuffer(i)}),a===null)throw Error("some shit");let _=a,$=new Float32Array(_.length);for(let _e=0;_e<_.length;_e++)for(let tt=0;tt<_.numberOfChannels;tt++)$[_e]+=_.getChannelData(tt)[_e];return{audio:$,sampleRate:_.sampleRate}}utils.audioFileToArray=audioFileToArray;var realTimeVad={};(function(i){var o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ct,ut,dt,ft){ft===void 0&&(ft=dt);var ht=Object.getOwnPropertyDescriptor(ut,dt);(!ht||("get"in ht?!ut.__esModule:ht.writable||ht.configurable))&&(ht={enumerable:!0,get:function(){return ut[dt]}}),Object.defineProperty(ct,ft,ht)}:function(ct,ut,dt,ft){ft===void 0&&(ft=dt),ct[ft]=ut[dt]}),s=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ct,ut){Object.defineProperty(ct,"default",{enumerable:!0,value:ut})}:function(ct,ut){ct.default=ut}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(ct){if(ct&&ct.__esModule)return ct;var ut={};if(ct!=null)for(var dt in ct)dt!=="default"&&Object.prototype.hasOwnProperty.call(ct,dt)&&o(ut,ct,dt);return s(ut,ct),ut};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioNodeVAD=i.MicVAD=i.getDefaultRealTimeVADOptions=i.ort=i.DEFAULT_MODEL=void 0;const _=a(ortWeb_minExports),$=defaultModelFetcher$1,_e=frameProcessor,tt=logging,nt=messages,it=models,ot=resampler;i.DEFAULT_MODEL="legacy",i.ort=_;const et="vad.worklet.bundle.min.js",j="silero_vad_v5.onnx",rt="silero_vad_legacy.onnx",st=ct=>({...ct==="v5"?_e.defaultV5FrameProcessorOptions:_e.defaultLegacyFrameProcessorOptions,onFrameProcessed:(dt,ft)=>{},onVADMisfire:()=>{tt.log.debug("VAD misfire")},onSpeechStart:()=>{tt.log.debug("Detected speech start")},onSpeechEnd:()=>{tt.log.debug("Detected speech end")},onSpeechRealStart:()=>{tt.log.debug("Detected real speech start")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@latest/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:ct,workletOptions:{}});i.getDefaultRealTimeVADOptions=st;class at{static async new(ut={}){const dt={...(0,i.getDefaultRealTimeVADOptions)(ut.model??i.DEFAULT_MODEL),...ut};(0,_e.validateOptions)(dt);let ft;dt.stream===void 0?ft=await navigator.mediaDevices.getUserMedia({audio:{...dt.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):ft=dt.stream;const ht=new AudioContext,mt=new MediaStreamAudioSourceNode(ht,{mediaStream:ft}),bt=await lt.new(ht,dt);return bt.receive(mt),new at(dt,ht,ft,bt,mt)}constructor(ut,dt,ft,ht,mt,bt=!1){this.options=ut,this.audioContext=dt,this.stream=ft,this.audioNodeVAD=ht,this.sourceNode=mt,this.listening=bt,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(yt=>yt.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()},this.setOptions=yt=>{this.audioNodeVAD.setFrameProcessorOptions(yt)}}}i.MicVAD=at;class lt{static async new(ut,dt={}){const ft={...(0,i.getDefaultRealTimeVADOptions)(dt.model??i.DEFAULT_MODEL),...dt};(0,_e.validateOptions)(ft),i.ort.env.wasm.wasmPaths=ft.onnxWASMBasePath,ft.ortConfig!==void 0&&ft.ortConfig(i.ort);const ht=ft.model==="v5"?j:rt,mt=ft.baseAssetPath+ht,bt=ft.model==="v5"?it.SileroV5.new:it.SileroLegacy.new;let yt;try{yt=await bt(i.ort,()=>(0,$.defaultModelFetcher)(mt))}catch(wt){throw console.error(`Encountered an error while loading model file ${mt}`),wt}const gt=new _e.FrameProcessor(yt.process,yt.reset_state,{frameSamples:ft.frameSamples,positiveSpeechThreshold:ft.positiveSpeechThreshold,negativeSpeechThreshold:ft.negativeSpeechThreshold,redemptionFrames:ft.redemptionFrames,preSpeechPadFrames:ft.preSpeechPadFrames,minSpeechFrames:ft.minSpeechFrames,submitUserSpeechOnPause:ft.submitUserSpeechOnPause}),vt=new lt(ut,ft,gt);return await vt.setupAudioNode(),vt}constructor(ut,dt,ft){this.ctx=ut,this.options=dt,this.bufferIndex=0,this.pause=()=>{this.frameProcessor.pause(this.handleFrameProcessorEvent)},this.start=()=>{this.frameProcessor.resume()},this.receive=ht=>{ht.connect(this.audioNode)},this.processFrame=async ht=>{await this.frameProcessor.process(ht,this.handleFrameProcessorEvent)},this.handleFrameProcessorEvent=ht=>{switch(ht.msg){case nt.Message.FrameProcessed:this.options.onFrameProcessed(ht.probs,ht.frame);break;case nt.Message.SpeechStart:this.options.onSpeechStart();break;case nt.Message.SpeechRealStart:this.options.onSpeechRealStart();break;case nt.Message.VADMisfire:this.options.onVADMisfire();break;case nt.Message.SpeechEnd:this.options.onSpeechEnd(ht.audio);break}},this.destroy=()=>{var ht;this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:nt.Message.SpeechStop}),this.audioNode.disconnect(),(ht=this.gainNode)==null||ht.disconnect()},this.setFrameProcessorOptions=ht=>{this.frameProcessor.options={...this.frameProcessor.options,...ht}},this.frameProcessor=ft}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const ht=this.options.baseAssetPath+et;await this.ctx.audioWorklet.addModule(ht);const mt=this.options.workletOptions??{};mt.processorOptions={...mt.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",mt),this.audioNode.port.onmessage=async bt=>{var yt;switch((yt=bt.data)==null?void 0:yt.message){case nt.Message.AudioFrame:let gt=bt.data.data;gt instanceof ArrayBuffer||(gt=new ArrayBuffer(bt.data.data.byteLength),new Uint8Array(gt).set(new Uint8Array(bt.data.data)));const vt=new Float32Array(gt);await this.processFrame(vt);break}};return}catch(ht){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",ht)}this.resampler=new ot.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const dt=4096;this.audioNode=this.ctx.createScriptProcessor(dt,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let ft=!1;this.audioNode.onaudioprocess=async ht=>{if(!ft){ft=!0;try{const mt=ht.inputBuffer.getChannelData(0);if(ht.outputBuffer.getChannelData(0).fill(0),this.resampler){const yt=this.resampler.process(mt);for(const gt of yt)await this.processFrame(gt)}}catch(mt){console.error("Error processing audio:",mt)}finally{ft=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}i.AudioNodeVAD=lt})(realTimeVad);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.getDefaultRealTimeVADOptions=i.MicVAD=i.DEFAULT_MODEL=i.AudioNodeVAD=i.utils=i.NonRealTimeVAD=i.Message=i.FrameProcessor=i.defaultModelFetcher=i.baseAssetPath=void 0;var o=assetPath;Object.defineProperty(i,"baseAssetPath",{enumerable:!0,get:function(){return o.baseAssetPath}});var s=defaultModelFetcher$1;Object.defineProperty(i,"defaultModelFetcher",{enumerable:!0,get:function(){return s.defaultModelFetcher}});var a=frameProcessor;Object.defineProperty(i,"FrameProcessor",{enumerable:!0,get:function(){return a.FrameProcessor}});var _=messages;Object.defineProperty(i,"Message",{enumerable:!0,get:function(){return _.Message}});var $=nonRealTimeVad;Object.defineProperty(i,"NonRealTimeVAD",{enumerable:!0,get:function(){return $.NonRealTimeVAD}});const _e=utils;i.utils={audioFileToArray:_e.audioFileToArray,minFramesForTargetMS:_e.minFramesForTargetMS,arrayBufferToBase64:_e.arrayBufferToBase64,encodeWAV:_e.encodeWAV};var tt=realTimeVad;Object.defineProperty(i,"AudioNodeVAD",{enumerable:!0,get:function(){return tt.AudioNodeVAD}}),Object.defineProperty(i,"DEFAULT_MODEL",{enumerable:!0,get:function(){return tt.DEFAULT_MODEL}}),Object.defineProperty(i,"MicVAD",{enumerable:!0,get:function(){return tt.MicVAD}}),Object.defineProperty(i,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return tt.getDefaultRealTimeVADOptions}})})(dist);class TaskQueue{constructor(o=3e3){xt(this,"queue",[]);xt(this,"running",!1);xt(this,"taskInterval");xt(this,"pendingComplete",!1);xt(this,"activeTasks",new Set);this.taskInterval=o}addTask(o){this.queue.push(o),this.runNextTask()}clearQueue(){this.queue=[],this.activeTasks.clear(),this.running=!1}async runNextTask(){if(this.running||this.queue.length===0){this.queue.length===0&&this.activeTasks.size===0&&this.pendingComplete&&(this.pendingComplete=!1,await new Promise(s=>setTimeout(s,this.taskInterval)));return}this.running=!0;const o=this.queue.shift();if(o){const s=o();this.activeTasks.add(s);try{await s,await new Promise(a=>setTimeout(a,this.taskInterval))}catch(a){console.error("Task Queue Error",a)}finally{this.activeTasks.delete(s),this.running=!1,this.runNextTask()}}}hasTask(){return this.queue.length>0||this.activeTasks.size>0||this.running}waitForCompletion(){return this.pendingComplete=!0,new Promise(o=>{const s=()=>{this.hasTask()?setTimeout(s,100):o()};s()})}}const audioTaskQueue=new TaskQueue(20),ScreenCaptureContext=reactExports.createContext(void 0);function ScreenCaptureProvider({children:i}){const{t:o}=useTranslation(),[s,a]=reactExports.useState(null),[_,$]=reactExports.useState(!1),[_e,tt]=reactExports.useState(""),nt=async()=>{try{let ot;if(window.electron){const j={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:await window.electron.ipcRenderer.invoke("get-screen-capture"),minWidth:1280,maxWidth:1280,minHeight:720,maxHeight:720}},audio:!1};ot=await navigator.mediaDevices.getUserMedia(j)}else{const et={video:!0,audio:!1};ot=await navigator.mediaDevices.getDisplayMedia(et)}a(ot),$(!0),tt("")}catch(ot){tt(o("error.failedStartScreenCapture")),toaster.create({title:`${o("error.failedStartScreenCapture")}: ${ot}`,type:"error",duration:2e3}),console.error(ot)}},it=()=>{s&&(s.getTracks().forEach(ot=>ot.stop()),a(null),$(!1))};return jsxRuntimeExports.jsx(ScreenCaptureContext.Provider,{value:{stream:s,isStreaming:_,error:_e,startCapture:nt,stopCapture:it},children:i})}const useScreenCaptureContext=()=>{const i=reactExports.useContext(ScreenCaptureContext);if(i===void 0)throw new Error("useScreenCaptureContext must be used within a ScreenCaptureProvider");return i};function useMediaCapture(){const{t:i}=useTranslation(),{stream:o}=useCamera(),{stream:s}=useScreenCaptureContext(),a=reactExports.useCallback(()=>{const tt=localStorage.getItem(IMAGE_COMPRESSION_QUALITY_KEY);if(tt){const nt=parseFloat(tt);if(!Number.isNaN(nt)&&nt>=.1&&nt<=1)return nt}return DEFAULT_IMAGE_COMPRESSION_QUALITY},[]),_=reactExports.useCallback(()=>{const tt=localStorage.getItem(IMAGE_MAX_WIDTH_KEY);if(tt){const nt=parseInt(tt,10);if(!Number.isNaN(nt)&&nt>0)return nt}return DEFAULT_IMAGE_MAX_WIDTH},[]),$=reactExports.useCallback(async(tt,nt)=>{if(!tt)return console.warn(`No ${nt} stream available`),null;const it=tt.getVideoTracks()[0];if(!it)return console.warn(`No video track in ${nt} stream`),null;if(typeof window.ImageCapture=="function")try{const j=await new window.ImageCapture(it).grabFrame(),rt=document.createElement("canvas");let{width:st,height:at}=j;const lt=_();st>lt&&(at=lt/st*at,st=lt),rt.width=st,rt.height=at;const ct=rt.getContext("2d");if(!ct)return console.error("Failed to get canvas context"),null;ct.drawImage(j,0,0);const ut=a();return rt.toDataURL("image/jpeg",ut)}catch(et){console.warn(`ImageCapture failed for ${nt}, falling back to video canvas:`,et)}try{const et=document.createElement("video");et.srcObject=tt,et.muted=!0,et.playsInline=!0,await new Promise(ut=>{var ht;const dt=()=>ut();et.addEventListener("loadedmetadata",dt,{once:!0});const ft=(ht=et.play)==null?void 0:ht.call(et);ft&&typeof ft.then=="function"&&ft.catch(()=>{})});const j=document.createElement("canvas");let rt=et.videoWidth||640,st=et.videoHeight||360;const at=_();rt>at&&(st=Math.floor(at/rt*st),rt=at),j.width=rt,j.height=st;const lt=j.getContext("2d");if(!lt)return null;lt.drawImage(et,0,0,rt,st);const ct=a();return j.toDataURL("image/jpeg",ct)}catch(et){return console.error(`Error capturing ${nt} frame via video fallback:`,et),toaster.create({title:`${i("error.failedCapture",{source:nt})}: ${et}`,type:"error",duration:2e3}),null}},[i,a,_]);return{captureAllMedia:reactExports.useCallback(async()=>{const tt=[];if(o){const nt=await $(o,"camera");nt&&tt.push({source:"camera",data:nt,mime_type:"image/jpeg"})}if(s){const nt=await $(s,"screen");nt&&tt.push({source:"screen",data:nt,mime_type:"image/jpeg"})}return console.log("images: ",tt),tt},[o,s,$])}}function useSendAudio(){const{sendMessage:i}=useWebSocket(),{captureAllMedia:o}=useMediaCapture();return{sendAudioPartition:reactExports.useCallback(async a=>{for(let _e=0;_e<a.length;_e+=4096){const tt=Math.min(_e+4096,a.length),nt=a.slice(_e,tt);i({type:"mic-audio-data",audio:Array.from(nt)})}const $=await o();i({type:"mic-audio-end",images:$})},[i,o])}}var AiStateEnum=(i=>(i.IDLE="idle",i.THINKING_SPEAKING="thinking-speaking",i.INTERRUPTED="interrupted",i.LOADING="loading",i.LISTENING="listening",i.WAITING="waiting",i))(AiStateEnum||{});const initialState="loading",AiStateContext=reactExports.createContext(null);function AiStateProvider({children:i}){const[o,s]=reactExports.useState(initialState),[a,_]=reactExports.useState(!1),$=reactExports.useRef(null),_e=reactExports.useCallback(ot=>{const et=typeof ot=="function"?ot(o):ot;et==="waiting"?o!=="thinking-speaking"&&(s(et),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{s("idle"),$.current=null},2e3)):(s(et),$.current&&(clearTimeout($.current),$.current=null))},[o]),tt=reactExports.useMemo(()=>({isIdle:o==="idle",isThinkingSpeaking:o==="thinking-speaking",isInterrupted:o==="interrupted",isLoading:o==="loading",isListening:o==="listening",isWaiting:o==="waiting"}),[o]),nt=reactExports.useCallback(()=>{_e("idle")},[_e]);reactExports.useEffect(()=>()=>{$.current&&clearTimeout($.current)},[]);const it=reactExports.useMemo(()=>({aiState:o,setAiState:_e,backendSynthComplete:a,setBackendSynthComplete:_,...tt,resetState:nt}),[o,_e,a,tt,nt]);return jsxRuntimeExports.jsx(AiStateContext.Provider,{value:it,children:i})}function useAiState(){const i=reactExports.useContext(AiStateContext);if(!i)throw new Error("useAiState must be used within a AiStateProvider");return i}const DEFAULT_VAD_SETTINGS={positiveSpeechThreshold:50,negativeSpeechThreshold:35,redemptionFrames:35},DEFAULT_VAD_STATE={micOn:!1,autoStopMic:!1,autoStartMicOn:!1,autoStartMicOnConvEnd:!1},VADContext=reactExports.createContext(null);function VADProvider({children:i}){const{t:o}=useTranslation(),s=reactExports.useRef(null),a=reactExports.useRef(0),_=reactExports.useRef("idle"),$=reactExports.useRef(!1),[_e,tt]=useLocalStorage("micOn",DEFAULT_VAD_STATE.micOn),nt=reactExports.useRef(!0),[it,ot]=useLocalStorage("userMicLock",!1),[et,j]=useLocalStorage("autoStopMic",DEFAULT_VAD_STATE.autoStopMic),[rt,st]=useLocalStorage("vadSettings",DEFAULT_VAD_SETTINGS),[at,lt]=useLocalStorage("autoStartMicOn",DEFAULT_VAD_STATE.autoStartMicOn),ct=reactExports.useRef(!1),[ut,dt]=useLocalStorage("autoStartMicOnConvEnd",DEFAULT_VAD_STATE.autoStartMicOnConvEnd),ft=reactExports.useRef(!1);reactExports.useEffect(()=>{nt.current=et,ct.current=at,ft.current=ut,$.current=it,ht()},[]);const[,ht]=reactExports.useReducer(Qt=>Qt+1,0),{sendAudioPartition:mt}=useSendAudio(),{setSubtitleText:bt}=reactExports.useContext(SubtitleContext),{aiState:yt,setAiState:gt}=reactExports.useContext(AiStateContext),vt=reactExports.useRef(mt),wt=reactExports.useRef(yt),Ct=reactExports.useRef(bt),Rt=reactExports.useRef(AiStateContext?gt:Qt=>{}),It=reactExports.useRef(!1);reactExports.useEffect(()=>{wt.current=yt},[yt]),reactExports.useEffect(()=>{vt.current=mt},[mt]),reactExports.useEffect(()=>{Ct.current=bt},[bt]),reactExports.useEffect(()=>{Rt.current=gt},[gt]),reactExports.useEffect(()=>{nt.current=et},[et]),reactExports.useEffect(()=>{ct.current=at},[at]),reactExports.useEffect(()=>{ft.current=ut},[ut]),reactExports.useEffect(()=>{$.current=it},[it]);const Pt=reactExports.useCallback(Qt=>{a.current=Qt,ht()},[]),St=reactExports.useCallback(()=>{console.log("Speech started - entering listening state"),_.current=wt.current,It.current=!0,Rt.current("listening")},[]),Ot=reactExports.useCallback(()=>{if(console.log("Real speech confirmed - interrupting AI if needed"),wt.current==="thinking-speaking")try{wsService.sendMessage({type:"interrupt-signal"})}catch{}},[]),At=reactExports.useCallback(Qt=>{Qt.isSpeech>a.current&&Pt(Qt.isSpeech)},[]),$t=reactExports.useCallback(Qt=>{if(It.current){console.log("Speech ended"),audioTaskQueue.clearQueue(),nt.current?Jt():console.log("Auto stop mic is OFF, keeping mic active"),Pt(0);try{vt.current(Qt)}catch{}It.current=!1}},[]),Ft=reactExports.useCallback(()=>{It.current&&(console.log("VAD misfire detected"),Pt(0),It.current=!1,Rt.current(_.current),Ct.current(o("error.vadMisfire")))},[o]),Ut=reactExports.useCallback(Qt=>{st(Qt),s.current&&(Jt(),setTimeout(()=>{rr()},100))},[]),Kt=reactExports.useRef(null),ar=reactExports.useCallback(Qt=>{Kt.current&&clearTimeout(Kt.current),Kt.current=setTimeout(()=>{Ut(Qt)},200)},[Ut]),lr=async()=>{const Qt=await dist.MicVAD.new({model:"v5",preSpeechPadFrames:20,positiveSpeechThreshold:rt.positiveSpeechThreshold/100,negativeSpeechThreshold:rt.negativeSpeechThreshold/100,redemptionFrames:rt.redemptionFrames,baseAssetPath:"./libs/",onnxWASMBasePath:"./libs/",onSpeechStart:St,onSpeechRealStart:Ot,onFrameProcessed:At,onSpeechEnd:$t,onVADMisfire:Ft});s.current=Qt,Qt.start()},rr=reactExports.useCallback(async Qt=>{if(!!!(Qt!=null&&Qt.bypassLock)&&$.current){console.log("startMic blocked by userMicLock");return}if(wt.current!=="idle"){console.log(`startMic blocked due to aiState=${wt.current}`);return}try{s.current?(console.log("Starting VAD"),s.current.start()):(console.log("Initializing VAD"),await lr()),tt(!0)}catch(gr){console.error("Failed to start VAD:",gr),toaster.create({title:`${o("error.failedStartVAD")}: ${gr}`,type:"error",duration:2e3})}},[o,_e]),Jt=reactExports.useCallback(()=>{console.log("Stopping VAD"),s.current?(s.current.pause(),s.current.destroy(),s.current=null,console.log("VAD stopped and destroyed successfully"),Pt(0)):console.log("VAD instance not found"),tt(!1),It.current=!1},[]);reactExports.useEffect(()=>{const Qt=wsService.onMessage(nr=>{try{if((nr==null?void 0:nr.type)==="control"){const gr=(nr.text||"").toString();gr==="start-mic"?!$.current&&wt.current==="idle"?(tt(!0),rr()):console.log("Ignoring backend start-mic due to lock or busy AI"):(gr==="stop-mic"||gr==="conversation-chain-start")&&Jt()}}catch{}});return()=>Qt.unsubscribe()},[rr,Jt]),reactExports.useEffect(()=>{(wt.current==="thinking-speaking"||wt.current==="loading")&&Jt()},[yt]);const cr=reactExports.useCallback(Qt=>{nt.current=Qt,j(Qt),ht()},[]),Xt=reactExports.useCallback(Qt=>{ct.current=Qt,lt(Qt),ht()},[]),Lt=reactExports.useCallback(Qt=>{ft.current=Qt,dt(Qt),ht()},[]),Zt=reactExports.useCallback(Qt=>{$.current=Qt,ot(Qt),ht()},[]),ur=reactExports.useMemo(()=>({autoStopMic:nt.current,micOn:_e,setMicOn:tt,userMicLock:$.current,setUserMicLock:Zt,setAutoStopMic:cr,startMic:rr,stopMic:Jt,previousTriggeredProbability:a.current,setPreviousTriggeredProbability:Pt,settings:rt,updateSettings:ar,autoStartMicOn:ct.current,setAutoStartMicOn:Xt,autoStartMicOnConvEnd:ft.current,setAutoStartMicOnConvEnd:Lt}),[_e,rr,Jt,rt,ar]);return jsxRuntimeExports.jsx(VADContext.Provider,{value:ur,children:i})}function useVAD(){const i=reactExports.useContext(VADContext);if(!i)throw new Error("useVAD must be used within a VADProvider");return i}function useMicToggle(){const{startMic:i,stopMic:o,micOn:s,setUserMicLock:a}=useVAD(),{aiState:_,setAiState:$}=useAiState(),_e=_!=="idle";return{handleMicToggle:async()=>{if(_e){await logAction("ui.click.blocked","vad.toggle",{reason:"ai-busy",aiState:_});return}s?(await logAction("ui.click","vad.toggle",{to:"off",aiState:_}),a(!0),o(),$("idle")):(await logAction("ui.click","vad.toggle",{to:"on",aiState:_}),a(!1),await i())},micOn:s,isDisabled:_e}}const createStoreImpl=i=>{let o;const s=new Set,a=(it,ot)=>{const et=typeof it=="function"?it(o):it;if(!Object.is(et,o)){const j=o;o=ot??(typeof et!="object"||et===null)?et:Object.assign({},o,et),s.forEach(rt=>rt(o,j))}},_=()=>o,tt={setState:a,getState:_,getInitialState:()=>nt,subscribe:it=>(s.add(it),()=>s.delete(it))},nt=o=i(a,_,tt);return tt},createStore=i=>i?createStoreImpl(i):createStoreImpl,identity=i=>i;function useStore(i,o=identity){const s=React.useSyncExternalStore(i.subscribe,()=>o(i.getState()),()=>o(i.getInitialState()));return React.useDebugValue(s),s}const createImpl=i=>{const o=createStore(i),s=a=>useStore(o,a);return Object.assign(s,o),s},create=i=>i?createImpl(i):createImpl,useForceIgnoreMouseStore=create(i=>({forceIgnoreMouse:!1,setForceIgnoreMouse:o=>i({forceIgnoreMouse:o})}));function useForceIgnoreMouse(){const{forceIgnoreMouse:i,setForceIgnoreMouse:o}=useForceIgnoreMouseStore();return{forceIgnoreMouse:i,setForceIgnoreMouse:o}}const ModeContext=reactExports.createContext(void 0),ModeProvider=({children:i})=>{const[o,s]=reactExports.useState("window"),a=window.api!==void 0,_=$=>{if($==="pet"&&!a){toaster.create({title:"Pet mode unavailable",description:"Pet mode is only available in the desktop application",type:"info",duration:2e3});return}a&&window.api?window.api.setMode($):s($)};return reactExports.useEffect(()=>{if(a&&window.electron){const $=(tt,nt)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{var it;(it=window.electron)==null||it.ipcRenderer.send("renderer-ready-for-mode-change",nt)})})},_e=(tt,nt)=>{s(nt),requestAnimationFrame(()=>{requestAnimationFrame(()=>{var it;(it=window.electron)==null||it.ipcRenderer.send("mode-change-rendered")})})};return window.electron.ipcRenderer.on("pre-mode-changed",$),window.electron.ipcRenderer.on("mode-changed",_e),()=>{window.electron&&(window.electron.ipcRenderer.removeListener("pre-mode-changed",$),window.electron.ipcRenderer.removeListener("mode-changed",_e))}}},[a]),jsxRuntimeExports.jsx(ModeContext.Provider,{value:{mode:o,setMode:_,isElectron:a},children:i})},useMode=()=>{const i=reactExports.useContext(ModeContext);if(i===void 0)throw new Error("useMode must be used within a ModeProvider");return i};function useIpcHandlers(){const{handleMicToggle:i}=useMicToggle(),{interrupt:o}=useInterrupt(),{modelInfo:s,setModelInfo:a}=useLive2DConfig(),{switchCharacter:_}=useSwitchCharacter(),{setForceIgnoreMouse:$}=useForceIgnoreMouse(),{mode:_e}=useMode(),tt=_e==="pet",nt=reactExports.useCallback(()=>{i()},[i]),it=reactExports.useCallback(()=>{o()},[o]),ot=reactExports.useCallback(()=>{s&&a({...s,scrollToResize:!s.scrollToResize})},[s,a]),et=reactExports.useCallback((st,at)=>{_(at)},[_]),j=reactExports.useCallback((st,at)=>{console.log("Force ignore mouse changed:",at),$(at)},[$]),rt=reactExports.useCallback(()=>{window.api.toggleForceIgnoreMouse()},[]);reactExports.useEffect(()=>{var st;if((st=window.electron)!=null&&st.ipcRenderer&&tt)return window.electron.ipcRenderer.removeAllListeners("mic-toggle"),window.electron.ipcRenderer.removeAllListeners("interrupt"),window.electron.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),window.electron.ipcRenderer.removeAllListeners("switch-character"),window.electron.ipcRenderer.removeAllListeners("toggle-force-ignore-mouse"),window.electron.ipcRenderer.removeAllListeners("force-ignore-mouse-changed"),window.electron.ipcRenderer.on("mic-toggle",nt),window.electron.ipcRenderer.on("interrupt",it),window.electron.ipcRenderer.on("toggle-scroll-to-resize",ot),window.electron.ipcRenderer.on("switch-character",et),window.electron.ipcRenderer.on("toggle-force-ignore-mouse",rt),window.electron.ipcRenderer.on("force-ignore-mouse-changed",j),()=>{var at,lt,ct,ut,dt,ft;(at=window.electron)==null||at.ipcRenderer.removeAllListeners("mic-toggle"),(lt=window.electron)==null||lt.ipcRenderer.removeAllListeners("interrupt"),(ct=window.electron)==null||ct.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),(ut=window.electron)==null||ut.ipcRenderer.removeAllListeners("switch-character"),(dt=window.electron)==null||dt.ipcRenderer.removeAllListeners("toggle-force-ignore-mouse"),(ft=window.electron)==null||ft.ipcRenderer.removeAllListeners("force-ignore-mouse-changed")}},[nt,it,ot,et,rt,j,tt])}const DEFAULT_HISTORY={messages:[],historyList:[],currentHistoryUid:null,fullResponse:""},ChatHistoryContext=reactExports.createContext(null);function ChatHistoryProvider({children:i}){const[o,s]=reactExports.useState(DEFAULT_HISTORY.messages),[a,_]=reactExports.useState(DEFAULT_HISTORY.historyList),[$,_e]=reactExports.useState(DEFAULT_HISTORY.currentHistoryUid),[tt,nt]=reactExports.useState(DEFAULT_HISTORY.fullResponse),[it,ot]=reactExports.useState(!1),et=reactExports.useCallback((ut,dt,ft="local")=>{const ht={id:Date.now().toString(),content:ut,role:"human",type:"text",timestamp:new Date().toISOString(),name:dt,source:ft};s(mt=>[...mt,ht])},[]),j=reactExports.useCallback((ut,dt,ft)=>{s(ht=>{const mt=ht[ht.length-1];return it||!mt||mt.role!=="ai"||mt.type!=="text"?(ot(!1),[...ht,{id:Date.now().toString(),content:ut,role:"ai",type:"text",timestamp:new Date().toISOString(),name:dt,avatar:ft}]):[...ht.slice(0,-1),{...mt,content:mt.content+ut,timestamp:new Date().toISOString()}]})},[it,ot]),rt=reactExports.useCallback(ut=>{if(!ut.tool_id||!ut.tool_name||!ut.status||!ut.timestamp){console.error("Incomplete tool message data received:",ut);return}s(dt=>{const ft=dt.findIndex(ht=>ht.type==="tool_call_status"&&ht.tool_id===ut.tool_id);if(ft!==-1){const ht=[...dt],mt=ht[ft];return ht[ft]={...mt,status:ut.status,name:ut.name||mt.name,content:ut.content||mt.content,timestamp:ut.timestamp},ht}else{const ht={id:ut.tool_id,role:"ai",type:"tool_call_status",name:ut.name||"",tool_id:ut.tool_id,tool_name:ut.tool_name,status:ut.status,content:ut.content||"",timestamp:ut.timestamp};return[...dt,ht]}})},[]),st=reactExports.useCallback((ut,dt)=>{ut||console.error("updateHistoryList: uid is null"),$||console.error("updateHistoryList: currentHistoryUid is null"),_(ft=>ft.map(ht=>ht.uid===ut?{...ht,latest_message:dt?{content:dt.content,role:dt.role,timestamp:dt.timestamp}:null,timestamp:(dt==null?void 0:dt.timestamp)||ht.timestamp}:ht))},[$]),at=reactExports.useCallback(ut=>{nt(dt=>dt+(ut||""))},[]),lt=reactExports.useCallback(()=>{nt(DEFAULT_HISTORY.fullResponse)},[]),ct=reactExports.useMemo(()=>({messages:o,historyList:a,currentHistoryUid:$,appendHumanMessage:et,appendAIMessage:j,appendOrUpdateToolCallMessage:rt,setMessages:s,setHistoryList:_,setCurrentHistoryUid:_e,updateHistoryList:st,fullResponse:tt,setFullResponse:nt,appendResponse:at,clearResponse:lt,setForceNewMessage:ot}),[o,a,$,et,j,rt,st,tt,at,lt,ot]);return jsxRuntimeExports.jsx(ChatHistoryContext.Provider,{value:ct,children:i})}function useChatHistory(){const i=reactExports.useContext(ChatHistoryContext);if(!i)throw new Error("useChatHistory must be used within a ChatHistoryProvider");return i}const useLive2DExpression=()=>{const i=reactExports.useCallback((s,a,_)=>{try{if(typeof s=="string")a.setExpression(s);else if(typeof s=="number"){const $=a.getExpressionName(s);$&&a.setExpression($)}_&&console.log(_)}catch($){console.error("Failed to set expression:",$)}},[]),o=reactExports.useCallback((s,a)=>{if(s)try{const _=s.getModel();if(!_||!_._modelSetting){console.log("Model or model settings not loaded yet, skipping expression reset");return}if((a==null?void 0:a.defaultEmotion)!==void 0)i(a.defaultEmotion,s,`Reset expression to default: ${a.defaultEmotion}`);else if(s.getExpressionCount()>0){const _e=s.getExpressionName(0);_e&&i(_e,s)}}catch(_){console.log("Failed to reset expression:",_)}},[i]);return{setExpression:i,resetExpression:o}},kn=class kn{constructor(o=0){xt(this,"_ptr");xt(this,"_size");xt(this,"_capacity");o<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(o),this._capacity=o,this._size=0)}at(o){return this._ptr[o]}set(o,s){this._ptr[o]=s}get(o=0){const s=new Array;for(let a=o;a<this._size;a++)s.push(this._ptr[a]);return s}pushBack(o){this._size>=this._capacity&&this.prepareCapacity(this._capacity==0?kn.DefaultSize:this._capacity*2),this._ptr[this._size++]=o}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(o,s){this._size<o&&this.prepareCapacity(o);for(let _=0;_<o;_++)this._ptr[_]=s;this._size=o}resize(o,s=null){this.updateSize(o,s,!0)}updateSize(o,s=null,a=!0){if(this._size<o)if(this.prepareCapacity(o),a)for(let $=this._size;$<o;$++)typeof s=="function"?this._ptr[$]=JSON.parse(JSON.stringify(new s)):this._ptr[$]=s;else for(let $=this._size;$<o;$++)this._ptr[$]=s;else{const $=this._size-o;this._ptr.splice(this._size-$,$)}this._size=o}insert(o,s,a){let _=o._index;const $=s._index,_e=a._index,tt=_e-$;this.prepareCapacity(this._size+tt);const nt=this._size-_;if(nt>0)for(let it=0;it<nt;it++)this._ptr.splice(_+it,0,null);for(let it=$;it<_e;it++,_++)this._ptr[_]=s._vector._ptr[it];this._size=this._size+tt}remove(o){return o<0||this._size<=o?!1:(this._ptr.splice(o,1),--this._size,!0)}erase(o){const s=o._index;return s<0||this._size<=s?o:(this._ptr.splice(s,1),--this._size,new iterator$1(this,s))}prepareCapacity(o){o>this._capacity&&(this._capacity==0?(this._ptr=new Array(o),this._capacity=o):(this._ptr.length=o,this._capacity=o))}begin(){return this._size==0?this.end():new iterator$1(this,0)}end(){return new iterator$1(this,this._size)}getOffset(o){const s=new kn;return s._ptr=this.get(o),s._size=this.get(o).length,s._capacity=this.get(o).length,s}};xt(kn,"DefaultSize",10);let csmVector=kn,iterator$1=class zn{constructor(o,s){xt(this,"_index");xt(this,"_vector");this._vector=o??null,this._index=s??0}set(o){return this._index=o._index,this._vector=o._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new zn(this._vector,this._index++)}decrement(){return new zn(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(o){return this._index=o._index,this._vector=o._vector,this}notEqual(o){return this._index!=o._index||this._vector!=o._vector}};var Live2DCubismFramework$E;(i=>{i.csmVector=csmVector,i.iterator=iterator$1})(Live2DCubismFramework$E||(Live2DCubismFramework$E={}));class csmString{constructor(o){xt(this,"s");this.s=o}append(o,s){return this.s+=s!==void 0?o.substr(0,s):o,this}expansion(o,s){for(let a=0;a<o;a++)this.append(s);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(o){return this.s<o.s}isGreat(o){return this.s>o.s}isEqual(o){return this.s==o}isEmpty(){return this.s.length==0}}var Live2DCubismFramework$D;(i=>{i.csmString=csmString})(Live2DCubismFramework$D||(Live2DCubismFramework$D={}));class CubismId{constructor(o){xt(this,"_id");if(typeof o=="string"){this._id=new csmString(o);return}this._id=o}static createIdInternal(o){return new CubismId(o)}getString(){return this._id}isEqual(o){return typeof o=="string"?this._id.isEqual(o):o instanceof csmString?this._id.isEqual(o.s):o instanceof CubismId?this._id.isEqual(o._id.s):!1}isNotEqual(o){return typeof o=="string"?!this._id.isEqual(o):o instanceof csmString?!this._id.isEqual(o.s):o instanceof CubismId?!this._id.isEqual(o._id.s):!1}}var Live2DCubismFramework$C;(i=>{i.CubismId=CubismId})(Live2DCubismFramework$C||(Live2DCubismFramework$C={}));class CubismIdManager{constructor(){xt(this,"_ids");this._ids=new csmVector}release(){for(let o=0;o<this._ids.getSize();++o)this._ids.set(o,void 0);this._ids=null}registerIds(o){for(let s=0;s<o.length;s++)this.registerId(o[s])}registerId(o){let s=null;if(typeof o=="string"){if((s=this.findId(o))!=null)return s;s=CubismId.createIdInternal(o),this._ids.pushBack(s)}else return this.registerId(o.s);return s}getId(o){return this.registerId(o)}isExist(o){return typeof o=="string"?this.findId(o)!=null:this.isExist(o.s)}findId(o){for(let s=0;s<this._ids.getSize();++s)if(this._ids.at(s).getString().isEqual(o))return this._ids.at(s);return null}}var Live2DCubismFramework$B;(i=>{i.CubismIdManager=CubismIdManager})(Live2DCubismFramework$B||(Live2DCubismFramework$B={}));class CubismMatrix44{constructor(){xt(this,"_tr");this._tr=new Float32Array(16),this.loadIdentity()}static multiply(o,s,a){const _=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$=4;for(let _e=0;_e<$;++_e)for(let tt=0;tt<$;++tt)for(let nt=0;nt<$;++nt)_[tt+_e*4]+=o[nt+_e*4]*s[tt+nt*4];for(let _e=0;_e<16;++_e)a[_e]=_[_e]}loadIdentity(){const o=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(o)}setMatrix(o){for(let s=0;s<16;++s)this._tr[s]=o[s]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(o){return this._tr[0]*o+this._tr[12]}transformY(o){return this._tr[5]*o+this._tr[13]}invertTransformX(o){return(o-this._tr[12])/this._tr[0]}invertTransformY(o){return(o-this._tr[13])/this._tr[5]}translateRelative(o,s){const a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,o,s,0,1]);CubismMatrix44.multiply(a,this._tr,this._tr)}translate(o,s){this._tr[12]=o,this._tr[13]=s}translateX(o){this._tr[12]=o}translateY(o){this._tr[13]=o}scaleRelative(o,s){const a=new Float32Array([o,0,0,0,0,s,0,0,0,0,1,0,0,0,0,1]);CubismMatrix44.multiply(a,this._tr,this._tr)}scale(o,s){this._tr[0]=o,this._tr[5]=s}multiplyByMatrix(o){CubismMatrix44.multiply(o.getArray(),this._tr,this._tr)}clone(){const o=new CubismMatrix44;for(let s=0;s<this._tr.length;s++)o._tr[s]=this._tr[s];return o}}var Live2DCubismFramework$A;(i=>{i.CubismMatrix44=CubismMatrix44})(Live2DCubismFramework$A||(Live2DCubismFramework$A={}));class csmRect{constructor(o,s,a,_){xt(this,"x");xt(this,"y");xt(this,"width");xt(this,"height");this.x=o,this.y=s,this.width=a,this.height=_}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(o){this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height}expand(o,s){this.x-=o,this.y-=s,this.width+=o*2,this.height+=s*2}}var Live2DCubismFramework$z;(i=>{i.csmRect=csmRect})(Live2DCubismFramework$z||(Live2DCubismFramework$z={}));class CubismRenderer{constructor(){xt(this,"_mvpMatrix4x4");xt(this,"_modelColor");xt(this,"_isCulling");xt(this,"_isPremultipliedAlpha");xt(this,"_anisotropy");xt(this,"_model");xt(this,"_useHighPrecisionMask");this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._model=null,this._modelColor=new CubismTextureColor,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new CubismMatrix44,this._mvpMatrix4x4.loadIdentity()}static create(){return null}static delete(o){}initialize(o){this._model=o}drawModel(){this.getModel()!=null&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(o){this._mvpMatrix4x4.setMatrix(o.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(o,s,a,_){o<0?o=0:o>1&&(o=1),s<0?s=0:s>1&&(s=1),a<0?a=0:a>1&&(a=1),_<0?_=0:_>1&&(_=1),this._modelColor.r=o,this._modelColor.g=s,this._modelColor.b=a,this._modelColor.a=_}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}getModelColorWithOpacity(o){const s=this.getModelColor();return s.a*=o,this.isPremultipliedAlpha()&&(s.r*=s.a,s.g*=s.a,s.b*=s.a),s}setIsPremultipliedAlpha(o){this._isPremultipliedAlpha=o}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(o){this._isCulling=o}isCulling(){return this._isCulling}setAnisotropy(o){this._anisotropy=o}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(o){this._useHighPrecisionMask=o}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}}xt(CubismRenderer,"staticRelease");var CubismBlendMode=(i=>(i[i.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",i[i.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",i[i.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",i))(CubismBlendMode||{});class CubismTextureColor{constructor(o=1,s=1,a=1,_=1){xt(this,"r");xt(this,"g");xt(this,"b");xt(this,"a");this.r=o,this.g=s,this.b=a,this.a=_}}class CubismClippingContext{constructor(o,s){xt(this,"_isUsing");xt(this,"_clippingIdList");xt(this,"_clippingIdCount");xt(this,"_layoutChannelIndex");xt(this,"_layoutBounds");xt(this,"_allClippedDrawRect");xt(this,"_matrixForMask");xt(this,"_matrixForDraw");xt(this,"_clippedDrawableIndexList");xt(this,"_bufferIndex");this._clippingIdList=o,this._clippingIdCount=s,this._allClippedDrawRect=new csmRect,this._layoutBounds=new csmRect,this._clippedDrawableIndexList=[],this._matrixForMask=new CubismMatrix44,this._matrixForDraw=new CubismMatrix44,this._bufferIndex=0}release(){this._layoutBounds!=null&&(this._layoutBounds=null),this._allClippedDrawRect!=null&&(this._allClippedDrawRect=null),this._clippedDrawableIndexList!=null&&(this._clippedDrawableIndexList=null)}addClippedDrawable(o){this._clippedDrawableIndexList.push(o)}}var Live2DCubismFramework$y;(i=>{i.CubismBlendMode=CubismBlendMode,i.CubismRenderer=CubismRenderer,i.CubismTextureColor=CubismTextureColor})(Live2DCubismFramework$y||(Live2DCubismFramework$y={}));const CubismLogPrint=(i,o,s)=>{CubismDebug.print(i,"[CSM]"+o,s)},CubismLogPrintIn=(i,o,s)=>{CubismLogPrint(i,o+`
`,s)},CSM_ASSERT=i=>{console.assert(i)};let CubismLogDebug,CubismLogInfo,CubismLogWarning,CubismLogError;CubismLogDebug=(i,...o)=>{CubismLogPrintIn(LogLevel.LogLevel_Debug,"[D]"+i,o)},CubismLogInfo=(i,...o)=>{CubismLogPrintIn(LogLevel.LogLevel_Info,"[I]"+i,o)},CubismLogWarning=(i,...o)=>{CubismLogPrintIn(LogLevel.LogLevel_Warning,"[W]"+i,o)},CubismLogError=(i,...o)=>{CubismLogPrintIn(LogLevel.LogLevel_Error,"[E]"+i,o)};class CubismDebug{static print(o,s,a){if(o<CubismFramework.getLoggingLevel())return;const _=CubismFramework.coreLogFunction;if(!_)return;const $=s.replace(/\{(\d+)\}/g,(_e,tt)=>a[tt]);_($)}static dumpBytes(o,s,a){for(let _=0;_<a;_++)_%16==0&&_>0?this.print(o,`
`):_%8==0&&_>0&&this.print(o,"  "),this.print(o,"{0} ",[s[_]&255]);this.print(o,`
`)}constructor(){}}var Live2DCubismFramework$x;(i=>{i.CubismDebug=CubismDebug})(Live2DCubismFramework$x||(Live2DCubismFramework$x={}));class csmPair{constructor(o,s){xt(this,"first");xt(this,"second");this.first=o??null,this.second=s??null}}const On=class On{constructor(o){xt(this,"_keyValues");xt(this,"_dummyValue");xt(this,"_size");o!=null?o<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(o),this._size=o):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(o){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new csmPair(o),this._size+=1}getValue(o){let s=-1;for(let a=0;a<this._size;a++)if(this._keyValues[a].first==o){s=a;break}return s>=0?this._keyValues[s].second:(this.appendKey(o),this._keyValues[this._size-1].second)}setValue(o,s){let a=-1;for(let _=0;_<this._size;_++)if(this._keyValues[_].first==o){a=_;break}a>=0?this._keyValues[a].second=s:(this.appendKey(o),this._keyValues[this._size-1].second=s)}isExist(o){for(let s=0;s<this._size;s++)if(this._keyValues[s].first==o)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(o,s){o>this._keyValues.length&&(this._keyValues.length==0?(!s&&o<On.DefaultSize&&(o=On.DefaultSize),this._keyValues.length=o):(!s&&o<this._keyValues.length*2&&(o=this._keyValues.length*2),this._keyValues.length=o))}begin(){return new iterator(this,0)}end(){return new iterator(this,this._size)}erase(o){const s=o._index;return s<0||this._size<=s?o:(this._keyValues.splice(s,1),--this._size,new iterator(this,s))}dumpAsInt(){for(let o=0;o<this._size;o++)CubismLogDebug("{0} ,",this._keyValues[o]),CubismLogDebug(`
`)}};xt(On,"DefaultSize",10);let csmMap=On;class iterator{constructor(o,s){xt(this,"_index");xt(this,"_map");this._map=o??new csmMap,this._index=s??0}set(o){return this._index=o._index,this._map=o._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new iterator(this._map,this._index++)}decrement(){const o=new iterator(this._map,this._index);return this._map=o._map,this._index=o._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(o){return this._index!=o._index||this._map!=o._map}}var Live2DCubismFramework$w;(i=>{i.csmMap=csmMap,i.csmPair=csmPair,i.iterator=iterator})(Live2DCubismFramework$w||(Live2DCubismFramework$w={}));class CubismJsonExtension{static parseJsonObject(o,s){return Object.keys(o).forEach(a=>{if(typeof o[a]=="boolean"){const _=!!o[a];s.put(a,new JsonBoolean(_))}else if(typeof o[a]=="string"){const _=String(o[a]);s.put(a,new JsonString(_))}else if(typeof o[a]=="number"){const _=Number(o[a]);s.put(a,new JsonFloat(_))}else o[a]instanceof Array?s.put(a,CubismJsonExtension.parseJsonArray(o[a])):o[a]instanceof Object?s.put(a,CubismJsonExtension.parseJsonObject(o[a],new JsonMap)):o[a]==null?s.put(a,new JsonNullvalue):s.put(a,o[a])}),s}static parseJsonArray(o){const s=new JsonArray;return Object.keys(o).forEach(a=>{if(typeof Number(a)=="number")if(typeof o[a]=="boolean"){const $=!!o[a];s.add(new JsonBoolean($))}else if(typeof o[a]=="string"){const $=String(o[a]);s.add(new JsonString($))}else if(typeof o[a]=="number"){const $=Number(o[a]);s.add(new JsonFloat($))}else o[a]instanceof Array?s.add(this.parseJsonArray(o[a])):o[a]instanceof Object?s.add(this.parseJsonObject(o[a],new JsonMap)):o[a]==null?s.add(new JsonNullvalue):s.add(o[a]);else if(o[a]instanceof Array)s.add(this.parseJsonArray(o[a]));else if(o[a]instanceof Object)s.add(this.parseJsonObject(o[a],new JsonMap));else if(o[a]==null)s.add(new JsonNullvalue);else{const $=Array(o[a]);for(let _e=0;_e<$.length;_e++)s.add($[_e])}}),s}}const CSM_JSON_ERROR_TYPE_MISMATCH="Error: type mismatch",CSM_JSON_ERROR_INDEX_OF_BOUNDS="Error: index out of bounds";var Hr;let Value$2=(Hr=class{constructor(){xt(this,"_stringBuffer")}getRawString(o,s){return this.getString(o,s)}toInt(o=0){return o}toFloat(o=0){return o}toBoolean(o=!1){return o}getSize(){return 0}getArray(o=null){return o}getVector(o=new csmVector){return o}getMap(o){return o}getValueByIndex(o){return Hr.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getValueByString(o){return Hr.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getKeys(){return Hr.dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(o){return!1}isStatic(){return!1}setErrorNotForClientCall(o){return JsonError.errorValue}static staticInitializeNotForClientCall(){JsonBoolean.trueValue=new JsonBoolean(!0),JsonBoolean.falseValue=new JsonBoolean(!1),Hr.errorValue=new JsonError("ERROR",!0),Hr.nullValue=new JsonNullvalue,Hr.dummyKeys=new csmVector}static staticReleaseNotForClientCall(){JsonBoolean.trueValue=null,JsonBoolean.falseValue=null,Hr.errorValue=null,Hr.nullValue=null,Hr.dummyKeys=null}},xt(Hr,"dummyKeys"),xt(Hr,"errorValue"),xt(Hr,"nullValue"),Hr);class CubismJson{constructor(o,s){xt(this,"_parseCallback",CubismJsonExtension.parseJsonObject);xt(this,"_error");xt(this,"_lineCount");xt(this,"_root");this._error=null,this._lineCount=0,this._root=null,o!=null&&this.parseBytes(o,s,this._parseCallback)}static create(o,s){const a=new CubismJson;return a.parseBytes(o,s,a._parseCallback)?a:(CubismJson.delete(a),null)}static delete(o){}getRoot(){return this._root}static arrayBufferToString(o){const s=new Uint8Array(o);let a="";for(let _=0,$=s.length;_<$;++_)a+="%"+this.pad(s[_].toString(16));return a=decodeURIComponent(a),a}static pad(o){return o.length<2?"0"+o:o}parseBytes(o,s,a){const _=new Array(1),$=CubismJson.arrayBufferToString(o);if(a==null?this._root=this.parseValue($,s,0,_):this._root=a(JSON.parse($),new JsonMap),this._error){let _e="\0";return _e="Json parse error : @line "+(this._lineCount+1)+`
`,this._root=new JsonString(_e),CubismLogInfo("{0}",this._root.getRawString()),!1}else if(this._root==null)return this._root=new JsonError(new csmString(this._error),!1),!1;return!0}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(o,s,a,_){if(this._error)return null;let $=null,_e=a,tt;for(;_e<s;_e++)switch(o[_e]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const it=new Array(1);return tt=strtod(o.slice(_e),it),_[0]=o.indexOf(it[0]),new JsonFloat(tt)}case'"':return new JsonString(this.parseString(o,s,_e+1,_));case"[":return $=this.parseArray(o,s,_e+1,_),$;case"{":return $=this.parseObject(o,s,_e+1,_),$;case"n":return _e+3<s?($=new JsonNullvalue,_[0]=_e+4):this._error="parse null",$;case"t":return _e+3<s?($=JsonBoolean.trueValue,_[0]=_e+4):this._error="parse true",$;case"f":return _e+4<s?($=JsonBoolean.falseValue,_[0]=_e+5):this._error="illegal ',' position",$;case",":return this._error="illegal ',' position",null;case"]":return _[0]=_e,null;case`
`:this._lineCount++}return this._error="illegal end of value",null}parseString(o,s,a,_){if(this._error)return null;if(!o)return this._error="string is null",null;let $=a,_e,tt;const nt=new csmString("");let it=a;for(;$<s;$++)switch(_e=o[$],_e){case'"':return _[0]=$+1,nt.append(o.slice(it),$-it),nt.s;case"//":if($++,$-1>it&&nt.append(o.slice(it),$-it),it=$+1,$<s)switch(tt=o[$],tt){case"\\":nt.expansion(1,"\\");break;case'"':nt.expansion(1,'"');break;case"/":nt.expansion(1,"/");break;case"b":nt.expansion(1,"\b");break;case"f":nt.expansion(1,"\f");break;case"n":nt.expansion(1,`
`);break;case"r":nt.expansion(1,"\r");break;case"t":nt.expansion(1,"	");break;case"u":this._error="parse string/unicord escape not supported";break}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(o,s,a,_){if(this._error)return null;if(!o)return this._error="buffer is null",null;const $=new JsonMap;let _e="",tt=a,nt="";const it=Array(1);let ot=!1;for(;tt<s;tt++){e:for(;tt<s;tt++)switch(nt=o[tt],nt){case'"':if(_e=this.parseString(o,s,tt+1,it),this._error)return null;tt=it[0],ot=!0;break e;case"}":return _[0]=tt+1,$;case":":this._error="illegal ':' position";break;case`
`:this._lineCount++}if(!ot)return this._error="key not found",null;ot=!1;e:for(;tt<s;tt++)switch(nt=o[tt],nt){case":":ot=!0,tt++;break e;case"}":this._error="illegal '}' position";break;case`
`:this._lineCount++}if(!ot)return this._error="':' not found",null;const et=this.parseValue(o,s,tt,it);if(this._error)return null;tt=it[0],$.put(_e,et);e:for(;tt<s;tt++)switch(nt=o[tt],nt){case",":break e;case"}":return _[0]=tt+1,$;case`
`:this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(o,s,a,_){if(this._error)return null;if(!o)return this._error="buffer is null",null;let $=new JsonArray,_e=a,tt;const nt=new Array(1);for(;_e<s;_e++){const it=this.parseValue(o,s,_e,nt);if(this._error)return null;_e=nt[0],it&&$.add(it);e:for(;_e<s;_e++)switch(tt=o[_e],tt){case",":break e;case"]":return _[0]=_e+1,$;case`
`:++this._lineCount}}return $=void 0,this._error="illegal end of parseObject",null}}class JsonFloat extends Value$2{constructor(s){super();xt(this,"_value");this._value=s}isFloat(){return!0}getString(s,a){const _="\0";return this._value=parseFloat(_),this._stringBuffer=_,this._stringBuffer}toInt(s=0){return parseInt(this._value.toString())}toFloat(s=0){return this._value}equals(s){return typeof s=="number"?Math.round(s)?!1:s==this._value:!1}}class JsonBoolean extends Value$2{constructor(s){super();xt(this,"_boolValue");this._boolValue=s}isBool(){return!0}toBoolean(s=!1){return this._boolValue}getString(s,a){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(s){return typeof s=="boolean"?s==this._boolValue:!1}isStatic(){return!0}}xt(JsonBoolean,"trueValue"),xt(JsonBoolean,"falseValue");class JsonString extends Value$2{constructor(o){super(),typeof o=="string"&&(this._stringBuffer=o),o instanceof csmString&&(this._stringBuffer=o.s)}isString(){return!0}getString(o,s){return this._stringBuffer}equals(o){return typeof o=="string"?this._stringBuffer==o:o instanceof csmString?this._stringBuffer==o.s:!1}}class JsonError extends JsonString{constructor(s,a){var o=(..._l)=>(super(..._l),xt(this,"_isStatic"),this);o(s),this._isStatic=a}isStatic(){return this._isStatic}setErrorNotForClientCall(s){return this._stringBuffer=s,this}isError(){return!0}}class JsonNullvalue extends Value$2{isNull(){return!0}getString(o,s){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(o){return this._stringBuffer=o,JsonError.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class JsonArray extends Value$2{constructor(){super();xt(this,"_array");this._array=new csmVector}release(){for(let s=this._array.begin();s.notEqual(this._array.end());s.preIncrement()){let a=s.ptr();a&&!a.isStatic()&&(a=void 0,a=null)}}isArray(){return!0}getValueByIndex(s){if(s<0||this._array.getSize()<=s)return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);const a=this._array.at(s);return a??Value$2.nullValue}getValueByString(s){return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getString(s,a){const _=a+`[
`;for(let $=this._array.begin();$.notEqual(this._array.end());$.increment()){const _e=$.ptr();this._stringBuffer+=a+""+_e.getString(a+" ")+`
`}return this._stringBuffer=_+a+`]
`,this._stringBuffer}add(s){this._array.pushBack(s)}getVector(s=null){return this._array}getSize(){return this._array.getSize()}}class JsonMap extends Value$2{constructor(){super();xt(this,"_map");xt(this,"_keys");this._map=new csmMap}release(){const s=this._map.begin();for(;s.notEqual(this._map.end());){let a=s.ptr().second;a&&!a.isStatic()&&(a=void 0,a=null),s.preIncrement()}}isMap(){return!0}getValueByString(s){if(s instanceof csmString){const a=this._map.getValue(s.s);return a??Value$2.nullValue}for(let a=this._map.begin();a.notEqual(this._map.end());a.preIncrement())if(a.ptr().first==s)return a.ptr().second==null?Value$2.nullValue:a.ptr().second;return Value$2.nullValue}getValueByIndex(s){return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getString(s,a){this._stringBuffer=a+`{
`;const _=this._map.begin();for(;_.notEqual(this._map.end());){const $=_.ptr().first,_e=_.ptr().second;this._stringBuffer+=a+" "+$+" : "+_e.getString(a+"   ")+` 
`,_.preIncrement()}return this._stringBuffer+=a+`}
`,this._stringBuffer}getMap(s){return this._map}put(s,a){this._map.setValue(s,a)}getKeys(){if(!this._keys){this._keys=new csmVector;const s=this._map.begin();for(;s.notEqual(this._map.end());){const a=s.ptr().first;this._keys.pushBack(a),s.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var Live2DCubismFramework$v;(i=>{i.CubismJson=CubismJson,i.JsonArray=JsonArray,i.JsonBoolean=JsonBoolean,i.JsonError=JsonError,i.JsonFloat=JsonFloat,i.JsonMap=JsonMap,i.JsonNullvalue=JsonNullvalue,i.JsonString=JsonString,i.Value=Value$2})(Live2DCubismFramework$v||(Live2DCubismFramework$v={}));function strtod(i,o){let s=0;for(let _=1;;_++){const $=i.slice(_-1,_);if($=="e"||$=="-"||$=="E")continue;const _e=i.substring(0,_),tt=Number(_e);if(isNaN(tt))break;s=_}let a=parseFloat(i);return isNaN(a)&&(a=NaN),o[0]=i.slice(s),a}let s_isStarted=!1,s_isInitialized=!1,s_option=null,s_cubismIdManager=null;const Constant=Object.freeze({vertexOffset:0,vertexStep:2});function csmDelete(i){i&&(i=void 0)}class CubismFramework{static startUp(o=null){if(s_isStarted)return CubismLogInfo("CubismFramework.startUp() is already done."),s_isStarted;if(s_option=o,s_option!=null&&Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction),s_isStarted=!0,s_isStarted){const s=Live2DCubismCore.Version.csmGetVersion(),a=(s&4278190080)>>24,_=(s&16711680)>>16,$=s&65535,_e=s;CubismLogInfo("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+a).slice(-2),("00"+_).slice(-2),("0000"+$).slice(-4),_e)}return CubismLogInfo("CubismFramework.startUp() is complete."),s_isStarted}static cleanUp(){s_isStarted=!1,s_isInitialized=!1,s_option=null,s_cubismIdManager=null}static initialize(o=0){if(CSM_ASSERT(s_isStarted),!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(s_isInitialized){CubismLogWarning("CubismFramework.initialize() skipped, already initialized.");return}Value$2.staticInitializeNotForClientCall(),s_cubismIdManager=new CubismIdManager,Live2DCubismCore.Memory.initializeAmountOfMemory(o),s_isInitialized=!0,CubismLogInfo("CubismFramework.initialize() is complete.")}static dispose(){if(CSM_ASSERT(s_isStarted),!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(!s_isInitialized){CubismLogWarning("CubismFramework.dispose() skipped, not initialized.");return}Value$2.staticReleaseNotForClientCall(),s_cubismIdManager.release(),s_cubismIdManager=null,CubismRenderer.staticRelease(),s_isInitialized=!1,CubismLogInfo("CubismFramework.dispose() is complete.")}static isStarted(){return s_isStarted}static isInitialized(){return s_isInitialized}static coreLogFunction(o){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(o)}static getLoggingLevel(){return s_option!=null?s_option.loggingLevel:5}static getIdManager(){return s_cubismIdManager}constructor(){}}class Option{constructor(){xt(this,"logFunction");xt(this,"loggingLevel")}}var LogLevel=(i=>(i[i.LogLevel_Verbose=0]="LogLevel_Verbose",i[i.LogLevel_Debug=1]="LogLevel_Debug",i[i.LogLevel_Info=2]="LogLevel_Info",i[i.LogLevel_Warning=3]="LogLevel_Warning",i[i.LogLevel_Error=4]="LogLevel_Error",i[i.LogLevel_Off=5]="LogLevel_Off",i))(LogLevel||{}),Live2DCubismFramework$u;(i=>{i.Constant=Constant,i.csmDelete=csmDelete,i.CubismFramework=CubismFramework})(Live2DCubismFramework$u||(Live2DCubismFramework$u={}));const CanvasSize="auto",ViewScale=1;let CurrentKScale=ViewScale;const ViewMaxScale=2,ViewMinScale=.8,ViewLogicalLeft=-1,ViewLogicalRight=1,ViewLogicalBottom=-1,ViewLogicalTop=1,ViewLogicalMaxLeft=-2,ViewLogicalMaxRight=2,ViewLogicalMaxBottom=-2,ViewLogicalMaxTop=2;let ResourcesPath="",ModelDir=[],ModelFileNames=[];function updateModelConfig(i,o,s,a){console.log("Updating model config:",{resourcePath:i,modelDirectory:o,modelFileName:s,kScale:a}),ResourcesPath=i,ModelDir=[o],ModelFileNames=[s],a!==void 0&&(CurrentKScale=a),ModelDirSize=ModelDir.length}let ModelDirSize=ModelDir.length;const BackImageName="back_class_normal.png",GearImageName="icon_gear.png",PowerImageName="CloseNormal.png",MotionGroupIdle="Idle",MotionGroupTapBody="TapBody",HitAreaNameHead="Head",HitAreaNameBody="Body",PriorityNone=0,PriorityIdle=1,PriorityNormal=2,PriorityForce=3,MOCConsistencyValidationEnable=!0,DebugLogEnable=!1,DebugTouchLogEnable=!1,CubismLoggingLevel=LogLevel.LogLevel_Verbose,RenderTargetWidth=1900,RenderTargetHeight=1e3,ENABLE_LIMITED_FRAME_RATE=!0,LIMITED_FRAME_RATE=60,LAppDefine=Object.freeze(Object.defineProperty({__proto__:null,BackImageName,CanvasSize,CubismLoggingLevel,get CurrentKScale(){return CurrentKScale},DebugLogEnable,DebugTouchLogEnable,ENABLE_LIMITED_FRAME_RATE,GearImageName,HitAreaNameBody,HitAreaNameHead,LIMITED_FRAME_RATE,MOCConsistencyValidationEnable,get ModelDir(){return ModelDir},get ModelDirSize(){return ModelDirSize},get ModelFileNames(){return ModelFileNames},MotionGroupIdle,MotionGroupTapBody,PowerImageName,PriorityForce,PriorityIdle,PriorityNone,PriorityNormal,RenderTargetHeight,RenderTargetWidth,get ResourcesPath(){return ResourcesPath},ViewLogicalBottom,ViewLogicalLeft,ViewLogicalMaxBottom,ViewLogicalMaxLeft,ViewLogicalMaxRight,ViewLogicalMaxTop,ViewLogicalRight,ViewLogicalTop,ViewMaxScale,ViewMinScale,ViewScale,updateModelConfig},Symbol.toStringTag,{value:"Module"})),useAudioTask=()=>{const{t:i}=useTranslation(),{aiState:o,backendSynthComplete:s,setBackendSynthComplete:a}=useAiState(),{setSubtitleText:_}=useSubtitle(),{appendResponse:$,appendAIMessage:_e}=useChatHistory(),{sendMessage:tt}=useWebSocket(),{setExpression:nt}=useLive2DExpression(),{startMic:it,stopMic:ot,autoStartMicOnConvEnd:et}=useVAD(),j=reactExports.useRef({aiState:o,setSubtitleText:_,appendResponse:$,appendAIMessage:_e}),rt=reactExports.useRef(null),st=reactExports.useRef(null);j.current={aiState:o,setSubtitleText:_,appendResponse:$,appendAIMessage:_e};const at=reactExports.useCallback(()=>{if(rt.current){console.log("Stopping current audio and lip sync");const ut=rt.current;ut.pause(),ut.src="",ut.load();const dt=st.current;if(dt&&dt._wavFileHandler)try{dt._wavFileHandler.releasePcmData(),console.log("Called _wavFileHandler.releasePcmData()"),dt._wavFileHandler._lastRms=0,dt._wavFileHandler._sampleOffset=0,dt._wavFileHandler._userTimeSeconds=0,console.log("Also reset _lastRms, _sampleOffset, _userTimeSeconds as fallback")}catch(ft){console.error("Error stopping/resetting wavFileHandler:",ft)}else dt?console.warn("Current model does not have _wavFileHandler to stop/reset."):console.log("No associated model found to stop lip sync.");rt.current=null,st.current=null}else console.log("No current audio playing to stop.")},[]),lt=ut=>new Promise(dt=>{var Ct,Rt,It;const{aiState:ft,setSubtitleText:ht,appendResponse:mt,appendAIMessage:bt}=j.current;if(ft==="interrupted"){console.warn("Audio playback blocked by interruption state."),dt();return}const{audioBase64:yt,displayText:gt,expressions:vt,forwarded:wt}=ut;gt&&(mt(gt.text),bt(gt.text,gt.name,gt.avatar),yt&&ht(gt.text),wt||tt({type:"audio-play-start",display_text:gt,forwarded:!0}));try{if(yt){const Pt=`data:audio/wav;base64,${yt}`,St=(Ct=window.getLive2DManager)==null?void 0:Ct.call(window);let Ot=null;St?(Ot=St.getModel(0),Ot?(console.log("Found model for audio playback"),st.current=Ot):console.warn("Live2D model not found at index 0. Proceeding without lip sync.")):console.warn("Live2D manager not found. Proceeding with audio playback without lip sync."),!Ot||!Ot._wavFileHandler?console.warn("Model does not have _wavFileHandler for lip sync"):console.log("Model has _wavFileHandler available");const At=(Rt=window.getLAppAdapter)==null?void 0:Rt.call(window);At&&(vt==null?void 0:vt[0])!==void 0&&nt(vt[0],At,`Set expression to: ${vt[0]}`),Ot&&LAppDefine&&typeof PriorityNormal=="number"&&typeof((It=Ot._modelSetting)==null?void 0:It.getMotionGroupCount)=="function"&&(()=>{const lr=Ot._modelSetting.getMotionGroupCount();for(let rr=0;rr<lr;rr+=1)if(Ot._modelSetting.getMotionGroupName(rr)==="Talk")return!0;return!1})()&&(console.log("Starting random 'Talk' motion"),Ot.startRandomMotion("Talk",PriorityNormal));const $t=new Audio(Pt);rt.current=$t;let Ft=!1;const Ut=()=>{rt.current===$t&&(rt.current=null,st.current=null),Ft||(Ft=!0,dt())},Kt=2;$t.addEventListener("canplaythrough",()=>{if(j.current.aiState==="interrupted"||rt.current!==$t){console.warn("Audio playback cancelled due to interruption or new audio"),Ut();return}try{ot()}catch{}if(console.log("Starting audio playback with lip sync"),$t.play().catch(ar=>{console.error("Audio play error:",ar),Ut()}),Ot&&Ot._wavFileHandler){if(!Ot._wavFileHandler._initialized){console.log("Applying enhanced lip sync"),Ot._wavFileHandler._initialized=!0;const ar=Ot._wavFileHandler.update.bind(Ot._wavFileHandler);Ot._wavFileHandler.update=function(lr){const rr=ar(lr);return this._lastRms=Math.min(2,this._lastRms*Kt),rr}}rt.current===$t?Ot._wavFileHandler.start(Pt):console.warn("WavFileHandler start skipped - audio was stopped")}}),$t.addEventListener("ended",()=>{console.log("Audio playback completed"),Ut()}),$t.addEventListener("error",ar=>{console.error("Audio playback error:",ar),Ut()}),$t.load()}else dt()}catch(Pt){console.error("Audio playback setup error:",Pt),toaster.create({title:`${i("error.audioPlayback")}: ${Pt}`,type:"error",duration:2e3}),rt.current=null,st.current=null,dt()}});return reactExports.useEffect(()=>{let ut=!0;return(async()=>{await audioTaskQueue.waitForCompletion(),ut&&s&&(at(),tt({type:"frontend-playback-complete"}),a(!1))})(),()=>{ut=!1}},[s,tt,a]),{addAudioTask:async ut=>{var ft;const{aiState:dt}=j.current;if(dt==="interrupted"){console.log("Skipping audio task due to interrupted state");return}console.log(`Adding audio task ${(ft=ut.displayText)==null?void 0:ft.text} to queue`),audioTaskQueue.addTask(()=>lt(ut))},appendResponse:$,stopCurrentAudioAndLipSync:at}},useInterrupt=()=>{const{aiState:i,setAiState:o}=useAiState(),{sendMessage:s}=useWebSocket(),{fullResponse:a,clearResponse:_}=useChatHistory(),{subtitleText:$,setSubtitleText:_e}=useSubtitle(),{stopCurrentAudioAndLipSync:tt}=useAudioTask(),{startMic:nt,autoStartMicOn:it}=useVAD();return{interrupt:(et=!0)=>{if(i==="thinking-speaking"&&(console.log("Interrupting conversation chain"),tt(),audioTaskQueue.clearQueue(),o("interrupted"),et&&s({type:"interrupt-signal",text:a}),_(),$==="Thinking..."&&_e(""),console.log("Interrupted!"),o("idle"),it))try{nt({bypassLock:!0})}catch{}}}};let canvas=null,gl=null,s_instance$4=null;class LAppGlManager{static getInstance(){return s_instance$4==null?s_instance$4=new LAppGlManager:(!canvas||!gl)&&(s_instance$4=new LAppGlManager),s_instance$4}static releaseInstance(){s_instance$4!=null&&s_instance$4.release(),s_instance$4=null}constructor(){if(canvas=document.getElementById("canvas"),!canvas){console.warn('[LAppGlManager] Canvas element with id "canvas" not found at construction time.');return}try{gl=canvas.getContext("webgl2")||canvas.getContext("webgl")}catch{gl=null}if(!gl){console.error("[LAppGlManager] Cannot initialize WebGL context.");return}}release(){}}const CubismDefaultParameterId=Object.freeze({HitAreaPrefix:"HitArea",HitAreaHead:"Head",HitAreaBody:"Body",PartsIdCore:"Parts01Core",PartsArmPrefix:"Parts01Arm_",PartsArmLPrefix:"Parts01ArmL_",PartsArmRPrefix:"Parts01ArmR_",ParamAngleX:"ParamAngleX",ParamAngleY:"ParamAngleY",ParamAngleZ:"ParamAngleZ",ParamEyeLOpen:"ParamEyeLOpen",ParamEyeLSmile:"ParamEyeLSmile",ParamEyeROpen:"ParamEyeROpen",ParamEyeRSmile:"ParamEyeRSmile",ParamEyeBallX:"ParamEyeBallX",ParamEyeBallY:"ParamEyeBallY",ParamEyeBallForm:"ParamEyeBallForm",ParamBrowLY:"ParamBrowLY",ParamBrowRY:"ParamBrowRY",ParamBrowLX:"ParamBrowLX",ParamBrowRX:"ParamBrowRX",ParamBrowLAngle:"ParamBrowLAngle",ParamBrowRAngle:"ParamBrowRAngle",ParamBrowLForm:"ParamBrowLForm",ParamBrowRForm:"ParamBrowRForm",ParamMouthForm:"ParamMouthForm",ParamMouthOpenY:"ParamMouthOpenY",ParamCheek:"ParamCheek",ParamBodyAngleX:"ParamBodyAngleX",ParamBodyAngleY:"ParamBodyAngleY",ParamBodyAngleZ:"ParamBodyAngleZ",ParamBreath:"ParamBreath",ParamArmLA:"ParamArmLA",ParamArmRA:"ParamArmRA",ParamArmLB:"ParamArmLB",ParamArmRB:"ParamArmRB",ParamHandL:"ParamHandL",ParamHandR:"ParamHandR",ParamHairFront:"ParamHairFront",ParamHairSide:"ParamHairSide",ParamHairBack:"ParamHairBack",ParamHairFluffy:"ParamHairFluffy",ParamShoulderY:"ParamShoulderY",ParamBustX:"ParamBustX",ParamBustY:"ParamBustY",ParamBaseX:"ParamBaseX",ParamBaseY:"ParamBaseY",ParamNONE:"NONE:"});var Live2DCubismFramework$t;(i=>{i.HitAreaBody=CubismDefaultParameterId.HitAreaBody,i.HitAreaHead=CubismDefaultParameterId.HitAreaHead,i.HitAreaPrefix=CubismDefaultParameterId.HitAreaPrefix,i.ParamAngleX=CubismDefaultParameterId.ParamAngleX,i.ParamAngleY=CubismDefaultParameterId.ParamAngleY,i.ParamAngleZ=CubismDefaultParameterId.ParamAngleZ,i.ParamArmLA=CubismDefaultParameterId.ParamArmLA,i.ParamArmLB=CubismDefaultParameterId.ParamArmLB,i.ParamArmRA=CubismDefaultParameterId.ParamArmRA,i.ParamArmRB=CubismDefaultParameterId.ParamArmRB,i.ParamBaseX=CubismDefaultParameterId.ParamBaseX,i.ParamBaseY=CubismDefaultParameterId.ParamBaseY,i.ParamBodyAngleX=CubismDefaultParameterId.ParamBodyAngleX,i.ParamBodyAngleY=CubismDefaultParameterId.ParamBodyAngleY,i.ParamBodyAngleZ=CubismDefaultParameterId.ParamBodyAngleZ,i.ParamBreath=CubismDefaultParameterId.ParamBreath,i.ParamBrowLAngle=CubismDefaultParameterId.ParamBrowLAngle,i.ParamBrowLForm=CubismDefaultParameterId.ParamBrowLForm,i.ParamBrowLX=CubismDefaultParameterId.ParamBrowLX,i.ParamBrowLY=CubismDefaultParameterId.ParamBrowLY,i.ParamBrowRAngle=CubismDefaultParameterId.ParamBrowRAngle,i.ParamBrowRForm=CubismDefaultParameterId.ParamBrowRForm,i.ParamBrowRX=CubismDefaultParameterId.ParamBrowRX,i.ParamBrowRY=CubismDefaultParameterId.ParamBrowRY,i.ParamBustX=CubismDefaultParameterId.ParamBustX,i.ParamBustY=CubismDefaultParameterId.ParamBustY,i.ParamCheek=CubismDefaultParameterId.ParamCheek,i.ParamEyeBallForm=CubismDefaultParameterId.ParamEyeBallForm,i.ParamEyeBallX=CubismDefaultParameterId.ParamEyeBallX,i.ParamEyeBallY=CubismDefaultParameterId.ParamEyeBallY,i.ParamEyeLOpen=CubismDefaultParameterId.ParamEyeLOpen,i.ParamEyeLSmile=CubismDefaultParameterId.ParamEyeLSmile,i.ParamEyeROpen=CubismDefaultParameterId.ParamEyeROpen,i.ParamEyeRSmile=CubismDefaultParameterId.ParamEyeRSmile,i.ParamHairBack=CubismDefaultParameterId.ParamHairBack,i.ParamHairFluffy=CubismDefaultParameterId.ParamHairFluffy,i.ParamHairFront=CubismDefaultParameterId.ParamHairFront,i.ParamHairSide=CubismDefaultParameterId.ParamHairSide,i.ParamHandL=CubismDefaultParameterId.ParamHandL,i.ParamHandR=CubismDefaultParameterId.ParamHandR,i.ParamMouthForm=CubismDefaultParameterId.ParamMouthForm,i.ParamMouthOpenY=CubismDefaultParameterId.ParamMouthOpenY,i.ParamNONE=CubismDefaultParameterId.ParamNONE,i.ParamShoulderY=CubismDefaultParameterId.ParamShoulderY,i.PartsArmLPrefix=CubismDefaultParameterId.PartsArmLPrefix,i.PartsArmPrefix=CubismDefaultParameterId.PartsArmPrefix,i.PartsArmRPrefix=CubismDefaultParameterId.PartsArmRPrefix,i.PartsIdCore=CubismDefaultParameterId.PartsIdCore})(Live2DCubismFramework$t||(Live2DCubismFramework$t={}));class ICubismModelSetting{}var Live2DCubismFramework$s;(i=>{i.ICubismModelSetting=ICubismModelSetting})(Live2DCubismFramework$s||(Live2DCubismFramework$s={}));const FileReferences="FileReferences",Groups$1="Groups",Layout="Layout",HitAreas="HitAreas",Moc="Moc",Textures="Textures",Physics="Physics",Pose="Pose",Expressions="Expressions",Motions="Motions",UserData$2="UserData",Name="Name",FilePath="File",Id$4="Id",Ids="Ids",SoundPath="Sound",FadeInTime$1="FadeInTime",FadeOutTime$1="FadeOutTime",LipSync="LipSync",EyeBlink="EyeBlink";class CubismModelSettingJson extends ICubismModelSetting{constructor(s,a){super();xt(this,"_json");xt(this,"_jsonValue");this._json=CubismJson.create(s,a),this.getJson()&&(this._jsonValue=new csmVector,this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(Groups$1)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Moc)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Motions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Expressions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Textures)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Physics)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Pose)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(HitAreas)))}release(){CubismJson.delete(this._json),this._jsonValue=null}getJson(){return this._json}getModelFileName(){return this.isExistModelFile()?this._jsonValue.at(1).getRawString():""}getTextureCount(){return this.isExistTextureFiles()?this._jsonValue.at(4).getSize():0}getTextureDirectory(){const a=this._jsonValue.at(4).getValueByIndex(0).getRawString().split("/"),_=a.length-1;let $="";for(let _e=0;_e<_;_e++)$+=a[_e],_e<_-1&&($+="/");return $}getTextureFileName(s){return this._jsonValue.at(4).getValueByIndex(s).getRawString()}getHitAreasCount(){return this.isExistHitAreas()?this._jsonValue.at(7).getSize():0}getHitAreaId(s){return CubismFramework.getIdManager().getId(this._jsonValue.at(7).getValueByIndex(s).getValueByString(Id$4).getRawString())}getHitAreaName(s){return this._jsonValue.at(7).getValueByIndex(s).getValueByString(Name).getRawString()}getPhysicsFileName(){return this.isExistPhysicsFile()?this._jsonValue.at(5).getRawString():""}getPoseFileName(){return this.isExistPoseFile()?this._jsonValue.at(6).getRawString():""}getExpressionCount(){return this.isExistExpressionFile()?this._jsonValue.at(3).getSize():0}getExpressionName(s){return this._jsonValue.at(3).getValueByIndex(s).getValueByString(Name).getRawString()}getExpressionFileName(s){return this._jsonValue.at(3).getValueByIndex(s).getValueByString(FilePath).getRawString()}getMotionGroupCount(){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().getSize():0}getMotionGroupName(s){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().at(s):null}getMotionCount(s){return this.isExistMotionGroupName(s)?this._jsonValue.at(2).getValueByString(s).getSize():0}getMotionFileName(s,a){return this.isExistMotionGroupName(s)?this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(FilePath).getRawString():""}getMotionSoundFileName(s,a){return this.isExistMotionSoundFile(s,a)?this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(SoundPath).getRawString():""}getMotionFadeInTimeValue(s,a){return this.isExistMotionFadeIn(s,a)?this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(FadeInTime$1).toFloat():-1}getMotionFadeOutTimeValue(s,a){return this.isExistMotionFadeOut(s,a)?this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(FadeOutTime$1).toFloat():-1}getUserDataFile(){return this.isExistUserDataFile()?this.getJson().getRoot().getValueByString(FileReferences).getValueByString(UserData$2).getRawString():""}getLayoutMap(s){const a=this.getJson().getRoot().getValueByString(Layout).getMap();if(a==null)return!1;let _=!1;for(const $=a.begin();$.notEqual(a.end());$.preIncrement())s.setValue($.ptr().first,$.ptr().second.toFloat()),_=!0;return _}getEyeBlinkParameterCount(){if(!this.isExistEyeBlinkParameters())return 0;let s=0;for(let a=0;a<this._jsonValue.at(0).getSize();a++){const _=this._jsonValue.at(0).getValueByIndex(a);if(!(_.isNull()||_.isError())&&_.getValueByString(Name).getRawString()==EyeBlink){s=_.getValueByString(Ids).getVector().getSize();break}}return s}getEyeBlinkParameterId(s){if(!this.isExistEyeBlinkParameters())return null;for(let a=0;a<this._jsonValue.at(0).getSize();a++){const _=this._jsonValue.at(0).getValueByIndex(a);if(!(_.isNull()||_.isError())&&_.getValueByString(Name).getRawString()==EyeBlink)return CubismFramework.getIdManager().getId(_.getValueByString(Ids).getValueByIndex(s).getRawString())}return null}getLipSyncParameterCount(){if(!this.isExistLipSyncParameters())return 0;let s=0;for(let a=0;a<this._jsonValue.at(0).getSize();a++){const _=this._jsonValue.at(0).getValueByIndex(a);if(!(_.isNull()||_.isError())&&_.getValueByString(Name).getRawString()==LipSync){s=_.getValueByString(Ids).getVector().getSize();break}}return s}getLipSyncParameterId(s){if(!this.isExistLipSyncParameters())return null;for(let a=0;a<this._jsonValue.at(0).getSize();a++){const _=this._jsonValue.at(0).getValueByIndex(a);if(!(_.isNull()||_.isError())&&_.getValueByString(Name).getRawString()==LipSync)return CubismFramework.getIdManager().getId(_.getValueByString(Ids).getValueByIndex(s).getRawString())}return null}isExistModelFile(){const s=this._jsonValue.at(1);return!s.isNull()&&!s.isError()}isExistTextureFiles(){const s=this._jsonValue.at(4);return!s.isNull()&&!s.isError()}isExistHitAreas(){const s=this._jsonValue.at(7);return!s.isNull()&&!s.isError()}isExistPhysicsFile(){const s=this._jsonValue.at(5);return!s.isNull()&&!s.isError()}isExistPoseFile(){const s=this._jsonValue.at(6);return!s.isNull()&&!s.isError()}isExistExpressionFile(){const s=this._jsonValue.at(3);return!s.isNull()&&!s.isError()}isExistMotionGroups(){const s=this._jsonValue.at(2);return!s.isNull()&&!s.isError()}isExistMotionGroupName(s){const a=this._jsonValue.at(2).getValueByString(s);return!a.isNull()&&!a.isError()}isExistMotionSoundFile(s,a){const _=this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(SoundPath);return!_.isNull()&&!_.isError()}isExistMotionFadeIn(s,a){const _=this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(FadeInTime$1);return!_.isNull()&&!_.isError()}isExistMotionFadeOut(s,a){const _=this._jsonValue.at(2).getValueByString(s).getValueByIndex(a).getValueByString(FadeOutTime$1);return!_.isNull()&&!_.isError()}isExistUserDataFile(){const s=this.getJson().getRoot().getValueByString(FileReferences).getValueByString(UserData$2);return!s.isNull()&&!s.isError()}isExistEyeBlinkParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let s=0;s<this._jsonValue.at(0).getSize();++s)if(this._jsonValue.at(0).getValueByIndex(s).getValueByString(Name).getRawString()==EyeBlink)return!0;return!1}isExistLipSyncParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let s=0;s<this._jsonValue.at(0).getSize();++s)if(this._jsonValue.at(0).getValueByIndex(s).getValueByString(Name).getRawString()==LipSync)return!0;return!1}}var Live2DCubismFramework$r;(i=>{i.CubismModelSettingJson=CubismModelSettingJson})(Live2DCubismFramework$r||(Live2DCubismFramework$r={}));class CubismBreath{constructor(){xt(this,"_breathParameters");xt(this,"_currentTime");this._currentTime=0}static create(){return new CubismBreath}static delete(o){}setParameters(o){this._breathParameters=o}getParameters(){return this._breathParameters}updateParameters(o,s){this._currentTime+=s;const a=this._currentTime*2*3.14159;for(let _=0;_<this._breathParameters.getSize();++_){const $=this._breathParameters.at(_);o.addParameterValueById($.parameterId,$.offset+$.peak*Math.sin(a/$.cycle),$.weight)}}}class BreathParameterData{constructor(o,s,a,_,$){xt(this,"parameterId");xt(this,"offset");xt(this,"peak");xt(this,"cycle");xt(this,"weight");this.parameterId=o??null,this.offset=s??0,this.peak=a??0,this.cycle=_??0,this.weight=$??0}}var Live2DCubismFramework$q;(i=>{i.BreathParameterData=BreathParameterData,i.CubismBreath=CubismBreath})(Live2DCubismFramework$q||(Live2DCubismFramework$q={}));const An=class An{constructor(o){xt(this,"_blinkingState");xt(this,"_parameterIds");xt(this,"_nextBlinkingTime");xt(this,"_stateStartTimeSeconds");xt(this,"_blinkingIntervalSeconds");xt(this,"_closingSeconds");xt(this,"_closedSeconds");xt(this,"_openingSeconds");xt(this,"_userTimeSeconds");if(this._blinkingState=0,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new csmVector,o!=null)for(let s=0;s<o.getEyeBlinkParameterCount();++s)this._parameterIds.pushBack(o.getEyeBlinkParameterId(s))}static create(o=null){return new An(o)}static delete(o){}setBlinkingInterval(o){this._blinkingIntervalSeconds=o}setBlinkingSetting(o,s,a){this._closingSeconds=o,this._closedSeconds=s,this._openingSeconds=a}setParameterIds(o){this._parameterIds=o}getParameterIds(){return this._parameterIds}updateParameters(o,s){this._userTimeSeconds+=s;let a,_=0;switch(this._blinkingState){case 2:_=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,_>=1&&(_=1,this._blinkingState=3,this._stateStartTimeSeconds=this._userTimeSeconds),a=1-_;break;case 3:_=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,_>=1&&(this._blinkingState=4,this._stateStartTimeSeconds=this._userTimeSeconds),a=0;break;case 4:_=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,_>=1&&(_=1,this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming()),a=_;break;case 1:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=2,this._stateStartTimeSeconds=this._userTimeSeconds),a=1;break;case 0:default:this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming(),a=1;break}An.CloseIfZero||(a=-a);for(let _e=0;_e<this._parameterIds.getSize();++_e)o.setParameterValueById(this._parameterIds.at(_e),a)}determinNextBlinkingTiming(){const o=Math.random();return this._userTimeSeconds+o*(2*this._blinkingIntervalSeconds-1)}};xt(An,"CloseIfZero",!0);let CubismEyeBlink=An;var EyeState=(i=>(i[i.EyeState_First=0]="EyeState_First",i[i.EyeState_Interval=1]="EyeState_Interval",i[i.EyeState_Closing=2]="EyeState_Closing",i[i.EyeState_Closed=3]="EyeState_Closed",i[i.EyeState_Opening=4]="EyeState_Opening",i))(EyeState||{}),Live2DCubismFramework$p;(i=>{i.CubismEyeBlink=CubismEyeBlink,i.EyeState=EyeState})(Live2DCubismFramework$p||(Live2DCubismFramework$p={}));const Epsilon$1=.001,DefaultFadeInSeconds=.5,FadeIn="FadeInTime",Link="Link",Groups="Groups",Id$3="Id";class CubismPose{constructor(){xt(this,"_partGroups");xt(this,"_partGroupCounts");xt(this,"_fadeTimeSeconds");xt(this,"_lastModel");this._fadeTimeSeconds=DefaultFadeInSeconds,this._lastModel=null,this._partGroups=new csmVector,this._partGroupCounts=new csmVector}static create(o,s){const a=CubismJson.create(o,s);if(!a)return null;const _=new CubismPose,$=a.getRoot();$.getValueByString(FadeIn).isNull()||(_._fadeTimeSeconds=$.getValueByString(FadeIn).toFloat(DefaultFadeInSeconds),_._fadeTimeSeconds<=0&&(_._fadeTimeSeconds=DefaultFadeInSeconds));const _e=$.getValueByString(Groups),tt=_e.getSize();for(let nt=0;nt<tt;++nt){const it=_e.getValueByIndex(nt),ot=it.getSize();let et=0;for(let j=0;j<ot;++j){const rt=it.getValueByIndex(j),st=new PartData,at=CubismFramework.getIdManager().getId(rt.getValueByString(Id$3).getRawString());if(st.partId=at,!rt.getValueByString(Link).isNull()){const lt=rt.getValueByString(Link),ct=lt.getSize();for(let ut=0;ut<ct;++ut){const dt=new PartData,ft=CubismFramework.getIdManager().getId(lt.getValueByIndex(ut).getString());dt.partId=ft,st.link.pushBack(dt)}}_._partGroups.pushBack(st.clone()),++et}_._partGroupCounts.pushBack(et)}return CubismJson.delete(a),_}static delete(o){}updateParameters(o,s){o!=this._lastModel&&this.reset(o),this._lastModel=o,s<0&&(s=0);let a=0;for(let _=0;_<this._partGroupCounts.getSize();_++){const $=this._partGroupCounts.at(_);this.doFade(o,s,a,$),a+=$}this.copyPartOpacities(o)}reset(o){let s=0;for(let a=0;a<this._partGroupCounts.getSize();++a){const _=this._partGroupCounts.at(a);for(let $=s;$<s+_;++$){this._partGroups.at($).initialize(o);const _e=this._partGroups.at($).partIndex,tt=this._partGroups.at($).parameterIndex;if(!(_e<0)){o.setPartOpacityByIndex(_e,$==s?1:0),o.setParameterValueByIndex(tt,$==s?1:0);for(let nt=0;nt<this._partGroups.at($).link.getSize();++nt)this._partGroups.at($).link.at(nt).initialize(o)}}s+=_}}copyPartOpacities(o){for(let s=0;s<this._partGroups.getSize();++s){const a=this._partGroups.at(s);if(a.link.getSize()==0)continue;const _=this._partGroups.at(s).partIndex,$=o.getPartOpacityByIndex(_);for(let _e=0;_e<a.link.getSize();++_e){const nt=a.link.at(_e).partIndex;nt<0||o.setPartOpacityByIndex(nt,$)}}}doFade(o,s,a,_){let $=-1,_e=1;const tt=.5,nt=.15;for(let it=a;it<a+_;++it){const ot=this._partGroups.at(it).partIndex,et=this._partGroups.at(it).parameterIndex;if(o.getParameterValueByIndex(et)>Epsilon$1){if($>=0)break;$=it,_e=o.getPartOpacityByIndex(ot),_e+=s/this._fadeTimeSeconds,_e>1&&(_e=1)}}$<0&&($=0,_e=1);for(let it=a;it<a+_;++it){const ot=this._partGroups.at(it).partIndex;if($==it)o.setPartOpacityByIndex(ot,_e);else{let et=o.getPartOpacityByIndex(ot),j;_e<tt?j=_e*(tt-1)/tt+1:j=(1-_e)*tt/(1-tt),(1-j)*(1-_e)>nt&&(j=1-nt/(1-_e)),et>j&&(et=j),o.setPartOpacityByIndex(ot,et)}}}}class PartData{constructor(o){xt(this,"partId");xt(this,"parameterIndex");xt(this,"partIndex");xt(this,"link");if(this.parameterIndex=0,this.partIndex=0,this.link=new csmVector,o!=null){this.partId=o.partId;for(const s=o.link.begin();s.notEqual(o.link.end());s.preIncrement())this.link.pushBack(s.ptr().clone())}}assignment(o){this.partId=o.partId;for(const s=o.link.begin();s.notEqual(o.link.end());s.preIncrement())this.link.pushBack(s.ptr().clone());return this}initialize(o){this.parameterIndex=o.getParameterIndex(this.partId),this.partIndex=o.getPartIndex(this.partId),o.setParameterValueByIndex(this.parameterIndex,1)}clone(){const o=new PartData;o.partId=this.partId,o.parameterIndex=this.parameterIndex,o.partIndex=this.partIndex,o.link=new csmVector;for(let s=this.link.begin();s.notEqual(this.link.end());s.increment())o.link.pushBack(s.ptr().clone());return o}}var Live2DCubismFramework$o;(i=>{i.CubismPose=CubismPose,i.PartData=PartData})(Live2DCubismFramework$o||(Live2DCubismFramework$o={}));class CubismModelMatrix extends CubismMatrix44{constructor(s,a){super();xt(this,"_width");xt(this,"_height");this._width=s!==void 0?s:0,this._height=a!==void 0?a:0,this.setHeight(2)}setWidth(s){const a=s/this._width,_=a;this.scale(a,_)}setHeight(s){const a=s/this._height,_=a;this.scale(a,_)}setPosition(s,a){this.translate(s,a)}setCenterPosition(s,a){this.centerX(s),this.centerY(a)}top(s){this.setY(s)}bottom(s){const a=this._height*this.getScaleY();this.translateY(s-a)}left(s){this.setX(s)}right(s){const a=this._width*this.getScaleX();this.translateX(s-a)}centerX(s){const a=this._width*this.getScaleX();this.translateX(s-a/2)}setX(s){this.translateX(s)}centerY(s){const a=this._height*this.getScaleY();this.translateY(s-a/2)}setY(s){this.translateY(s)}setupFromLayout(s){const a="width",_="height",$="x",_e="y",tt="center_x",nt="center_y",it="top",ot="bottom",et="left",j="right";for(const rt=s.begin();rt.notEqual(s.end());rt.preIncrement()){const st=rt.ptr().first,at=rt.ptr().second;st==a?this.setWidth(at):st==_&&this.setHeight(at)}for(const rt=s.begin();rt.notEqual(s.end());rt.preIncrement()){const st=rt.ptr().first,at=rt.ptr().second;st==$?this.setX(at):st==_e?this.setY(at):st==tt?this.centerX(at):st==nt?this.centerY(at):st==it?this.top(at):st==ot?this.bottom(at):st==et?this.left(at):st==j&&this.right(at)}}}var Live2DCubismFramework$n;(i=>{i.CubismModelMatrix=CubismModelMatrix})(Live2DCubismFramework$n||(Live2DCubismFramework$n={}));class CubismVector2{constructor(o,s){this.x=o,this.y=s,this.x=o??0,this.y=s??0}add(o){const s=new CubismVector2(0,0);return s.x=this.x+o.x,s.y=this.y+o.y,s}substract(o){const s=new CubismVector2(0,0);return s.x=this.x-o.x,s.y=this.y-o.y,s}multiply(o){const s=new CubismVector2(0,0);return s.x=this.x*o.x,s.y=this.y*o.y,s}multiplyByScaler(o){return this.multiply(new CubismVector2(o,o))}division(o){const s=new CubismVector2(0,0);return s.x=this.x/o.x,s.y=this.y/o.y,s}divisionByScalar(o){return this.division(new CubismVector2(o,o))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(o){return Math.sqrt((this.x-o.x)*(this.x-o.x)+(this.y-o.y)*(this.y-o.y))}dot(o){return this.x*o.x+this.y*o.y}normalize(){const o=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/o,this.y=this.y/o}isEqual(o){return this.x==o.x&&this.y==o.y}isNotEqual(o){return!this.isEqual(o)}}var Live2DCubismFramework$m;(i=>{i.CubismVector2=CubismVector2})(Live2DCubismFramework$m||(Live2DCubismFramework$m={}));const Pn=class Pn{static range(o,s,a){return o<s?o=s:o>a&&(o=a),o}static sin(o){return Math.sin(o)}static cos(o){return Math.cos(o)}static abs(o){return Math.abs(o)}static sqrt(o){return Math.sqrt(o)}static cbrt(o){if(o===0)return o;let s=o;const a=s<0;a&&(s=-s);let _;return s===1/0?_=1/0:(_=Math.exp(Math.log(s)/3),_=(s/(_*_)+2*_)/3),a?-_:_}static getEasingSine(o){return o<0?0:o>1?1:.5-.5*this.cos(o*Math.PI)}static max(o,s){return o>s?o:s}static min(o,s){return o>s?s:o}static degreesToRadian(o){return o/180*Math.PI}static radianToDegrees(o){return o*180/Math.PI}static directionToRadian(o,s){const a=Math.atan2(s.y,s.x),_=Math.atan2(o.y,o.x);let $=a-_;for(;$<-Math.PI;)$+=Math.PI*2;for(;$>Math.PI;)$-=Math.PI*2;return $}static directionToDegrees(o,s){const a=this.directionToRadian(o,s);let _=this.radianToDegrees(a);return s.x-o.x>0&&(_=-_),_}static radianToDirection(o){const s=new CubismVector2;return s.x=this.sin(o),s.y=this.cos(o),s}static quadraticEquation(o,s,a){return this.abs(o)<Pn.Epsilon?this.abs(s)<Pn.Epsilon?-a:-a/s:-(s+this.sqrt(s*s-4*o*a))/(2*o)}static cardanoAlgorithmForBezier(o,s,a,_){if(this.sqrt(o)<Pn.Epsilon)return this.range(this.quadraticEquation(s,a,_),0,1);const $=s/o,_e=a/o,tt=_/o,nt=(3*_e-$*$)/3,it=nt/3,ot=(2*$*$*$-9*$*_e+27*tt)/27,et=ot/2,j=et*et+it*it*it,rt=.5,st=rt+.01;if(j<0){const dt=-nt/3,ft=dt*dt*dt,ht=this.sqrt(ft),mt=-ot/(2*ht),bt=this.range(mt,-1,1),yt=Math.acos(bt),vt=2*this.cbrt(ht),wt=vt*this.cos(yt/3)-$/3;if(this.abs(wt-rt)<st)return this.range(wt,0,1);const Ct=vt*this.cos((yt+2*Math.PI)/3)-$/3;if(this.abs(Ct-rt)<st)return this.range(Ct,0,1);const Rt=vt*this.cos((yt+4*Math.PI)/3)-$/3;return this.range(Rt,0,1)}if(j==0){let dt;et<0?dt=this.cbrt(-et):dt=-this.cbrt(et);const ft=2*dt-$/3;if(this.abs(ft-rt)<st)return this.range(ft,0,1);const ht=-dt-$/3;return this.range(ht,0,1)}const at=this.sqrt(j),lt=this.cbrt(at-et),ct=this.cbrt(at+et),ut=lt-ct-$/3;return this.range(ut,0,1)}static mod(o,s){if(!isFinite(o)||s===0||isNaN(o)||isNaN(s))return console.warn(`divided: ${o}, divisor: ${s} mod() returns 'NaN'.`),NaN;const a=Math.abs(o),_=Math.abs(s);let $=a-Math.floor(a/_)*_;return $*=Math.sign(o),$}constructor(){}};xt(Pn,"Epsilon",1e-5);let CubismMath=Pn;var Live2DCubismFramework$l;(i=>{i.CubismMath=CubismMath})(Live2DCubismFramework$l||(Live2DCubismFramework$l={}));const FrameRate=30,Epsilon=.01;class CubismTargetPoint{constructor(){xt(this,"_faceTargetX");xt(this,"_faceTargetY");xt(this,"_faceX");xt(this,"_faceY");xt(this,"_faceVX");xt(this,"_faceVY");xt(this,"_lastTimeSeconds");xt(this,"_userTimeSeconds");this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}update(o){this._userTimeSeconds+=o;const a=40/10*1/FrameRate;if(this._lastTimeSeconds==0){this._lastTimeSeconds=this._userTimeSeconds;return}const _=(this._userTimeSeconds-this._lastTimeSeconds)*FrameRate;this._lastTimeSeconds=this._userTimeSeconds;const _e=.15*FrameRate,tt=_*a/_e,nt=this._faceTargetX-this._faceX,it=this._faceTargetY-this._faceY;if(CubismMath.abs(nt)<=Epsilon&&CubismMath.abs(it)<=Epsilon)return;const ot=CubismMath.sqrt(nt*nt+it*it),et=a*nt/ot,j=a*it/ot;let rt=et-this._faceVX,st=j-this._faceVY;const at=CubismMath.sqrt(rt*rt+st*st);(at<-tt||at>tt)&&(rt*=tt/at,st*=tt/at),this._faceVX+=rt,this._faceVY+=st;{const lt=.5*(CubismMath.sqrt(tt*tt+16*tt*ot-8*tt*ot)-tt),ct=CubismMath.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);ct>lt&&(this._faceVX*=lt/ct,this._faceVY*=lt/ct)}this._faceX+=this._faceVX,this._faceY+=this._faceVY}getX(){return this._faceX}getY(){return this._faceY}set(o,s){this._faceTargetX=o,this._faceTargetY=s}}var Live2DCubismFramework$k;(i=>{i.CubismTargetPoint=CubismTargetPoint})(Live2DCubismFramework$k||(Live2DCubismFramework$k={}));class ACubismMotion{constructor(){xt(this,"setFinishedMotionHandler",o=>this._onFinishedMotion=o);xt(this,"getFinishedMotionHandler",()=>this._onFinishedMotion);xt(this,"_fadeInSeconds");xt(this,"_fadeOutSeconds");xt(this,"_weight");xt(this,"_offsetSeconds");xt(this,"_firedEventValues");xt(this,"_onFinishedMotion");this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new csmVector}static delete(o){o.release(),o=null}release(){this._weight=0}updateParameters(o,s,a){if(!s.isAvailable()||s.isFinished())return;this.setupMotionQueueEntry(s,a);const _=this.updateFadeWeight(s,a);this.doUpdateParameters(o,a,_,s),s.getEndTime()>0&&s.getEndTime()<a&&s.setIsFinished(!0)}setupMotionQueueEntry(o,s){if(o==null||o.isStarted()||!o.isAvailable())return;o.setIsStarted(!0),o.setStartTime(s-this._offsetSeconds),o.setFadeInStartTime(s);const a=this.getDuration();o.getEndTime()<0&&o.setEndTime(a<=0?-1:o.getStartTime()+a)}updateFadeWeight(o,s){o==null&&CubismDebug.print(LogLevel.LogLevel_Error,"motionQueueEntry is null.");let a=this._weight;const _=this._fadeInSeconds==0?1:CubismMath.getEasingSine((s-o.getFadeInStartTime())/this._fadeInSeconds),$=this._fadeOutSeconds==0||o.getEndTime()<0?1:CubismMath.getEasingSine((o.getEndTime()-s)/this._fadeOutSeconds);return a=a*_*$,o.setState(s,a),CSM_ASSERT(0<=a&&a<=1),a}setFadeInTime(o){this._fadeInSeconds=o}setFadeOutTime(o){this._fadeOutSeconds=o}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(o){this._weight=o}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(o){this._offsetSeconds=o}getFiredEvent(o,s){return this._firedEventValues}isExistModelOpacity(){return!1}getModelOpacityIndex(){return-1}getModelOpacityId(o){return null}getModelOpacityValue(){return 1}}var Live2DCubismFramework$j;(i=>{i.ACubismMotion=ACubismMotion})(Live2DCubismFramework$j||(Live2DCubismFramework$j={}));const ExpressionKeyFadeIn="FadeInTime",ExpressionKeyFadeOut="FadeOutTime",ExpressionKeyParameters="Parameters",ExpressionKeyId="Id",ExpressionKeyValue="Value",ExpressionKeyBlend="Blend",BlendValueAdd="Add",BlendValueMultiply="Multiply",BlendValueOverwrite="Overwrite",DefaultFadeTime=1,Jr=class Jr extends ACubismMotion{constructor(){super();xt(this,"_parameters");xt(this,"_fadeWeight");this._parameters=new csmVector,this._fadeWeight=0}static create(s,a){const _=new Jr;return _.parse(s,a),_}doUpdateParameters(s,a,_,$){for(let _e=0;_e<this._parameters.getSize();++_e){const tt=this._parameters.at(_e);switch(tt.blendType){case 0:{s.addParameterValueById(tt.parameterId,tt.value,_);break}case 1:{s.multiplyParameterValueById(tt.parameterId,tt.value,_);break}case 2:{s.setParameterValueById(tt.parameterId,tt.value,_);break}}}}calculateExpressionParameters(s,a,_,$,_e,tt){if(!(_==null||$==null)&&_.isAvailable()){this._fadeWeight=this.updateFadeWeight(_,a);for(let nt=0;nt<$.getSize();++nt){const it=$.at(nt);if(it.parameterId==null)continue;const ot=it.overwriteValue=s.getParameterValueById(it.parameterId),et=this.getExpressionParameters();let j=-1;for(let ct=0;ct<et.getSize();++ct)if(it.parameterId==et.at(ct).parameterId){j=ct;break}if(j<0){_e==0?(it.additiveValue=Jr.DefaultAdditiveValue,it.multiplyValue=Jr.DefaultMultiplyValue,it.overwriteValue=ot):(it.additiveValue=this.calculateValue(it.additiveValue,Jr.DefaultAdditiveValue,tt),it.multiplyValue=this.calculateValue(it.multiplyValue,Jr.DefaultMultiplyValue,tt),it.overwriteValue=this.calculateValue(it.overwriteValue,ot,tt));continue}const rt=et.at(j).value;let st,at,lt;switch(et.at(j).blendType){case 0:st=rt,at=Jr.DefaultMultiplyValue,lt=ot;break;case 1:st=Jr.DefaultAdditiveValue,at=rt,lt=ot;break;case 2:st=Jr.DefaultAdditiveValue,at=Jr.DefaultMultiplyValue,lt=rt;break;default:return}_e==0?(it.additiveValue=st,it.multiplyValue=at,it.overwriteValue=lt):(it.additiveValue=it.additiveValue*(1-tt)+st*tt,it.multiplyValue=it.multiplyValue*(1-tt)+at*tt,it.overwriteValue=it.overwriteValue*(1-tt)+lt*tt)}}}getExpressionParameters(){return this._parameters}getFadeWeight(){return this._fadeWeight}parse(s,a){const _=CubismJson.create(s,a);if(!_)return;const $=_.getRoot();this.setFadeInTime($.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime)),this.setFadeOutTime($.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime));const _e=$.getValueByString(ExpressionKeyParameters).getSize();this._parameters.prepareCapacity(_e);for(let tt=0;tt<_e;++tt){const nt=$.getValueByString(ExpressionKeyParameters).getValueByIndex(tt),it=CubismFramework.getIdManager().getId(nt.getValueByString(ExpressionKeyId).getRawString()),ot=nt.getValueByString(ExpressionKeyValue).toFloat();let et;nt.getValueByString(ExpressionKeyBlend).isNull()||nt.getValueByString(ExpressionKeyBlend).getString()==BlendValueAdd?et=0:nt.getValueByString(ExpressionKeyBlend).getString()==BlendValueMultiply?et=1:nt.getValueByString(ExpressionKeyBlend).getString()==BlendValueOverwrite?et=2:et=0;const j=new ExpressionParameter;j.parameterId=it,j.blendType=et,j.value=ot,this._parameters.pushBack(j)}CubismJson.delete(_)}calculateValue(s,a,_){return s*(1-_)+a*_}};xt(Jr,"DefaultAdditiveValue",0),xt(Jr,"DefaultMultiplyValue",1);let CubismExpressionMotion=Jr;var ExpressionBlendType=(i=>(i[i.Additive=0]="Additive",i[i.Multiply=1]="Multiply",i[i.Overwrite=2]="Overwrite",i))(ExpressionBlendType||{});class ExpressionParameter{constructor(){xt(this,"parameterId");xt(this,"blendType");xt(this,"value")}}var Live2DCubismFramework$i;(i=>{i.CubismExpressionMotion=CubismExpressionMotion,i.ExpressionBlendType=ExpressionBlendType,i.ExpressionParameter=ExpressionParameter})(Live2DCubismFramework$i||(Live2DCubismFramework$i={}));class CubismMotionQueueEntry{constructor(){xt(this,"_autoDelete");xt(this,"_motion");xt(this,"_available");xt(this,"_finished");xt(this,"_started");xt(this,"_startTimeSeconds");xt(this,"_fadeInStartTimeSeconds");xt(this,"_endTimeSeconds");xt(this,"_stateTimeSeconds");xt(this,"_stateWeight");xt(this,"_lastEventCheckSeconds");xt(this,"_fadeOutSeconds");xt(this,"_isTriggeredFadeOut");xt(this,"_motionQueueEntryHandle");this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&ACubismMotion.delete(this._motion)}setFadeOut(o){this._fadeOutSeconds=o,this._isTriggeredFadeOut=!0}startFadeOut(o,s){const a=s+o;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||a<this._endTimeSeconds)&&(this._endTimeSeconds=a)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(o){this._startTimeSeconds=o}setFadeInStartTime(o){this._fadeInStartTimeSeconds=o}setEndTime(o){this._endTimeSeconds=o}setIsFinished(o){this._finished=o}setIsStarted(o){this._started=o}isAvailable(){return this._available}setIsAvailable(o){this._available=o}setState(o,s){this._stateTimeSeconds=o,this._stateWeight=s}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(o){this._lastEventCheckSeconds=o}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}getCubismMotion(){return this._motion}}var Live2DCubismFramework$h;(i=>{i.CubismMotionQueueEntry=CubismMotionQueueEntry})(Live2DCubismFramework$h||(Live2DCubismFramework$h={}));class CubismMotionQueueManager{constructor(){xt(this,"_userTimeSeconds");xt(this,"_motions");xt(this,"_eventCallBack");xt(this,"_eventCustomData");this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new csmVector}release(){for(let o=0;o<this._motions.getSize();++o)this._motions.at(o)&&(this._motions.at(o).release(),this._motions.set(o,null));this._motions=null}startMotion(o,s,a){if(o==null)return InvalidMotionQueueEntryHandleValue;let _=null;for(let $=0;$<this._motions.getSize();++$)_=this._motions.at($),_!=null&&_.setFadeOut(_._motion.getFadeOutTime());return _=new CubismMotionQueueEntry,_._autoDelete=s,_._motion=o,this._motions.pushBack(_),_._motionQueueEntryHandle}isFinished(){for(let o=this._motions.begin();o.notEqual(this._motions.end());){let s=o.ptr();if(s==null){o=this._motions.erase(o);continue}if(s._motion==null){s.release(),s=null,o=this._motions.erase(o);continue}if(s.isFinished())o.preIncrement();else return!1}return!0}isFinishedByHandle(o){for(let s=this._motions.begin();s.notEqual(this._motions.end());s.increment()){const a=s.ptr();if(a!=null&&a._motionQueueEntryHandle==o&&!a.isFinished())return!1}return!0}stopAllMotions(){for(let o=this._motions.begin();o.notEqual(this._motions.end());){let s=o.ptr();if(s==null){o=this._motions.erase(o);continue}s.release(),s=null,o=this._motions.erase(o)}}getCubismMotionQueueEntries(){return this._motions}getCubismMotionQueueEntry(o){for(let s=this._motions.begin();s.notEqual(this._motions.end());s.preIncrement()){const a=s.ptr();if(a!=null&&a._motionQueueEntryHandle==o)return a}return null}setEventCallback(o,s=null){this._eventCallBack=o,this._eventCustomData=s}doUpdateMotion(o,s){let a=!1;for(let _=this._motions.begin();_.notEqual(this._motions.end());){let $=_.ptr();if($==null){_=this._motions.erase(_);continue}const _e=$._motion;if(_e==null){$.release(),$=null,_=this._motions.erase(_);continue}_e.updateParameters(o,$,s),a=!0;const tt=_e.getFiredEvent($.getLastCheckEventSeconds()-$.getStartTime(),s-$.getStartTime());for(let nt=0;nt<tt.getSize();++nt)this._eventCallBack(this,tt.at(nt),this._eventCustomData);$.setLastCheckEventSeconds(s),$.isFinished()?($.release(),$=null,_=this._motions.erase(_)):($.isTriggeredFadeOut()&&$.startFadeOut($.getFadeOutSeconds(),s),_.preIncrement())}return a}}const InvalidMotionQueueEntryHandleValue=-1;var Live2DCubismFramework$g;(i=>{i.CubismMotionQueueManager=CubismMotionQueueManager,i.InvalidMotionQueueEntryHandleValue=InvalidMotionQueueEntryHandleValue})(Live2DCubismFramework$g||(Live2DCubismFramework$g={}));class ExpressionParameterValue{constructor(){xt(this,"parameterId");xt(this,"additiveValue");xt(this,"multiplyValue");xt(this,"overwriteValue")}}class CubismExpressionMotionManager extends CubismMotionQueueManager{constructor(){super();xt(this,"_expressionParameterValues");xt(this,"_fadeWeights");xt(this,"_currentPriority");xt(this,"_reservePriority");xt(this,"_startExpressionTime");this._currentPriority=0,this._reservePriority=0,this._expressionParameterValues=new csmVector,this._fadeWeights=new csmVector}release(){this._expressionParameterValues&&(csmDelete(this._expressionParameterValues),this._expressionParameterValues=null),this._fadeWeights&&(csmDelete(this._fadeWeights),this._fadeWeights=null)}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}getFadeWeight(s){return this._fadeWeights.at(s)}setReservePriority(s){this._reservePriority=s}startMotionPriority(s,a,_){return _==this.getReservePriority()&&this.setReservePriority(0),this._currentPriority=_,this._fadeWeights.pushBack(0),this.startMotion(s,a)}updateMotion(s,a){this._userTimeSeconds+=a;let _=!1;const $=this.getCubismMotionQueueEntries();let _e=0,tt=0;for(let nt=this._motions.begin();nt.notEqual(this._motions.end());){const it=nt.ptr();if(it==null){nt=$.erase(nt);continue}const ot=it.getCubismMotion();if(ot==null){csmDelete(it),nt=$.erase(nt);continue}const et=ot.getExpressionParameters();if(it.isAvailable())for(let j=0;j<et.getSize();++j){if(et.at(j).parameterId==null)continue;let rt=-1;for(let at=0;at<this._expressionParameterValues.getSize();++at)if(this._expressionParameterValues.at(at).parameterId==et.at(j).parameterId){rt=at;break}if(rt>=0)continue;const st=new ExpressionParameterValue;st.parameterId=et.at(j).parameterId,st.additiveValue=CubismExpressionMotion.DefaultAdditiveValue,st.multiplyValue=CubismExpressionMotion.DefaultMultiplyValue,st.overwriteValue=s.getParameterValueById(st.parameterId),this._expressionParameterValues.pushBack(st)}ot.setupMotionQueueEntry(it,this._userTimeSeconds),this._fadeWeights.set(tt,ot.updateFadeWeight(it,this._userTimeSeconds)),ot.calculateExpressionParameters(s,this._userTimeSeconds,it,this._expressionParameterValues,tt,this._fadeWeights.at(tt)),_e+=ot.getFadeInTime()==0?1:CubismMath.getEasingSine((this._userTimeSeconds-it.getFadeInStartTime())/ot.getFadeInTime()),_=!0,it.isTriggeredFadeOut()&&it.startFadeOut(it.getFadeOutSeconds(),this._userTimeSeconds),nt.preIncrement(),++tt}if($.getSize()>1&&($.at($.getSize()-1).getCubismMotion(),this._fadeWeights.at(this._fadeWeights.getSize()-1)>=1))for(let it=$.getSize()-2;it>=0;--it){const ot=$.at(it);csmDelete(ot),$.remove(it),this._fadeWeights.remove(it)}_e>1&&(_e=1);for(let nt=0;nt<this._expressionParameterValues.getSize();++nt){const it=this._expressionParameterValues.at(nt);s.setParameterValueById(it.parameterId,(it.overwriteValue+it.additiveValue)*it.multiplyValue,_e),it.additiveValue=CubismExpressionMotion.DefaultAdditiveValue,it.multiplyValue=CubismExpressionMotion.DefaultMultiplyValue}return _}}var Live2DCubismFramework$f;(i=>{i.CubismExpressionMotionManager=CubismExpressionMotionManager})(Live2DCubismFramework$f||(Live2DCubismFramework$f={}));var CubismMotionCurveTarget=(i=>(i[i.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",i[i.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",i[i.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",i))(CubismMotionCurveTarget||{}),CubismMotionSegmentType=(i=>(i[i.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",i[i.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",i[i.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",i[i.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",i))(CubismMotionSegmentType||{});class CubismMotionPoint{constructor(){xt(this,"time",0);xt(this,"value",0)}}class CubismMotionSegment{constructor(){xt(this,"evaluate");xt(this,"basePointIndex");xt(this,"segmentType");this.evaluate=null,this.basePointIndex=0,this.segmentType=0}}class CubismMotionCurve{constructor(){xt(this,"type");xt(this,"id");xt(this,"segmentCount");xt(this,"baseSegmentIndex");xt(this,"fadeInTime");xt(this,"fadeOutTime");this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class CubismMotionEvent{constructor(){xt(this,"fireTime",0);xt(this,"value")}}class CubismMotionData{constructor(){xt(this,"duration");xt(this,"loop");xt(this,"curveCount");xt(this,"eventCount");xt(this,"fps");xt(this,"curves");xt(this,"segments");xt(this,"points");xt(this,"events");this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new csmVector,this.segments=new csmVector,this.points=new csmVector,this.events=new csmVector}}var Live2DCubismFramework$e;(i=>{i.CubismMotionCurve=CubismMotionCurve,i.CubismMotionCurveTarget=CubismMotionCurveTarget,i.CubismMotionData=CubismMotionData,i.CubismMotionEvent=CubismMotionEvent,i.CubismMotionPoint=CubismMotionPoint,i.CubismMotionSegment=CubismMotionSegment,i.CubismMotionSegmentType=CubismMotionSegmentType})(Live2DCubismFramework$e||(Live2DCubismFramework$e={}));const Meta$2="Meta",Duration="Duration",Loop="Loop",AreBeziersRestricted="AreBeziersRestricted",CurveCount="CurveCount",Fps$1="Fps",TotalSegmentCount="TotalSegmentCount",TotalPointCount="TotalPointCount",Curves="Curves",Target$1="Target",Id$2="Id",FadeInTime="FadeInTime",FadeOutTime="FadeOutTime",Segments="Segments",UserData$1="UserData",UserDataCount$1="UserDataCount",TotalUserDataSize$1="TotalUserDataSize",Time="Time",Value$1="Value";class CubismMotionJson{constructor(o,s){xt(this,"_json");this._json=CubismJson.create(o,s)}release(){CubismJson.delete(this._json)}getMotionDuration(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Duration).toFloat()}isMotionLoop(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Loop).toBoolean()}getEvaluationOptionFlag(o){return o==0?this._json.getRoot().getValueByString(Meta$2).getValueByString(AreBeziersRestricted).toBoolean():!1}getMotionCurveCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(CurveCount).toInt()}getMotionFps(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Fps$1).toFloat()}getMotionTotalSegmentCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalSegmentCount).toInt()}getMotionTotalPointCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalPointCount).toInt()}isExistMotionFadeInTime(){return!this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeInTime).isNull()}isExistMotionFadeOutTime(){return!this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeOutTime).isNull()}getMotionFadeInTime(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeInTime).toFloat()}getMotionFadeOutTime(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeOutTime).toFloat()}getMotionCurveTarget(o){return this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(Target$1).getRawString()}getMotionCurveId(o){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(Id$2).getRawString())}isExistMotionCurveFadeInTime(o){return!this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(FadeInTime).isNull()}isExistMotionCurveFadeOutTime(o){return!this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(FadeOutTime).isNull()}getMotionCurveFadeInTime(o){return this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(FadeInTime).toFloat()}getMotionCurveFadeOutTime(o){return this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(FadeOutTime).toFloat()}getMotionCurveSegmentCount(o){return this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(Segments).getVector().getSize()}getMotionCurveSegment(o,s){return this._json.getRoot().getValueByString(Curves).getValueByIndex(o).getValueByString(Segments).getValueByIndex(s).toFloat()}getEventCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(UserDataCount$1).toInt()}getTotalEventValueSize(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalUserDataSize$1).toInt()}getEventTime(o){return this._json.getRoot().getValueByString(UserData$1).getValueByIndex(o).getValueByString(Time).toFloat()}getEventValue(o){return new csmString(this._json.getRoot().getValueByString(UserData$1).getValueByIndex(o).getValueByString(Value$1).getRawString())}}var EvaluationOptionFlag=(i=>(i[i.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",i))(EvaluationOptionFlag||{}),Live2DCubismFramework$d;(i=>{i.CubismMotionJson=CubismMotionJson})(Live2DCubismFramework$d||(Live2DCubismFramework$d={}));const EffectNameEyeBlink="EyeBlink",EffectNameLipSync="LipSync",TargetNameModel="Model",TargetNameParameter="Parameter",TargetNamePartOpacity="PartOpacity",IdNameOpacity="Opacity",UseOldBeziersCurveMotion=!1;function lerpPoints(i,o,s){const a=new CubismMotionPoint;return a.time=i.time+(o.time-i.time)*s,a.value=i.value+(o.value-i.value)*s,a}function linearEvaluate(i,o){let s=(o-i[0].time)/(i[1].time-i[0].time);return s<0&&(s=0),i[0].value+(i[1].value-i[0].value)*s}function bezierEvaluate(i,o){let s=(o-i[0].time)/(i[3].time-i[0].time);s<0&&(s=0);const a=lerpPoints(i[0],i[1],s),_=lerpPoints(i[1],i[2],s),$=lerpPoints(i[2],i[3],s),_e=lerpPoints(a,_,s),tt=lerpPoints(_,$,s);return lerpPoints(_e,tt,s).value}function bezierEvaluateCardanoInterpretation(i,o){const s=o,a=i[0].time,_=i[3].time,$=i[1].time,_e=i[2].time,tt=_-3*_e+3*$-a,nt=3*_e-6*$+3*a,it=3*$-3*a,ot=a-s,et=CubismMath.cardanoAlgorithmForBezier(tt,nt,it,ot),j=lerpPoints(i[0],i[1],et),rt=lerpPoints(i[1],i[2],et),st=lerpPoints(i[2],i[3],et),at=lerpPoints(j,rt,et),lt=lerpPoints(rt,st,et);return lerpPoints(at,lt,et).value}function steppedEvaluate(i,o){return i[0].value}function inverseSteppedEvaluate(i,o){return i[1].value}function evaluateCurve(i,o,s){const a=i.curves.at(o);let _=-1;const $=a.baseSegmentIndex+a.segmentCount;let _e=0;for(let nt=a.baseSegmentIndex;nt<$;++nt)if(_e=i.segments.at(nt).basePointIndex+(i.segments.at(nt).segmentType==CubismMotionSegmentType.CubismMotionSegmentType_Bezier?3:1),i.points.at(_e).time>s){_=nt;break}if(_==-1)return i.points.at(_e).value;const tt=i.segments.at(_);return tt.evaluate(i.points.get(tt.basePointIndex),s)}class CubismMotion extends ACubismMotion{constructor(){super();xt(this,"_sourceFrameRate");xt(this,"_loopDurationSeconds");xt(this,"_isLoop");xt(this,"_isLoopFadeIn");xt(this,"_lastWeight");xt(this,"_motionData");xt(this,"_eyeBlinkParameterIds");xt(this,"_lipSyncParameterIds");xt(this,"_modelCurveIdEyeBlink");xt(this,"_modelCurveIdLipSync");xt(this,"_modelCurveIdOpacity");xt(this,"_modelOpacity");this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._motionData=null,this._modelCurveIdEyeBlink=null,this._modelCurveIdLipSync=null,this._modelCurveIdOpacity=null,this._eyeBlinkParameterIds=null,this._lipSyncParameterIds=null,this._modelOpacity=1}static create(s,a,_){const $=new CubismMotion;return $.parse(s,a),$._sourceFrameRate=$._motionData.fps,$._loopDurationSeconds=$._motionData.duration,$._onFinishedMotion=_,$}doUpdateParameters(s,a,_,$){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=CubismFramework.getIdManager().getId(EffectNameEyeBlink)),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=CubismFramework.getIdManager().getId(EffectNameLipSync)),this._modelCurveIdOpacity==null&&(this._modelCurveIdOpacity=CubismFramework.getIdManager().getId(IdNameOpacity));let _e=a-$.getStartTime();_e<0&&(_e=0);let tt=Number.MAX_VALUE,nt=Number.MAX_VALUE;const it=64;let ot=0,et=0;this._eyeBlinkParameterIds.getSize()>it&&CubismLogDebug("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>it&&CubismLogDebug("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());const j=this._fadeInSeconds<=0?1:CubismMath.getEasingSine((a-$.getFadeInStartTime())/this._fadeInSeconds),rt=this._fadeOutSeconds<=0||$.getEndTime()<0?1:CubismMath.getEasingSine(($.getEndTime()-a)/this._fadeOutSeconds);let st,at,lt,ct=_e;if(this._isLoop)for(;ct>this._motionData.duration;)ct-=this._motionData.duration;const ut=this._motionData.curves;for(at=0;at<this._motionData.curveCount&&ut.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model;++at)st=evaluateCurve(this._motionData,at,ct),ut.at(at).id==this._modelCurveIdEyeBlink?nt=st:ut.at(at).id==this._modelCurveIdLipSync?tt=st:ut.at(at).id==this._modelCurveIdOpacity&&(this._modelOpacity=st,s.setModelOapcity(this.getModelOpacityValue()));for(;at<this._motionData.curveCount&&ut.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;++at){if(lt=s.getParameterIndex(ut.at(at).id),lt==-1)continue;const dt=s.getParameterValueByIndex(lt);if(st=evaluateCurve(this._motionData,at,ct),nt!=Number.MAX_VALUE){for(let ht=0;ht<this._eyeBlinkParameterIds.getSize()&&ht<it;++ht)if(this._eyeBlinkParameterIds.at(ht)==ut.at(at).id){st*=nt,et|=1<<ht;break}}if(tt!=Number.MAX_VALUE){for(let ht=0;ht<this._lipSyncParameterIds.getSize()&&ht<it;++ht)if(this._lipSyncParameterIds.at(ht)==ut.at(at).id){st+=tt,ot|=1<<ht;break}}let ft;if(ut.at(at).fadeInTime<0&&ut.at(at).fadeOutTime<0)ft=dt+(st-dt)*_;else{let ht,mt;ut.at(at).fadeInTime<0?ht=j:ht=ut.at(at).fadeInTime==0?1:CubismMath.getEasingSine((a-$.getFadeInStartTime())/ut.at(at).fadeInTime),ut.at(at).fadeOutTime<0?mt=rt:mt=ut.at(at).fadeOutTime==0||$.getEndTime()<0?1:CubismMath.getEasingSine(($.getEndTime()-a)/ut.at(at).fadeOutTime);const bt=this._weight*ht*mt;ft=dt+(st-dt)*bt}s.setParameterValueByIndex(lt,ft,1)}{if(nt!=Number.MAX_VALUE)for(let dt=0;dt<this._eyeBlinkParameterIds.getSize()&&dt<it;++dt){const ft=s.getParameterValueById(this._eyeBlinkParameterIds.at(dt));if(et>>dt&1)continue;const ht=ft+(nt-ft)*_;s.setParameterValueById(this._eyeBlinkParameterIds.at(dt),ht)}if(tt!=Number.MAX_VALUE)for(let dt=0;dt<this._lipSyncParameterIds.getSize()&&dt<it;++dt){const ft=s.getParameterValueById(this._lipSyncParameterIds.at(dt));if(ot>>dt&1)continue;const ht=ft+(tt-ft)*_;s.setParameterValueById(this._lipSyncParameterIds.at(dt),ht)}}for(;at<this._motionData.curveCount&&ut.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;++at)lt=s.getParameterIndex(ut.at(at).id),lt!=-1&&(st=evaluateCurve(this._motionData,at,ct),s.setParameterValueByIndex(lt,st));_e>=this._motionData.duration&&(this._isLoop?($.setStartTime(a),this._isLoopFadeIn&&$.setFadeInStartTime(a)):(this._onFinishedMotion&&this._onFinishedMotion(this),$.setIsFinished(!0))),this._lastWeight=_}setIsLoop(s){this._isLoop=s}isLoop(){return this._isLoop}setIsLoopFadeIn(s){this._isLoopFadeIn=s}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(s,a){const _=this._motionData.curves;for(let $=0;$<this._motionData.curveCount;++$)if(s==_.at($).id){_.at($).fadeInTime=a;return}}setParameterFadeOutTime(s,a){const _=this._motionData.curves;for(let $=0;$<this._motionData.curveCount;++$)if(s==_.at($).id){_.at($).fadeOutTime=a;return}}getParameterFadeInTime(s){const a=this._motionData.curves;for(let _=0;_<this._motionData.curveCount;++_)if(s==a.at(_).id)return a.at(_).fadeInTime;return-1}getParameterFadeOutTime(s){const a=this._motionData.curves;for(let _=0;_<this._motionData.curveCount;++_)if(s==a.at(_).id)return a.at(_).fadeOutTime;return-1}setEffectIds(s,a){this._eyeBlinkParameterIds=s,this._lipSyncParameterIds=a}release(){this._motionData=void 0,this._motionData=null}parse(s,a){this._motionData=new CubismMotionData;let _=new CubismMotionJson(s,a);if(!_){_.release(),_=void 0;return}this._motionData.duration=_.getMotionDuration(),this._motionData.loop=_.isMotionLoop(),this._motionData.curveCount=_.getMotionCurveCount(),this._motionData.fps=_.getMotionFps(),this._motionData.eventCount=_.getEventCount();const $=_.getEvaluationOptionFlag(EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted);_.isExistMotionFadeInTime()?this._fadeInSeconds=_.getMotionFadeInTime()<0?1:_.getMotionFadeInTime():this._fadeInSeconds=1,_.isExistMotionFadeOutTime()?this._fadeOutSeconds=_.getMotionFadeOutTime()<0?1:_.getMotionFadeOutTime():this._fadeOutSeconds=1,this._motionData.curves.updateSize(this._motionData.curveCount,CubismMotionCurve,!0),this._motionData.segments.updateSize(_.getMotionTotalSegmentCount(),CubismMotionSegment,!0),this._motionData.points.updateSize(_.getMotionTotalPointCount(),CubismMotionPoint,!0),this._motionData.events.updateSize(this._motionData.eventCount,CubismMotionEvent,!0);let _e=0,tt=0;for(let nt=0;nt<this._motionData.curveCount;++nt){_.getMotionCurveTarget(nt)==TargetNameModel?this._motionData.curves.at(nt).type=CubismMotionCurveTarget.CubismMotionCurveTarget_Model:_.getMotionCurveTarget(nt)==TargetNameParameter?this._motionData.curves.at(nt).type=CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter:_.getMotionCurveTarget(nt)==TargetNamePartOpacity?this._motionData.curves.at(nt).type=CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity:CubismLogWarning('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!'),this._motionData.curves.at(nt).id=_.getMotionCurveId(nt),this._motionData.curves.at(nt).baseSegmentIndex=tt,this._motionData.curves.at(nt).fadeInTime=_.isExistMotionCurveFadeInTime(nt)?_.getMotionCurveFadeInTime(nt):-1,this._motionData.curves.at(nt).fadeOutTime=_.isExistMotionCurveFadeOutTime(nt)?_.getMotionCurveFadeOutTime(nt):-1;for(let it=0;it<_.getMotionCurveSegmentCount(nt);){switch(it==0?(this._motionData.segments.at(tt).basePointIndex=_e,this._motionData.points.at(_e).time=_.getMotionCurveSegment(nt,it),this._motionData.points.at(_e).value=_.getMotionCurveSegment(nt,it+1),_e+=1,it+=2):this._motionData.segments.at(tt).basePointIndex=_e-1,_.getMotionCurveSegment(nt,it)){case CubismMotionSegmentType.CubismMotionSegmentType_Linear:{this._motionData.segments.at(tt).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Linear,this._motionData.segments.at(tt).evaluate=linearEvaluate,this._motionData.points.at(_e).time=_.getMotionCurveSegment(nt,it+1),this._motionData.points.at(_e).value=_.getMotionCurveSegment(nt,it+2),_e+=1,it+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_Bezier:{this._motionData.segments.at(tt).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Bezier,$||UseOldBeziersCurveMotion?this._motionData.segments.at(tt).evaluate=bezierEvaluate:this._motionData.segments.at(tt).evaluate=bezierEvaluateCardanoInterpretation,this._motionData.points.at(_e).time=_.getMotionCurveSegment(nt,it+1),this._motionData.points.at(_e).value=_.getMotionCurveSegment(nt,it+2),this._motionData.points.at(_e+1).time=_.getMotionCurveSegment(nt,it+3),this._motionData.points.at(_e+1).value=_.getMotionCurveSegment(nt,it+4),this._motionData.points.at(_e+2).time=_.getMotionCurveSegment(nt,it+5),this._motionData.points.at(_e+2).value=_.getMotionCurveSegment(nt,it+6),_e+=3,it+=7;break}case CubismMotionSegmentType.CubismMotionSegmentType_Stepped:{this._motionData.segments.at(tt).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Stepped,this._motionData.segments.at(tt).evaluate=steppedEvaluate,this._motionData.points.at(_e).time=_.getMotionCurveSegment(nt,it+1),this._motionData.points.at(_e).value=_.getMotionCurveSegment(nt,it+2),_e+=1,it+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped:{this._motionData.segments.at(tt).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(tt).evaluate=inverseSteppedEvaluate,this._motionData.points.at(_e).time=_.getMotionCurveSegment(nt,it+1),this._motionData.points.at(_e).value=_.getMotionCurveSegment(nt,it+2),_e+=1,it+=3;break}default:{CSM_ASSERT(0);break}}++this._motionData.curves.at(nt).segmentCount,++tt}}for(let nt=0;nt<_.getEventCount();++nt)this._motionData.events.at(nt).fireTime=_.getEventTime(nt),this._motionData.events.at(nt).value=_.getEventValue(nt);_.release(),_=void 0,_=null}getFiredEvent(s,a){this._firedEventValues.updateSize(0);for(let _=0;_<this._motionData.eventCount;++_)this._motionData.events.at(_).fireTime>s&&this._motionData.events.at(_).fireTime<=a&&this._firedEventValues.pushBack(new csmString(this._motionData.events.at(_).value.s));return this._firedEventValues}isExistModelOpacity(){for(let s=0;s<this._motionData.curveCount;s++){const a=this._motionData.curves.at(s);if(a.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&a.id.getString().s.localeCompare(IdNameOpacity)==0)return!0}return!1}getModelOpacityIndex(){if(this.isExistModelOpacity())for(let s=0;s<this._motionData.curveCount;s++){const a=this._motionData.curves.at(s);if(a.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&a.id.getString().s.localeCompare(IdNameOpacity)==0)return s}return-1}getModelOpacityId(s){if(s!=-1){const a=this._motionData.curves.at(s);if(a.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&a.id.getString().s.localeCompare(IdNameOpacity)==0)return CubismFramework.getIdManager().getId(a.id.getString().s)}return null}getModelOpacityValue(){return this._modelOpacity}}var Live2DCubismFramework$c;(i=>{i.CubismMotion=CubismMotion})(Live2DCubismFramework$c||(Live2DCubismFramework$c={}));class CubismMotionManager extends CubismMotionQueueManager{constructor(){super();xt(this,"_currentPriority");xt(this,"_reservePriority");this._currentPriority=0,this._reservePriority=0}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}setReservePriority(s){this._reservePriority=s}startMotionPriority(s,a,_){return _==this._reservePriority&&(this._reservePriority=0),this._currentPriority=_,super.startMotion(s,a)}updateMotion(s,a){this._userTimeSeconds+=a;const _=super.doUpdateMotion(s,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),_}reserveMotion(s){return s<=this._reservePriority||s<=this._currentPriority?!1:(this._reservePriority=s,!0)}}var Live2DCubismFramework$b;(i=>{i.CubismMotionManager=CubismMotionManager})(Live2DCubismFramework$b||(Live2DCubismFramework$b={}));var CubismPhysicsTargetType=(i=>(i[i.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",i))(CubismPhysicsTargetType||{}),CubismPhysicsSource=(i=>(i[i.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",i[i.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",i[i.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",i))(CubismPhysicsSource||{});class PhysicsJsonEffectiveForces{constructor(){xt(this,"gravity");xt(this,"wind");this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0)}}class CubismPhysicsParameter{constructor(){xt(this,"id");xt(this,"targetType")}}class CubismPhysicsNormalization{constructor(){xt(this,"minimum");xt(this,"maximum");xt(this,"defalut")}}class CubismPhysicsParticle{constructor(){xt(this,"initialPosition");xt(this,"mobility");xt(this,"delay");xt(this,"acceleration");xt(this,"radius");xt(this,"position");xt(this,"lastPosition");xt(this,"lastGravity");xt(this,"force");xt(this,"velocity");this.initialPosition=new CubismVector2(0,0),this.position=new CubismVector2(0,0),this.lastPosition=new CubismVector2(0,0),this.lastGravity=new CubismVector2(0,0),this.force=new CubismVector2(0,0),this.velocity=new CubismVector2(0,0)}}class CubismPhysicsSubRig{constructor(){xt(this,"inputCount");xt(this,"outputCount");xt(this,"particleCount");xt(this,"baseInputIndex");xt(this,"baseOutputIndex");xt(this,"baseParticleIndex");xt(this,"normalizationPosition");xt(this,"normalizationAngle");this.normalizationPosition=new CubismPhysicsNormalization,this.normalizationAngle=new CubismPhysicsNormalization}}class CubismPhysicsInput{constructor(){xt(this,"source");xt(this,"sourceParameterIndex");xt(this,"weight");xt(this,"type");xt(this,"reflect");xt(this,"getNormalizedParameterValue");this.source=new CubismPhysicsParameter}}class CubismPhysicsOutput{constructor(){xt(this,"destination");xt(this,"destinationParameterIndex");xt(this,"vertexIndex");xt(this,"translationScale");xt(this,"angleScale");xt(this,"weight");xt(this,"type");xt(this,"reflect");xt(this,"valueBelowMinimum");xt(this,"valueExceededMaximum");xt(this,"getValue");xt(this,"getScale");this.destination=new CubismPhysicsParameter,this.translationScale=new CubismVector2(0,0)}}class CubismPhysicsRig{constructor(){xt(this,"subRigCount");xt(this,"settings");xt(this,"inputs");xt(this,"outputs");xt(this,"particles");xt(this,"gravity");xt(this,"wind");xt(this,"fps");this.settings=new csmVector,this.inputs=new csmVector,this.outputs=new csmVector,this.particles=new csmVector,this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0),this.fps=0}}var Live2DCubismFramework$a;(i=>{i.CubismPhysicsInput=CubismPhysicsInput,i.CubismPhysicsNormalization=CubismPhysicsNormalization,i.CubismPhysicsOutput=CubismPhysicsOutput,i.CubismPhysicsParameter=CubismPhysicsParameter,i.CubismPhysicsParticle=CubismPhysicsParticle,i.CubismPhysicsRig=CubismPhysicsRig,i.CubismPhysicsSource=CubismPhysicsSource,i.CubismPhysicsSubRig=CubismPhysicsSubRig,i.CubismPhysicsTargetType=CubismPhysicsTargetType,i.PhysicsJsonEffectiveForces=PhysicsJsonEffectiveForces})(Live2DCubismFramework$a||(Live2DCubismFramework$a={}));const Position="Position",X="X",Y="Y",Angle="Angle",Type="Type",Id$1="Id",Meta$1="Meta",EffectiveForces="EffectiveForces",TotalInputCount="TotalInputCount",TotalOutputCount="TotalOutputCount",PhysicsSettingCount="PhysicsSettingCount",Gravity="Gravity",Wind="Wind",VertexCount="VertexCount",Fps="Fps",PhysicsSettings="PhysicsSettings",Normalization="Normalization",Minimum="Minimum",Maximum="Maximum",Default="Default",Reflect$1="Reflect",Weight="Weight",Input="Input",Source="Source",Output="Output",Scale="Scale",VertexIndex="VertexIndex",Destination="Destination",Vertices="Vertices",Mobility="Mobility",Delay="Delay",Radius="Radius",Acceleration="Acceleration";class CubismPhysicsJson{constructor(o,s){xt(this,"_json");this._json=CubismJson.create(o,s)}release(){CubismJson.delete(this._json)}getGravity(){const o=new CubismVector2(0,0);return o.x=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Gravity).getValueByString(X).toFloat(),o.y=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Gravity).getValueByString(Y).toFloat(),o}getWind(){const o=new CubismVector2(0,0);return o.x=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Wind).getValueByString(X).toFloat(),o.y=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Wind).getValueByString(Y).toFloat(),o}getFps(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(Fps).toFloat(0)}getSubRigCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(PhysicsSettingCount).toInt()}getTotalInputCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(TotalInputCount).toInt()}getTotalOutputCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(TotalOutputCount).toInt()}getVertexCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(VertexCount).toInt()}getNormalizationPositionMinimumValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Position).getValueByString(Minimum).toFloat()}getNormalizationPositionMaximumValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Position).getValueByString(Maximum).toFloat()}getNormalizationPositionDefaultValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Position).getValueByString(Default).toFloat()}getNormalizationAngleMinimumValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Angle).getValueByString(Minimum).toFloat()}getNormalizationAngleMaximumValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Angle).getValueByString(Maximum).toFloat()}getNormalizationAngleDefaultValue(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Normalization).getValueByString(Angle).getValueByString(Default).toFloat()}getInputCount(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Input).getVector().getSize()}getInputWeight(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Input).getValueByIndex(s).getValueByString(Weight).toFloat()}getInputReflect(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Input).getValueByIndex(s).getValueByString(Reflect$1).toBoolean()}getInputType(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Input).getValueByIndex(s).getValueByString(Type).getRawString()}getInputSourceId(o,s){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Input).getValueByIndex(s).getValueByString(Source).getValueByString(Id$1).getRawString())}getOutputCount(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getVector().getSize()}getOutputVertexIndex(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(VertexIndex).toInt()}getOutputAngleScale(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(Scale).toFloat()}getOutputWeight(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(Weight).toFloat()}getOutputDestinationId(o,s){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(Destination).getValueByString(Id$1).getRawString())}getOutputType(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(Type).getRawString()}getOutputReflect(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Output).getValueByIndex(s).getValueByString(Reflect$1).toBoolean()}getParticleCount(o){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getVector().getSize()}getParticleMobility(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Mobility).toFloat()}getParticleDelay(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Delay).toFloat()}getParticleAcceleration(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Acceleration).toFloat()}getParticleRadius(o,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Radius).toFloat()}getParticlePosition(o,s){const a=new CubismVector2(0,0);return a.x=this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Position).getValueByString(X).toFloat(),a.y=this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(o).getValueByString(Vertices).getValueByIndex(s).getValueByString(Position).getValueByString(Y).toFloat(),a}}var Live2DCubismFramework$9;(i=>{i.CubismPhysicsJson=CubismPhysicsJson})(Live2DCubismFramework$9||(Live2DCubismFramework$9={}));const PhysicsTypeTagX="X",PhysicsTypeTagY="Y",PhysicsTypeTagAngle="Angle",AirResistance=5,MaximumWeight=100,MovementThreshold=.001,MaxDeltaTime=5;class CubismPhysics{constructor(){xt(this,"_physicsRig");xt(this,"_options");xt(this,"_currentRigOutputs");xt(this,"_previousRigOutputs");xt(this,"_currentRemainTime");xt(this,"_parameterCaches");xt(this,"_parameterInputCaches");this._physicsRig=null,this._options=new Options,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0,this._currentRigOutputs=new csmVector,this._previousRigOutputs=new csmVector,this._currentRemainTime=0,this._parameterCaches=null,this._parameterInputCaches=null}static create(o,s){const a=new CubismPhysics;return a.parse(o,s),a._physicsRig.gravity.y=0,a}static delete(o){o!=null&&(o.release(),o=null)}parse(o,s){this._physicsRig=new CubismPhysicsRig;let a=new CubismPhysicsJson(o,s);this._physicsRig.gravity=a.getGravity(),this._physicsRig.wind=a.getWind(),this._physicsRig.subRigCount=a.getSubRigCount(),this._physicsRig.fps=a.getFps(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,CubismPhysicsSubRig,!0),this._physicsRig.inputs.updateSize(a.getTotalInputCount(),CubismPhysicsInput,!0),this._physicsRig.outputs.updateSize(a.getTotalOutputCount(),CubismPhysicsOutput,!0),this._physicsRig.particles.updateSize(a.getVertexCount(),CubismPhysicsParticle,!0),this._currentRigOutputs.clear(),this._previousRigOutputs.clear();let _=0,$=0,_e=0;for(let tt=0;tt<this._physicsRig.settings.getSize();++tt){this._physicsRig.settings.at(tt).normalizationPosition.minimum=a.getNormalizationPositionMinimumValue(tt),this._physicsRig.settings.at(tt).normalizationPosition.maximum=a.getNormalizationPositionMaximumValue(tt),this._physicsRig.settings.at(tt).normalizationPosition.defalut=a.getNormalizationPositionDefaultValue(tt),this._physicsRig.settings.at(tt).normalizationAngle.minimum=a.getNormalizationAngleMinimumValue(tt),this._physicsRig.settings.at(tt).normalizationAngle.maximum=a.getNormalizationAngleMaximumValue(tt),this._physicsRig.settings.at(tt).normalizationAngle.defalut=a.getNormalizationAngleDefaultValue(tt),this._physicsRig.settings.at(tt).inputCount=a.getInputCount(tt),this._physicsRig.settings.at(tt).baseInputIndex=_;for(let ot=0;ot<this._physicsRig.settings.at(tt).inputCount;++ot)this._physicsRig.inputs.at(_+ot).sourceParameterIndex=-1,this._physicsRig.inputs.at(_+ot).weight=a.getInputWeight(tt,ot),this._physicsRig.inputs.at(_+ot).reflect=a.getInputReflect(tt,ot),a.getInputType(tt,ot)==PhysicsTypeTagX?(this._physicsRig.inputs.at(_+ot).type=CubismPhysicsSource.CubismPhysicsSource_X,this._physicsRig.inputs.at(_+ot).getNormalizedParameterValue=getInputTranslationXFromNormalizedParameterValue):a.getInputType(tt,ot)==PhysicsTypeTagY?(this._physicsRig.inputs.at(_+ot).type=CubismPhysicsSource.CubismPhysicsSource_Y,this._physicsRig.inputs.at(_+ot).getNormalizedParameterValue=getInputTranslationYFromNormalizedParamterValue):a.getInputType(tt,ot)==PhysicsTypeTagAngle&&(this._physicsRig.inputs.at(_+ot).type=CubismPhysicsSource.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(_+ot).getNormalizedParameterValue=getInputAngleFromNormalizedParameterValue),this._physicsRig.inputs.at(_+ot).source.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(_+ot).source.id=a.getInputSourceId(tt,ot);_+=this._physicsRig.settings.at(tt).inputCount,this._physicsRig.settings.at(tt).outputCount=a.getOutputCount(tt),this._physicsRig.settings.at(tt).baseOutputIndex=$;const nt=new PhysicsOutput;nt.outputs.resize(this._physicsRig.settings.at(tt).outputCount);const it=new PhysicsOutput;it.outputs.resize(this._physicsRig.settings.at(tt).outputCount);for(let ot=0;ot<this._physicsRig.settings.at(tt).outputCount;++ot)nt.outputs.set(ot,0),it.outputs.set(ot,0),this._physicsRig.outputs.at($+ot).destinationParameterIndex=-1,this._physicsRig.outputs.at($+ot).vertexIndex=a.getOutputVertexIndex(tt,ot),this._physicsRig.outputs.at($+ot).angleScale=a.getOutputAngleScale(tt,ot),this._physicsRig.outputs.at($+ot).weight=a.getOutputWeight(tt,ot),this._physicsRig.outputs.at($+ot).destination.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at($+ot).destination.id=a.getOutputDestinationId(tt,ot),a.getOutputType(tt,ot)==PhysicsTypeTagX?(this._physicsRig.outputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_X,this._physicsRig.outputs.at($+ot).getValue=getOutputTranslationX,this._physicsRig.outputs.at($+ot).getScale=getOutputScaleTranslationX):a.getOutputType(tt,ot)==PhysicsTypeTagY?(this._physicsRig.outputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_Y,this._physicsRig.outputs.at($+ot).getValue=getOutputTranslationY,this._physicsRig.outputs.at($+ot).getScale=getOutputScaleTranslationY):a.getOutputType(tt,ot)==PhysicsTypeTagAngle&&(this._physicsRig.outputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_Angle,this._physicsRig.outputs.at($+ot).getValue=getOutputAngle,this._physicsRig.outputs.at($+ot).getScale=getOutputScaleAngle),this._physicsRig.outputs.at($+ot).reflect=a.getOutputReflect(tt,ot);this._currentRigOutputs.pushBack(nt),this._previousRigOutputs.pushBack(it),$+=this._physicsRig.settings.at(tt).outputCount,this._physicsRig.settings.at(tt).particleCount=a.getParticleCount(tt),this._physicsRig.settings.at(tt).baseParticleIndex=_e;for(let ot=0;ot<this._physicsRig.settings.at(tt).particleCount;++ot)this._physicsRig.particles.at(_e+ot).mobility=a.getParticleMobility(tt,ot),this._physicsRig.particles.at(_e+ot).delay=a.getParticleDelay(tt,ot),this._physicsRig.particles.at(_e+ot).acceleration=a.getParticleAcceleration(tt,ot),this._physicsRig.particles.at(_e+ot).radius=a.getParticleRadius(tt,ot),this._physicsRig.particles.at(_e+ot).position=a.getParticlePosition(tt,ot);_e+=this._physicsRig.settings.at(tt).particleCount}this.initialize(),a.release(),a=void 0,a=null}stabilization(o){var at,lt;let s,a,_,$;const _e=new CubismVector2;let tt,nt,it,ot;const et=o.getModel().parameters.values,j=o.getModel().parameters.maximumValues,rt=o.getModel().parameters.minimumValues,st=o.getModel().parameters.defaultValues;(((at=this._parameterCaches)==null?void 0:at.length)??0)<o.getParameterCount()&&(this._parameterCaches=new Float32Array(o.getParameterCount())),(((lt=this._parameterInputCaches)==null?void 0:lt.length)??0)<o.getParameterCount()&&(this._parameterInputCaches=new Float32Array(o.getParameterCount()));for(let ct=0;ct<o.getParameterCount();++ct)this._parameterCaches[ct]=et[ct],this._parameterInputCaches[ct]=et[ct];for(let ct=0;ct<this._physicsRig.subRigCount;++ct){s={angle:0},_e.x=0,_e.y=0,tt=this._physicsRig.settings.at(ct),nt=this._physicsRig.inputs.get(tt.baseInputIndex),it=this._physicsRig.outputs.get(tt.baseOutputIndex),ot=this._physicsRig.particles.get(tt.baseParticleIndex);for(let ut=0;ut<tt.inputCount;++ut)a=nt[ut].weight/MaximumWeight,nt[ut].sourceParameterIndex==-1&&(nt[ut].sourceParameterIndex=o.getParameterIndex(nt[ut].source.id)),nt[ut].getNormalizedParameterValue(_e,s,et[nt[ut].sourceParameterIndex],rt[nt[ut].sourceParameterIndex],j[nt[ut].sourceParameterIndex],st[nt[ut].sourceParameterIndex],tt.normalizationPosition,tt.normalizationAngle,nt[ut].reflect,a),this._parameterCaches[nt[ut].sourceParameterIndex]=et[nt[ut].sourceParameterIndex];_=CubismMath.degreesToRadian(-s.angle),_e.x=_e.x*CubismMath.cos(_)-_e.y*CubismMath.sin(_),_e.y=_e.x*CubismMath.sin(_)+_e.y*CubismMath.cos(_),updateParticlesForStabilization(ot,tt.particleCount,_e,s.angle,this._options.wind,MovementThreshold*tt.normalizationPosition.maximum);for(let ut=0;ut<tt.outputCount;++ut){const dt=it[ut].vertexIndex;if(it[ut].destinationParameterIndex==-1&&(it[ut].destinationParameterIndex=o.getParameterIndex(it[ut].destination.id)),dt<1||dt>=tt.particleCount)continue;let ft=new CubismVector2;ft=ot[dt].position.substract(ot[dt-1].position),$=it[ut].getValue(ft,ot,dt,it[ut].reflect,this._options.gravity),this._currentRigOutputs.at(ct).outputs.set(ut,$),this._previousRigOutputs.at(ct).outputs.set(ut,$);const ht=it[ut].destinationParameterIndex,mt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(et.subarray(ht))):et.slice(ht);updateOutputParameterValue(mt,rt[ht],j[ht],$,it[ut]);for(let bt=ht,yt=0;bt<this._parameterCaches.length;bt++,yt++)et[bt]=this._parameterCaches[bt]=mt[yt]}}}evaluate(o,s){var ut,dt;let a,_,$,_e;const tt=new CubismVector2;let nt,it,ot,et;if(0>=s)return;const j=o.getModel().parameters.values,rt=o.getModel().parameters.maximumValues,st=o.getModel().parameters.minimumValues,at=o.getModel().parameters.defaultValues;let lt;if(this._currentRemainTime+=s,this._currentRemainTime>MaxDeltaTime&&(this._currentRemainTime=0),(((ut=this._parameterCaches)==null?void 0:ut.length)??0)<o.getParameterCount()&&(this._parameterCaches=new Float32Array(o.getParameterCount())),(((dt=this._parameterInputCaches)==null?void 0:dt.length)??0)<o.getParameterCount()){this._parameterInputCaches=new Float32Array(o.getParameterCount());for(let ft=0;ft<o.getParameterCount();++ft)this._parameterInputCaches[ft]=j[ft]}for(this._physicsRig.fps>0?lt=1/this._physicsRig.fps:lt=s;this._currentRemainTime>=lt;){for(let ht=0;ht<this._physicsRig.subRigCount;++ht){nt=this._physicsRig.settings.at(ht),ot=this._physicsRig.outputs.get(nt.baseOutputIndex);for(let mt=0;mt<nt.outputCount;++mt)this._previousRigOutputs.at(ht).outputs.set(mt,this._currentRigOutputs.at(ht).outputs.at(mt))}const ft=lt/this._currentRemainTime;for(let ht=0;ht<o.getParameterCount();++ht)this._parameterCaches[ht]=this._parameterInputCaches[ht]*(1-ft)+j[ht]*ft,this._parameterInputCaches[ht]=this._parameterCaches[ht];for(let ht=0;ht<this._physicsRig.subRigCount;++ht){a={angle:0},tt.x=0,tt.y=0,nt=this._physicsRig.settings.at(ht),it=this._physicsRig.inputs.get(nt.baseInputIndex),ot=this._physicsRig.outputs.get(nt.baseOutputIndex),et=this._physicsRig.particles.get(nt.baseParticleIndex);for(let mt=0;mt<nt.inputCount;++mt)_=it[mt].weight/MaximumWeight,it[mt].sourceParameterIndex==-1&&(it[mt].sourceParameterIndex=o.getParameterIndex(it[mt].source.id)),it[mt].getNormalizedParameterValue(tt,a,this._parameterCaches[it[mt].sourceParameterIndex],st[it[mt].sourceParameterIndex],rt[it[mt].sourceParameterIndex],at[it[mt].sourceParameterIndex],nt.normalizationPosition,nt.normalizationAngle,it[mt].reflect,_);$=CubismMath.degreesToRadian(-a.angle),tt.x=tt.x*CubismMath.cos($)-tt.y*CubismMath.sin($),tt.y=tt.x*CubismMath.sin($)+tt.y*CubismMath.cos($),updateParticles(et,nt.particleCount,tt,a.angle,this._options.wind,MovementThreshold*nt.normalizationPosition.maximum,lt,AirResistance);for(let mt=0;mt<nt.outputCount;++mt){const bt=ot[mt].vertexIndex;if(ot[mt].destinationParameterIndex==-1&&(ot[mt].destinationParameterIndex=o.getParameterIndex(ot[mt].destination.id)),bt<1||bt>=nt.particleCount)continue;const yt=new CubismVector2;yt.x=et[bt].position.x-et[bt-1].position.x,yt.y=et[bt].position.y-et[bt-1].position.y,_e=ot[mt].getValue(yt,et,bt,ot[mt].reflect,this._options.gravity),this._currentRigOutputs.at(ht).outputs.set(mt,_e);const gt=ot[mt].destinationParameterIndex,vt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(this._parameterCaches.subarray(gt))):this._parameterCaches.slice(gt);updateOutputParameterValue(vt,st[gt],rt[gt],_e,ot[mt]);for(let wt=gt,Ct=0;wt<this._parameterCaches.length;wt++,Ct++)this._parameterCaches[wt]=vt[Ct]}}this._currentRemainTime-=lt}const ct=this._currentRemainTime/lt;this.interpolate(o,ct)}interpolate(o,s){let a,_;const $=o.getModel().parameters.values,_e=o.getModel().parameters.maximumValues,tt=o.getModel().parameters.minimumValues;for(let nt=0;nt<this._physicsRig.subRigCount;++nt){_=this._physicsRig.settings.at(nt),a=this._physicsRig.outputs.get(_.baseOutputIndex);for(let it=0;it<_.outputCount;++it){if(a[it].destinationParameterIndex==-1)continue;const ot=a[it].destinationParameterIndex,et=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify($.subarray(ot))):$.slice(ot);updateOutputParameterValue(et,tt[ot],_e[ot],this._previousRigOutputs.at(nt).outputs.at(it)*(1-s)+this._currentRigOutputs.at(nt).outputs.at(it)*s,a[it]);for(let j=ot,rt=0;j<$.length;j++,rt++)$[j]=et[rt]}}}setOptions(o){this._options=o}getOption(){return this._options}release(){this._physicsRig=void 0,this._physicsRig=null}initialize(){let o,s,a;for(let _=0;_<this._physicsRig.subRigCount;++_){s=this._physicsRig.settings.at(_),o=this._physicsRig.particles.get(s.baseParticleIndex),o[0].initialPosition=new CubismVector2(0,0),o[0].lastPosition=new CubismVector2(o[0].initialPosition.x,o[0].initialPosition.y),o[0].lastGravity=new CubismVector2(0,-1),o[0].lastGravity.y*=-1,o[0].velocity=new CubismVector2(0,0),o[0].force=new CubismVector2(0,0);for(let $=1;$<s.particleCount;++$)a=new CubismVector2(0,0),a.y=o[$].radius,o[$].initialPosition=new CubismVector2(o[$-1].initialPosition.x+a.x,o[$-1].initialPosition.y+a.y),o[$].position=new CubismVector2(o[$].initialPosition.x,o[$].initialPosition.y),o[$].lastPosition=new CubismVector2(o[$].initialPosition.x,o[$].initialPosition.y),o[$].lastGravity=new CubismVector2(0,-1),o[$].lastGravity.y*=-1,o[$].velocity=new CubismVector2(0,0),o[$].force=new CubismVector2(0,0)}}}class Options{constructor(){xt(this,"gravity");xt(this,"wind");this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0)}}class PhysicsOutput{constructor(){xt(this,"outputs");this.outputs=new csmVector(0)}}function sign(i){let o=0;return i>0?o=1:i<0&&(o=-1),o}function getInputTranslationXFromNormalizedParameterValue(i,o,s,a,_,$,_e,tt,nt,it){i.x+=normalizeParameterValue(s,a,_,$,_e.minimum,_e.maximum,_e.defalut,nt)*it}function getInputTranslationYFromNormalizedParamterValue(i,o,s,a,_,$,_e,tt,nt,it){i.y+=normalizeParameterValue(s,a,_,$,_e.minimum,_e.maximum,_e.defalut,nt)*it}function getInputAngleFromNormalizedParameterValue(i,o,s,a,_,$,_e,tt,nt,it){o.angle+=normalizeParameterValue(s,a,_,$,tt.minimum,tt.maximum,tt.defalut,nt)*it}function getOutputTranslationX(i,o,s,a,_){let $=i.x;return a&&($*=-1),$}function getOutputTranslationY(i,o,s,a,_){let $=i.y;return a&&($*=-1),$}function getOutputAngle(i,o,s,a,_){let $;return s>=2?_=o[s-1].position.substract(o[s-2].position):_=_.multiplyByScaler(-1),$=CubismMath.directionToRadian(_,i),a&&($*=-1),$}function getRangeValue(i,o){const s=CubismMath.max(i,o),a=CubismMath.min(i,o);return CubismMath.abs(s-a)}function getDefaultValue(i,o){return CubismMath.min(i,o)+getRangeValue(i,o)/2}function getOutputScaleTranslationX(i,o){return JSON.parse(JSON.stringify(i.x))}function getOutputScaleTranslationY(i,o){return JSON.parse(JSON.stringify(i.y))}function getOutputScaleAngle(i,o){return JSON.parse(JSON.stringify(o))}function updateParticles(i,o,s,a,_,$,_e,tt){let nt,it,ot=new CubismVector2(0,0),et=new CubismVector2(0,0),j=new CubismVector2(0,0),rt=new CubismVector2(0,0);i[0].position=new CubismVector2(s.x,s.y);const st=CubismMath.degreesToRadian(a),at=CubismMath.radianToDirection(st);at.normalize();for(let lt=1;lt<o;++lt)i[lt].force=at.multiplyByScaler(i[lt].acceleration).add(_),i[lt].lastPosition=new CubismVector2(i[lt].position.x,i[lt].position.y),nt=i[lt].delay*_e*30,ot=i[lt].position.substract(i[lt-1].position),it=CubismMath.directionToRadian(i[lt].lastGravity,at)/tt,ot.x=CubismMath.cos(it)*ot.x-ot.y*CubismMath.sin(it),ot.y=CubismMath.sin(it)*ot.x+ot.y*CubismMath.cos(it),i[lt].position=i[lt-1].position.add(ot),et=i[lt].velocity.multiplyByScaler(nt),j=i[lt].force.multiplyByScaler(nt).multiplyByScaler(nt),i[lt].position=i[lt].position.add(et).add(j),rt=i[lt].position.substract(i[lt-1].position),rt.normalize(),i[lt].position=i[lt-1].position.add(rt.multiplyByScaler(i[lt].radius)),CubismMath.abs(i[lt].position.x)<$&&(i[lt].position.x=0),nt!=0&&(i[lt].velocity=i[lt].position.substract(i[lt].lastPosition),i[lt].velocity=i[lt].velocity.divisionByScalar(nt),i[lt].velocity=i[lt].velocity.multiplyByScaler(i[lt].mobility)),i[lt].force=new CubismVector2(0,0),i[lt].lastGravity=new CubismVector2(at.x,at.y)}function updateParticlesForStabilization(i,o,s,a,_,$){let _e=new CubismVector2(0,0);i[0].position=new CubismVector2(s.x,s.y);const tt=CubismMath.degreesToRadian(a),nt=CubismMath.radianToDirection(tt);nt.normalize();for(let it=1;it<o;++it)i[it].force=nt.multiplyByScaler(i[it].acceleration).add(_),i[it].lastPosition=new CubismVector2(i[it].position.x,i[it].position.y),i[it].velocity=new CubismVector2(0,0),_e=i[it].force,_e.normalize(),_e=_e.multiplyByScaler(i[it].radius),i[it].position=i[it-1].position.add(_e),CubismMath.abs(i[it].position.x)<$&&(i[it].position.x=0),i[it].force=new CubismVector2(0,0),i[it].lastGravity=new CubismVector2(nt.x,nt.y)}function updateOutputParameterValue(i,o,s,a,_){let $;const _e=_.getScale(_.translationScale,_.angleScale);$=a*_e,$<o?($<_.valueBelowMinimum&&(_.valueBelowMinimum=$),$=o):$>s&&($>_.valueExceededMaximum&&(_.valueExceededMaximum=$),$=s);const tt=_.weight/MaximumWeight;tt>=1||($=i[0]*(1-tt)+$*tt),i[0]=$}function normalizeParameterValue(i,o,s,a,_,$,_e,tt){let nt=0;const it=CubismMath.max(s,o);it<i&&(i=it);const ot=CubismMath.min(s,o);ot>i&&(i=ot);const et=CubismMath.min(_,$),j=CubismMath.max(_,$),rt=_e,st=getDefaultValue(ot,it),at=i-st;switch(sign(at)){case 1:{const lt=j-rt,ct=it-st;ct!=0&&(nt=at*(lt/ct),nt+=rt);break}case-1:{const lt=et-rt,ct=ot-st;ct!=0&&(nt=at*(lt/ct),nt+=rt);break}case 0:{nt=rt;break}}return tt?nt:nt*-1}var Live2DCubismFramework$8;(i=>{i.CubismPhysics=CubismPhysics,i.Options=Options})(Live2DCubismFramework$8||(Live2DCubismFramework$8={}));const ColorChannelCount=4,ClippingMaskMaxCountOnDefault=36,ClippingMaskMaxCountOnMultiRenderTexture=32;class CubismClippingManager{constructor(o){xt(this,"_clearedFrameBufferFlags");xt(this,"_channelColors");xt(this,"_clippingContextListForMask");xt(this,"_clippingContextListForDraw");xt(this,"_clippingMaskBufferSize");xt(this,"_renderTextureCount");xt(this,"_tmpMatrix");xt(this,"_tmpMatrixForMask");xt(this,"_tmpMatrixForDraw");xt(this,"_tmpBoundsOnModel");xt(this,"_clippingContexttConstructor");this._renderTextureCount=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new csmVector,this._clippingContextListForDraw=new csmVector,this._channelColors=new csmVector,this._tmpBoundsOnModel=new csmRect,this._tmpMatrix=new CubismMatrix44,this._tmpMatrixForMask=new CubismMatrix44,this._tmpMatrixForDraw=new CubismMatrix44,this._clippingContexttConstructor=o;let s=new CubismTextureColor;s.r=1,s.g=0,s.b=0,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=1,s.b=0,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=0,s.b=1,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=0,s.b=0,s.a=1,this._channelColors.pushBack(s)}release(){for(let o=0;o<this._clippingContextListForMask.getSize();o++)this._clippingContextListForMask.at(o)&&(this._clippingContextListForMask.at(o).release(),this._clippingContextListForMask.set(o,void 0)),this._clippingContextListForMask.set(o,null);this._clippingContextListForMask=null;for(let o=0;o<this._clippingContextListForDraw.getSize();o++)this._clippingContextListForDraw.set(o,null);this._clippingContextListForDraw=null;for(let o=0;o<this._channelColors.getSize();o++)this._channelColors.set(o,null);this._channelColors=null,this._clearedFrameBufferFlags!=null&&this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=null}initialize(o,s){s%1!=0&&(CubismLogWarning("The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer."),s=~~s),s<1&&CubismLogWarning("The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1."),this._renderTextureCount=s<1?1:s,this._clearedFrameBufferFlags=new csmVector(this._renderTextureCount);for(let a=0;a<o.getDrawableCount();a++){if(o.getDrawableMaskCounts()[a]<=0){this._clippingContextListForDraw.pushBack(null);continue}let _=this.findSameClip(o.getDrawableMasks()[a],o.getDrawableMaskCounts()[a]);_==null&&(_=new this._clippingContexttConstructor(this,o.getDrawableMasks()[a],o.getDrawableMaskCounts()[a]),this._clippingContextListForMask.pushBack(_)),_.addClippedDrawable(a),this._clippingContextListForDraw.pushBack(_)}}findSameClip(o,s){for(let a=0;a<this._clippingContextListForMask.getSize();a++){const _=this._clippingContextListForMask.at(a),$=_._clippingIdCount;if($!=s)continue;let _e=0;for(let tt=0;tt<$;tt++){const nt=_._clippingIdList[tt];for(let it=0;it<$;it++)if(o[it]==nt){_e++;break}}if(_e==$)return _}return null}setupMatrixForHighPrecision(o,s){let a=0;for(let _=0;_<this._clippingContextListForMask.getSize();_++){const $=this._clippingContextListForMask.at(_);this.calcClippedDrawTotalBounds(o,$),$._isUsing&&a++}if(a>0){if(this.setupLayoutBounds(0),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount){this._clearedFrameBufferFlags.clear();for(let _=0;_<this._renderTextureCount;_++)this._clearedFrameBufferFlags.pushBack(!1)}else for(let _=0;_<this._renderTextureCount;_++)this._clearedFrameBufferFlags.set(_,!1);for(let _=0;_<this._clippingContextListForMask.getSize();_++){const $=this._clippingContextListForMask.at(_),_e=$._allClippedDrawRect,tt=$._layoutBounds,nt=.05;let it=0,ot=0;const et=o.getPixelsPerUnit(),j=$.getClippingManager().getClippingMaskBufferSize(),rt=tt.width*j,st=tt.height*j;this._tmpBoundsOnModel.setRect(_e),this._tmpBoundsOnModel.width*et>rt?(this._tmpBoundsOnModel.expand(_e.width*nt,0),it=tt.width/this._tmpBoundsOnModel.width):it=et/rt,this._tmpBoundsOnModel.height*et>st?(this._tmpBoundsOnModel.expand(0,_e.height*nt),ot=tt.height/this._tmpBoundsOnModel.height):ot=et/st,this.createMatrixForMask(s,tt,it,ot),$._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),$._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray())}}}createMatrixForMask(o,s,a,_){this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(s.x,s.y),this._tmpMatrix.scaleRelative(a,_),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(s.x,s.y*(o?-1:1)),this._tmpMatrix.scaleRelative(a,_*(o?-1:1)),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray())}setupLayoutBounds(o){const s=this._renderTextureCount<=1?ClippingMaskMaxCountOnDefault:ClippingMaskMaxCountOnMultiRenderTexture*this._renderTextureCount;if(o<=0||o>s){o>s&&CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,o-s,this._renderTextureCount,o);for(let it=0;it<this._clippingContextListForMask.getSize();it++){const ot=this._clippingContextListForMask.at(it);ot._layoutChannelIndex=0,ot._layoutBounds.x=0,ot._layoutBounds.y=0,ot._layoutBounds.width=1,ot._layoutBounds.height=1,ot._bufferIndex=0}return}const a=this._renderTextureCount<=1?9:8;let _=o/this._renderTextureCount;const $=o%this._renderTextureCount;_=Math.ceil(_);let _e=_/ColorChannelCount;const tt=_%ColorChannelCount;_e=~~_e;let nt=0;for(let it=0;it<this._renderTextureCount;it++)for(let ot=0;ot<ColorChannelCount;ot++){let et=_e+(ot<tt?1:0);const j=tt+(_e<1?-1:0);if(ot==j&&$>0&&(et-=it<$?0:1),et!=0)if(et==1){const rt=this._clippingContextListForMask.at(nt++);rt._layoutChannelIndex=ot,rt._layoutBounds.x=0,rt._layoutBounds.y=0,rt._layoutBounds.width=1,rt._layoutBounds.height=1,rt._bufferIndex=it}else if(et==2)for(let rt=0;rt<et;rt++){let st=rt%2;st=~~st;const at=this._clippingContextListForMask.at(nt++);at._layoutChannelIndex=ot,at._layoutBounds.x=st*.5,at._layoutBounds.y=0,at._layoutBounds.width=.5,at._layoutBounds.height=1,at._bufferIndex=it}else if(et<=4)for(let rt=0;rt<et;rt++){let st=rt%2,at=rt/2;st=~~st,at=~~at;const lt=this._clippingContextListForMask.at(nt++);lt._layoutChannelIndex=ot,lt._layoutBounds.x=st*.5,lt._layoutBounds.y=at*.5,lt._layoutBounds.width=.5,lt._layoutBounds.height=.5,lt._bufferIndex=it}else if(et<=a)for(let rt=0;rt<et;rt++){let st=rt%3,at=rt/3;st=~~st,at=~~at;const lt=this._clippingContextListForMask.at(nt++);lt._layoutChannelIndex=ot,lt._layoutBounds.x=st/3,lt._layoutBounds.y=at/3,lt._layoutBounds.width=1/3,lt._layoutBounds.height=1/3,lt._bufferIndex=it}else{CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,o-s,this._renderTextureCount,o);for(let rt=0;rt<et;rt++){const st=this._clippingContextListForMask.at(nt++);st._layoutChannelIndex=0,st._layoutBounds.x=0,st._layoutBounds.y=0,st._layoutBounds.width=1,st._layoutBounds.height=1,st._bufferIndex=0}}}}calcClippedDrawTotalBounds(o,s){let a=Number.MAX_VALUE,_=Number.MAX_VALUE,$=Number.MIN_VALUE,_e=Number.MIN_VALUE;const tt=s._clippedDrawableIndexList.length;for(let nt=0;nt<tt;nt++){const it=s._clippedDrawableIndexList[nt],ot=o.getDrawableVertexCount(it),et=o.getDrawableVertices(it);let j=Number.MAX_VALUE,rt=Number.MAX_VALUE,st=-Number.MAX_VALUE,at=-Number.MAX_VALUE;const lt=ot*Constant.vertexStep;for(let ct=Constant.vertexOffset;ct<lt;ct+=Constant.vertexStep){const ut=et[ct],dt=et[ct+1];ut<j&&(j=ut),ut>st&&(st=ut),dt<rt&&(rt=dt),dt>at&&(at=dt)}if(j!=Number.MAX_VALUE)if(j<a&&(a=j),rt<_&&(_=rt),st>$&&($=st),at>_e&&(_e=at),a==Number.MAX_VALUE)s._allClippedDrawRect.x=0,s._allClippedDrawRect.y=0,s._allClippedDrawRect.width=0,s._allClippedDrawRect.height=0,s._isUsing=!1;else{s._isUsing=!0;const ct=$-a,ut=_e-_;s._allClippedDrawRect.x=a,s._allClippedDrawRect.y=_,s._allClippedDrawRect.width=ct,s._allClippedDrawRect.height=ut}}}getClippingContextListForDraw(){return this._clippingContextListForDraw}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}getRenderTextureCount(){return this._renderTextureCount}getChannelFlagAsColor(o){return this._channelColors.at(o)}setClippingMaskBufferSize(o){this._clippingMaskBufferSize=o}}let s_instance$3;const ShaderCount=10;class CubismShader_WebGL{constructor(){xt(this,"_shaderSets");xt(this,"gl");this._shaderSets=new csmVector}static getInstance(){return s_instance$3==null&&(s_instance$3=new CubismShader_WebGL),s_instance$3}static deleteInstance(){s_instance$3&&(s_instance$3.release(),s_instance$3=null)}release(){this.releaseShaderProgram()}setupShaderProgramForDraw(o,s,a){o.isPremultipliedAlpha()||CubismLogError("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();let _,$,_e,tt;const nt=o.getClippingContextBufferForDraw()!=null,it=s.getDrawableInvertedMaskBit(a),ot=nt?it?2:1:0;let et;switch(s.getDrawableBlendMode(a)){case CubismBlendMode.CubismBlendMode_Normal:default:et=this._shaderSets.at(1+ot),_=this.gl.ONE,$=this.gl.ONE_MINUS_SRC_ALPHA,_e=this.gl.ONE,tt=this.gl.ONE_MINUS_SRC_ALPHA;break;case CubismBlendMode.CubismBlendMode_Additive:et=this._shaderSets.at(4+ot),_=this.gl.ONE,$=this.gl.ONE,_e=this.gl.ZERO,tt=this.gl.ONE;break;case CubismBlendMode.CubismBlendMode_Multiplicative:et=this._shaderSets.at(7+ot),_=this.gl.DST_COLOR,$=this.gl.ONE_MINUS_SRC_ALPHA,_e=this.gl.ZERO,tt=this.gl.ONE;break}this.gl.useProgram(et.shaderProgram),o._bufferData.vertex==null&&(o._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o._bufferData.vertex);const j=s.getDrawableVertices(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,j,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(et.attributePositionLocation),this.gl.vertexAttribPointer(et.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),o._bufferData.uv==null&&(o._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o._bufferData.uv);const rt=s.getDrawableVertexUvs(a);if(this.gl.bufferData(this.gl.ARRAY_BUFFER,rt,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(et.attributeTexCoordLocation),this.gl.vertexAttribPointer(et.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),nt){this.gl.activeTexture(this.gl.TEXTURE1);const ht=o.getClippingContextBufferForDraw().getClippingManager().getColorBuffer().at(o.getClippingContextBufferForDraw()._bufferIndex);this.gl.bindTexture(this.gl.TEXTURE_2D,ht),this.gl.uniform1i(et.samplerTexture1Location,1),this.gl.uniformMatrix4fv(et.uniformClipMatrixLocation,!1,o.getClippingContextBufferForDraw()._matrixForDraw.getArray());const mt=o.getClippingContextBufferForDraw()._layoutChannelIndex,bt=o.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(mt);this.gl.uniform4f(et.uniformChannelFlagLocation,bt.r,bt.g,bt.b,bt.a)}const st=s.getDrawableTextureIndex(a),at=o.getBindedTextures().getValue(st);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,at),this.gl.uniform1i(et.samplerTexture0Location,0);const lt=o.getMvpMatrix();this.gl.uniformMatrix4fv(et.uniformMatrixLocation,!1,lt.getArray());const ct=o.getModelColorWithOpacity(s.getDrawableOpacity(a)),ut=s.getMultiplyColor(a),dt=s.getScreenColor(a);this.gl.uniform4f(et.uniformBaseColorLocation,ct.r,ct.g,ct.b,ct.a),this.gl.uniform4f(et.uniformMultiplyColorLocation,ut.r,ut.g,ut.b,ut.a),this.gl.uniform4f(et.uniformScreenColorLocation,dt.r,dt.g,dt.b,dt.a),o._bufferData.index==null&&(o._bufferData.index=this.gl.createBuffer());const ft=s.getDrawableVertexIndices(a);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,ft,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(_,$,_e,tt)}setupShaderProgramForMask(o,s,a){o.isPremultipliedAlpha()||CubismLogError("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();const _=this._shaderSets.at(0);this.gl.useProgram(_.shaderProgram),o._bufferData.vertex==null&&(o._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o._bufferData.vertex);const $=s.getDrawableVertices(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,$,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributePositionLocation),this.gl.vertexAttribPointer(_.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),o._bufferData.uv==null&&(o._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o._bufferData.uv);const _e=s.getDrawableTextureIndex(a),tt=o.getBindedTextures().getValue(_e);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,tt),this.gl.uniform1i(_.samplerTexture0Location,0),o._bufferData.uv==null&&(o._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o._bufferData.uv);const nt=s.getDrawableVertexUvs(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,nt,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributeTexCoordLocation),this.gl.vertexAttribPointer(_.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),o.getClippingContextBufferForMask();const it=o.getClippingContextBufferForMask()._layoutChannelIndex,ot=o.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(it);this.gl.uniform4f(_.uniformChannelFlagLocation,ot.r,ot.g,ot.b,ot.a),this.gl.uniformMatrix4fv(_.uniformClipMatrixLocation,!1,o.getClippingContextBufferForMask()._matrixForMask.getArray());const et=o.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(_.uniformBaseColorLocation,et.x*2-1,et.y*2-1,et.getRight()*2-1,et.getBottom()*2-1);const j=s.getMultiplyColor(a),rt=s.getScreenColor(a);this.gl.uniform4f(_.uniformMultiplyColorLocation,j.r,j.g,j.b,j.a),this.gl.uniform4f(_.uniformScreenColorLocation,rt.r,rt.g,rt.b,rt.a);const st=this.gl.ZERO,at=this.gl.ONE_MINUS_SRC_COLOR,lt=this.gl.ZERO,ct=this.gl.ONE_MINUS_SRC_ALPHA;o._bufferData.index==null&&(o._bufferData.index=this.gl.createBuffer());const ut=s.getDrawableVertexIndices(a);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,ut,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(st,at,lt,ct)}releaseShaderProgram(){for(let o=0;o<this._shaderSets.getSize();o++)this.gl.deleteProgram(this._shaderSets.at(o).shaderProgram),this._shaderSets.at(o).shaderProgram=0,this._shaderSets.set(o,void 0),this._shaderSets.set(o,null)}generateShaders(){for(let o=0;o<ShaderCount;o++)this._shaderSets.pushBack(new CubismShaderSet);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(vertexShaderSrcSetupMask,fragmentShaderSrcsetupMask),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(vertexShaderSrc,fragmentShaderSrcPremultipliedAlpha),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(0).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_multiplyColor"),this._shaderSets.at(0).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_screenColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(1).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_multiplyColor"),this._shaderSets.at(1).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_screenColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(2).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_multiplyColor"),this._shaderSets.at(2).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_screenColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(3).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_multiplyColor"),this._shaderSets.at(3).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_screenColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(4).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_multiplyColor"),this._shaderSets.at(4).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_screenColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(5).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_multiplyColor"),this._shaderSets.at(5).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_screenColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(6).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_multiplyColor"),this._shaderSets.at(6).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_screenColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(7).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_multiplyColor"),this._shaderSets.at(7).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_screenColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(8).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_multiplyColor"),this._shaderSets.at(8).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_screenColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor"),this._shaderSets.at(9).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_multiplyColor"),this._shaderSets.at(9).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_screenColor")}loadShaderProgram(o,s){let a=this.gl.createProgram(),_=this.compileShaderSource(this.gl.VERTEX_SHADER,o);if(!_)return CubismLogError("Vertex shader compile error!"),0;let $=this.compileShaderSource(this.gl.FRAGMENT_SHADER,s);return $?(this.gl.attachShader(a,_),this.gl.attachShader(a,$),this.gl.linkProgram(a),this.gl.getProgramParameter(a,this.gl.LINK_STATUS)?(this.gl.deleteShader(_),this.gl.deleteShader($),a):(CubismLogError("Failed to link program: {0}",a),this.gl.deleteShader(_),_=0,this.gl.deleteShader($),$=0,a&&(this.gl.deleteProgram(a),a=0),0)):(CubismLogError("Vertex shader compile error!"),0)}compileShaderSource(o,s){const a=s,_=this.gl.createShader(o);if(this.gl.shaderSource(_,a),this.gl.compileShader(_),!_){const _e=this.gl.getShaderInfoLog(_);CubismLogError("Shader compile log: {0} ",_e)}return this.gl.getShaderParameter(_,this.gl.COMPILE_STATUS)?_:(this.gl.deleteShader(_),null)}setGl(o){this.gl=o}}class CubismShaderSet{constructor(){xt(this,"shaderProgram");xt(this,"attributePositionLocation");xt(this,"attributeTexCoordLocation");xt(this,"uniformMatrixLocation");xt(this,"uniformClipMatrixLocation");xt(this,"samplerTexture0Location");xt(this,"samplerTexture1Location");xt(this,"uniformBaseColorLocation");xt(this,"uniformChannelFlagLocation");xt(this,"uniformMultiplyColorLocation");xt(this,"uniformScreenColorLocation")}}var ShaderNames=(i=>(i[i.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",i[i.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",i[i.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",i[i.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",i[i.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",i[i.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",i[i.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",i[i.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",i[i.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",i[i.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",i))(ShaderNames||{});const vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 color = texColor * u_baseColor;   gl_FragColor = vec4(color.rgb, color.a);}",fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2      v_texCoord;varying vec4      v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4      u_channelFlag;uniform vec4      u_baseColor;uniform vec4      u_multiplyColor;uniform vec4      u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * (1.0 - maskVal);   gl_FragColor = col_formask;}";var Live2DCubismFramework$7;(i=>{i.CubismShaderSet=CubismShaderSet,i.CubismShader_WebGL=CubismShader_WebGL,i.ShaderNames=ShaderNames})(Live2DCubismFramework$7||(Live2DCubismFramework$7={}));let s_viewport,s_fbo;class CubismClippingManager_WebGL extends CubismClippingManager{constructor(){super(CubismClippingContext_WebGL);xt(this,"_currentMaskRenderTexture");xt(this,"_maskRenderTextures");xt(this,"_maskColorBuffers");xt(this,"_currentFrameNo");xt(this,"_maskTexture");xt(this,"gl")}getMaskRenderTexture(){if(this._maskTexture&&this._maskTexture.textures!=null)this._maskTexture.frameNo=this._currentFrameNo;else{this._maskRenderTextures!=null&&this._maskRenderTextures.clear(),this._maskRenderTextures=new csmVector,this._maskColorBuffers!=null&&this._maskColorBuffers.clear(),this._maskColorBuffers=new csmVector;const s=this._clippingMaskBufferSize;for(let a=0;a<this._renderTextureCount;a++)this._maskColorBuffers.pushBack(this.gl.createTexture()),this.gl.bindTexture(this.gl.TEXTURE_2D,this._maskColorBuffers.at(a)),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,s,s,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this._maskRenderTextures.pushBack(this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTextures.at(a)),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._maskColorBuffers.at(a),0);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this._maskTexture=new CubismRenderTextureResource(this._currentFrameNo,this._maskRenderTextures)}return this._maskTexture.textures}setGL(s){this.gl=s}setupClippingContext(s,a){this._currentFrameNo++;let _=0;for(let $=0;$<this._clippingContextListForMask.getSize();$++){const _e=this._clippingContextListForMask.at($);this.calcClippedDrawTotalBounds(s,_e),_e._isUsing&&_++}if(_>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._currentMaskRenderTexture=this.getMaskRenderTexture().at(0),a.preDraw(),this.setupLayoutBounds(_),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount&&(this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=new csmVector(this._renderTextureCount));for(let $=0;$<this._clearedFrameBufferFlags.getSize();$++)this._clearedFrameBufferFlags.set($,!1);for(let $=0;$<this._clippingContextListForMask.getSize();$++){const _e=this._clippingContextListForMask.at($),tt=_e._allClippedDrawRect,nt=_e._layoutBounds,it=.05;let ot=0,et=0;const j=this.getMaskRenderTexture().at(_e._bufferIndex);this._currentMaskRenderTexture!=j&&(this._currentMaskRenderTexture=j,a.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),this._tmpBoundsOnModel.setRect(tt),this._tmpBoundsOnModel.expand(tt.width*it,tt.height*it),ot=nt.width/this._tmpBoundsOnModel.width,et=nt.height/this._tmpBoundsOnModel.height,this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(nt.x,nt.y),this._tmpMatrix.scaleRelative(ot,et),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(nt.x,nt.y),this._tmpMatrix.scaleRelative(ot,et),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),_e._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),_e._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const rt=_e._clippingIdCount;for(let st=0;st<rt;st++){const at=_e._clippingIdList[st];s.getDrawableDynamicFlagVertexPositionsDidChange(at)&&(a.setIsCulling(s.getDrawableCulling(at)!=!1),this._clearedFrameBufferFlags.at(_e._bufferIndex)||(this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this._clearedFrameBufferFlags.set(_e._bufferIndex,!0)),a.setClippingContextBufferForMask(_e),a.drawMeshWebGL(s,at))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),a.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3])}}getColorBuffer(){return this._maskColorBuffers}getClippingMaskCount(){return this._clippingContextListForMask.getSize()}}class CubismRenderTextureResource{constructor(o,s){xt(this,"frameNo");xt(this,"textures");this.frameNo=o,this.textures=s}}class CubismClippingContext_WebGL extends CubismClippingContext{constructor(s,a,_){super(a,_);xt(this,"_owner");this._owner=s}getClippingManager(){return this._owner}setGl(s){this._owner.setGL(s)}}class CubismRendererProfile_WebGL{constructor(){xt(this,"_lastArrayBufferBinding");xt(this,"_lastElementArrayBufferBinding");xt(this,"_lastProgram");xt(this,"_lastActiveTexture");xt(this,"_lastTexture0Binding2D");xt(this,"_lastTexture1Binding2D");xt(this,"_lastVertexAttribArrayEnabled");xt(this,"_lastScissorTest");xt(this,"_lastBlend");xt(this,"_lastStencilTest");xt(this,"_lastDepthTest");xt(this,"_lastCullFace");xt(this,"_lastFrontFace");xt(this,"_lastColorMask");xt(this,"_lastBlending");xt(this,"_lastFBO");xt(this,"_lastViewport");xt(this,"gl");this._lastVertexAttribArrayEnabled=new Array(4),this._lastColorMask=new Array(4),this._lastBlending=new Array(4),this._lastViewport=new Array(4)}setGlEnable(o,s){s?this.gl.enable(o):this.gl.disable(o)}setGlEnableVertexAttribArray(o,s){s?this.gl.enableVertexAttribArray(o):this.gl.disableVertexAttribArray(o)}save(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING),this._lastElementArrayBufferBinding=this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING),this._lastProgram=this.gl.getParameter(this.gl.CURRENT_PROGRAM),this._lastActiveTexture=this.gl.getParameter(this.gl.ACTIVE_TEXTURE),this.gl.activeTexture(this.gl.TEXTURE1),this._lastTexture1Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this.gl.activeTexture(this.gl.TEXTURE0),this._lastTexture0Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._lastVertexAttribArrayEnabled[0]=this.gl.getVertexAttrib(0,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[1]=this.gl.getVertexAttrib(1,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[2]=this.gl.getVertexAttrib(2,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[3]=this.gl.getVertexAttrib(3,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastScissorTest=this.gl.isEnabled(this.gl.SCISSOR_TEST),this._lastStencilTest=this.gl.isEnabled(this.gl.STENCIL_TEST),this._lastDepthTest=this.gl.isEnabled(this.gl.DEPTH_TEST),this._lastCullFace=this.gl.isEnabled(this.gl.CULL_FACE),this._lastBlend=this.gl.isEnabled(this.gl.BLEND),this._lastFrontFace=this.gl.getParameter(this.gl.FRONT_FACE),this._lastColorMask=this.gl.getParameter(this.gl.COLOR_WRITEMASK),this._lastBlending[0]=this.gl.getParameter(this.gl.BLEND_SRC_RGB),this._lastBlending[1]=this.gl.getParameter(this.gl.BLEND_DST_RGB),this._lastBlending[2]=this.gl.getParameter(this.gl.BLEND_SRC_ALPHA),this._lastBlending[3]=this.gl.getParameter(this.gl.BLEND_DST_ALPHA),this._lastFBO=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this._lastViewport=this.gl.getParameter(this.gl.VIEWPORT)}restore(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this.gl.useProgram(this._lastProgram),this.setGlEnableVertexAttribArray(0,this._lastVertexAttribArrayEnabled[0]),this.setGlEnableVertexAttribArray(1,this._lastVertexAttribArrayEnabled[1]),this.setGlEnableVertexAttribArray(2,this._lastVertexAttribArrayEnabled[2]),this.setGlEnableVertexAttribArray(3,this._lastVertexAttribArrayEnabled[3]),this.setGlEnable(this.gl.SCISSOR_TEST,this._lastScissorTest),this.setGlEnable(this.gl.STENCIL_TEST,this._lastStencilTest),this.setGlEnable(this.gl.DEPTH_TEST,this._lastDepthTest),this.setGlEnable(this.gl.CULL_FACE,this._lastCullFace),this.setGlEnable(this.gl.BLEND,this._lastBlend),this.gl.frontFace(this._lastFrontFace),this.gl.colorMask(this._lastColorMask[0],this._lastColorMask[1],this._lastColorMask[2],this._lastColorMask[3]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._lastArrayBufferBinding),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._lastElementArrayBufferBinding),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture1Binding2D),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture0Binding2D),this.gl.activeTexture(this._lastActiveTexture),this.gl.blendFuncSeparate(this._lastBlending[0],this._lastBlending[1],this._lastBlending[2],this._lastBlending[3])}setGl(o){this.gl=o}}class CubismRenderer_WebGL extends CubismRenderer{constructor(){super();xt(this,"_textures");xt(this,"_sortedDrawableIndexList");xt(this,"_clippingManager");xt(this,"_clippingContextBufferForMask");xt(this,"_clippingContextBufferForDraw");xt(this,"_rendererProfile");xt(this,"firstDraw");xt(this,"_bufferData");xt(this,"_extension");xt(this,"gl");this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._rendererProfile=new CubismRendererProfile_WebGL,this.firstDraw=!0,this._textures=new csmMap,this._sortedDrawableIndexList=new csmVector,this._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},this._textures.prepareCapacity(32,!0)}initialize(s,a=1){s.isUsingMasking()&&(this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.initialize(s,a)),this._sortedDrawableIndexList.resize(s.getDrawableCount(),0),super.initialize(s)}bindTexture(s,a){this._textures.setValue(s,a)}getBindedTextures(){return this._textures}setClippingMaskBufferSize(s){if(!this._model.isUsingMasking())return;const a=this._clippingManager.getRenderTextureCount();this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.setClippingMaskBufferSize(s),this._clippingManager.initialize(this.getModel(),a)}getClippingMaskBufferSize(){return this._model.isUsingMasking()?this._clippingManager.getClippingMaskBufferSize():-1}getRenderTextureCount(){return this._model.isUsingMasking()?this._clippingManager.getRenderTextureCount():-1}release(){this._clippingManager&&(this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null),this.gl!=null&&(this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null)}doDrawModel(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._clippingManager!=null&&(this.preDraw(),this.isUsingHighPrecisionMask()?this._clippingManager.setupMatrixForHighPrecision(this.getModel(),!1):this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const s=this.getModel().getDrawableCount(),a=this.getModel().getDrawableRenderOrders();for(let _=0;_<s;++_){const $=a[_];this._sortedDrawableIndexList.set($,_)}for(let _=0;_<s;++_){const $=this._sortedDrawableIndexList.at(_);if(!this.getModel().getDrawableDynamicFlagIsVisible($))continue;const _e=this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw().at($):null;if(_e!=null&&this.isUsingHighPrecisionMask()){_e._isUsing&&(this.gl.viewport(0,0,this._clippingManager.getClippingMaskBufferSize(),this._clippingManager.getClippingMaskBufferSize()),this.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,_e.getClippingManager().getMaskRenderTexture().at(_e._bufferIndex)),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT));{const tt=_e._clippingIdCount;for(let nt=0;nt<tt;nt++){const it=_e._clippingIdList[nt];this._model.getDrawableDynamicFlagVertexPositionsDidChange(it)&&(this.setIsCulling(this._model.getDrawableCulling(it)!=!1),this.setClippingContextBufferForMask(_e),this.drawMeshWebGL(this._model,it))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3]),this.preDraw()}this.setClippingContextBufferForDraw(_e),this.setIsCulling(this.getModel().getDrawableCulling($)),this.drawMeshWebGL(this._model,$)}}drawMeshWebGL(s,a){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW),this.isGeneratingMask()?CubismShader_WebGL.getInstance().setupShaderProgramForMask(this,s,a):CubismShader_WebGL.getInstance().setupShaderProgramForDraw(this,s,a);{const _=s.getDrawableVertexIndexCount(a);this.gl.drawElements(this.gl.TRIANGLES,_,this.gl.UNSIGNED_SHORT,0)}this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}saveProfile(){this._rendererProfile.save()}restoreProfile(){this._rendererProfile.restore()}static doStaticRelease(){CubismShader_WebGL.deleteInstance()}setRenderState(s,a){s_fbo=s,s_viewport=a}preDraw(){if(this.firstDraw&&(this.firstDraw=!1),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.getAnisotropy()>0&&this._extension)for(let s=0;s<this._textures.getSize();++s)this.gl.bindTexture(this.gl.TEXTURE_2D,this._textures.getValue(s)),this.gl.texParameterf(this.gl.TEXTURE_2D,this._extension.TEXTURE_MAX_ANISOTROPY_EXT,this.getAnisotropy())}setClippingContextBufferForMask(s){this._clippingContextBufferForMask=s}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(s){this._clippingContextBufferForDraw=s}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}isGeneratingMask(){return this.getClippingContextBufferForMask()!=null}startUp(s){this.gl=s,this._clippingManager&&this._clippingManager.setGL(s),CubismShader_WebGL.getInstance().setGl(s),this._rendererProfile.setGl(s),this._extension=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")}}CubismRenderer.staticRelease=()=>{CubismRenderer_WebGL.doStaticRelease()};var Live2DCubismFramework$6;(i=>{i.CubismClippingContext=CubismClippingContext_WebGL,i.CubismClippingManager_WebGL=CubismClippingManager_WebGL,i.CubismRenderTextureResource=CubismRenderTextureResource,i.CubismRenderer_WebGL=CubismRenderer_WebGL})(Live2DCubismFramework$6||(Live2DCubismFramework$6={}));class DrawableColorData{constructor(o=!1,s=new CubismTextureColor){xt(this,"isOverwritten");xt(this,"color");this.isOverwritten=o,this.color=s}}class PartColorData{constructor(o=!1,s=new CubismTextureColor){xt(this,"isOverwritten");xt(this,"color");this.isOverwritten=o,this.color=s}}class DrawableCullingData{constructor(o=!1,s=!1){xt(this,"isOverwritten");xt(this,"isCulling");this.isOverwritten=o,this.isCulling=s}}class CubismModel{constructor(o){xt(this,"_notExistPartOpacities");xt(this,"_notExistPartId");xt(this,"_notExistParameterValues");xt(this,"_notExistParameterId");xt(this,"_savedParameters");xt(this,"_isOverwrittenModelMultiplyColors");xt(this,"_isOverwrittenModelScreenColors");xt(this,"_userMultiplyColors");xt(this,"_userScreenColors");xt(this,"_userPartScreenColors");xt(this,"_userPartMultiplyColors");xt(this,"_partChildDrawables");xt(this,"_model");xt(this,"_parameterValues");xt(this,"_parameterMaximumValues");xt(this,"_parameterMinimumValues");xt(this,"_partOpacities");xt(this,"_modelOpacity");xt(this,"_parameterIds");xt(this,"_partIds");xt(this,"_drawableIds");xt(this,"_isOverwrittenCullings");xt(this,"_userCullings");this._model=o,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new csmVector,this._parameterIds=new csmVector,this._drawableIds=new csmVector,this._partIds=new csmVector,this._isOverwrittenModelMultiplyColors=!1,this._isOverwrittenModelScreenColors=!1,this._isOverwrittenCullings=!1,this._modelOpacity=1,this._userMultiplyColors=new csmVector,this._userScreenColors=new csmVector,this._userCullings=new csmVector,this._userPartMultiplyColors=new csmVector,this._userPartScreenColors=new csmVector,this._partChildDrawables=new csmVector,this._notExistPartId=new csmMap,this._notExistParameterId=new csmMap,this._notExistParameterValues=new csmMap,this._notExistPartOpacities=new csmMap}update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getPixelsPerUnit(){return this._model==null?0:this._model.canvasinfo.PixelsPerUnit}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const o=this._model.parameters.count,s=this._savedParameters.getSize();for(let a=0;a<o;++a)a<s?this._savedParameters.set(a,this._parameterValues[a]):this._savedParameters.pushBack(this._parameterValues[a])}getMultiplyColor(o){return this.getOverwriteFlagForModelMultiplyColors()||this.getOverwriteFlagForDrawableMultiplyColors(o)?this._userMultiplyColors.at(o).color:this.getDrawableMultiplyColor(o)}getScreenColor(o){return this.getOverwriteFlagForModelScreenColors()||this.getOverwriteFlagForDrawableScreenColors(o)?this._userScreenColors.at(o).color:this.getDrawableScreenColor(o)}setMultiplyColorByTextureColor(o,s){this.setMultiplyColorByRGBA(o,s.r,s.g,s.b,s.a)}setMultiplyColorByRGBA(o,s,a,_,$=1){this._userMultiplyColors.at(o).color.r=s,this._userMultiplyColors.at(o).color.g=a,this._userMultiplyColors.at(o).color.b=_,this._userMultiplyColors.at(o).color.a=$}setScreenColorByTextureColor(o,s){this.setScreenColorByRGBA(o,s.r,s.g,s.b,s.a)}setScreenColorByRGBA(o,s,a,_,$=1){this._userScreenColors.at(o).color.r=s,this._userScreenColors.at(o).color.g=a,this._userScreenColors.at(o).color.b=_,this._userScreenColors.at(o).color.a=$}getPartMultiplyColor(o){return this._userPartMultiplyColors.at(o).color}getPartScreenColor(o){return this._userPartScreenColors.at(o).color}setPartColor(o,s,a,_,$,_e,tt){if(_e.at(o).color.r=s,_e.at(o).color.g=a,_e.at(o).color.b=_,_e.at(o).color.a=$,_e.at(o).isOverwritten)for(let nt=0;nt<this._partChildDrawables.at(o).getSize();++nt){const it=this._partChildDrawables.at(o).at(nt);tt.at(it).color.r=s,tt.at(it).color.g=a,tt.at(it).color.b=_,tt.at(it).color.a=$}}setPartMultiplyColorByTextureColor(o,s){this.setPartMultiplyColorByRGBA(o,s.r,s.g,s.b,s.a)}setPartMultiplyColorByRGBA(o,s,a,_,$){this.setPartColor(o,s,a,_,$,this._userPartMultiplyColors,this._userMultiplyColors)}setPartScreenColorByTextureColor(o,s){this.setPartScreenColorByRGBA(o,s.r,s.g,s.b,s.a)}setPartScreenColorByRGBA(o,s,a,_,$){this.setPartColor(o,s,a,_,$,this._userPartScreenColors,this._userScreenColors)}getOverwriteFlagForModelMultiplyColors(){return this._isOverwrittenModelMultiplyColors}getOverwriteFlagForModelScreenColors(){return this._isOverwrittenModelScreenColors}setOverwriteFlagForModelMultiplyColors(o){this._isOverwrittenModelMultiplyColors=o}setOverwriteFlagForModelScreenColors(o){this._isOverwrittenModelScreenColors=o}getOverwriteFlagForDrawableMultiplyColors(o){return this._userMultiplyColors.at(o).isOverwritten}getOverwriteFlagForDrawableScreenColors(o){return this._userScreenColors.at(o).isOverwritten}setOverwriteFlagForDrawableMultiplyColors(o,s){this._userMultiplyColors.at(o).isOverwritten=s}setOverwriteFlagForDrawableScreenColors(o,s){this._userScreenColors.at(o).isOverwritten=s}getOverwriteColorForPartMultiplyColors(o){return this._userPartMultiplyColors.at(o).isOverwritten}getOverwriteColorForPartScreenColors(o){return this._userPartScreenColors.at(o).isOverwritten}setOverwriteColorForPartColors(o,s,a,_){a.at(o).isOverwritten=s;for(let $=0;$<this._partChildDrawables.at(o).getSize();++$){const _e=this._partChildDrawables.at(o).at($);_.at(_e).isOverwritten=s,s&&(_.at(_e).color.r=a.at(o).color.r,_.at(_e).color.g=a.at(o).color.g,_.at(_e).color.b=a.at(o).color.b,_.at(_e).color.a=a.at(o).color.a)}}setOverwriteColorForPartMultiplyColors(o,s){this._userPartMultiplyColors.at(o).isOverwritten=s,this.setOverwriteColorForPartColors(o,s,this._userPartMultiplyColors,this._userMultiplyColors)}setOverwriteColorForPartScreenColors(o,s){this._userPartScreenColors.at(o).isOverwritten=s,this.setOverwriteColorForPartColors(o,s,this._userPartScreenColors,this._userScreenColors)}getDrawableCulling(o){if(this.getOverwriteFlagForModelCullings()||this.getOverwriteFlagForDrawableCullings(o))return this._userCullings.at(o).isCulling;const s=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(s[o])}setDrawableCulling(o,s){this._userCullings.at(o).isCulling=s}getOverwriteFlagForModelCullings(){return this._isOverwrittenCullings}setOverwriteFlagForModelCullings(o){this._isOverwrittenCullings=o}getOverwriteFlagForDrawableCullings(o){return this._userCullings.at(o).isOverwritten}setOverwriteFlagForDrawableCullings(o,s){this._userCullings.at(o).isOverwritten=s}getModelOapcity(){return this._modelOpacity}setModelOapcity(o){this._modelOpacity=o}getModel(){return this._model}getPartIndex(o){let s;const a=this._model.parts.count;for(s=0;s<a;++s)if(o==this._partIds.at(s))return s;return this._notExistPartId.isExist(o)?this._notExistPartId.getValue(o):(s=a+this._notExistPartId.getSize(),this._notExistPartId.setValue(o,s),this._notExistPartOpacities.appendKey(s),s)}getPartId(o){const s=this._model.parts.ids[o];return CubismFramework.getIdManager().getId(s)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(o,s){if(this._notExistPartOpacities.isExist(o)){this._notExistPartOpacities.setValue(o,s);return}CSM_ASSERT(0<=o&&o<this.getPartCount()),this._partOpacities[o]=s}setPartOpacityById(o,s){const a=this.getPartIndex(o);a<0||this.setPartOpacityByIndex(a,s)}getPartOpacityByIndex(o){return this._notExistPartOpacities.isExist(o)?this._notExistPartOpacities.getValue(o):(CSM_ASSERT(0<=o&&o<this.getPartCount()),this._partOpacities[o])}getPartOpacityById(o){const s=this.getPartIndex(o);return s<0?0:this.getPartOpacityByIndex(s)}getParameterIndex(o){let s;const a=this._model.parameters.count;for(s=0;s<a;++s)if(o==this._parameterIds.at(s))return s;return this._notExistParameterId.isExist(o)?this._notExistParameterId.getValue(o):(s=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(o,s),this._notExistParameterValues.appendKey(s),s)}getParameterCount(){return this._model.parameters.count}getParameterType(o){return this._model.parameters.types[o]}getParameterMaximumValue(o){return this._model.parameters.maximumValues[o]}getParameterMinimumValue(o){return this._model.parameters.minimumValues[o]}getParameterDefaultValue(o){return this._model.parameters.defaultValues[o]}getParameterId(o){return CubismFramework.getIdManager().getId(this._model.parameters.ids[o])}getParameterValueByIndex(o){return this._notExistParameterValues.isExist(o)?this._notExistParameterValues.getValue(o):(CSM_ASSERT(0<=o&&o<this.getParameterCount()),this._parameterValues[o])}getParameterValueById(o){const s=this.getParameterIndex(o);return this.getParameterValueByIndex(s)}setParameterValueByIndex(o,s,a=1){if(this._notExistParameterValues.isExist(o)){this._notExistParameterValues.setValue(o,a==1?s:this._notExistParameterValues.getValue(o)*(1-a)+s*a);return}CSM_ASSERT(0<=o&&o<this.getParameterCount()),this._model.parameters.maximumValues[o]<s&&(s=this._model.parameters.maximumValues[o]),this._model.parameters.minimumValues[o]>s&&(s=this._model.parameters.minimumValues[o]),this._parameterValues[o]=a==1?s:this._parameterValues[o]=this._parameterValues[o]*(1-a)+s*a}setParameterValueById(o,s,a=1){const _=this.getParameterIndex(o);this.setParameterValueByIndex(_,s,a)}addParameterValueByIndex(o,s,a=1){this.setParameterValueByIndex(o,this.getParameterValueByIndex(o)+s*a)}addParameterValueById(o,s,a=1){const _=this.getParameterIndex(o);this.addParameterValueByIndex(_,s,a)}multiplyParameterValueById(o,s,a=1){const _=this.getParameterIndex(o);this.multiplyParameterValueByIndex(_,s,a)}multiplyParameterValueByIndex(o,s,a=1){this.setParameterValueByIndex(o,this.getParameterValueByIndex(o)*(1+(s-1)*a))}getDrawableIndex(o){const s=this._model.drawables.count;for(let a=0;a<s;++a)if(this._drawableIds.at(a)==o)return a;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(o){const s=this._model.drawables.ids;return CubismFramework.getIdManager().getId(s[o])}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(o){return this.getDrawableTextureIndex(o)}getDrawableTextureIndex(o){return this._model.drawables.textureIndices[o]}getDrawableDynamicFlagVertexPositionsDidChange(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(s[o])}getDrawableVertexIndexCount(o){return this._model.drawables.indexCounts[o]}getDrawableVertexCount(o){return this._model.drawables.vertexCounts[o]}getDrawableVertices(o){return this.getDrawableVertexPositions(o)}getDrawableVertexIndices(o){return this._model.drawables.indices[o]}getDrawableVertexPositions(o){return this._model.drawables.vertexPositions[o]}getDrawableVertexUvs(o){return this._model.drawables.vertexUvs[o]}getDrawableOpacity(o){return this._model.drawables.opacities[o]}getDrawableMultiplyColor(o){const s=this._model.drawables.multiplyColors,a=o*4,_=new CubismTextureColor;return _.r=s[a],_.g=s[a+1],_.b=s[a+2],_.a=s[a+3],_}getDrawableScreenColor(o){const s=this._model.drawables.screenColors,a=o*4,_=new CubismTextureColor;return _.r=s[a],_.g=s[a+1],_.b=s[a+2],_.a=s[a+3],_}getDrawableParentPartIndex(o){return this._model.drawables.parentPartIndices[o]}getDrawableBlendMode(o){const s=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(s[o])?CubismBlendMode.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(s[o])?CubismBlendMode.CubismBlendMode_Multiplicative:CubismBlendMode.CubismBlendMode_Normal}getDrawableInvertedMaskBit(o){const s=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(s[o])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let o=0;o<this._model.drawables.count;++o)if(!(this._model.drawables.maskCounts[o]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(s[o])}getDrawableDynamicFlagVisibilityDidChange(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(s[o])}getDrawableDynamicFlagOpacityDidChange(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(s[o])}getDrawableDynamicFlagRenderOrderDidChange(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(s[o])}getDrawableDynamicFlagBlendColorDidChange(o){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(s[o])}loadParameters(){let o=this._model.parameters.count;const s=this._savedParameters.getSize();o>s&&(o=s);for(let a=0;a<o;++a)this._parameterValues[a]=this._savedParameters.at(a)}initialize(){CSM_ASSERT(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const s=this._model.parameters.ids,a=this._model.parameters.count;this._parameterIds.prepareCapacity(a);for(let _=0;_<a;++_)this._parameterIds.pushBack(CubismFramework.getIdManager().getId(s[_]))}const o=this._model.parts.count;{const s=this._model.parts.ids;this._partIds.prepareCapacity(o);for(let a=0;a<o;++a)this._partIds.pushBack(CubismFramework.getIdManager().getId(s[a]));this._userPartMultiplyColors.prepareCapacity(o),this._userPartScreenColors.prepareCapacity(o),this._partChildDrawables.prepareCapacity(o)}{const s=this._model.drawables.ids,a=this._model.drawables.count;this._userMultiplyColors.prepareCapacity(a),this._userScreenColors.prepareCapacity(a),this._userCullings.prepareCapacity(a);const _=new DrawableCullingData(!1,!1);for(let $=0;$<o;++$){const _e=new CubismTextureColor(1,1,1,1),tt=new CubismTextureColor(0,0,0,1),nt=new PartColorData(!1,_e),it=new PartColorData(!1,tt);this._userPartMultiplyColors.pushBack(nt),this._userPartScreenColors.pushBack(it),this._partChildDrawables.pushBack(new csmVector),this._partChildDrawables.at($).prepareCapacity(a)}for(let $=0;$<a;++$){const _e=new CubismTextureColor(1,1,1,1),tt=new CubismTextureColor(0,0,0,1),nt=new DrawableColorData(!1,_e),it=new DrawableColorData(!1,tt);this._drawableIds.pushBack(CubismFramework.getIdManager().getId(s[$])),this._userMultiplyColors.pushBack(nt),this._userScreenColors.pushBack(it),this._userCullings.pushBack(_);const ot=this.getDrawableParentPartIndex($);ot>=0&&this._partChildDrawables.at(ot).pushBack($)}}}release(){this._model.release(),this._model=null}}var Live2DCubismFramework$5;(i=>{i.CubismModel=CubismModel})(Live2DCubismFramework$5||(Live2DCubismFramework$5={}));class CubismMoc{constructor(o){xt(this,"_moc");xt(this,"_modelCount");xt(this,"_mocVersion");this._moc=o,this._modelCount=0,this._mocVersion=0}static create(o,s){let a=null;if(s&&!this.hasMocConsistency(o))return CubismLogError("Inconsistent MOC3."),a;const _=Live2DCubismCore.Moc.fromArrayBuffer(o);return _&&(a=new CubismMoc(_),a._mocVersion=Live2DCubismCore.Version.csmGetMocVersion(_,o)),a}static delete(o){o._moc._release(),o._moc=null,o=null}createModel(){let o=null;const s=Live2DCubismCore.Model.fromMoc(this._moc);return s&&(o=new CubismModel(s),o.initialize(),++this._modelCount),o}deleteModel(o){o!=null&&(o.release(),o=null,--this._modelCount)}release(){CSM_ASSERT(this._modelCount==0),this._moc._release(),this._moc=null}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(o){return Live2DCubismCore.Moc.prototype.hasMocConsistency(o)===1}}var Live2DCubismFramework$4;(i=>{i.CubismMoc=CubismMoc})(Live2DCubismFramework$4||(Live2DCubismFramework$4={}));const Meta="Meta",UserDataCount="UserDataCount",TotalUserDataSize="TotalUserDataSize",UserData="UserData",Target="Target",Id="Id",Value="Value";class CubismModelUserDataJson{constructor(o,s){xt(this,"_json");this._json=CubismJson.create(o,s)}release(){CubismJson.delete(this._json)}getUserDataCount(){return this._json.getRoot().getValueByString(Meta).getValueByString(UserDataCount).toInt()}getTotalUserDataSize(){return this._json.getRoot().getValueByString(Meta).getValueByString(TotalUserDataSize).toInt()}getUserDataTargetType(o){return this._json.getRoot().getValueByString(UserData).getValueByIndex(o).getValueByString(Target).getRawString()}getUserDataId(o){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(UserData).getValueByIndex(o).getValueByString(Id).getRawString())}getUserDataValue(o){return this._json.getRoot().getValueByString(UserData).getValueByIndex(o).getValueByString(Value).getRawString()}}var Live2DCubismFramework$3;(i=>{i.CubismModelUserDataJson=CubismModelUserDataJson})(Live2DCubismFramework$3||(Live2DCubismFramework$3={}));const ArtMesh="ArtMesh";class CubismModelUserDataNode{constructor(){xt(this,"targetType");xt(this,"targetId");xt(this,"value")}}class CubismModelUserData{constructor(){xt(this,"_userDataNodes");xt(this,"_artMeshUserDataNode");this._userDataNodes=new csmVector,this._artMeshUserDataNode=new csmVector}static create(o,s){const a=new CubismModelUserData;return a.parseUserData(o,s),a}static delete(o){o!=null&&(o.release(),o=null)}getArtMeshUserDatas(){return this._artMeshUserDataNode}parseUserData(o,s){let a=new CubismModelUserDataJson(o,s);if(!a){a.release(),a=void 0;return}const _=CubismFramework.getIdManager().getId(ArtMesh),$=a.getUserDataCount();for(let _e=0;_e<$;_e++){const tt=new CubismModelUserDataNode;tt.targetId=a.getUserDataId(_e),tt.targetType=CubismFramework.getIdManager().getId(a.getUserDataTargetType(_e)),tt.value=new csmString(a.getUserDataValue(_e)),this._userDataNodes.pushBack(tt),tt.targetType==_&&this._artMeshUserDataNode.pushBack(tt)}a.release(),a=void 0}release(){for(let o=0;o<this._userDataNodes.getSize();++o)this._userDataNodes.set(o,null);this._userDataNodes=null}}var Live2DCubismFramework$2;(i=>{i.CubismModelUserData=CubismModelUserData,i.CubismModelUserDataNode=CubismModelUserDataNode})(Live2DCubismFramework$2||(Live2DCubismFramework$2={}));class CubismUserModel{constructor(){xt(this,"_moc");xt(this,"_model");xt(this,"_motionManager");xt(this,"_expressionManager");xt(this,"_eyeBlink");xt(this,"_breath");xt(this,"_modelMatrix");xt(this,"_pose");xt(this,"_dragManager");xt(this,"_physics");xt(this,"_modelUserData");xt(this,"_initialized");xt(this,"_updating");xt(this,"_opacity");xt(this,"_lipsync");xt(this,"_lastLipSyncValue");xt(this,"_dragX");xt(this,"_dragY");xt(this,"_accelerationX");xt(this,"_accelerationY");xt(this,"_accelerationZ");xt(this,"_mocConsistency");xt(this,"_debugMode");xt(this,"_renderer");this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._mocConsistency=!1,this._debugMode=!1,this._renderer=null,this._motionManager=new CubismMotionManager,this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback,this),this._expressionManager=new CubismExpressionMotionManager,this._dragManager=new CubismTargetPoint}isInitialized(){return this._initialized}setInitialized(o){this._initialized=o}isUpdating(){return this._updating}setUpdating(o){this._updating=o}setDragging(o,s){this._dragManager.set(o,s)}setAcceleration(o,s,a){this._accelerationX=o,this._accelerationY=s,this._accelerationZ=a}getModelMatrix(){return this._modelMatrix}setOpacity(o){this._opacity=o}getOpacity(){return this._opacity}loadModel(o,s=!1,a=1){if(this._moc=CubismMoc.create(o,s),this._moc==null){CubismLogError("Failed to CubismMoc.create().");return}if(this._model=this._moc.createModel(),this._model==null){CubismLogError("Failed to CreateModel().");return}this._model.saveParameters(),this._modelMatrix=new CubismModelMatrix(this._model.getCanvasWidth(),this._model.getCanvasHeight()),this._modelMatrix.scale(a,a)}loadMotion(o,s,a,_){return o==null||s==0?(CubismLogError("Failed to loadMotion()."),null):CubismMotion.create(o,s,_)}loadExpression(o,s,a){return o==null||s==0?(CubismLogError("Failed to loadExpression()."),null):CubismExpressionMotion.create(o,s)}loadPose(o,s){if(o==null||s==0){CubismLogError("Failed to loadPose().");return}this._pose=CubismPose.create(o,s)}loadUserData(o,s){if(o==null||s==0){CubismLogError("Failed to loadUserData().");return}this._modelUserData=CubismModelUserData.create(o,s)}loadPhysics(o,s){if(o==null||s==0){CubismLogError("Failed to loadPhysics().");return}this._physics=CubismPhysics.create(o,s)}isHit(o,s,a){const _=this._model.getDrawableIndex(o);if(_<0)return!1;const $=this._model.getDrawableVertexCount(_),_e=this._model.getDrawableVertices(_);let tt=_e[0],nt=_e[0],it=_e[1],ot=_e[1];for(let rt=1;rt<$;++rt){const st=_e[Constant.vertexOffset+rt*Constant.vertexStep],at=_e[Constant.vertexOffset+rt*Constant.vertexStep+1];st<tt&&(tt=st),st>nt&&(nt=st),at<it&&(it=at),at>ot&&(ot=at)}const et=this._modelMatrix.invertTransformX(s),j=this._modelMatrix.invertTransformY(a);return tt<=et&&et<=nt&&it<=j&&j<=ot}getModel(){return this._model}getRenderer(){return this._renderer}createRenderer(o=1){this._renderer&&this.deleteRenderer(),this._renderer=new CubismRenderer_WebGL,this._renderer.initialize(this._model,o)}deleteRenderer(){this._renderer!=null&&(this._renderer.release(),this._renderer=null)}motionEventFired(o){CubismLogInfo("{0}",o.s)}static cubismDefaultMotionEventCallback(o,s,a){const _=a;_!=null&&_.motionEventFired(s)}release(){this._motionManager!=null&&(this._motionManager.release(),this._motionManager=null),this._expressionManager!=null&&(this._expressionManager.release(),this._expressionManager=null),this._moc!=null&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,CubismPose.delete(this._pose),CubismEyeBlink.delete(this._eyeBlink),CubismBreath.delete(this._breath),this._dragManager=null,CubismPhysics.delete(this._physics),CubismModelUserData.delete(this._modelUserData),this.deleteRenderer()}}var Live2DCubismFramework$1;(i=>{i.CubismUserModel=CubismUserModel})(Live2DCubismFramework$1||(Live2DCubismFramework$1={}));class LAppPal{static loadFileAsBytes(o,s){fetch(o).then(a=>a.arrayBuffer()).then(a=>s(a,a.byteLength))}static getDeltaTime(){return this.s_deltaTime}static updateTime(o=!0){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,o===!0&&(this.s_lastFrame=this.s_currentFrame)}static printMessage(o){console.log(o)}}xt(LAppPal,"lastUpdate",Date.now()),xt(LAppPal,"s_currentFrame",0),xt(LAppPal,"s_lastFrame",0),xt(LAppPal,"s_deltaTime",0);let s_instance$2=null;class LAppWavFileHandler{constructor(){xt(this,"_pcmData");xt(this,"_userTimeSeconds");xt(this,"_lastRms");xt(this,"_sampleOffset");xt(this,"_wavFileInfo");xt(this,"_byteReader");xt(this,"_loadFiletoBytes",(o,s)=>{this._byteReader._fileByte=o,this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=s});this._pcmData=null,this._userTimeSeconds=0,this._lastRms=0,this._sampleOffset=0,this._wavFileInfo=new WavFileInfo,this._byteReader=new ByteReader}static getInstance(){return s_instance$2==null&&(s_instance$2=new LAppWavFileHandler),s_instance$2}static releaseInstance(){s_instance$2!=null&&(s_instance$2=void 0),s_instance$2=null}update(o){let s,a;if(this._pcmData==null||this._sampleOffset>=this._wavFileInfo._samplesPerChannel)return this._lastRms=0,!1;this._userTimeSeconds+=o,s=Math.floor(this._userTimeSeconds*this._wavFileInfo._samplingRate),s>this._wavFileInfo._samplesPerChannel&&(s=this._wavFileInfo._samplesPerChannel),a=0;for(let _=0;_<this._wavFileInfo._numberOfChannels;_++)for(let $=this._sampleOffset;$<s;$++){const _e=this._pcmData[_][$];a+=_e*_e}return a=Math.sqrt(a/(this._wavFileInfo._numberOfChannels*(s-this._sampleOffset))),this._lastRms=a,this._sampleOffset=s,!0}start(o){this._sampleOffset=0,this._userTimeSeconds=0,this._lastRms=0,this.loadWavFile(o)}getRms(){return this._lastRms}loadWavFile(o){return new Promise(s=>{let a=!1;this._pcmData!=null&&this.releasePcmData();const _=async()=>fetch(o).then($=>$.arrayBuffer());(async()=>{if(this._byteReader._fileByte=await _(),this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=this._byteReader._fileByte.byteLength,this._byteReader._readOffset=0,this._byteReader._fileByte==null||this._byteReader._fileSize<4){s(!1);return}this._wavFileInfo._fileName=o;try{if(!this._byteReader.getCheckSignature("RIFF"))throw a=!1,new Error('Cannot find Signeture "RIFF".');if(this._byteReader.get32LittleEndian(),!this._byteReader.getCheckSignature("WAVE"))throw a=!1,new Error('Cannot find Signeture "WAVE".');if(!this._byteReader.getCheckSignature("fmt "))throw a=!1,new Error('Cannot find Signeture "fmt".');const $=this._byteReader.get32LittleEndian();if(this._byteReader.get16LittleEndian()!=1)throw a=!1,new Error("File is not linear PCM.");for(this._wavFileInfo._numberOfChannels=this._byteReader.get16LittleEndian(),this._wavFileInfo._samplingRate=this._byteReader.get32LittleEndian(),this._byteReader.get32LittleEndian(),this._byteReader.get16LittleEndian(),this._wavFileInfo._bitsPerSample=this._byteReader.get16LittleEndian(),$>16&&(this._byteReader._readOffset+=$-16);!this._byteReader.getCheckSignature("data")&&this._byteReader._readOffset<this._byteReader._fileSize;)this._byteReader._readOffset+=this._byteReader.get32LittleEndian()+4;if(this._byteReader._readOffset>=this._byteReader._fileSize)throw a=!1,new Error('Cannot find "data" Chunk.');{const _e=this._byteReader.get32LittleEndian();this._wavFileInfo._samplesPerChannel=_e*8/(this._wavFileInfo._bitsPerSample*this._wavFileInfo._numberOfChannels)}this._pcmData=new Array(this._wavFileInfo._numberOfChannels);for(let _e=0;_e<this._wavFileInfo._numberOfChannels;_e++)this._pcmData[_e]=new Float32Array(this._wavFileInfo._samplesPerChannel);for(let _e=0;_e<this._wavFileInfo._samplesPerChannel;_e++)for(let tt=0;tt<this._wavFileInfo._numberOfChannels;tt++)this._pcmData[tt][_e]=this.getPcmSample();a=!0,s(a)}catch($){console.log($)}})().then(()=>{s(a)})})}getPcmSample(){let o;switch(this._wavFileInfo._bitsPerSample){case 8:o=this._byteReader.get8()-128,o<<=24;break;case 16:o=this._byteReader.get16LittleEndian()<<16;break;case 24:o=this._byteReader.get24LittleEndian()<<8;break;default:o=0;break}return o/2147483647}getPcmDataChannel(o){return!this._pcmData||!(o<this._pcmData.length)?null:Float32Array.from(this._pcmData[o])}getWavSamplingRate(){return!this._wavFileInfo||this._wavFileInfo._samplingRate<1?null:this._wavFileInfo._samplingRate}releasePcmData(){if(this._pcmData){for(let o=0;o<this._wavFileInfo._numberOfChannels;o++)this._pcmData[o]=void 0;this._pcmData=null}}}class WavFileInfo{constructor(){xt(this,"_fileName");xt(this,"_numberOfChannels");xt(this,"_bitsPerSample");xt(this,"_samplingRate");xt(this,"_samplesPerChannel");this._fileName="",this._numberOfChannels=0,this._bitsPerSample=0,this._samplingRate=0,this._samplesPerChannel=0}}class ByteReader{constructor(){xt(this,"_fileByte");xt(this,"_fileDataView");xt(this,"_fileSize");xt(this,"_readOffset");this._fileByte=null,this._fileDataView=null,this._fileSize=0,this._readOffset=0}get8(){const o=this._fileDataView.getUint8(this._readOffset);return this._readOffset++,o}get16LittleEndian(){const o=this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=2,o}get24LittleEndian(){const o=this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=3,o}get32LittleEndian(){const o=this._fileDataView.getUint8(this._readOffset+3)<<24|this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=4,o}getCheckSignature(o){const s=new Uint8Array(4),a=new TextEncoder().encode(o);if(o.length!=4)return!1;for(let _=0;_<4;_++)s[_]=this.get8();return s[0]==a[0]&&s[1]==a[1]&&s[2]==a[2]&&s[3]==a[3]}}class LAppModel extends CubismUserModel{constructor(){super();xt(this,"_modelSetting");xt(this,"_modelHomeDir");xt(this,"_userTimeSeconds");xt(this,"_eyeBlinkIds");xt(this,"_lipSyncIds");xt(this,"_motions");xt(this,"_expressions");xt(this,"_hitArea");xt(this,"_userArea");xt(this,"_idParamAngleX");xt(this,"_idParamAngleY");xt(this,"_idParamAngleZ");xt(this,"_idParamEyeBallX");xt(this,"_idParamEyeBallY");xt(this,"_idParamBodyAngleX");xt(this,"_state");xt(this,"_expressionCount");xt(this,"_textureCount");xt(this,"_motionCount");xt(this,"_allMotionCount");xt(this,"_wavFileHandler");xt(this,"_consistency");this._modelSetting=null,this._modelHomeDir=null,this._userTimeSeconds=0,this._eyeBlinkIds=new csmVector,this._lipSyncIds=new csmVector,this._motions=new csmMap,this._expressions=new csmMap,this._hitArea=new csmVector,this._userArea=new csmVector;const s=CubismFramework.getIdManager();s?(this._idParamAngleX=s.getId(CubismDefaultParameterId.ParamAngleX),this._idParamAngleY=s.getId(CubismDefaultParameterId.ParamAngleY),this._idParamAngleZ=s.getId(CubismDefaultParameterId.ParamAngleZ),this._idParamEyeBallX=s.getId(CubismDefaultParameterId.ParamEyeBallX),this._idParamEyeBallY=s.getId(CubismDefaultParameterId.ParamEyeBallY),this._idParamBodyAngleX=s.getId(CubismDefaultParameterId.ParamBodyAngleX)):(this._idParamAngleX=null,this._idParamAngleY=null,this._idParamAngleZ=null,this._idParamEyeBallX=null,this._idParamEyeBallY=null,this._idParamBodyAngleX=null),this._mocConsistency=!0,this._state=0,this._expressionCount=0,this._textureCount=0,this._motionCount=0,this._allMotionCount=0,this._wavFileHandler=new LAppWavFileHandler,this._consistency=!1}loadAssets(s,a){this._modelHomeDir=s,fetch(`${this._modelHomeDir}${a}`).then(_=>_.arrayBuffer()).then(_=>{const $=new CubismModelSettingJson(_,_.byteLength);this._state=1,this.setupModel($)}).catch(_=>{CubismLogError(`Failed to load file ${this._modelHomeDir}${a}`)})}setupModel(s){this._updating=!0,this._initialized=!1,this._modelSetting=s;const a=this._modelSetting.getHitAreasCount();if(console.log(`Model has ${a} hit areas`),this._modelSetting.getModelFileName()!=""){const st=this._modelSetting.getModelFileName();fetch(`${this._modelHomeDir}${st}`).then(at=>{if(at.ok)return at.arrayBuffer();if(at.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${st}`),new ArrayBuffer(0)}).then(at=>{this.loadModel(at,this._mocConsistency,CurrentKScale),this._state=3,_()}),this._state=2}else LAppPal.printMessage("Model data does not exist.");const _=()=>{if(this._modelSetting.getExpressionCount()>0){const st=this._modelSetting.getExpressionCount();for(let at=0;at<st;at++){const lt=this._modelSetting.getExpressionName(at),ct=this._modelSetting.getExpressionFileName(at);fetch(`${this._modelHomeDir}${ct}`).then(ut=>{if(ut.ok)return ut.arrayBuffer();if(ut.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${ct}`),new ArrayBuffer(0)}).then(ut=>{const dt=this.loadExpression(ut,ut.byteLength,lt);this._expressions.getValue(lt)!=null&&(ACubismMotion.delete(this._expressions.getValue(lt)),this._expressions.setValue(lt,null)),this._expressions.setValue(lt,dt),this._expressionCount++,this._expressionCount>=st&&(this._state=5,$())})}this._state=4}else this._state=5,$()},$=()=>{if(this._modelSetting.getPhysicsFileName()!=""){const st=this._modelSetting.getPhysicsFileName();fetch(`${this._modelHomeDir}${st}`).then(at=>{if(at.ok)return at.arrayBuffer();if(at.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${st}`),new ArrayBuffer(0)}).then(at=>{this.loadPhysics(at,at.byteLength),this._state=7,_e()}),this._state=6}else this._state=7,_e()},_e=()=>{if(this._modelSetting.getPoseFileName()!=""){const st=this._modelSetting.getPoseFileName();fetch(`${this._modelHomeDir}${st}`).then(at=>{if(at.ok)return at.arrayBuffer();if(at.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${st}`),new ArrayBuffer(0)}).then(at=>{this.loadPose(at,at.byteLength),this._state=9,tt()}),this._state=8}else this._state=9,tt()},tt=()=>{this._modelSetting.getEyeBlinkParameterCount()>0&&(this._eyeBlink=CubismEyeBlink.create(this._modelSetting),this._state=10),nt()},nt=()=>{this._breath=CubismBreath.create();const st=new csmVector;st.pushBack(new BreathParameterData(this._idParamAngleX,0,15,6.5345,.5)),st.pushBack(new BreathParameterData(this._idParamAngleY,0,8,3.5345,.5)),st.pushBack(new BreathParameterData(this._idParamAngleZ,0,10,5.5345,.5)),st.pushBack(new BreathParameterData(this._idParamBodyAngleX,0,4,15.5345,.5));const at=CubismFramework.getIdManager();if(at){const lt=at.getId(CubismDefaultParameterId.ParamBreath);lt&&st.pushBack(new BreathParameterData(lt,.5,.5,3.2345,1))}this._breath.setParameters(st),this._state=11,it()},it=()=>{if(this._modelSetting.getUserDataFile()!=""){const st=this._modelSetting.getUserDataFile();fetch(`${this._modelHomeDir}${st}`).then(at=>{if(at.ok)return at.arrayBuffer();if(at.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${st}`),new ArrayBuffer(0)}).then(at=>{this.loadUserData(at,at.byteLength),this._state=13,ot()}),this._state=12}else this._state=13,ot()},ot=()=>{const st=this._modelSetting.getEyeBlinkParameterCount();for(let at=0;at<st;++at)this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(at));this._state=14,et()},et=()=>{const st=this._modelSetting.getLipSyncParameterCount();for(let at=0;at<st;++at)this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(at));if(this._lipSyncIds.getSize()===0){console.warn('[Fallback] No LipSync IDs defined in model setting. Attempting fallback to "ParamMouthOpenY".');const at=CubismFramework.getIdManager();if(at){const lt=at.getId(CubismDefaultParameterId.ParamMouthOpenY);this._model&&lt&&this._model.getParameterIndex(lt)!==-1?(this._lipSyncIds.pushBack(lt),console.log('[Fallback] Successfully added "ParamMouthOpenY" as LipSync ID.')):console.warn('[Fallback] Fallback ID "ParamMouthOpenY" not found in the current model or model not loaded.')}else console.warn("[Fallback] Could not access IdManager. LipSync fallback unavailable.")}this._state=15,j()},j=()=>{const st=new csmMap;if(this._modelSetting==null||this._modelMatrix==null){CubismLogError("Failed to setupLayout().");return}this._modelSetting.getLayoutMap(st),this._modelMatrix.setupFromLayout(st),this._state=16,rt()},rt=()=>{this._state=17,this._model.saveParameters(),this._allMotionCount=0,this._motionCount=0;const st=[],at=this._modelSetting.getMotionGroupCount();for(let lt=0;lt<at;lt++)st[lt]=this._modelSetting.getMotionGroupName(lt),this._allMotionCount+=this._modelSetting.getMotionCount(st[lt]);if(this._allMotionCount==0){this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl);return}for(let lt=0;lt<at;lt++)this.preLoadMotionGroup(st[lt]);at==0&&(this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl))}}setupTextures(){console.log("Setting up textures for model:",this._modelHomeDir);const s=!0;if(this._state==20){const a=this._modelSetting.getTextureCount();for(let _=0;_<a;_++){if(this._modelSetting.getTextureFileName(_)==""){console.log("getTextureFileName null");continue}let $=this._modelSetting.getTextureFileName(_);$=this._modelHomeDir+$;const _e=tt=>{this.getRenderer().bindTexture(_,tt.id),this._textureCount++,this._textureCount>=a&&(this._state=22)};LAppDelegate.getInstance().getTextureManager().createTextureFromPngFile($,s,_e),this.getRenderer().setIsPremultipliedAlpha(s)}this._state=21}}reloadRenderer(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()}update(){if(this._state!=22)return;const s=LAppPal.getDeltaTime();this._userTimeSeconds+=s,this._dragManager.update(s),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY();let a=!1;if(this._model.loadParameters(),this._motionManager.isFinished()?this.startRandomMotion(MotionGroupIdle,PriorityIdle):a=this._motionManager.updateMotion(this._model,s),this._model.saveParameters(),a||this._eyeBlink!=null&&this._eyeBlink.updateParameters(this._model,s),this._expressionManager!=null&&this._expressionManager.updateMotion(this._model,s),this._model.addParameterValueById(this._idParamAngleX,this._dragX*30),this._model.addParameterValueById(this._idParamAngleY,this._dragY*30),this._model.addParameterValueById(this._idParamAngleZ,this._dragX*this._dragY*-30),this._model.addParameterValueById(this._idParamBodyAngleX,this._dragX*10),this._model.addParameterValueById(this._idParamEyeBallX,this._dragX),this._model.addParameterValueById(this._idParamEyeBallY,this._dragY),this._breath!=null&&this._breath.updateParameters(this._model,s),this._physics!=null&&this._physics.evaluate(this._model,s),this._lipsync){let _=0;this._wavFileHandler.update(s),_=this._wavFileHandler.getRms(),_=Math.min(1,_*1.5);const $=4;for(let _e=0;_e<this._lipSyncIds.getSize();++_e)this._model.addParameterValueById(this._lipSyncIds.at(_e),_,$)}this._pose!=null&&this._pose.updateParameters(this._model,s),this._model.update()}startMotion(s,a,_,$){if(_==PriorityForce)this._motionManager.setReservePriority(_);else if(!this._motionManager.reserveMotion(_))return this._debugMode&&LAppPal.printMessage("[APP]can't start motion."),InvalidMotionQueueEntryHandleValue;const _e=this._modelSetting.getMotionFileName(s,a),tt=`${s}_${a}`;let nt=this._motions.getValue(tt),it=!1;return nt==null?(fetch(`${this._modelHomeDir}${_e}`).then(ot=>{if(ot.ok)return ot.arrayBuffer();if(ot.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${_e}`),new ArrayBuffer(0)}).then(ot=>{if(nt=this.loadMotion(ot,ot.byteLength,null,$),nt==null)return;let et=this._modelSetting.getMotionFadeInTimeValue(s,a);et>=0&&nt.setFadeInTime(et),et=this._modelSetting.getMotionFadeOutTimeValue(s,a),et>=0&&nt.setFadeOutTime(et),nt.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),it=!0,this._motionManager.startMotionPriority(nt,it,_)}),InvalidMotionQueueEntryHandleValue):(nt.setFinishedMotionHandler($),this._motionManager.startMotionPriority(nt,it,_))}startRandomMotion(s,a,_){if(this._modelSetting.getMotionCount(s)==0)return InvalidMotionQueueEntryHandleValue;const $=Math.floor(Math.random()*this._modelSetting.getMotionCount(s));return this.startMotion(s,$,a,_)}setExpression(s){const a=this._expressions.getValue(s);this._debugMode&&LAppPal.printMessage(`[APP]expression: [${s}]`),a!=null?this._expressionManager.startMotionPriority(a,!1,PriorityForce):this._debugMode&&LAppPal.printMessage(`[APP]expression[${s}] is null`)}setRandomExpression(){if(this._expressions.getSize()==0)return;const s=Math.floor(Math.random()*this._expressions.getSize());for(let a=0;a<this._expressions.getSize();a++)if(a==s){const _=this._expressions._keyValues[a].first;this.setExpression(_);return}}motionEventFired(s){CubismLogInfo("{0} is fired on LAppModel!!",s.s)}hitTest(s,a,_){if(this._opacity<1||!this._modelSetting)return!1;const $=this._modelSetting.getHitAreasCount();for(let _e=0;_e<$;_e++)if(this._modelSetting.getHitAreaName(_e)==s){const tt=this._modelSetting.getHitAreaId(_e);return this.isHit(tt,a,_)}return!1}anyhitTest(s,a){var $;if(this._opacity<1||!this._modelSetting)return null;const _=this._modelSetting.getHitAreasCount();for(let _e=0;_e<_;_e++){const tt=this._modelSetting.getHitAreaId(_e);if(this.isHit(tt,s,a)){const it=this._modelSetting.getHitAreaId(_e);return(($=it==null?void 0:it._id)==null?void 0:$.s)||null}}return null}preLoadMotionGroup(s){for(let a=0;a<this._modelSetting.getMotionCount(s);a++){const _=this._modelSetting.getMotionFileName(s,a),$=`${s}_${a}`;this._debugMode&&LAppPal.printMessage(`[APP]load motion: ${_} => [${$}]`),fetch(`${this._modelHomeDir}${_}`).then(_e=>{if(_e.ok)return _e.arrayBuffer();if(_e.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${_}`),null}).then(_e=>{if(!_e){this._allMotionCount--;return}const tt=this.loadMotion(_e,_e.byteLength,$);if(tt!=null){let nt=this._modelSetting.getMotionFadeInTimeValue(s,a);nt>=0&&tt.setFadeInTime(nt),nt=this._modelSetting.getMotionFadeOutTimeValue(s,a),nt>=0&&tt.setFadeOutTime(nt),tt.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),this._motions.getValue($)!=null&&ACubismMotion.delete(this._motions.getValue($)),this._motions.setValue($,tt),this._motionCount++,this._motionCount>=this._allMotionCount&&(this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl))}else this._allMotionCount--}).catch(_e=>{CubismLogError(`Failed to load motion: ${_e}`),this._allMotionCount--})}}releaseMotions(){this._motions.clear()}releaseExpressions(){this._expressions.clear()}doDraw(){if(this._model==null)return;const s=[0,0,canvas.width,canvas.height];this.getRenderer().setRenderState(frameBuffer,s),this.getRenderer().drawModel()}draw(s){this._model!=null&&this._state==22&&(s.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(s),this.doDraw())}async hasMocConsistencyFromFile(){if(CSM_ASSERT(this._modelSetting.getModelFileName().localeCompare("")),this._modelSetting.getModelFileName()!=""){const s=this._modelSetting.getModelFileName(),_=await(await fetch(`${this._modelHomeDir}${s}`)).arrayBuffer();return this._consistency=CubismMoc.hasMocConsistency(_),this._consistency?CubismLogInfo("Consistent MOC3."):CubismLogInfo("Inconsistent MOC3."),this._consistency}else LAppPal.printMessage("Model data does not exist.")}isHitOnModel(s,a){if(this._opacity<1||!this._model||!this._modelMatrix)return!1;const _=this._model.getDrawableCount(),$=this._modelMatrix.getArray(),_e=$[0]*$[5]-$[1]*$[4];if(Math.abs(_e)<1e-4)return!1;const tt=1/_e,nt={a:$[5]*tt,b:-$[1]*tt,c:-$[4]*tt,d:$[0]*tt,tx:($[4]*$[13]-$[5]*$[12])*tt,ty:($[1]*$[12]-$[0]*$[13])*tt},it={x:s*nt.a+a*nt.c+nt.tx,y:s*nt.b+a*nt.d+nt.ty};for(let ot=0;ot<_;ot++){if(!this._model.getDrawableDynamicFlagIsVisible(ot))continue;const et=this._model.getDrawableVertices(ot);let j=et[0],rt=et[1],st=et[0],at=et[1];for(let lt=2;lt<et.length;lt+=2){const ct=et[lt],ut=et[lt+1];j=Math.min(j,ct),rt=Math.min(rt,ut),st=Math.max(st,ct),at=Math.max(at,ut)}if(it.x>=j&&it.x<=st&&it.y>=rt&&it.y<=at)return!0}return!1}anyHitTestWithFallback(s,a){return this.anyhitTest(s,a)!==null||this.isHitOnModel(s,a)}startTapMotion(s,a){if(!a||Object.keys(a).length===0)return;let _={},$=!1;if(s&&a[s]&&(_=a[s],$=!0),$||(_={},Object.values(a).forEach(et=>{for(const[j,rt]of Object.entries(et))_[j]?_[j]+=Number(rt):_[j]=Number(rt)})),Object.keys(_).length===0)return;const _e=Object.keys(_),tt=Object.values(_).map(Number),nt=tt.reduce((et,j)=>et+(isNaN(j)?0:j),0);if(nt<=0)return;let it=Math.random()*nt,ot=null;for(let et=0;et<_e.length;et++){const j=isNaN(tt[et])?0:tt[et];if(it<j){ot=_e[et];break}it-=j}ot!==null&&this.startRandomMotion(ot,3)}}let s_instance$1=null;class LAppLive2DManager{constructor(){xt(this,"_viewMatrix");xt(this,"_models");xt(this,"_sceneIndex");xt(this,"_finishedMotion",o=>{LAppPal.printMessage("Motion Finished:"),console.log(o)});this._viewMatrix=new CubismMatrix44,this._models=new csmVector,this._sceneIndex=0,Array.isArray(ModelDir)&&ModelDir.length>0&&Array.isArray(ModelFileNames)&&ModelFileNames.length>0&&!!ModelFileNames[0]&&this.changeScene(this._sceneIndex)}static getInstance(){return s_instance$1==null&&(s_instance$1=new LAppLive2DManager),s_instance$1}static releaseInstance(){s_instance$1!=null&&(s_instance$1=void 0),s_instance$1=null}getModel(o){return o<this._models.getSize()?this._models.at(o):null}releaseAllModel(){for(let o=0;o<this._models.getSize();o++)this._models.at(o).release(),this._models.set(o,null);this._models.clear()}onDrag(o,s){for(let a=0;a<this._models.getSize();a++){const _=this.getModel(a);_&&_.setDragging(o,s)}}onTap(o,s){for(let a=0;a<this._models.getSize();a++)this._models.at(a).hitTest(HitAreaNameHead,o,s)?this._models.at(a).setRandomExpression():this._models.at(a).hitTest(HitAreaNameBody,o,s)&&this._models.at(a).startRandomMotion(MotionGroupTapBody,PriorityNormal,this._finishedMotion)}onUpdate(){const{width:o,height:s}=canvas,a=this._models.getSize();for(let _=0;_<a;++_){const $=new CubismMatrix44,_e=this.getModel(_);_e.getModel()&&(_e.getModel().getCanvasWidth()>1&&o<s?(_e.getModelMatrix().setWidth(2),$.scale(1,o/s)):$.scale(s/o,1),this._viewMatrix!=null&&$.multiplyByMatrix(this._viewMatrix)),_e.update(),_e.draw($)}}nextScene(){const o=(this._sceneIndex+1)%ModelDirSize;this.changeScene(o)}changeScene(o){this._sceneIndex=o;const s=ModelDir[o],a=ResourcesPath+s+"/";let _=ModelFileNames&&ModelFileNames[o]?ModelFileNames[o]:ModelDir[o];_+=".model3.json",this.releaseAllModel(),this._models.pushBack(new LAppModel),this._models.at(0).loadAssets(a,_)}setViewMatrix(o){for(let s=0;s<16;s++)this._viewMatrix.getArray()[s]=o.getArray()[s]}}class LAppTextureManager{constructor(){xt(this,"_textures");this._textures=new csmVector}release(){for(let o=this._textures.begin();o.notEqual(this._textures.end());o.preIncrement())gl.deleteTexture(o.ptr().id);this._textures=null}createTextureFromPngFile(o,s,a){for(let $=this._textures.begin();$.notEqual(this._textures.end());$.preIncrement())if($.ptr().fileName==o&&$.ptr().usePremultply==s){$.ptr().img=new Image,$.ptr().img.addEventListener("load",()=>a($.ptr()),{passive:!0}),$.ptr().img.src=o;return}const _=new Image;_.crossOrigin="anonymous",_.addEventListener("load",()=>{const $=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,$),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR),s&&gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,_),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null);const _e=new TextureInfo;_e!=null&&(_e.fileName=o,_e.width=_.width,_e.height=_.height,_e.id=$,_e.img=_,_e.usePremultply=s,this._textures.pushBack(_e)),a(_e)},{passive:!0}),_.src=o}releaseTextures(){for(let o=0;o<this._textures.getSize();o++)this._textures.set(o,null);this._textures.clear()}releaseTextureByTexture(o){for(let s=0;s<this._textures.getSize();s++)if(this._textures.at(s).id==o){this._textures.set(s,null),this._textures.remove(s);break}}releaseTextureByFilePath(o){for(let s=0;s<this._textures.getSize();s++)if(this._textures.at(s).fileName==o){this._textures.set(s,null),this._textures.remove(s);break}}}class TextureInfo{constructor(){xt(this,"img");xt(this,"id",null);xt(this,"width",0);xt(this,"height",0);xt(this,"usePremultply");xt(this,"fileName")}}class CubismViewMatrix extends CubismMatrix44{constructor(){super();xt(this,"_screenLeft");xt(this,"_screenRight");xt(this,"_screenTop");xt(this,"_screenBottom");xt(this,"_maxLeft");xt(this,"_maxRight");xt(this,"_maxTop");xt(this,"_maxBottom");xt(this,"_maxScale");xt(this,"_minScale");this._screenLeft=0,this._screenRight=0,this._screenTop=0,this._screenBottom=0,this._maxLeft=0,this._maxRight=0,this._maxTop=0,this._maxBottom=0,this._maxScale=0,this._minScale=0}adjustTranslate(s,a){this._tr[0]*this._maxLeft+(this._tr[12]+s)>this._screenLeft&&(s=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+s)<this._screenRight&&(s=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+a)<this._screenTop&&(a=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+a)>this._screenBottom&&(a=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);const _=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,s,a,0,1]);CubismMatrix44.multiply(_,this._tr,this._tr)}adjustScale(s,a,_){const $=this.getMaxScale(),_e=this.getMinScale(),tt=_*this._tr[0];tt<_e?this._tr[0]>0&&(_=_e/this._tr[0]):tt>$&&this._tr[0]>0&&(_=$/this._tr[0]);const nt=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,s,a,0,1]),it=new Float32Array([_,0,0,0,0,_,0,0,0,0,1,0,0,0,0,1]),ot=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-s,-a,0,1]);CubismMatrix44.multiply(ot,this._tr,this._tr),CubismMatrix44.multiply(it,this._tr,this._tr),CubismMatrix44.multiply(nt,this._tr,this._tr)}setScreenRect(s,a,_,$){this._screenLeft=s,this._screenRight=a,this._screenBottom=_,this._screenTop=$}setMaxScreenRect(s,a,_,$){this._maxLeft=s,this._maxRight=a,this._maxTop=$,this._maxBottom=_}setMaxScale(s){this._maxScale=s}setMinScale(s){this._minScale=s}getMaxScale(){return this._maxScale}getMinScale(){return this._minScale}isMaxScale(){return this.getScaleX()>=this._maxScale}isMinScale(){return this.getScaleX()<=this._minScale}getScreenLeft(){return this._screenLeft}getScreenRight(){return this._screenRight}getScreenBottom(){return this._screenBottom}getScreenTop(){return this._screenTop}getMaxLeft(){return this._maxLeft}getMaxRight(){return this._maxRight}getMaxBottom(){return this._maxBottom}getMaxTop(){return this._maxTop}}var Live2DCubismFramework;(i=>{i.CubismViewMatrix=CubismViewMatrix})(Live2DCubismFramework||(Live2DCubismFramework={}));class TouchManager{constructor(){xt(this,"_startY");xt(this,"_startX");xt(this,"_lastX");xt(this,"_lastY");xt(this,"_lastX1");xt(this,"_lastY1");xt(this,"_lastX2");xt(this,"_lastY2");xt(this,"_lastTouchDistance");xt(this,"_deltaX");xt(this,"_deltaY");xt(this,"_scale");xt(this,"_touchSingle");xt(this,"_flipAvailable");this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}getCenterX(){return this._lastX}getCenterY(){return this._lastY}getDeltaX(){return this._deltaX}getDeltaY(){return this._deltaY}getStartX(){return this._startX}getStartY(){return this._startY}getScale(){return this._scale}getX(){return this._lastX}getY(){return this._lastY}getX1(){return this._lastX1}getY1(){return this._lastY1}getX2(){return this._lastX2}getY2(){return this._lastY2}isSingleTouch(){return this._touchSingle}isFlickAvailable(){return this._flipAvailable}disableFlick(){this._flipAvailable=!1}touchesBegan(o,s){this._lastX=o,this._lastY=s,this._startX=o,this._startY=s,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0}touchesMoved(o,s){this._lastX=o,this._lastY=s,this._lastTouchDistance=-1,this._touchSingle=!0}getFlickDistance(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)}calculateDistance(o,s,a,_){return Math.sqrt((o-a)*(o-a)+(s-_)*(s-_))}calculateMovingAmount(o,s){if(o>0!=s>0)return 0;const a=o>0?1:-1,_=Math.abs(o),$=Math.abs(s);return a*(_<$?_:$)}}class LAppView{constructor(){xt(this,"_touchManager");xt(this,"_deviceToScreen");xt(this,"_viewMatrix");xt(this,"_programId");xt(this,"_back");xt(this,"_changeModel");xt(this,"_isClick");this._programId=null,this._back=null,this._touchManager=new TouchManager,this._deviceToScreen=new CubismMatrix44,this._viewMatrix=new CubismViewMatrix}initialize(){const{width:o,height:s}=canvas,a=o/s,_=-a,$=a,_e=ViewLogicalLeft,tt=ViewLogicalRight;if(this._viewMatrix.setScreenRect(_,$,_e,tt),this._viewMatrix.scale(ViewScale,ViewScale),this._deviceToScreen.loadIdentity(),o>s){const nt=Math.abs($-_);this._deviceToScreen.scaleRelative(nt/o,-nt/o)}else{const nt=Math.abs(tt-_e);this._deviceToScreen.scaleRelative(nt/s,-nt/s)}this._deviceToScreen.translateRelative(-o*.5,-s*.5),this._viewMatrix.setMaxScale(ViewMaxScale),this._viewMatrix.setMinScale(ViewMinScale),this._viewMatrix.setMaxScreenRect(ViewLogicalMaxLeft,ViewLogicalMaxRight,ViewLogicalMaxBottom,ViewLogicalMaxTop)}release(){if(this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,this._back&&typeof this._back.release=="function")try{this._back.release()}catch{}this._back=null;try{gl==null||gl.deleteProgram(this._programId)}catch{}this._programId=null}render(){gl.useProgram(this._programId),this._back&&this._back.render(this._programId),gl.flush();const o=LAppLive2DManager.getInstance();o.setViewMatrix(this._viewMatrix),o.onUpdate()}initializeSprite(){canvas.width,canvas.height,LAppDelegate.getInstance().getTextureManager(),this._programId==null&&(this._programId=LAppDelegate.getInstance().createShader())}onTouchesBegan(o,s){this._touchManager.touchesBegan(o*window.devicePixelRatio,s*window.devicePixelRatio)}onTouchesMoved(o,s){const a=this.transformViewX(this._touchManager.getX()),_=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(o*window.devicePixelRatio,s*window.devicePixelRatio),LAppLive2DManager.getInstance().onDrag(a,_)}onTouchesEnded(o,s){const a=LAppLive2DManager.getInstance();a.onDrag(0,0);{const _=this._deviceToScreen.transformX(this._touchManager.getX()),$=this._deviceToScreen.transformY(this._touchManager.getY());a.onTap(_,$)}}transformViewX(o){const s=this._deviceToScreen.transformX(o);return this._viewMatrix.invertTransformX(s)}transformViewY(o){const s=this._deviceToScreen.transformY(o);return this._viewMatrix.invertTransformY(s)}transformScreenX(o){return this._deviceToScreen.transformX(o)}transformScreenY(o){return this._deviceToScreen.transformY(o)}}let s_instance=null,frameBuffer=null;class LAppDelegate{constructor(){xt(this,"_cubismOption");xt(this,"_view");xt(this,"_captured");xt(this,"_mouseX");xt(this,"_mouseY");xt(this,"_isEnd");xt(this,"_textureManager");this._captured=!1,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._cubismOption=new Option,this._view=new LAppView,this._textureManager=new LAppTextureManager}static getInstance(){return s_instance==null&&(s_instance=new LAppDelegate),s_instance}static releaseInstance(){s_instance!=null&&s_instance.release(),s_instance=null}initialize(){return this._resizeCanvas(),gl&&!frameBuffer&&(frameBuffer=gl.getParameter(gl.FRAMEBUFFER_BINDING)),gl&&(gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)),!!(canvas&&"ontouchend"in canvas)&&canvas?(canvas.addEventListener("touchstart",onTouchBegan,{passive:!0}),canvas.addEventListener("touchmove",onTouchMoved,{passive:!0}),canvas.addEventListener("touchend",onTouchEnded,{passive:!0}),canvas.addEventListener("touchcancel",onTouchCancel,{passive:!0})):canvas&&(canvas.addEventListener("mousedown",onClickBegan,{passive:!0}),canvas.addEventListener("mousemove",onMouseMoved,{passive:!0}),canvas.addEventListener("mouseup",onClickEnded,{passive:!0})),this._view.initialize(),this.initializeCubism(),!0}onResize(){if(this._resizeCanvas(),this._view){this._view.initialize(),this._view.initializeSprite();const o=LAppLive2DManager.getInstance();if(o){const s=o.getModel(0);if(s&&canvas){const a=canvas.width,_=canvas.height;a>0&&_>0&&s.setPosition&&s.setPosition(a/2,_/2)}}}}release(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,LAppLive2DManager.releaseInstance(),CubismFramework.dispose()}run(){const o=()=>{if(s_instance!=null){if(LAppPal.updateTime(!1),LAppPal.getDeltaTime()<1/LIMITED_FRAME_RATE){requestAnimationFrame(o);return}LAppPal.updateTime(!0),gl&&(gl.clearColor(0,0,0,1),gl.enable(gl.DEPTH_TEST),gl.depthFunc(gl.LEQUAL),gl.clear(gl.DEPTH_BUFFER_BIT),gl.clearDepth(1),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),this._view.render()),requestAnimationFrame(o)}};o()}createShader(){const o=gl.createShader(gl.VERTEX_SHADER);if(o==null)return LAppPal.printMessage("failed to create vertexShader"),null;gl.shaderSource(o,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),gl.compileShader(o);const a=gl.createShader(gl.FRAGMENT_SHADER);if(a==null)return LAppPal.printMessage("failed to create fragmentShader"),null;gl.shaderSource(a,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),gl.compileShader(a);const $=gl.createProgram();return gl.attachShader($,o),gl.attachShader($,a),gl.deleteShader(o),gl.deleteShader(a),gl.linkProgram($),gl.useProgram($),$}getView(){return this._view}getTextureManager(){return this._textureManager}initializeCubism(){this._cubismOption.logFunction=LAppPal.printMessage,this._cubismOption.loggingLevel=CubismLoggingLevel,CubismFramework.startUp(this._cubismOption),CubismFramework.initialize(),LAppLive2DManager.getInstance(),LAppPal.updateTime(),this._view.initializeSprite()}_resizeCanvas(){if(!canvas||!gl)return;let o=canvas.clientWidth,s=canvas.clientHeight;if(o===0||s===0){const a=canvas.getBoundingClientRect();o=a.width||window.innerWidth||1280,s=a.height||window.innerHeight||720}canvas.width=Math.max(1,Math.floor(o*window.devicePixelRatio)),canvas.height=Math.max(1,Math.floor(s*window.devicePixelRatio)),gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight)}}function onClickBegan(i){if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}LAppDelegate.getInstance()._captured=!0;const o=i.pageX,s=i.pageY;LAppDelegate.getInstance()._view.onTouchesBegan(o,s)}function onMouseMoved(i){if(!LAppDelegate.getInstance()._captured)return;if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const o=i.target.getBoundingClientRect(),s=i.clientX-o.left,a=i.clientY-o.top;LAppDelegate.getInstance()._view.onTouchesMoved(s,a)}function onClickEnded(i){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const o=i.target.getBoundingClientRect(),s=i.clientX-o.left,a=i.clientY-o.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function onTouchBegan(i){if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}LAppDelegate.getInstance()._captured=!0;const o=i.changedTouches[0].pageX,s=i.changedTouches[0].pageY;LAppDelegate.getInstance()._view.onTouchesBegan(o,s)}function onTouchMoved(i){if(!LAppDelegate.getInstance()._captured)return;if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const o=i.target.getBoundingClientRect(),s=i.changedTouches[0].clientX-o.left,a=i.changedTouches[0].clientY-o.top;LAppDelegate.getInstance()._view.onTouchesMoved(s,a)}function onTouchEnded(i){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const o=i.target.getBoundingClientRect(),s=i.changedTouches[0].clientX-o.left,a=i.changedTouches[0].clientY-o.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function onTouchCancel(i){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const o=i.target.getBoundingClientRect(),s=i.changedTouches[0].clientX-o.left,a=i.changedTouches[0].clientY-o.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function initializeLive2D(){var i;if(console.log("Initializing Live2D with resourcePath:",ResourcesPath),console.log("Model directories:",ModelDir),!Array.isArray(ModelDir)||ModelDir.length===0||!Array.isArray(ModelFileNames)||ModelFileNames.length===0||!ModelFileNames[0]){console.warn("[Live2D] Model config not set yet; skipping initializeLive2D for now.");return}if(LAppDelegate.getInstance()&&LAppLive2DManager.releaseInstance(),!LAppGlManager.getInstance()||!LAppDelegate.getInstance().initialize()){console.error("Failed to initialize Live2D");return}if(LAppDelegate.getInstance().run(),window.getLive2DManager=()=>LAppLive2DManager.getInstance(),window.__L2D_INIT_DONE__=!0,!window.getLAppAdapter){console.log("Setting up getLAppAdapter function");const{LAppAdapter:o}=require("./lappadapter");window.getLAppAdapter=()=>o.getInstance()}if((i=window.api)!=null&&i.setIgnoreMouseEvent){const o=document.getElementById("live2d");o==null||o.addEventListener("pointermove",s=>{var tt,nt;const a=LAppLive2DManager.getInstance().getModel(0),_=LAppDelegate.getInstance().getView();if(!a||!_||!_._deviceToScreen)return;const $=_==null?void 0:_._deviceToScreen.transformX(s.x),_e=_==null?void 0:_._deviceToScreen.transformY(s.y);window.api.setIgnoreMouseEvent(!((tt=a==null?void 0:a.anyhitTest)!=null&&tt.call(a,$,_e))&&!((nt=a==null?void 0:a.isHitOnModel)!=null&&nt.call(a,$,_e)))}),o==null||o.addEventListener("pointerdown",s=>{var it,ot;const a=LAppLive2DManager.getInstance().getModel(0),_=LAppDelegate.getInstance().getView();if(!a||!_||!_._deviceToScreen)return;const $=_==null?void 0:_._deviceToScreen.transformX(s.x),_e=_==null?void 0:_._deviceToScreen.transformY(s.y),tt=(it=a==null?void 0:a.anyhitTest)==null?void 0:it.call(a,$,_e),nt=tt!==null||((ot=a==null?void 0:a.isHitOnModel)==null?void 0:ot.call(a,$,_e));console.log("Model clicked:",nt,tt?`in area: ${tt}`:"")})}}window.addEventListener("beforeunload",()=>LAppDelegate.releaseInstance(),{passive:!0});window.addEventListener("resize",()=>{Array.isArray(ModelDir)&&ModelDir.length>0&&Array.isArray(ModelFileNames)&&ModelFileNames.length>0&&!!ModelFileNames[0]&&LAppDelegate.getInstance().onResize()},{passive:!0});window.initializeLive2D=initializeLive2D;const TAP_DURATION_THRESHOLD_MS=200,DRAG_DISTANCE_THRESHOLD_PX=5;function parseModelUrl(i){try{const o=new URL(i),{pathname:s}=o,a=s.lastIndexOf("/");if(a===-1)throw new Error("Invalid model URL format");const $=s.substring(a+1).replace(".model3.json",""),_e=s.lastIndexOf("/",a-1);if(_e===-1)throw new Error("Invalid model URL format");const tt=s.substring(_e+1,a);return{baseUrl:`${o.protocol}//${o.host}${s.substring(0,_e+1)}`,modelDir:tt,modelFileName:$}}catch(o){return console.error("Error parsing model URL:",o),{baseUrl:"",modelDir:"",modelFileName:""}}}const useLive2DModel=({modelInfo:i,canvasRef:o})=>{const{mode:s}=useMode(),a=s==="pet",[_,$]=reactExports.useState(!1),[_e,tt]=reactExports.useState({x:0,y:0}),nt=reactExports.useRef({x:0,y:0}),it=reactExports.useRef({x:0,y:0}),ot=reactExports.useRef({x:0,y:0}),et=reactExports.useRef(null),j=reactExports.useRef(!1),rt=window.electron,st=reactExports.useRef(null),at=reactExports.useRef(0),lt=reactExports.useCallback(vt=>{const Rt=()=>{if(o.current){window.__L2D_INIT_KEY__=vt,initializeLive2D();return}if(at.current>=40){console.warn("[Live2D] Canvas not ready after waiting, skipping init for now");return}at.current+=1,st.current=setTimeout(Rt,100)};st.current&&(clearTimeout(st.current),st.current=null),at.current=0,Rt()},[o]),ct=reactExports.useRef(0),ut=reactExports.useRef({x:0,y:0}),dt=reactExports.useRef(!1);reactExports.useEffect(()=>{var It;const vt=i==null?void 0:i.url,wt=(It=window.LAppDefine)==null?void 0:It.CurrentKScale,Ct=(i==null?void 0:i.kScale)!==void 0?Number(i.kScale):void 0;if(vt&&(vt!==et.current||wt!==void 0&&Ct!==void 0&&wt!==Ct)){et.current=vt;try{const{baseUrl:Pt,modelDir:St,modelFileName:Ot}=parseModelUrl(vt);if(!(Pt&&St&&Ot))return;updateModelConfig(Pt,St,Ot,Number(i==null?void 0:i.kScale));const At=`${Pt}|${St}|${Ot}`;window.__L2D_INIT_KEY__!==At&&(o.current?(window.__L2D_INIT_KEY__=At,initializeLive2D()):lt(At))}catch(Pt){console.error("Error processing model URL:",Pt)}}},[i==null?void 0:i.url,i==null?void 0:i.kScale,o.current,lt]),reactExports.useEffect(()=>{const vt=i==null?void 0:i.url;if(!vt||!window.LAppDefine)return;const wt=window.__L2D_INIT_DONE__;if(o.current&&!wt)try{const{baseUrl:Ct,modelDir:Rt,modelFileName:It}=parseModelUrl(vt);if(Ct&&Rt&&It){const Pt=`${Ct}|${Rt}|${It}`;lt(Pt)}}catch{}},[i==null?void 0:i.url,o.current,lt]),reactExports.useEffect(()=>()=>{st.current&&(clearTimeout(st.current),st.current=null)},[]);const ft=reactExports.useCallback(()=>{var wt;const vt=(wt=window.getLAppAdapter)==null?void 0:wt.call(window);if(vt){const Ct=vt.getModel();if(Ct&&Ct._modelMatrix){const Rt=Ct._modelMatrix.getArray();return{x:Rt[12],y:Rt[13]}}}return{x:0,y:0}},[]);reactExports.useCallback((vt,wt)=>{var Rt;const Ct=(Rt=window.getLAppAdapter)==null?void 0:Rt.call(window);if(Ct){const It=Ct.getModel();if(It&&It._modelMatrix){const St=[...It._modelMatrix.getArray()];St[12]=vt,St[13]=wt,It._modelMatrix.setMatrix(St),ot.current={x:vt,y:wt}}}},[]),reactExports.useEffect(()=>{const vt=setTimeout(()=>{const wt=ft();ot.current=wt,tt(wt)},500);return()=>clearTimeout(vt)},[i==null?void 0:i.url,ft]);const ht=reactExports.useCallback(()=>{const vt=document.getElementById("canvas");if(!vt)return{width:1,height:1,scale:1};const{width:wt}=vt,{height:Ct}=vt,Rt=wt/vt.clientWidth;return{width:wt,height:Ct,scale:Rt}},[]);reactExports.useCallback((vt,wt)=>{const{width:Ct,height:Rt,scale:It}=ht(),Pt=vt*It/Ct*2-1,St=-(wt*It/Rt)*2+1;return{x:Pt,y:St}},[ht]);const mt=reactExports.useCallback(vt=>{var rr;const wt=(rr=window.getLAppAdapter)==null?void 0:rr.call(window);if(!wt||!o.current)return;const Ct=wt.getModel(),Rt=LAppDelegate.getInstance().getView();if(!Rt||!Ct)return;const It=o.current,Pt=It.getBoundingClientRect(),St=vt.clientX-Pt.left,Ot=vt.clientY-Pt.top;if(!Rt._deviceToScreen)return;const At=It.width/It.clientWidth,$t=St*At,Ft=Ot*At,Ut=Rt._deviceToScreen.transformX($t),Kt=Rt._deviceToScreen.transformY(Ft);if(!Ct.anyhitTest||!Ct.isHitOnModel)return;const ar=Ct.anyhitTest(Ut,Kt),lr=Ct.isHitOnModel(Ut,Kt);if((ar!==null||lr)&&(ct.current=Date.now(),ut.current={x:vt.clientX,y:vt.clientY},dt.current=!0,$(!1),Ct._modelMatrix)){const Jt=Ct._modelMatrix.getArray();it.current={x:Jt[12],y:Jt[13]}}},[o,i]),bt=reactExports.useCallback(vt=>{var It;const wt=(It=window.getLAppAdapter)==null?void 0:It.call(window),Ct=LAppDelegate.getInstance().getView(),Rt=wt==null?void 0:wt.getModel();if(dt.current&&wt&&Ct&&Rt&&o.current){const Pt=Date.now()-ct.current,St=vt.clientX-ut.current.x,Ot=vt.clientY-ut.current.y,At=Math.sqrt(St*St+Ot*Ot);if(At>DRAG_DISTANCE_THRESHOLD_PX||Pt>TAP_DURATION_THRESHOLD_MS&&At>1){dt.current=!1,$(!0);const Ft=o.current.getBoundingClientRect();nt.current={x:ut.current.x-Ft.left,y:ut.current.y-Ft.top}}}if(_&&wt&&Ct&&Rt&&o.current){if(!Ct._deviceToScreen)return;const Pt=o.current,St=Pt.getBoundingClientRect(),Ot=vt.clientX-St.left,At=vt.clientY-St.top,$t=Pt.width/Pt.clientWidth,Ft=nt.current.x*$t,Ut=nt.current.y*$t,Kt=Ct._deviceToScreen.transformX(Ft),ar=Ct._deviceToScreen.transformY(Ut),lr=Ot*$t,rr=At*$t,Jt=Ct._deviceToScreen.transformX(lr),cr=Ct._deviceToScreen.transformY(rr),Xt=Jt-Kt,Lt=cr-ar,Zt=it.current.x+Xt,ur=it.current.y+Lt;if(wt.setModelPosition)wt.setModelPosition(Zt,ur);else if(Rt._modelMatrix){const nr=[...Rt._modelMatrix.getArray()];nr[12]=Zt,nr[13]=ur,Rt._modelMatrix.setMatrix(nr)}ot.current={x:Zt,y:ur},tt({x:Zt,y:ur})}if(a&&!_&&!dt.current&&rt&&wt&&Ct&&Rt&&o.current){const Pt=o.current,St=Pt.getBoundingClientRect(),Ot=vt.clientX-St.left,At=vt.clientY-St.top,$t=Pt.width/Pt.clientWidth,Ft=Ot*$t,Ut=At*$t;if(!Ct._deviceToScreen)return;const Kt=Ct._deviceToScreen.transformX(Ft),ar=Ct._deviceToScreen.transformY(Ut);if(!Rt.anyhitTest||!Rt.isHitOnModel)return;const lr=Rt.anyhitTest(Kt,ar)!==null||Rt.isHitOnModel(Kt,ar);lr!==j.current&&(j.current=lr,rt.ipcRenderer.send("update-component-hover","live2d-model",lr))}},[a,_,rt,o]),yt=reactExports.useCallback(vt=>{var It;const wt=(It=window.getLAppAdapter)==null?void 0:It.call(window),Ct=wt==null?void 0:wt.getModel(),Rt=LAppDelegate.getInstance().getView();if(_){if($(!1),wt){const Pt=wt.getModel();if(Pt&&Pt._modelMatrix){const St=Pt._modelMatrix.getArray(),Ot={x:St[12],y:St[13]};ot.current=Ot,it.current=Ot,tt(Ot)}}}else if(dt.current&&wt&&Ct&&Rt&&o.current){const Pt=Date.now()-ct.current,St=vt.clientX-ut.current.x,Ot=vt.clientY-ut.current.y,At=Math.sqrt(St*St+Ot*Ot);if(Pt<TAP_DURATION_THRESHOLD_MS&&At<DRAG_DISTANCE_THRESHOLD_PX&&(i==null?void 0:i.pointerInteractive)!==!1&&i!=null&&i.tapMotions){const Ft=o.current,Ut=Ft.getBoundingClientRect(),Kt=Ft.width/Ft.clientWidth,ar=(ut.current.x-Ut.left)*Kt,lr=(ut.current.y-Ut.top)*Kt;if(!Rt._deviceToScreen||!Ct.anyhitTest)return;const rr=Rt._deviceToScreen.transformX(ar),Jt=Rt._deviceToScreen.transformY(lr),cr=Ct.anyhitTest(rr,Jt);Ct.startTapMotion(cr,i.tapMotions)}}dt.current=!1},[_,o,i]),gt=reactExports.useCallback(()=>{_&&yt({}),dt.current&&(dt.current=!1),a&&rt&&j.current&&(j.current=!1,rt.ipcRenderer.send("update-component-hover","live2d-model",!1))},[a,_,rt,yt]);return reactExports.useEffect(()=>{!a&&rt&&j.current&&(j.current=!1)},[a,rt]),{position:_e,isDragging:_,handlers:{onMouseDown:mt,onMouseMove:bt,onMouseUp:yt,onMouseLeave:gt}}},MIN_SCALE=.1,MAX_SCALE=5,EASING_FACTOR=.3,WHEEL_SCALE_STEP=.03,DEFAULT_SCALE=1,applyScale=i=>{try{const o=LAppLive2DManager.getInstance();if(!o)return;const s=o.getModel(0);if(!s)return;s._modelMatrix.scale(i,i)}catch{console.debug("Model not ready for scaling yet")}},useLive2DResize=({containerRef:i,modelInfo:o,showSidebar:s})=>{const{mode:a}=useMode(),_=a==="pet",$=reactExports.useRef(null),_e=reactExports.useRef(null),tt=reactExports.useRef(!1),nt=(o==null?void 0:o.kScale)||DEFAULT_SCALE,it=reactExports.useRef(nt),ot=reactExports.useRef(nt),et=reactExports.useRef(),j=reactExports.useRef(!1),rt=reactExports.useRef(!1),st=reactExports.useRef({width:0,height:0}),at=reactExports.useRef(s);reactExports.useEffect(()=>{const ft=(o==null?void 0:o.kScale)||DEFAULT_SCALE;it.current=ft,ot.current=ft,rt.current=!1,et.current&&(cancelAnimationFrame(et.current),j.current=!1);const ht=requestAnimationFrame(()=>{dt()});return()=>cancelAnimationFrame(ht)},[o==null?void 0:o.url,o==null?void 0:o.kScale]);const lt=reactExports.useCallback(()=>{const ft=Math.max(MIN_SCALE,Math.min(MAX_SCALE,ot.current)),ht=it.current,mt=ft-ht,bt=ht+mt*EASING_FACTOR;applyScale(bt),it.current=bt,et.current=requestAnimationFrame(lt)},[]),ct=reactExports.useCallback(ft=>{if(ft.preventDefault(),!(o!=null&&o.scrollToResize))return;const ht=ft.deltaY>0?-1:1,mt=WHEEL_SCALE_STEP*ht,bt=it.current,yt=Math.max(MIN_SCALE,Math.min(MAX_SCALE,bt+mt));ot.current=yt,j.current||(j.current=!0,et.current=requestAnimationFrame(lt))},[o==null?void 0:o.scrollToResize,lt]),ut=reactExports.useCallback(()=>{_e.current&&(tt.current=!0,$.current!==null&&(cancelAnimationFrame($.current),$.current=null))},[]),dt=reactExports.useCallback(()=>{var ht;const ft=_e.current;if(ft){tt.current||ut();try{const mt=(ht=i.current)==null?void 0:ht.getBoundingClientRect(),{width:bt,height:yt}=_?{width:window.innerWidth,height:window.innerHeight}:mt||{width:0,height:0},gt=st.current,vt=at.current!==s;if(!(Math.abs(gt.width-bt)>1||Math.abs(gt.height-yt)>1||vt)&&rt.current){tt.current=!1;return}if(st.current={width:bt,height:yt},at.current=s,!mt&&!_&&console.warn("[Resize] Container bounds not available in window mode."),bt===0||yt===0){console.warn("[Resize] Width or Height is zero, skipping canvas/delegate update."),tt.current=!1;return}const Rt=window.devicePixelRatio||1;ft.width=Math.round(bt*Rt),ft.height=Math.round(yt*Rt),ft.style.width=`${bt}px`,ft.style.height=`${yt}px`;const It=LAppDelegate.getInstance();It?Array.isArray(ModelDir)&&ModelDir.length>0&&Array.isArray(ModelFileNames)&&ModelFileNames.length>0&&ModelFileNames[0]&&It.onResize():console.warn("[Resize] LAppDelegate instance not found."),tt.current=!1}catch{tt.current=!1}}},[_,i,o==null?void 0:o.kScale,o==null?void 0:o.initialXshift,o==null?void 0:o.initialYshift,s,ut,_e]);return reactExports.useEffect(()=>{at.current!==s&&($.current!==null&&cancelAnimationFrame($.current),$.current=requestAnimationFrame(()=>{dt(),$.current=null}))},[s,dt]),reactExports.useEffect(()=>{const ft=_e.current;if(ft)return ft.addEventListener("wheel",ct,{passive:!1}),()=>{ft.removeEventListener("wheel",ct)}},[ct,_e]),reactExports.useEffect(()=>()=>{et.current&&(cancelAnimationFrame(et.current),et.current=void 0),$.current!==null&&(cancelAnimationFrame($.current),$.current=null)},[]),reactExports.useEffect(()=>{const ft=i.current;if(!ft)return;$.current!==null&&cancelAnimationFrame($.current),$.current=requestAnimationFrame(()=>{dt(),$.current=null});const ht=new ResizeObserver(()=>{tt.current||($.current!==null&&cancelAnimationFrame($.current),$.current=requestAnimationFrame(()=>{dt(),$.current=null}))});return ht.observe(ft),()=>{$.current!==null&&(cancelAnimationFrame($.current),$.current=null),ht.disconnect()}},[i,dt]),reactExports.useEffect(()=>{const ft=()=>{tt.current||($.current!==null&&cancelAnimationFrame($.current),$.current=requestAnimationFrame(()=>{dt(),$.current=null}))};return window.addEventListener("resize",ft),()=>{window.removeEventListener("resize",ft),$.current!==null&&(cancelAnimationFrame($.current),$.current=null)}},[dt]),{canvasRef:_e,handleResize:dt}},Live2D=reactExports.memo(({showSidebar:i})=>{const{forceIgnoreMouse:o}=useForceIgnoreMouse(),{modelInfo:s}=useLive2DConfig(),{mode:a}=useMode(),_=reactExports.useRef(null),{aiState:$}=useAiState(),{resetExpression:_e}=useLive2DExpression(),tt=a==="pet",{canvasRef:nt}=useLive2DResize({containerRef:_,modelInfo:s,showSidebar:i}),{isDragging:it,handlers:ot}=useLive2DModel({modelInfo:s,canvasRef:nt});useIpcHandlers(),useInterrupt(),useAudioTask(),reactExports.useEffect(()=>{var rt;if($===AiStateEnum.IDLE){const st=(rt=window.getLAppAdapter)==null?void 0:rt.call(window);st&&_e(st,s)}},[$,s,_e]);const et=rt=>{ot.onMouseDown(rt)},j=rt=>{var st,at;tt&&(rt.preventDefault(),console.log("[ContextMenu] (Pet Mode) Right-click detected, requesting menu..."),(at=(st=window.api)==null?void 0:st.showContextMenu)==null||at.call(st))};return jsxRuntimeExports.jsx("div",{ref:_,id:"live2d-internal-wrapper",style:{width:"100%",height:"100%",pointerEvents:tt&&o?"none":"auto",overflow:"hidden",position:"relative",cursor:it?"grabbing":"default"},onPointerDown:et,onContextMenu:j,...ot,children:jsxRuntimeExports.jsx("canvas",{id:"canvas",ref:nt,style:{width:"100%",height:"100%",pointerEvents:tt&&o?"none":"auto",display:"block",cursor:it?"grabbing":"default"}})})});Live2D.displayName="Live2D";function useSwitchCharacter(){const{sendMessage:i}=useWebSocket(),{confName:o,getFilenameByName:s}=useConfig(),{interrupt:a}=useInterrupt(),{stopMic:_}=useVAD(),{setSubtitleText:$}=useSubtitle(),{setAiState:_e}=useAiState(),{setModelInfo:tt}=useLive2DConfig();return{switchCharacter:reactExports.useCallback(it=>{if(s(o)===it){console.log("Skipping character switch - same configuration file");return}$("New Character Loading..."),a(),_(),_e("loading"),tt(void 0),i({type:"switch-config",file:it}),console.log("Switch Character fileName: ",it)},[o,s,i,a,_,$,_e])}}const isString=i=>typeof i=="string",defer=()=>{let i,o;const s=new Promise((a,_)=>{i=a,o=_});return s.resolve=i,s.reject=o,s},makeString=i=>i==null?"":""+i,copy=(i,o,s)=>{i.forEach(a=>{o[a]&&(s[a]=o[a])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=i=>i&&i.indexOf("###")>-1?i.replace(lastOfPathSeparatorRegExp,"."):i,canNotTraverseDeeper=i=>!i||isString(i),getLastOfPath=(i,o,s)=>{const a=isString(o)?o.split("."):o;let _=0;for(;_<a.length-1;){if(canNotTraverseDeeper(i))return{};const $=cleanKey(a[_]);!i[$]&&s&&(i[$]=new s),Object.prototype.hasOwnProperty.call(i,$)?i=i[$]:i={},++_}return canNotTraverseDeeper(i)?{}:{obj:i,k:cleanKey(a[_])}},setPath=(i,o,s)=>{const{obj:a,k:_}=getLastOfPath(i,o,Object);if(a!==void 0||o.length===1){a[_]=s;return}let $=o[o.length-1],_e=o.slice(0,o.length-1),tt=getLastOfPath(i,_e,Object);for(;tt.obj===void 0&&_e.length;)$=`${_e[_e.length-1]}.${$}`,_e=_e.slice(0,_e.length-1),tt=getLastOfPath(i,_e,Object),tt!=null&&tt.obj&&typeof tt.obj[`${tt.k}.${$}`]<"u"&&(tt.obj=void 0);tt.obj[`${tt.k}.${$}`]=s},pushPath=(i,o,s,a)=>{const{obj:_,k:$}=getLastOfPath(i,o,Object);_[$]=_[$]||[],_[$].push(s)},getPath=(i,o)=>{const{obj:s,k:a}=getLastOfPath(i,o);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},getPathWithDefaults=(i,o,s)=>{const a=getPath(i,s);return a!==void 0?a:getPath(o,s)},deepExtend=(i,o,s)=>{for(const a in o)a!=="__proto__"&&a!=="constructor"&&(a in i?isString(i[a])||i[a]instanceof String||isString(o[a])||o[a]instanceof String?s&&(i[a]=o[a]):deepExtend(i[a],o[a],s):i[a]=o[a]);return i},regexEscape=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=i=>isString(i)?i.replace(/[&<>"'\/]/g,o=>_entityMap[o]):i;class RegExpCache{constructor(o){this.capacity=o,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(o){const s=this.regExpMap.get(o);if(s!==void 0)return s;const a=new RegExp(o);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(o,a),this.regExpQueue.push(o),a}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(i,o,s)=>{o=o||"",s=s||"";const a=chars.filter(_e=>o.indexOf(_e)<0&&s.indexOf(_e)<0);if(a.length===0)return!0;const _=looksLikeObjectPathRegExpCache.getRegExp(`(${a.map(_e=>_e==="?"?"\\?":_e).join("|")})`);let $=!_.test(i);if(!$){const _e=i.indexOf(s);_e>0&&!_.test(i.substring(0,_e))&&($=!0)}return $},deepFind=function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[o])return Object.prototype.hasOwnProperty.call(i,o)?i[o]:void 0;const a=o.split(s);let _=i;for(let $=0;$<a.length;){if(!_||typeof _!="object")return;let _e,tt="";for(let nt=$;nt<a.length;++nt)if(nt!==$&&(tt+=s),tt+=a[nt],_e=_[tt],_e!==void 0){if(["string","number","boolean"].indexOf(typeof _e)>-1&&nt<a.length-1)continue;$+=nt-$+1;break}_=_e}return _},getCleanedCode=i=>i==null?void 0:i.replace("_","-"),consoleLogger={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,o){var s,a;(a=(s=console==null?void 0:console[i])==null?void 0:s.apply)==null||a.call(s,console,o)}};class Logger{constructor(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(o,s)}init(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=o||consoleLogger,this.options=s,this.debug=s.debug}log(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return this.forward(s,"log","",!0)}warn(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return this.forward(s,"warn","",!0)}error(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return this.forward(s,"error","")}deprecate(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(o,s,a,_){return _&&!this.debug?null:(isString(o[0])&&(o[0]=`${a}${this.prefix} ${o[0]}`),this.logger[s](o))}create(o){return new Logger(this.logger,{prefix:`${this.prefix}:${o}:`,...this.options})}clone(o){return o=o||this.options,o.prefix=o.prefix||this.prefix,new Logger(this.logger,o)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(o,s){return o.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const _=this.observers[a].get(s)||0;this.observers[a].set(s,_+1)}),this}off(o,s){if(this.observers[o]){if(!s){delete this.observers[o];return}this.observers[o].delete(s)}}emit(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),_=1;_<s;_++)a[_-1]=arguments[_];this.observers[o]&&Array.from(this.observers[o].entries()).forEach(_e=>{let[tt,nt]=_e;for(let it=0;it<nt;it++)tt(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(_e=>{let[tt,nt]=_e;for(let it=0;it<nt;it++)tt.apply(tt,[o,...a])})}}class ResourceStore extends EventEmitter{constructor(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=o||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(o){this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}removeNamespaces(o){const s=this.options.ns.indexOf(o);s>-1&&this.options.ns.splice(s,1)}getResource(o,s,a){var it,ot;let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const $=_.keySeparator!==void 0?_.keySeparator:this.options.keySeparator,_e=_.ignoreJSONStructure!==void 0?_.ignoreJSONStructure:this.options.ignoreJSONStructure;let tt;o.indexOf(".")>-1?tt=o.split("."):(tt=[o,s],a&&(Array.isArray(a)?tt.push(...a):isString(a)&&$?tt.push(...a.split($)):tt.push(a)));const nt=getPath(this.data,tt);return!nt&&!s&&!a&&o.indexOf(".")>-1&&(o=tt[0],s=tt[1],a=tt.slice(2).join(".")),nt||!_e||!isString(a)?nt:deepFind((ot=(it=this.data)==null?void 0:it[o])==null?void 0:ot[s],a,$)}addResource(o,s,a,_){let $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const _e=$.keySeparator!==void 0?$.keySeparator:this.options.keySeparator;let tt=[o,s];a&&(tt=tt.concat(_e?a.split(_e):a)),o.indexOf(".")>-1&&(tt=o.split("."),_=s,s=tt[1]),this.addNamespaces(s),setPath(this.data,tt,_),$.silent||this.emit("added",o,s,a,_)}addResources(o,s,a){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const $ in a)(isString(a[$])||Array.isArray(a[$]))&&this.addResource(o,s,$,a[$],{silent:!0});_.silent||this.emit("added",o,s,a)}addResourceBundle(o,s,a,_,$){let _e=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},tt=[o,s];o.indexOf(".")>-1&&(tt=o.split("."),_=a,a=s,s=tt[1]),this.addNamespaces(s);let nt=getPath(this.data,tt)||{};_e.skipCopy||(a=JSON.parse(JSON.stringify(a))),_?deepExtend(nt,a,$):nt={...nt,...a},setPath(this.data,tt,nt),_e.silent||this.emit("added",o,s,a)}removeResourceBundle(o,s){this.hasResourceBundle(o,s)&&delete this.data[o][s],this.removeNamespaces(s),this.emit("removed",o,s)}hasResourceBundle(o,s){return this.getResource(o,s)!==void 0}getResourceBundle(o,s){return s||(s=this.options.defaultNS),this.getResource(o,s)}getDataByLanguage(o){return this.data[o]}hasLanguageSomeTranslations(o){const s=this.getDataByLanguage(o);return!!(s&&Object.keys(s)||[]).find(_=>s[_]&&Object.keys(s[_]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,o,s,a,_){return i.forEach($=>{var _e;o=((_e=this.processors[$])==null?void 0:_e.process(o,s,a,_))??o}),o}};const checkedLoadedFor={},shouldHandleAsObject=i=>!isString(i)&&typeof i!="boolean"&&typeof i!="number";class Translator extends EventEmitter{constructor(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(o){o&&(this.language=o)}exists(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(o==null)return!1;const a=this.resolve(o,s);return(a==null?void 0:a.res)!==void 0}extractFromKey(o,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const _=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let $=s.ns||this.options.defaultNS||[];const _e=a&&o.indexOf(a)>-1,tt=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!looksLikeObjectPath(o,a,_);if(_e&&!tt){const nt=o.match(this.interpolator.nestingRegexp);if(nt&&nt.length>0)return{key:o,namespaces:isString($)?[$]:$};const it=o.split(a);(a!==_||a===_&&this.options.ns.indexOf(it[0])>-1)&&($=it.shift()),o=it.join(_)}return{key:o,namespaces:isString($)?[$]:$}}translate(o,s,a){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),o==null)return"";Array.isArray(o)||(o=[String(o)]);const _=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,$=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:_e,namespaces:tt}=this.extractFromKey(o[o.length-1],s),nt=tt[tt.length-1],it=s.lng||this.language,ot=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((it==null?void 0:it.toLowerCase())==="cimode"){if(ot){const wt=s.nsSeparator||this.options.nsSeparator;return _?{res:`${nt}${wt}${_e}`,usedKey:_e,exactUsedKey:_e,usedLng:it,usedNS:nt,usedParams:this.getUsedParamsDetails(s)}:`${nt}${wt}${_e}`}return _?{res:_e,usedKey:_e,exactUsedKey:_e,usedLng:it,usedNS:nt,usedParams:this.getUsedParamsDetails(s)}:_e}const et=this.resolve(o,s);let j=et==null?void 0:et.res;const rt=(et==null?void 0:et.usedKey)||_e,st=(et==null?void 0:et.exactUsedKey)||_e,at=["[object Number]","[object Function]","[object RegExp]"],lt=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,ct=!this.i18nFormat||this.i18nFormat.handleAsObject,ut=s.count!==void 0&&!isString(s.count),dt=Translator.hasDefaultValue(s),ft=ut?this.pluralResolver.getSuffix(it,s.count,s):"",ht=s.ordinal&&ut?this.pluralResolver.getSuffix(it,s.count,{ordinal:!1}):"",mt=ut&&!s.ordinal&&s.count===0,bt=mt&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${ft}`]||s[`defaultValue${ht}`]||s.defaultValue;let yt=j;ct&&!j&&dt&&(yt=bt);const gt=shouldHandleAsObject(yt),vt=Object.prototype.toString.apply(yt);if(ct&&yt&&gt&&at.indexOf(vt)<0&&!(isString(lt)&&Array.isArray(yt))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(rt,yt,{...s,ns:tt}):`key '${_e} (${this.language})' returned an object instead of string.`;return _?(et.res=wt,et.usedParams=this.getUsedParamsDetails(s),et):wt}if($){const wt=Array.isArray(yt),Ct=wt?[]:{},Rt=wt?st:rt;for(const It in yt)if(Object.prototype.hasOwnProperty.call(yt,It)){const Pt=`${Rt}${$}${It}`;dt&&!j?Ct[It]=this.translate(Pt,{...s,defaultValue:shouldHandleAsObject(bt)?bt[It]:void 0,joinArrays:!1,ns:tt}):Ct[It]=this.translate(Pt,{...s,joinArrays:!1,ns:tt}),Ct[It]===Pt&&(Ct[It]=yt[It])}j=Ct}}else if(ct&&isString(lt)&&Array.isArray(j))j=j.join(lt),j&&(j=this.extendTranslation(j,o,s,a));else{let wt=!1,Ct=!1;!this.isValidLookup(j)&&dt&&(wt=!0,j=bt),this.isValidLookup(j)||(Ct=!0,j=_e);const It=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ct?void 0:j,Pt=dt&&bt!==j&&this.options.updateMissing;if(Ct||wt||Pt){if(this.logger.log(Pt?"updateKey":"missingKey",it,nt,_e,Pt?bt:j),$){const $t=this.resolve(_e,{...s,keySeparator:!1});$t&&$t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let St=[];const Ot=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ot&&Ot[0])for(let $t=0;$t<Ot.length;$t++)St.push(Ot[$t]);else this.options.saveMissingTo==="all"?St=this.languageUtils.toResolveHierarchy(s.lng||this.language):St.push(s.lng||this.language);const At=($t,Ft,Ut)=>{var ar;const Kt=dt&&Ut!==j?Ut:It;this.options.missingKeyHandler?this.options.missingKeyHandler($t,nt,Ft,Kt,Pt,s):(ar=this.backendConnector)!=null&&ar.saveMissing&&this.backendConnector.saveMissing($t,nt,Ft,Kt,Pt,s),this.emit("missingKey",$t,nt,Ft,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ut?St.forEach($t=>{const Ft=this.pluralResolver.getSuffixes($t,s);mt&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Ft.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ft.push(`${this.options.pluralSeparator}zero`),Ft.forEach(Ut=>{At([$t],_e+Ut,s[`defaultValue${Ut}`]||bt)})}):At(St,_e,bt))}j=this.extendTranslation(j,o,s,et,a),Ct&&j===_e&&this.options.appendNamespaceToMissingKey&&(j=`${nt}:${_e}`),(Ct||wt)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${nt}:${_e}`:_e,wt?j:void 0))}return _?(et.res=j,et.usedParams=this.getUsedParamsDetails(s),et):j}extendTranslation(o,s,a,_,$){var it,ot;var _e=this;if((it=this.i18nFormat)!=null&&it.parse)o=this.i18nFormat.parse(o,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||_.usedLng,_.usedNS,_.usedKey,{resolved:_});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const et=isString(o)&&(((ot=a==null?void 0:a.interpolation)==null?void 0:ot.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let j;if(et){const st=o.match(this.interpolator.nestingRegexp);j=st&&st.length}let rt=a.replace&&!isString(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(rt={...this.options.interpolation.defaultVariables,...rt}),o=this.interpolator.interpolate(o,rt,a.lng||this.language||_.usedLng,a),et){const st=o.match(this.interpolator.nestingRegexp),at=st&&st.length;j<at&&(a.nest=!1)}!a.lng&&_&&_.res&&(a.lng=this.language||_.usedLng),a.nest!==!1&&(o=this.interpolator.nest(o,function(){for(var st=arguments.length,at=new Array(st),lt=0;lt<st;lt++)at[lt]=arguments[lt];return($==null?void 0:$[0])===at[0]&&!a.context?(_e.logger.warn(`It seems you are nesting recursively key: ${at[0]} in key: ${s[0]}`),null):_e.translate(...at,s)},a)),a.interpolation&&this.interpolator.reset()}const tt=a.postProcess||this.options.postProcess,nt=isString(tt)?[tt]:tt;return o!=null&&(nt!=null&&nt.length)&&a.applyPostProcessor!==!1&&(o=postProcessor.handle(nt,o,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{..._,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),o}resolve(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,_,$,_e,tt;return isString(o)&&(o=[o]),o.forEach(nt=>{if(this.isValidLookup(a))return;const it=this.extractFromKey(nt,s),ot=it.key;_=ot;let et=it.namespaces;this.options.fallbackNS&&(et=et.concat(this.options.fallbackNS));const j=s.count!==void 0&&!isString(s.count),rt=j&&!s.ordinal&&s.count===0,st=s.context!==void 0&&(isString(s.context)||typeof s.context=="number")&&s.context!=="",at=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);et.forEach(lt=>{var ct,ut;this.isValidLookup(a)||(tt=lt,!checkedLoadedFor[`${at[0]}-${lt}`]&&((ct=this.utils)!=null&&ct.hasLoadedNamespace)&&!((ut=this.utils)!=null&&ut.hasLoadedNamespace(tt))&&(checkedLoadedFor[`${at[0]}-${lt}`]=!0,this.logger.warn(`key "${_}" for languages "${at.join(", ")}" won't get resolved as namespace "${tt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),at.forEach(dt=>{var mt;if(this.isValidLookup(a))return;_e=dt;const ft=[ot];if((mt=this.i18nFormat)!=null&&mt.addLookupKeys)this.i18nFormat.addLookupKeys(ft,ot,dt,lt,s);else{let bt;j&&(bt=this.pluralResolver.getSuffix(dt,s.count,s));const yt=`${this.options.pluralSeparator}zero`,gt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(ft.push(ot+bt),s.ordinal&&bt.indexOf(gt)===0&&ft.push(ot+bt.replace(gt,this.options.pluralSeparator)),rt&&ft.push(ot+yt)),st){const vt=`${ot}${this.options.contextSeparator}${s.context}`;ft.push(vt),j&&(ft.push(vt+bt),s.ordinal&&bt.indexOf(gt)===0&&ft.push(vt+bt.replace(gt,this.options.pluralSeparator)),rt&&ft.push(vt+yt))}}let ht;for(;ht=ft.pop();)this.isValidLookup(a)||($=ht,a=this.getResource(dt,lt,ht,s))}))})}),{res:a,usedKey:_,exactUsedKey:$,usedLng:_e,usedNS:tt}}isValidLookup(o){return o!==void 0&&!(!this.options.returnNull&&o===null)&&!(!this.options.returnEmptyString&&o==="")}getResource(o,s,a){var $;let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return($=this.i18nFormat)!=null&&$.getResource?this.i18nFormat.getResource(o,s,a,_):this.resourceStore.getResource(o,s,a,_)}getUsedParamsDetails(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=o.replace&&!isString(o.replace);let _=a?o.replace:o;if(a&&typeof o.count<"u"&&(_.count=o.count),this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),!a){_={..._};for(const $ of s)delete _[$]}return _}static hasDefaultValue(o){const s="defaultValue";for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)&&s===a.substring(0,s.length)&&o[a]!==void 0)return!0;return!1}}class LanguageUtil{constructor(o){this.options=o,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(o){if(o=getCleanedCode(o),!o||o.indexOf("-")<0)return null;const s=o.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(o){if(o=getCleanedCode(o),!o||o.indexOf("-")<0)return o;const s=o.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(o){if(isString(o)&&o.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(o)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?o.toLowerCase():o)}return this.options.cleanCode||this.options.lowerCaseLng?o.toLowerCase():o}isSupportedCode(o){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(o=this.getLanguagePartFromCode(o)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(o)>-1}getBestMatchFromCodes(o){if(!o)return null;let s;return o.forEach(a=>{if(s)return;const _=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(_))&&(s=_)}),!s&&this.options.supportedLngs&&o.forEach(a=>{if(s)return;const _=this.getScriptPartFromCode(a);if(this.isSupportedCode(_))return s=_;const $=this.getLanguagePartFromCode(a);if(this.isSupportedCode($))return s=$;s=this.options.supportedLngs.find(_e=>{if(_e===$)return _e;if(!(_e.indexOf("-")<0&&$.indexOf("-")<0)&&(_e.indexOf("-")>0&&$.indexOf("-")<0&&_e.substring(0,_e.indexOf("-"))===$||_e.indexOf($)===0&&$.length>1))return _e})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(o,s){if(!o)return[];if(typeof o=="function"&&(o=o(s)),isString(o)&&(o=[o]),Array.isArray(o))return o;if(!s)return o.default||[];let a=o[s];return a||(a=o[this.getScriptPartFromCode(s)]),a||(a=o[this.formatLanguageCode(s)]),a||(a=o[this.getLanguagePartFromCode(s)]),a||(a=o.default),a||[]}toResolveHierarchy(o,s){const a=this.getFallbackCodes(s||this.options.fallbackLng||[],o),_=[],$=_e=>{_e&&(this.isSupportedCode(_e)?_.push(_e):this.logger.warn(`rejecting language code not found in supportedLngs: ${_e}`))};return isString(o)&&(o.indexOf("-")>-1||o.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&$(this.formatLanguageCode(o)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&$(this.getScriptPartFromCode(o)),this.options.load!=="currentOnly"&&$(this.getLanguagePartFromCode(o))):isString(o)&&$(this.formatLanguageCode(o)),a.forEach(_e=>{_.indexOf(_e)<0&&$(this.formatLanguageCode(_e))}),_}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=o,this.options=s,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(o,s){this.rules[o]=s}clearCache(){this.pluralRulesCache={}}getRule(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=getCleanedCode(o==="dev"?"en":o),_=s.ordinal?"ordinal":"cardinal",$=JSON.stringify({cleanedCode:a,type:_});if($ in this.pluralRulesCache)return this.pluralRulesCache[$];let _e;try{_e=new Intl.PluralRules(a,{type:_})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!o.match(/-|_/))return dummyRule;const nt=this.languageUtils.getLanguagePartFromCode(o);_e=this.getRule(nt,s)}return this.pluralRulesCache[$]=_e,_e}needsPlural(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(o,s);return a||(a=this.getRule("dev",s)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(o,a).map(_=>`${s}${_}`)}getSuffixes(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(o,s);return a||(a=this.getRule("dev",s)),a?a.resolvedOptions().pluralCategories.sort((_,$)=>suffixesOrder[_]-suffixesOrder[$]).map(_=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${_}`):[]}getSuffix(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _=this.getRule(o,a);return _?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${_.select(s)}`:(this.logger.warn(`no plural rule found for: ${o}`),this.getSuffix("dev",s,a))}}const deepFindWithDefaults=function(i,o,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,$=getPathWithDefaults(i,o,s);return!$&&_&&isString(s)&&($=deepFind(i,s,a),$===void 0&&($=deepFind(o,s,a))),$},regexSafe=i=>i.replace(/\$/g,"$$$$");class Interpolator{constructor(){var s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=o,this.format=((s=o==null?void 0:o.interpolation)==null?void 0:s.format)||(a=>a),this.init(o)}init(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o.interpolation||(o.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:_,prefix:$,prefixEscaped:_e,suffix:tt,suffixEscaped:nt,formatSeparator:it,unescapeSuffix:ot,unescapePrefix:et,nestingPrefix:j,nestingPrefixEscaped:rt,nestingSuffix:st,nestingSuffixEscaped:at,nestingOptionsSeparator:lt,maxReplaces:ct,alwaysFormat:ut}=o.interpolation;this.escape=s!==void 0?s:escape,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=_!==void 0?_:!1,this.prefix=$?regexEscape($):_e||"{{",this.suffix=tt?regexEscape(tt):nt||"}}",this.formatSeparator=it||",",this.unescapePrefix=ot?"":et||"-",this.unescapeSuffix=this.unescapePrefix?"":ot||"",this.nestingPrefix=j?regexEscape(j):rt||regexEscape("$t("),this.nestingSuffix=st?regexEscape(st):at||regexEscape(")"),this.nestingOptionsSeparator=lt||",",this.maxReplaces=ct||1e3,this.alwaysFormat=ut!==void 0?ut:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const o=(s,a)=>(s==null?void 0:s.source)===a?(s.lastIndex=0,s):new RegExp(a,"g");this.regexp=o(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=o(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=o(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(o,s,a,_){var rt;let $,_e,tt;const nt=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},it=st=>{if(st.indexOf(this.formatSeparator)<0){const ut=deepFindWithDefaults(s,nt,st,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ut,void 0,a,{..._,...s,interpolationkey:st}):ut}const at=st.split(this.formatSeparator),lt=at.shift().trim(),ct=at.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(s,nt,lt,this.options.keySeparator,this.options.ignoreJSONStructure),ct,a,{..._,...s,interpolationkey:lt})};this.resetRegExp();const ot=(_==null?void 0:_.missingInterpolationHandler)||this.options.missingInterpolationHandler,et=((rt=_==null?void 0:_.interpolation)==null?void 0:rt.skipOnVariables)!==void 0?_.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:st=>regexSafe(st)},{regex:this.regexp,safeValue:st=>this.escapeValue?regexSafe(this.escape(st)):regexSafe(st)}].forEach(st=>{for(tt=0;$=st.regex.exec(o);){const at=$[1].trim();if(_e=it(at),_e===void 0)if(typeof ot=="function"){const ct=ot(o,$,_);_e=isString(ct)?ct:""}else if(_&&Object.prototype.hasOwnProperty.call(_,at))_e="";else if(et){_e=$[0];continue}else this.logger.warn(`missed to pass in variable ${at} for interpolating ${o}`),_e="";else!isString(_e)&&!this.useRawValueToEscape&&(_e=makeString(_e));const lt=st.safeValue(_e);if(o=o.replace($[0],lt),et?(st.regex.lastIndex+=_e.length,st.regex.lastIndex-=$[0].length):st.regex.lastIndex=0,tt++,tt>=this.maxReplaces)break}}),o}nest(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_,$,_e;const tt=(nt,it)=>{const ot=this.nestingOptionsSeparator;if(nt.indexOf(ot)<0)return nt;const et=nt.split(new RegExp(`${ot}[ ]*{`));let j=`{${et[1]}`;nt=et[0],j=this.interpolate(j,_e);const rt=j.match(/'/g),st=j.match(/"/g);(((rt==null?void 0:rt.length)??0)%2===0&&!st||st.length%2!==0)&&(j=j.replace(/'/g,'"'));try{_e=JSON.parse(j),it&&(_e={...it,..._e})}catch(at){return this.logger.warn(`failed parsing options string in nesting for key ${nt}`,at),`${nt}${ot}${j}`}return _e.defaultValue&&_e.defaultValue.indexOf(this.prefix)>-1&&delete _e.defaultValue,nt};for(;_=this.nestingRegexp.exec(o);){let nt=[];_e={...a},_e=_e.replace&&!isString(_e.replace)?_e.replace:_e,_e.applyPostProcessor=!1,delete _e.defaultValue;let it=!1;if(_[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(_[1])){const ot=_[1].split(this.formatSeparator).map(et=>et.trim());_[1]=ot.shift(),nt=ot,it=!0}if($=s(tt.call(this,_[1].trim(),_e),_e),$&&_[0]===o&&!isString($))return $;isString($)||($=makeString($)),$||(this.logger.warn(`missed to resolve ${_[1]} for nesting ${o}`),$=""),it&&($=nt.reduce((ot,et)=>this.format(ot,et,a.lng,{...a,interpolationkey:_[1].trim()}),$.trim())),o=o.replace(_[0],$),this.regexp.lastIndex=0}return o}}const parseFormatStr=i=>{let o=i.toLowerCase().trim();const s={};if(i.indexOf("(")>-1){const a=i.split("(");o=a[0].toLowerCase().trim();const _=a[1].substring(0,a[1].length-1);o==="currency"&&_.indexOf(":")<0?s.currency||(s.currency=_.trim()):o==="relativetime"&&_.indexOf(":")<0?s.range||(s.range=_.trim()):_.split(";").forEach(_e=>{if(_e){const[tt,...nt]=_e.split(":"),it=nt.join(":").trim().replace(/^'+|'+$/g,""),ot=tt.trim();s[ot]||(s[ot]=it),it==="false"&&(s[ot]=!1),it==="true"&&(s[ot]=!0),isNaN(it)||(s[ot]=parseInt(it,10))}})}return{formatName:o,formatOptions:s}},createCachedFormatter=i=>{const o={};return(s,a,_)=>{let $=_;_&&_.interpolationkey&&_.formatParams&&_.formatParams[_.interpolationkey]&&_[_.interpolationkey]&&($={...$,[_.interpolationkey]:void 0});const _e=a+JSON.stringify($);let tt=o[_e];return tt||(tt=i(getCleanedCode(a),_),o[_e]=tt),tt(s)}};class Formatter{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=o,this.formats={number:createCachedFormatter((s,a)=>{const _=new Intl.NumberFormat(s,{...a});return $=>_.format($)}),currency:createCachedFormatter((s,a)=>{const _=new Intl.NumberFormat(s,{...a,style:"currency"});return $=>_.format($)}),datetime:createCachedFormatter((s,a)=>{const _=new Intl.DateTimeFormat(s,{...a});return $=>_.format($)}),relativetime:createCachedFormatter((s,a)=>{const _=new Intl.RelativeTimeFormat(s,{...a});return $=>_.format($,a.range||"day")}),list:createCachedFormatter((s,a)=>{const _=new Intl.ListFormat(s,{...a});return $=>_.format($)})},this.init(o)}init(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(o,s){this.formats[o.toLowerCase().trim()]=s}addCached(o,s){this.formats[o.toLowerCase().trim()]=createCachedFormatter(s)}format(o,s,a){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const $=s.split(this.formatSeparator);if($.length>1&&$[0].indexOf("(")>1&&$[0].indexOf(")")<0&&$.find(tt=>tt.indexOf(")")>-1)){const tt=$.findIndex(nt=>nt.indexOf(")")>-1);$[0]=[$[0],...$.splice(1,tt)].join(this.formatSeparator)}return $.reduce((tt,nt)=>{var et;const{formatName:it,formatOptions:ot}=parseFormatStr(nt);if(this.formats[it]){let j=tt;try{const rt=((et=_==null?void 0:_.formatParams)==null?void 0:et[_.interpolationkey])||{},st=rt.locale||rt.lng||_.locale||_.lng||a;j=this.formats[it](tt,st,{...ot,..._,...rt})}catch(rt){this.logger.warn(rt)}return j}else this.logger.warn(`there was no format function for ${it}`);return tt},o)}}const removePending=(i,o)=>{i.pending[o]!==void 0&&(delete i.pending[o],i.pendingCount--)};class Connector extends EventEmitter{constructor(o,s,a){var $,_e;let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=o,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=_,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=_.maxParallelReads||10,this.readingCalls=0,this.maxRetries=_.maxRetries>=0?_.maxRetries:5,this.retryTimeout=_.retryTimeout>=1?_.retryTimeout:350,this.state={},this.queue=[],(_e=($=this.backend)==null?void 0:$.init)==null||_e.call($,a,_.backend,_)}queueLoad(o,s,a,_){const $={},_e={},tt={},nt={};return o.forEach(it=>{let ot=!0;s.forEach(et=>{const j=`${it}|${et}`;!a.reload&&this.store.hasResourceBundle(it,et)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?_e[j]===void 0&&(_e[j]=!0):(this.state[j]=1,ot=!1,_e[j]===void 0&&(_e[j]=!0),$[j]===void 0&&($[j]=!0),nt[et]===void 0&&(nt[et]=!0)))}),ot||(tt[it]=!0)}),(Object.keys($).length||Object.keys(_e).length)&&this.queue.push({pending:_e,pendingCount:Object.keys(_e).length,loaded:{},errors:[],callback:_}),{toLoad:Object.keys($),pending:Object.keys(_e),toLoadLanguages:Object.keys(tt),toLoadNamespaces:Object.keys(nt)}}loaded(o,s,a){const _=o.split("|"),$=_[0],_e=_[1];s&&this.emit("failedLoading",$,_e,s),!s&&a&&this.store.addResourceBundle($,_e,a,void 0,void 0,{skipCopy:!0}),this.state[o]=s?-1:2,s&&a&&(this.state[o]=0);const tt={};this.queue.forEach(nt=>{pushPath(nt.loaded,[$],_e),removePending(nt,o),s&&nt.errors.push(s),nt.pendingCount===0&&!nt.done&&(Object.keys(nt.loaded).forEach(it=>{tt[it]||(tt[it]={});const ot=nt.loaded[it];ot.length&&ot.forEach(et=>{tt[it][et]===void 0&&(tt[it][et]=!0)})}),nt.done=!0,nt.errors.length?nt.callback(nt.errors):nt.callback())}),this.emit("loaded",tt),this.queue=this.queue.filter(nt=>!nt.done)}read(o,s,a){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,_e=arguments.length>5?arguments[5]:void 0;if(!o.length)return _e(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:o,ns:s,fcName:a,tried:_,wait:$,callback:_e});return}this.readingCalls++;const tt=(it,ot)=>{if(this.readingCalls--,this.waitingReads.length>0){const et=this.waitingReads.shift();this.read(et.lng,et.ns,et.fcName,et.tried,et.wait,et.callback)}if(it&&ot&&_<this.maxRetries){setTimeout(()=>{this.read.call(this,o,s,a,_+1,$*2,_e)},$);return}_e(it,ot)},nt=this.backend[a].bind(this.backend);if(nt.length===2){try{const it=nt(o,s);it&&typeof it.then=="function"?it.then(ot=>tt(null,ot)).catch(tt):tt(null,it)}catch(it){tt(it)}return}return nt(o,s,tt)}prepareLoading(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),_&&_();isString(o)&&(o=this.languageUtils.toResolveHierarchy(o)),isString(s)&&(s=[s]);const $=this.queueLoad(o,s,a,_);if(!$.toLoad.length)return $.pending.length||_(),null;$.toLoad.forEach(_e=>{this.loadOne(_e)})}load(o,s,a){this.prepareLoading(o,s,{},a)}reload(o,s,a){this.prepareLoading(o,s,{reload:!0},a)}loadOne(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=o.split("|"),_=a[0],$=a[1];this.read(_,$,"read",void 0,void 0,(_e,tt)=>{_e&&this.logger.warn(`${s}loading namespace ${$} for language ${_} failed`,_e),!_e&&tt&&this.logger.log(`${s}loaded namespace ${$} for language ${_}`,tt),this.loaded(o,_e,tt)})}saveMissing(o,s,a,_,$){var nt,it,ot,et,j;let _e=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},tt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((it=(nt=this.services)==null?void 0:nt.utils)!=null&&it.hasLoadedNamespace&&!((et=(ot=this.services)==null?void 0:ot.utils)!=null&&et.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((j=this.backend)!=null&&j.create){const rt={..._e,isUpdate:$},st=this.backend.create.bind(this.backend);if(st.length<6)try{let at;st.length===5?at=st(o,s,a,_,rt):at=st(o,s,a,_),at&&typeof at.then=="function"?at.then(lt=>tt(null,lt)).catch(tt):tt(null,at)}catch(at){tt(at)}else st(o,s,a,_,tt,rt)}!o||!o[0]||this.store.addResource(o[0],s,a,_)}}}const get$1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let o={};if(typeof i[1]=="object"&&(o=i[1]),isString(i[1])&&(o.defaultValue=i[1]),isString(i[2])&&(o.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const s=i[3]||i[2];Object.keys(s).forEach(a=>{o[a]=s[a]})}return o},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=i=>{var o,s;return isString(i.ns)&&(i.ns=[i.ns]),isString(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),isString(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((s=(o=i.supportedLngs)==null?void 0:o.indexOf)==null?void 0:s.call(o,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},noop$2=()=>{},bindMemberFunctions=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(s=>{typeof i[s]=="function"&&(i[s]=i[s].bind(i))})};class I18n extends EventEmitter{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(o),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),s&&!this.isInitialized&&!o.isClone){if(!this.options.initAsync)return this.init(o,s),this;setTimeout(()=>{this.init(o,s)},0)}}init(){var o=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(a=s,s={}),s.defaultNS==null&&s.ns&&(isString(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const _=get$1();this.options={..._,...this.options,...transformOptions(s)},this.options.interpolation={..._.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const $=ot=>ot?typeof ot=="function"?new ot:ot:null;if(!this.options.isClone){this.modules.logger?baseLogger.init($(this.modules.logger),this.options):baseLogger.init(null,this.options);let ot;this.modules.formatter?ot=this.modules.formatter:ot=Formatter;const et=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const j=this.services;j.logger=baseLogger,j.resourceStore=this.store,j.languageUtils=et,j.pluralResolver=new PluralResolver(et,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ot&&(!this.options.interpolation.format||this.options.interpolation.format===_.interpolation.format)&&(j.formatter=$(ot),j.formatter.init(j,this.options),this.options.interpolation.format=j.formatter.format.bind(j.formatter)),j.interpolator=new Interpolator(this.options),j.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},j.backendConnector=new Connector($(this.modules.backend),j.resourceStore,j,this.options),j.backendConnector.on("*",function(rt){for(var st=arguments.length,at=new Array(st>1?st-1:0),lt=1;lt<st;lt++)at[lt-1]=arguments[lt];o.emit(rt,...at)}),this.modules.languageDetector&&(j.languageDetector=$(this.modules.languageDetector),j.languageDetector.init&&j.languageDetector.init(j,this.options.detection,this.options)),this.modules.i18nFormat&&(j.i18nFormat=$(this.modules.i18nFormat),j.i18nFormat.init&&j.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(rt){for(var st=arguments.length,at=new Array(st>1?st-1:0),lt=1;lt<st;lt++)at[lt-1]=arguments[lt];o.emit(rt,...at)}),this.modules.external.forEach(rt=>{rt.init&&rt.init(this)})}if(this.format=this.options.interpolation.format,a||(a=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ot=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ot.length>0&&ot[0]!=="dev"&&(this.options.lng=ot[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ot=>{this[ot]=function(){return o.store[ot](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ot=>{this[ot]=function(){return o.store[ot](...arguments),o}});const nt=defer(),it=()=>{const ot=(et,j)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),nt.resolve(j),a(et,j)};if(this.languages&&!this.isInitialized)return ot(null,this.t.bind(this));this.changeLanguage(this.options.lng,ot)};return this.options.resources||!this.options.initAsync?it():setTimeout(it,0),nt}loadResources(o){var $,_e;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const _=isString(o)?o:this.language;if(typeof o=="function"&&(a=o),!this.options.resources||this.options.partialBundledLanguages){if((_==null?void 0:_.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const tt=[],nt=it=>{if(!it||it==="cimode")return;this.services.languageUtils.toResolveHierarchy(it).forEach(et=>{et!=="cimode"&&tt.indexOf(et)<0&&tt.push(et)})};_?nt(_):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(ot=>nt(ot)),(_e=($=this.options.preload)==null?void 0:$.forEach)==null||_e.call($,it=>nt(it)),this.services.backendConnector.load(tt,this.options.ns,it=>{!it&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(it)})}else a(null)}reloadResources(o,s,a){const _=defer();return typeof o=="function"&&(a=o,o=void 0),typeof s=="function"&&(a=s,s=void 0),o||(o=this.languages),s||(s=this.options.ns),a||(a=noop$2),this.services.backendConnector.reload(o,s,$=>{_.resolve(),a($)}),_}use(o){if(!o)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!o.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return o.type==="backend"&&(this.modules.backend=o),(o.type==="logger"||o.log&&o.warn&&o.error)&&(this.modules.logger=o),o.type==="languageDetector"&&(this.modules.languageDetector=o),o.type==="i18nFormat"&&(this.modules.i18nFormat=o),o.type==="postProcessor"&&postProcessor.addPostProcessor(o),o.type==="formatter"&&(this.modules.formatter=o),o.type==="3rdParty"&&this.modules.external.push(o),this}setResolvedLanguage(o){if(!(!o||!this.languages)&&!(["cimode","dev"].indexOf(o)>-1)){for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(o)<0&&this.store.hasLanguageSomeTranslations(o)&&(this.resolvedLanguage=o,this.languages.indexOf(o)<0&&this.languages.unshift(o))}}changeLanguage(o,s){var a=this;this.isLanguageChangingTo=o;const _=defer();this.emit("languageChanging",o);const $=nt=>{this.language=nt,this.languages=this.services.languageUtils.toResolveHierarchy(nt),this.resolvedLanguage=void 0,this.setResolvedLanguage(nt)},_e=(nt,it)=>{it?this.isLanguageChangingTo===o&&($(it),this.translator.changeLanguage(it),this.isLanguageChangingTo=void 0,this.emit("languageChanged",it),this.logger.log("languageChanged",it)):this.isLanguageChangingTo=void 0,_.resolve(function(){return a.t(...arguments)}),s&&s(nt,function(){return a.t(...arguments)})},tt=nt=>{var et,j;!o&&!nt&&this.services.languageDetector&&(nt=[]);const it=isString(nt)?nt:nt&&nt[0],ot=this.store.hasLanguageSomeTranslations(it)?it:this.services.languageUtils.getBestMatchFromCodes(isString(nt)?[nt]:nt);ot&&(this.language||$(ot),this.translator.language||this.translator.changeLanguage(ot),(j=(et=this.services.languageDetector)==null?void 0:et.cacheUserLanguage)==null||j.call(et,ot)),this.loadResources(ot,rt=>{_e(rt,ot)})};return!o&&this.services.languageDetector&&!this.services.languageDetector.async?tt(this.services.languageDetector.detect()):!o&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(tt):this.services.languageDetector.detect(tt):tt(o),_}getFixedT(o,s,a){var _=this;const $=function(_e,tt){let nt;if(typeof tt!="object"){for(var it=arguments.length,ot=new Array(it>2?it-2:0),et=2;et<it;et++)ot[et-2]=arguments[et];nt=_.options.overloadTranslationOptionHandler([_e,tt].concat(ot))}else nt={...tt};nt.lng=nt.lng||$.lng,nt.lngs=nt.lngs||$.lngs,nt.ns=nt.ns||$.ns,nt.keyPrefix!==""&&(nt.keyPrefix=nt.keyPrefix||a||$.keyPrefix);const j=_.options.keySeparator||".";let rt;return nt.keyPrefix&&Array.isArray(_e)?rt=_e.map(st=>`${nt.keyPrefix}${j}${st}`):rt=nt.keyPrefix?`${nt.keyPrefix}${j}${_e}`:_e,_.t(rt,nt)};return isString(o)?$.lng=o:$.lngs=o,$.ns=s,$.keyPrefix=a,$}t(){var _;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(_=this.translator)==null?void 0:_.translate(...s)}exists(){var _;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(_=this.translator)==null?void 0:_.exists(...s)}setDefaultNamespace(o){this.options.defaultNS=o}hasLoadedNamespace(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],_=this.options?this.options.fallbackLng:!1,$=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const _e=(tt,nt)=>{const it=this.services.backendConnector.state[`${tt}|${nt}`];return it===-1||it===0||it===2};if(s.precheck){const tt=s.precheck(this,_e);if(tt!==void 0)return tt}return!!(this.hasResourceBundle(a,o)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||_e(a,o)&&(!_||_e($,o)))}loadNamespaces(o,s){const a=defer();return this.options.ns?(isString(o)&&(o=[o]),o.forEach(_=>{this.options.ns.indexOf(_)<0&&this.options.ns.push(_)}),this.loadResources(_=>{a.resolve(),s&&s(_)}),a):(s&&s(),Promise.resolve())}loadLanguages(o,s){const a=defer();isString(o)&&(o=[o]);const _=this.options.preload||[],$=o.filter(_e=>_.indexOf(_e)<0&&this.services.languageUtils.isSupportedCode(_e));return $.length?(this.options.preload=_.concat($),this.loadResources(_e=>{a.resolve(),s&&s(_e)}),a):(s&&s(),Promise.resolve())}dir(o){var _,$;if(o||(o=this.resolvedLanguage||(((_=this.languages)==null?void 0:_.length)>0?this.languages[0]:this.language)),!o)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=(($=this.services)==null?void 0:$.languageUtils)||new LanguageUtil(get$1());return s.indexOf(a.getLanguagePartFromCode(o))>-1||o.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new I18n(o,s)}cloneInstance(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const a=o.forkResourceStore;a&&delete o.forkResourceStore;const _={...this.options,...o,isClone:!0},$=new I18n(_);if((o.debug!==void 0||o.prefix!==void 0)&&($.logger=$.logger.clone(o)),["store","services","language"].forEach(tt=>{$[tt]=this[tt]}),$.services={...this.services},$.services.utils={hasLoadedNamespace:$.hasLoadedNamespace.bind($)},a){const tt=Object.keys(this.store.data).reduce((nt,it)=>(nt[it]={...this.store.data[it]},Object.keys(nt[it]).reduce((ot,et)=>(ot[et]={...nt[it][et]},ot),{})),{});$.store=new ResourceStore(tt,_),$.services.resourceStore=$.store}return $.translator=new Translator($.services,_),$.translator.on("*",function(tt){for(var nt=arguments.length,it=new Array(nt>1?nt-1:0),ot=1;ot<nt;ot++)it[ot-1]=arguments[ot];$.emit(tt,...it)}),$.init(_,s),$.translator.options=_,$.translator.backendConnector.services.utils={hasLoadedNamespace:$.hasLoadedNamespace.bind($)},$}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const IMAGE_COMPRESSION_QUALITY_KEY="appImageCompressionQuality",DEFAULT_IMAGE_COMPRESSION_QUALITY=.8,IMAGE_MAX_WIDTH_KEY="appImageMaxWidth",DEFAULT_IMAGE_MAX_WIDTH=1080,FRONTEND_ERROR_LOGGING_KEY="appEnableFrontendErrorLogging",loadInitialCompressionQuality=()=>{const i=localStorage.getItem(IMAGE_COMPRESSION_QUALITY_KEY);if(i){const o=parseFloat(i);if(!Number.isNaN(o)&&o>=.1&&o<=1)return o}return DEFAULT_IMAGE_COMPRESSION_QUALITY},loadInitialImageMaxWidth=()=>{const i=localStorage.getItem(IMAGE_MAX_WIDTH_KEY);if(i){const o=parseInt(i,10);if(!Number.isNaN(o)&&o>0)return o}return DEFAULT_IMAGE_MAX_WIDTH},loadInitialFrontendErrorLogging=()=>{const i=localStorage.getItem(FRONTEND_ERROR_LOGGING_KEY);return i==="true"},useGeneralSettings=({bgUrlContext:i,confName:o,setConfName:s,baseUrl:a,wsUrl:_,onWsUrlChange:$,onBaseUrlChange:_e,onSave:tt,onCancel:nt})=>{var It;const{showSubtitle:it,setShowSubtitle:ot}=useSubtitle(),{setUseCameraBackground:et}=i||{},{startBackgroundCamera:j,stopBackgroundCamera:rt}=useCamera(),{configFiles:st,getFilenameByName:at}=useConfig(),{switchCharacter:lt}=useSwitchCharacter(),ct=()=>{if(!(i!=null&&i.backgroundUrl))return[];const St=i.backgroundUrl.replace(a,"");return St.startsWith("/bg/")?[St]:[]},ut=()=>{if(!o)return[];const Pt=at(o);return Pt?[Pt]:[]},dt={language:[instance.language||"en"],customBgUrl:(It=i==null?void 0:i.backgroundUrl)!=null&&It.includes("/bg/")?"":(i==null?void 0:i.backgroundUrl)||"",selectedBgUrl:ct(),backgroundUrl:(i==null?void 0:i.backgroundUrl)||"",selectedCharacterPreset:ut(),useCameraBackground:(i==null?void 0:i.useCameraBackground)||!1,wsUrl:_||defaultWsUrl,baseUrl:a||defaultBaseUrl,showSubtitle:it,imageCompressionQuality:loadInitialCompressionQuality(),imageMaxWidth:loadInitialImageMaxWidth(),enableFrontendErrorLogging:loadInitialFrontendErrorLogging()},[ft,ht]=reactExports.useState(dt),[mt,bt]=reactExports.useState(dt),yt=o;reactExports.useEffect(()=>{ot(ft.showSubtitle);const Pt=ft.customBgUrl||ft.selectedBgUrl[0];if(Pt&&i){const St=Pt.startsWith("http")?Pt:`${a}${Pt}`;i.setBackgroundUrl(St)}$(ft.wsUrl),_e(ft.baseUrl),ft.language&&ft.language[0]&&ft.language[0]!==instance.language&&instance.changeLanguage(ft.language[0]),localStorage.setItem(IMAGE_COMPRESSION_QUALITY_KEY,ft.imageCompressionQuality.toString()),localStorage.setItem(IMAGE_MAX_WIDTH_KEY,ft.imageMaxWidth.toString()),localStorage.setItem(FRONTEND_ERROR_LOGGING_KEY,ft.enableFrontendErrorLogging?"true":"false")},[ft,i,a,$,_e,ot]),reactExports.useEffect(()=>{if(o){const Pt=at(o);if(Pt){const St={...ft,selectedCharacterPreset:[Pt]};ht(St),bt(St)}}},[o]),reactExports.useEffect(()=>{if(!tt||!nt)return;const Pt=tt(()=>{vt()}),St=nt(()=>{wt()});return()=>{Pt==null||Pt(),St==null||St()}},[tt,nt]);const gt=(Pt,St)=>{ht(Ot=>({...Ot,[Pt]:St})),Pt==="wsUrl"&&$(St),Pt==="baseUrl"&&_e(St),Pt==="language"&&Array.isArray(St)&&St.length>0&&instance.changeLanguage(St[0])},vt=()=>{bt(ft)},wt=()=>{ht(mt),ot(mt.showSubtitle),i&&(i.setBackgroundUrl(mt.backgroundUrl),i.setUseCameraBackground(mt.useCameraBackground)),$(mt.wsUrl),_e(mt.baseUrl),yt&&s(yt),mt.useCameraBackground?j():rt()};return{settings:ft,handleSettingChange:gt,handleSave:vt,handleCancel:wt,handleCameraToggle:async Pt=>{if(et)if(Pt)try{await j(),gt("useCameraBackground",!0),et(!0)}catch(St){console.error("Failed to start camera:",St),gt("useCameraBackground",!1),et(!1)}else rt(),gt("useCameraBackground",!1),et(!1)},handleCharacterPresetChange:Pt=>{const St=Pt[0],Ot=st.find($t=>$t.filename===St),At=o?at(o):"";gt("selectedCharacterPreset",Pt),At!==St&&Ot&&lt(St)},showSubtitle:it,setShowSubtitle:ot}};function HiQuestionMarkCircle(i){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"},child:[]}]})(i)}const Field=reactExports.forwardRef((i,o)=>{const{label:s,children:a,helperText:_,errorText:$,optionalText:_e,...tt}=i;return jsxRuntimeExports.jsxs(FieldRoot,{ref:o,...tt,children:[s&&jsxRuntimeExports.jsxs(FieldLabel,{children:[s,jsxRuntimeExports.jsx(FieldRequiredIndicator,{fallback:_e})]}),a,_&&jsxRuntimeExports.jsx(FieldHelperText,{children:_}),$&&jsxRuntimeExports.jsx(FieldErrorText,{children:$})]})}),Switch=reactExports.forwardRef((i,o)=>{const{inputProps:s,children:a,rootRef:_,trackLabel:$,thumbLabel:_e,...tt}=i;return jsxRuntimeExports.jsxs(SwitchRoot,{ref:_,...tt,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{ref:o,...s}),jsxRuntimeExports.jsxs(SwitchControl,{children:[jsxRuntimeExports.jsx(SwitchThumb,{children:_e&&jsxRuntimeExports.jsx(SwitchThumbIndicator,{fallback:_e==null?void 0:_e.off,children:_e==null?void 0:_e.on})}),$&&jsxRuntimeExports.jsx(SwitchIndicator,{fallback:$.off,children:$.on})]}),a!=null&&jsxRuntimeExports.jsx(SwitchLabel,{children:a})]})}),Tooltip=reactExports.forwardRef((i,o)=>{const{showArrow:s,children:a,disabled:_,portalled:$,content:_e,contentProps:tt,portalRef:nt,...it}=i;return _?a:jsxRuntimeExports.jsxs(TooltipRoot,{...it,children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:a}),jsxRuntimeExports.jsx(Portal,{disabled:!$,container:nt,children:jsxRuntimeExports.jsx(TooltipPositioner,{children:jsxRuntimeExports.jsxs(TooltipContent,{ref:o,...tt,children:[s&&jsxRuntimeExports.jsx(TooltipArrow,{children:jsxRuntimeExports.jsx(TooltipArrowTip,{})}),_e]})})})]})}),SelectTrigger=reactExports.forwardRef((i,o)=>{const{children:s,clearable:a,..._}=i;return jsxRuntimeExports.jsxs(SelectControl,{..._,children:[jsxRuntimeExports.jsx(SelectTrigger$1,{ref:o,children:s}),jsxRuntimeExports.jsxs(SelectIndicatorGroup,{children:[a&&jsxRuntimeExports.jsx(SelectClearTrigger,{}),jsxRuntimeExports.jsx(SelectIndicator,{})]})]})}),SelectClearTrigger=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(SelectClearTrigger$1,{asChild:!0,...i,ref:o,children:jsxRuntimeExports.jsx(CloseButton,{size:"xs",variant:"plain",focusVisibleRing:"inside",focusRingWidth:"2px",pointerEvents:"auto"})})),SelectContent=reactExports.forwardRef((i,o)=>{const{portalled:s=!0,portalRef:a,..._}=i;return jsxRuntimeExports.jsx(Portal,{disabled:!s,container:a,children:jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent$1,{..._,ref:o})})})}),SelectItem=reactExports.forwardRef((i,o)=>{const{item:s,children:a,..._}=i;return jsxRuntimeExports.jsxs(SelectItem$1,{item:s,..._,ref:o,children:[a,jsxRuntimeExports.jsx(SelectItemIndicator,{})]},s.value)}),SelectValueText=reactExports.forwardRef((i,o)=>{const{children:s,...a}=i;return jsxRuntimeExports.jsx(SelectValueText$1,{...a,ref:o,children:jsxRuntimeExports.jsx(SelectContext,{children:_=>{const $=_.selectedItems;return $.length===0?i.placeholder:s?s($):$.length===1?_.collection.stringifyItem($[0]):`${$.length} selected`}})})}),SelectRoot=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(SelectRoot$1,{...i,ref:o,positioning:{sameWidth:!0,...i.positioning},children:i.asChild?i.children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectHiddenSelect,{}),i.children]})}));reactExports.forwardRef((i,o)=>{const{children:s,label:a,..._}=i;return jsxRuntimeExports.jsxs(SelectItemGroup,{..._,ref:o,children:[jsxRuntimeExports.jsx(SelectItemGroupLabel,{children:a}),s]})});function HelpIcon({content:i}){const[o,s]=reactExports.useState(!1),a=()=>s(!0),_=()=>s(!1);return jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:jsxRuntimeExports.jsx(Text,{fontSize:"sm",maxW:"300px",lineHeight:"1.4",children:i}),open:o,children:jsxRuntimeExports.jsx(Box,{as:HiQuestionMarkCircle,color:"gray.400",_hover:{color:"gray.600"},cursor:"help",w:"16px",h:"16px",ml:"2",transition:"color 0.2s",onMouseEnter:a,onMouseLeave:_})})}function SelectField({label:i,value:o,onChange:s,collection:a,placeholder:_}){return jsxRuntimeExports.jsx(Field,{...settingStyles.general.field,label:jsxRuntimeExports.jsx(Text,{...settingStyles.general.field.label,children:i}),children:jsxRuntimeExports.jsxs(SelectRoot,{...settingStyles.general.select.root,collection:a,value:o,onValueChange:$=>s($.value),children:[jsxRuntimeExports.jsx(SelectTrigger,{...settingStyles.general.select.trigger,children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:_})}),jsxRuntimeExports.jsx(SelectContent,{children:a.items.map($=>jsxRuntimeExports.jsx(SelectItem,{item:$,children:$.label},$.value))})]})})}function NumberField({label:i,value:o,onChange:s,min:a,max:_,step:$,allowMouseWheel:_e,help:tt}){return jsxRuntimeExports.jsx(Field,{...settingStyles.common.field,label:jsxRuntimeExports.jsxs(Flex,{align:"center",children:[jsxRuntimeExports.jsx(Text,{...settingStyles.common.fieldLabel,children:i}),tt&&jsxRuntimeExports.jsx(HelpIcon,{content:tt})]}),children:jsxRuntimeExports.jsxs(NumberInputRoot,{...settingStyles.common.numberInput.root,value:o.toString(),onValueChange:nt=>s(nt.value),min:a,max:_,step:$,allowMouseWheel:_e,children:[jsxRuntimeExports.jsx(NumberInputInput,{...settingStyles.common.numberInput.input}),jsxRuntimeExports.jsxs(NumberInputControl,{children:[jsxRuntimeExports.jsx(NumberInputIncrementTrigger,{}),jsxRuntimeExports.jsx(NumberInputDecrementTrigger,{})]})]})})}function SwitchField({label:i,checked:o,onChange:s,help:a}){return jsxRuntimeExports.jsx(Field,{...settingStyles.common.field,label:jsxRuntimeExports.jsxs(Flex,{align:"center",children:[jsxRuntimeExports.jsx(Text,{...settingStyles.common.fieldLabel,children:i}),a&&jsxRuntimeExports.jsx(HelpIcon,{content:a})]}),children:jsxRuntimeExports.jsx(Switch,{...settingStyles.common.switch,checked:o,onCheckedChange:_=>s(_.checked)})})}function InputField({label:i,value:o,onChange:s,placeholder:a}){return jsxRuntimeExports.jsx(Field,{...settingStyles.general.field,label:jsxRuntimeExports.jsx(Text,{...settingStyles.general.field.label,children:i}),children:jsxRuntimeExports.jsx(Input$1,{...settingStyles.general.input,placeholder:a,value:o,onChange:_=>s(_.target.value)})})}const useCollections=()=>{const{backgroundFiles:i}=useBgUrl()||{},{configFiles:o}=useConfig(),s=createListCollection({items:[{label:"English",value:"en"},{label:"中文",value:"zh"},{label:"Русский",value:"ru"}]}),a=createListCollection({items:(i==null?void 0:i.map($=>({label:String($),value:`/bg/${$}`})))||[]}),_=createListCollection({items:o.map($=>({label:$.name,value:$.filename}))});return{languages:s,backgrounds:a,characterPresets:_}};function General({onSave:i,onCancel:o}){const{t:s,i18n:a}=useTranslation(),_=useBgUrl(),{confName:$,setConfName:_e}=useConfig(),{wsUrl:tt,setWsUrl:nt,baseUrl:it,setBaseUrl:ot}=useWebSocket(),et=useCollections(),{settings:j,handleSettingChange:rt,handleCameraToggle:st,handleCharacterPresetChange:at,showSubtitle:lt,setShowSubtitle:ct}=useGeneralSettings({bgUrlContext:_,confName:$,setConfName:_e,baseUrl:it,wsUrl:tt,onWsUrlChange:nt,onBaseUrlChange:ot,onSave:i,onCancel:o});return j.language[0]!==a.language&&rt("language",[a.language]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.language"),value:j.language,onChange:ut=>{rt("language",ut),logAction("settings.change","general.language",{value:ut})},collection:et.languages,placeholder:s("settings.general.language")}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.general.useCameraBackground"),checked:j.useCameraBackground,onChange:ut=>{st(ut),logAction("settings.change","general.useCameraBackground",{value:ut})}}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.general.showSubtitle"),checked:lt,onChange:ut=>{ct(ut),logAction("settings.change","general.showSubtitle",{value:ut})}}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.general.enableFrontendErrorLogging"),checked:j.enableFrontendErrorLogging,onChange:ut=>{rt("enableFrontendErrorLogging",ut),logAction("settings.change","general.enableFrontendErrorLogging",{value:ut})}}),!j.useCameraBackground&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.backgroundImage"),value:j.selectedBgUrl,onChange:ut=>{rt("selectedBgUrl",ut),logAction("settings.change","general.selectedBgUrl",{value:ut})},collection:et.backgrounds,placeholder:s("settings.general.backgroundImage")}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.customBgUrl"),value:j.customBgUrl,onChange:ut=>{rt("customBgUrl",ut),logAction("settings.change","general.customBgUrl")},placeholder:s("settings.general.customBgUrlPlaceholder")})]}),jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.characterPreset"),value:j.selectedCharacterPreset,onChange:ut=>{at(ut),logAction("settings.change","general.characterPreset",{value:ut})},collection:et.characterPresets,placeholder:$||s("settings.general.characterPreset")}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.wsUrl"),value:j.wsUrl,onChange:ut=>{rt("wsUrl",ut),logAction("settings.change","general.wsUrl")},placeholder:"Enter WebSocket URL"}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.baseUrl"),value:j.baseUrl,onChange:ut=>{rt("baseUrl",ut),logAction("settings.change","general.baseUrl")},placeholder:"Enter Base URL"}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.imageCompressionQuality"),value:j.imageCompressionQuality.toString(),onChange:ut=>{const dt=parseFloat(ut);!Number.isNaN(dt)&&dt>=.1&&dt<=1?(rt("imageCompressionQuality",dt),logAction("settings.change","general.imageCompressionQuality",{value:dt})):ut===""&&rt("imageCompressionQuality",j.imageCompressionQuality)}}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.imageMaxWidth"),value:j.imageMaxWidth.toString(),onChange:ut=>{const dt=parseInt(ut,10);!Number.isNaN(dt)&&dt>0?(rt("imageMaxWidth",dt),logAction("settings.change","general.imageMaxWidth",{value:dt})):ut===""&&rt("imageMaxWidth",j.imageMaxWidth)}})]})}const useLive2dSettings=()=>{const i=useLive2DConfig(),o={url:"",kScale:.5,initialXshift:0,initialYshift:0,emotionMap:{},scrollToResize:!0},[s,a]=reactExports.useState((i==null?void 0:i.modelInfo)||o),[_,$]=reactExports.useState((i==null?void 0:i.modelInfo)||o);return reactExports.useEffect(()=>{i!=null&&i.modelInfo&&JSON.stringify(i.modelInfo)!==JSON.stringify(_)&&($(i.modelInfo),a(i.modelInfo))},[i==null?void 0:i.modelInfo]),reactExports.useEffect(()=>{i&&s&&i.setModelInfo(s)},[s.pointerInteractive,s.scrollToResize]),{modelInfo:s,handleInputChange:(it,ot)=>{a(et=>({...et,[it]:ot}))},handleSave:()=>{i&&s&&$(s)},handleCancel:()=>{a(_),i&&_&&i.setModelInfo(_)}}};function live2D({onSave:i,onCancel:o}){const{t:s}=useTranslation(),{modelInfo:a,handleInputChange:_,handleSave:$,handleCancel:_e}=useLive2dSettings();return reactExports.useEffect(()=>{if(!i||!o)return;const tt=i($),nt=o(_e);return()=>{tt==null||tt(),nt==null||nt()}},[i,o]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.live2d.pointerInteractive"),checked:a.pointerInteractive??!1,onChange:tt=>_("pointerInteractive",tt)}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.live2d.scrollToResize"),checked:a.scrollToResize??!0,onChange:tt=>_("scrollToResize",tt)})]})}const useASRSettings=()=>{const{settings:i,updateSettings:o,autoStopMic:s,setAutoStopMic:a,autoStartMicOn:_,setAutoStartMicOn:$,autoStartMicOnConvEnd:_e,setAutoStartMicOnConvEnd:tt}=useVAD(),nt=reactExports.useRef(i),it=reactExports.useRef(i),ot=reactExports.useRef(s),et=reactExports.useRef(_),j=reactExports.useRef(_e),[rt,st]=reactExports.useState(s),[at,lt]=reactExports.useState(_),[ct,ut]=reactExports.useState(_e),[,dt]=React.useReducer(vt=>vt+1,0);reactExports.useEffect(()=>{st(s),lt(_),ut(_e)},[s,_,_e]);const ft=(vt,wt)=>{if(wt===""||wt==="-")nt.current={...nt.current,[vt]:wt};else{const Ct=Number(wt);isNaN(Ct)||(nt.current={...nt.current,[vt]:Ct})}dt()},ht=vt=>{st(vt),a(vt)},mt=vt=>{lt(vt),$(vt)},bt=vt=>{ut(vt),tt(vt)},yt=()=>{o(nt.current),it.current=nt.current,ot.current=rt,et.current=at,j.current=ct},gt=()=>{nt.current=it.current,dt()};return{localSettings:nt.current,autoStopMic:rt,autoStartMicOn:at,autoStartMicOnConvEnd:ct,setAutoStopMic:ht,setAutoStartMicOn:mt,setAutoStartMicOnConvEnd:bt,handleInputChange:ft,handleSave:yt,handleCancel:gt}};function ASR({onSave:i,onCancel:o}){const{t:s}=useTranslation(),{localSettings:a,autoStopMic:_,autoStartMicOn:$,autoStartMicOnConvEnd:_e,setAutoStopMic:tt,setAutoStartMicOn:nt,setAutoStartMicOnConvEnd:it,handleInputChange:ot,handleSave:et,handleCancel:j}=useASRSettings();return reactExports.useEffect(()=>{if(!i||!o)return;const rt=i(()=>{et(),logAction("settings.change","asr.save")}),st=o(()=>{j(),logAction("settings.change","asr.cancel")});return()=>{rt==null||rt(),st==null||st()}},[i,o,et,j]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStopMic"),checked:_,onChange:rt=>{rt!==_&&(tt(rt),logAction("settings.change","asr.autoStopMic",{value:rt}))}}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStartMicOnConvEnd"),checked:_e,onChange:rt=>{rt!==_e&&(it(rt),logAction("settings.change","asr.autoStartMicOnConvEnd",{value:rt}))}}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStartMicOn"),checked:$,onChange:rt=>{rt!==$&&(nt(rt),logAction("settings.change","asr.autoStartMicOn",{value:rt}))}}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.positiveSpeechThreshold"),help:s("settings.asr.positiveSpeechThresholdDesc"),value:a.positiveSpeechThreshold,onChange:rt=>{ot("positiveSpeechThreshold",rt),logAction("settings.change","asr.positiveSpeechThreshold",{value:rt})},min:1,max:100}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.negativeSpeechThreshold"),help:s("settings.asr.negativeSpeechThresholdDesc"),value:a.negativeSpeechThreshold,onChange:rt=>{ot("negativeSpeechThreshold",rt),logAction("settings.change","asr.negativeSpeechThreshold",{value:rt})},min:0,max:100}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.redemptionFrames"),help:s("settings.asr.redemptionFramesDesc"),value:a.redemptionFrames,onChange:rt=>{ot("redemptionFrames",rt),logAction("settings.change","asr.redemptionFrames",{value:rt})},min:1,max:100})]})}function TTS(){const{t:i}=useTranslation(),{ttsInfo:o}=useConfig();return jsxRuntimeExports.jsxs(VStack,{align:"start",gap:3,children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"whiteAlpha.800",children:i("settings.tts.currentEngine")}),jsxRuntimeExports.jsx(Badge,{colorPalette:"blue",size:"lg",children:(o==null?void 0:o.model)||i("settings.tts.unknown")}),jsxRuntimeExports.jsx(Box,{fontSize:"sm",color:"whiteAlpha.700",children:i("settings.tts.note")})]})}function useTriggerSpeak(){const{sendMessage:i}=useWebSocket(),{captureAllMedia:o}=useMediaCapture();return{sendTriggerSignal:reactExports.useCallback(async a=>{const _=await o();i({type:"ai-speak-signal",idle_time:a,images:_})},[i,o])}}const defaultSettings$1={allowProactiveSpeak:!1,idleSecondsToSpeak:5,allowButtonTrigger:!1},ProactiveSpeakContext=reactExports.createContext(null);function ProactiveSpeakProvider({children:i}){const[o,s]=useLocalStorage("proactiveSpeakSettings",defaultSettings$1),{aiState:a}=useAiState(),{sendTriggerSignal:_}=useTriggerSpeak(),$=reactExports.useRef(null),_e=reactExports.useRef(null),tt=reactExports.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=null),_e.current=null},[]),nt=reactExports.useCallback(()=>{tt(),o.allowProactiveSpeak&&(_e.current=Date.now(),$.current=setTimeout(()=>{const et=(Date.now()-_e.current)/1e3;_(et)},o.idleSecondsToSpeak*1e3))},[o.allowProactiveSpeak,o.idleSecondsToSpeak,_,tt]);reactExports.useEffect(()=>{a===AiStateEnum.IDLE?nt():tt()},[a,nt,tt]),reactExports.useEffect(()=>{a===AiStateEnum.IDLE&&nt()},[o,a,nt]),reactExports.useEffect(()=>()=>{tt()},[tt]);const it=reactExports.useCallback(et=>{s(et)},[s]),ot=reactExports.useMemo(()=>({settings:o,updateSettings:it}),[o,it]);return jsxRuntimeExports.jsx(ProactiveSpeakContext.Provider,{value:ot,children:i})}function useProactiveSpeak(){const i=reactExports.useContext(ProactiveSpeakContext);if(!i)throw new Error("useProactiveSpeak must be used within a ProactiveSpeakProvider");return i}function useAgentSettings({onSave:i,onCancel:o}={}){const{settings:s,updateSettings:a}=useProactiveSpeak(),[_,$]=reactExports.useState({allowProactiveSpeak:s.allowProactiveSpeak,idleSecondsToSpeak:s.idleSecondsToSpeak,allowButtonTrigger:s.allowButtonTrigger}),[_e,tt]=reactExports.useState({...s});reactExports.useEffect(()=>{s&&(tt(s),$(s))},[s]);const nt=reactExports.useCallback(rt=>{$(st=>({...st,allowProactiveSpeak:rt})),a({..._,allowProactiveSpeak:rt})},[_,a]),it=reactExports.useCallback(rt=>{$(st=>({...st,idleSecondsToSpeak:rt})),a({..._,idleSecondsToSpeak:rt})},[_,a]),ot=reactExports.useCallback(rt=>{$(st=>({...st,allowButtonTrigger:rt})),a({..._,allowButtonTrigger:rt})},[_,a]),et=reactExports.useCallback(()=>{a(_),tt(_)},[a,_]),j=reactExports.useCallback(()=>{$(rt=>rt)},[_e]);return reactExports.useEffect(()=>{if(!i||!o)return;const rt=i(et),st=o(j);return()=>{rt==null||rt(),st==null||st()}},[i,o,et,j]),{settings:_,handleAllowProactiveSpeakChange:nt,handleIdleSecondsChange:it,handleAllowButtonTriggerChange:ot}}function Agent({onSave:i,onCancel:o}){const{t:s}=useTranslation(),{settings:a,handleAllowProactiveSpeakChange:_,handleIdleSecondsChange:$,handleAllowButtonTriggerChange:_e}=useAgentSettings({onSave:i,onCancel:o});return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.agent.allowProactiveSpeak"),checked:a.allowProactiveSpeak,onChange:_}),a.allowProactiveSpeak&&jsxRuntimeExports.jsx(NumberField,{label:s("settings.agent.idleSecondsToSpeak"),value:a.idleSecondsToSpeak,onChange:tt=>$(Number(tt)),min:0,step:.1,allowMouseWheel:!0}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.agent.allowButtonTrigger"),checked:a.allowButtonTrigger,onChange:_e})]})}function FaGithub(i){return GenIcon({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function FaBook(i){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(i)}function FaCheck(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(i)}function FaTimes(i){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function FaTools(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(i)}const Button$1=reactExports.forwardRef((i,o)=>{const{loading:s,disabled:a,loadingText:_,children:$,..._e}=i;return jsxRuntimeExports.jsx(Button$2,{disabled:s||a,ref:o,..._e,children:s&&!_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AbsoluteCenter,{display:"inline-flex",children:jsxRuntimeExports.jsx(Spinner,{size:"inherit",color:"inherit"})}),jsxRuntimeExports.jsx(Span,{opacity:0,children:$})]}):s&&_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Spinner,{size:"inherit",color:"inherit"}),_]}):$})});function About(){const{t:i}=useTranslation(),o=a=>{window.open(a,"_blank")};return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,gap:3,children:[jsxRuntimeExports.jsx(Heading,{size:"md",mb:1,children:i("settings.about.title")}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:0,children:i("settings.about.version")}),jsxRuntimeExports.jsx(Text,{children:"1.2.0"})]}),jsxRuntimeExports.jsx(Box,{borderTop:"1px solid",borderColor:"whiteAlpha.200",pt:2,mt:1}),jsxRuntimeExports.jsxs(Box,{mt:1,children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:1,children:i("settings.about.projectLinks")}),jsxRuntimeExports.jsxs(HStack,{mt:1,gap:2,children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>o("https://github.com/Open-LLM-VTuber/Open-LLM-VTuber-Web"),children:[jsxRuntimeExports.jsx(Icon,{as:FaGithub,mr:2})," ",i("settings.about.github")]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>o("https://docs.llmvtuber.com"),children:[jsxRuntimeExports.jsx(Icon,{as:FaBook,mr:2})," ",i("settings.about.documentation")]})]})]}),jsxRuntimeExports.jsx(Box,{borderTop:"1px solid",borderColor:"whiteAlpha.200",pt:2,mt:1}),jsxRuntimeExports.jsx(Box,{mt:1,children:jsxRuntimeExports.jsx(Button$1,{size:"xs",colorPalette:"blue",onClick:()=>o("https://github.com/Open-LLM-VTuber/Open-LLM-VTuber-Web/blob/main/LICENSE"),children:i("settings.about.viewLicense")})}),jsxRuntimeExports.jsxs(Box,{mt:1,children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:0,children:i("settings.about.copyright")}),jsxRuntimeExports.jsxs(Text,{children:["© ",new Date().getFullYear()," Open LLM VTuber Team"]})]})]})}const STORAGE_KEY="llmSamplingSettings",clamp=(i,o,s)=>Math.min(Math.max(i,o),s);function Sampling(){const{t:i}=useTranslation(),{sendMessage:o}=useWebSocket(),s=reactExports.useMemo(()=>({temperature:.7,top_p:.9,frequency_penalty:.4,presence_penalty:.2,max_tokens:384,seed:null}),[]),a=reactExports.useCallback(()=>{try{const ot=localStorage.getItem(STORAGE_KEY);if(!ot)return s;const et=JSON.parse(ot);return{...s,...et}}catch{return s}},[s]),[_,$]=reactExports.useState(a),_e=reactExports.useCallback(ot=>{$(et=>{const j={...et,...ot};localStorage.setItem(STORAGE_KEY,JSON.stringify(j));try{const rt={type:"update-llm-params"};j.temperature!=null&&(rt.temperature=clamp(j.temperature,0,2)),j.top_p!=null&&(rt.top_p=clamp(j.top_p,0,1)),j.frequency_penalty!=null&&(rt.frequency_penalty=clamp(j.frequency_penalty,0,2)),j.presence_penalty!=null&&(rt.presence_penalty=clamp(j.presence_penalty,0,2)),j.max_tokens!=null&&(rt.max_tokens=Math.max(1,Math.floor(j.max_tokens))),j.seed!==void 0&&(rt.seed=j.seed===null?void 0:Math.floor(j.seed)),o(rt)}catch{}return j})},[o]),tt=reactExports.useCallback(()=>{logAction("settings.preset","sampling",{preset:"strict"}),_e({temperature:.2,top_p:.9,frequency_penalty:.2,presence_penalty:0,max_tokens:256})},[_e]),nt=reactExports.useCallback(()=>{logAction("settings.preset","sampling",{preset:"balanced"}),_e({temperature:.7,top_p:.9,frequency_penalty:.4,presence_penalty:.2,max_tokens:384})},[_e]),it=reactExports.useCallback(()=>{logAction("settings.preset","sampling",{preset:"creative"}),_e({temperature:1.2,top_p:1,frequency_penalty:0,presence_penalty:0,max_tokens:512})},[_e]);return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Button$2,{size:"sm",onClick:tt,children:i("settings.sampling.presets.strict")||"Strict"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",onClick:nt,children:i("settings.sampling.presets.balanced")||"Balanced"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",onClick:it,children:i("settings.sampling.presets.creative")||"Creative"})]}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.temperature")||"Temperature",value:_.temperature,onChange:ot=>{logAction("settings.change","sampling.temperature",{value:Number(ot)}),_e({temperature:Number(ot)})},min:0,max:2,step:.05,allowMouseWheel:!0}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.top_p")||"Top P",value:_.top_p,onChange:ot=>{logAction("settings.change","sampling.top_p",{value:Number(ot)}),_e({top_p:Number(ot)})},min:0,max:1,step:.01,allowMouseWheel:!0}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.frequency_penalty")||"Frequency penalty",value:_.frequency_penalty,onChange:ot=>{logAction("settings.change","sampling.frequency_penalty",{value:Number(ot)}),_e({frequency_penalty:Number(ot)})},min:0,max:2,step:.05,allowMouseWheel:!0}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.presence_penalty")||"Presence penalty",value:_.presence_penalty,onChange:ot=>{logAction("settings.change","sampling.presence_penalty",{value:Number(ot)}),_e({presence_penalty:Number(ot)})},min:0,max:2,step:.05,allowMouseWheel:!0}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.max_tokens")||"Max tokens",value:_.max_tokens,onChange:ot=>{logAction("settings.change","sampling.max_tokens",{value:Number(ot)}),_e({max_tokens:Number(ot)})},min:1,max:8192,step:16,allowMouseWheel:!0}),jsxRuntimeExports.jsx(NumberField,{label:i("settings.sampling.seed")||"Seed",value:_.seed??"",onChange:ot=>{const et=ot===""?null:Number(ot);logAction("settings.change","sampling.seed",{value:et}),_e({seed:et})},min:-2147483648,max:2147483647,step:1,allowMouseWheel:!0})]})}function SettingUI({open:i,onClose:o}){const{t:s}=useTranslation(),[a,_]=reactExports.useState([]),[$,_e]=reactExports.useState([]),[tt,nt]=reactExports.useState("general"),it=reactExports.useCallback(st=>(_(at=>[...at,st]),()=>{_(at=>at.filter(lt=>lt!==st))}),[]),ot=reactExports.useCallback(st=>(_e(at=>[...at,st]),()=>{_e(at=>at.filter(lt=>lt!==st))}),[]),et=reactExports.useCallback(()=>{logAction("settings.click","save"),a.forEach(st=>st()),o()},[a,o]),j=reactExports.useCallback(()=>{logAction("settings.click","cancel"),$.forEach(st=>st()),o()},[$,o]),rt=reactExports.useMemo(()=>jsxRuntimeExports.jsxs(TabsContentGroup,{children:[jsxRuntimeExports.jsx(TabsContent,{value:"general",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(General,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"live2d",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(live2D,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"asr",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(ASR,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"tts",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(TTS,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"agent",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(Agent,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"sampling",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(Sampling,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"about",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(About,{})})]}),[it,ot]);return jsxRuntimeExports.jsxs(DrawerRoot$1,{open:i,onOpenChange:st=>st.open?null:o(),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop$1,{}),jsxRuntimeExports.jsxs(DrawerContent$1,{...settingStyles.settingUI.drawerContent,children:[jsxRuntimeExports.jsxs(DrawerHeader$1,{...settingStyles.settingUI.drawerHeader,children:[jsxRuntimeExports.jsx(DrawerTitle$1,{...settingStyles.settingUI.drawerTitle,children:s("common.settings")}),jsxRuntimeExports.jsx("div",{...settingStyles.settingUI.closeButton,children:jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{asChild:!0,onClick:j,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",color:"white"})})})]}),jsxRuntimeExports.jsx(DrawerBody$1,{children:jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"general",value:tt,onValueChange:st=>{nt(st.value),logAction("settings.tab","switch",{to:st.value})},...settingStyles.settingUI.tabs.root,children:[jsxRuntimeExports.jsxs(TabsList,{...settingStyles.settingUI.tabs.list,children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"general",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.general")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"live2d",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.live2d")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"asr",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.asr")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"tts",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.tts")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"agent",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.agent")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"sampling",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.sampling")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"about",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.about")})]}),rt]})}),jsxRuntimeExports.jsxs(DrawerFooter$1,{children:[jsxRuntimeExports.jsx(Button$2,{colorPalette:"red",onClick:j,children:s("common.cancel")}),jsxRuntimeExports.jsx(Button$2,{colorPalette:"blue",onClick:et,children:s("common.save")})]})]})]})}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,_,$,_e,tt,nt){if(nt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}i.isRequired=i;function o(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var prefix="cs",classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var o={}.hasOwnProperty;function s(){for(var $="",_e=0;_e<arguments.length;_e++){var tt=arguments[_e];tt&&($=_($,a(tt)))}return $}function a($){if(typeof $=="string"||typeof $=="number")return $;if(typeof $!="object")return"";if(Array.isArray($))return s.apply(null,$);if($.toString!==Object.prototype.toString&&!$.toString.toString().includes("[native code]"))return $.toString();var _e="";for(var tt in $)o.call($,tt)&&$[tt]&&(_e=_(_e,tt));return _e}function _($,_e){return _e?$?$+" "+_e:$+_e:$}i.exports?(s.default=s,i.exports=s):window.classNames=s})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var StatusEnum=["available","unavailable","away","dnd","invisible","eager"],SizeEnum=["xs","sm","md","lg","fluid"];function _typeof$h(i){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$h(i)}var _excluded$w=["status","size","className","name","selected","children"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$x.apply(this,arguments)}function _defineProperty$f(i,o,s){return o=_toPropertyKey$e(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$e(i){var o=_toPrimitive$e(i,"string");return _typeof$h(o)=="symbol"?o:String(o)}function _toPrimitive$e(i,o){if(_typeof$h(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$h(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$w(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$w(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$w(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var Status=function i(o){var s=o.status,a=o.size,_=a===void 0?"md":a,$=o.className,_e=o.name,tt=o.selected,nt=o.children,it=_objectWithoutProperties$w(o,_excluded$w),ot="".concat(prefix,"-status"),et=React.createElement("div",{className:"".concat(ot,"__bullet")}),j=_e||nt;return React.createElement("div",_extends$x({},it,{"aria-selected":tt===!0?"":null,className:classNames(ot,"".concat(ot,"--").concat(_),"".concat(ot,"--").concat(s),_defineProperty$f({},"".concat(ot,"--selected"),tt),_defineProperty$f({},"".concat(ot,"--named"),j),$)}),et,j&&React.createElement("div",{className:"".concat(ot,"__name")},_e||nt))};function _typeof$g(i){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$g(i)}var _excluded$v=["name","src","size","status","className","active","children"];function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$w.apply(this,arguments)}function _defineProperty$e(i,o,s){return o=_toPropertyKey$d(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$d(i){var o=_toPrimitive$d(i,"string");return _typeof$g(o)=="symbol"?o:String(o)}function _toPrimitive$d(i,o){if(_typeof$g(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$v(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$v(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$v(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function AvatarInner(i,o){var s=i.name,a=s===void 0?"":s,_=i.src,$=_===void 0?"":_,_e=i.size,tt=_e===void 0?"md":_e,nt=i.status,it=i.className,ot=i.active,et=ot===void 0?!1:ot,j=i.children,rt=_objectWithoutProperties$v(i,_excluded$v),st="".concat(prefix,"-avatar"),at=typeof tt<"u"?" ".concat(st,"--").concat(tt):"",lt=reactExports.useRef();return reactExports.useImperativeHandle(o,function(){return{focus:function(){return lt.current.focus()}}}),React.createElement("div",_extends$w({ref:lt},rt,{className:classNames("".concat(st).concat(at),_defineProperty$e({},"".concat(st,"--active"),et),it)}),j||React.createElement(React.Fragment,null,React.createElement("img",{src:$,alt:a}),typeof nt=="string"&&React.createElement(Status,{status:nt,size:tt})," "))}var Avatar=reactExports.forwardRef(AvatarInner);Avatar.displayName="Avatar";Avatar.propTypes={children:PropTypes.node,name:PropTypes.string,src:PropTypes.string,size:PropTypes.oneOf(SizeEnum),status:PropTypes.oneOf(StatusEnum),active:PropTypes.bool,className:PropTypes.string};function ownKeys$1(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);o&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(i,_).enumerable})),s.push.apply(s,a)}return s}function _objectSpread$1(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object(s),!0).forEach(function(a){_defineProperty$d(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}function _defineProperty$d(i,o,s){return o=_toPropertyKey$c(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$c(i){var o=_toPrimitive$c(i,"string");return _typeof$f(o)=="symbol"?o:String(o)}function _toPrimitive$c(i,o){if(_typeof$f(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _typeof$f(i){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$f(i)}var noop$1=function i(){},isChildrenNil=function i(o){return o==null||Array.isArray(o)&&o.length===0},getChildren=function i(o,s){var a=[],_=s.map(function($){return $.displayName||$.name});return React.Children.toArray(o).forEach(function($){var _e=s.indexOf($.type);if(_e!==-1)a[_e]=$;else{var tt,nt,it,ot=(tt=$==null||(nt=$.props)===null||nt===void 0?void 0:nt.as)!==null&&tt!==void 0?tt:$==null||(it=$.props)===null||it===void 0?void 0:it.is,et=_typeof$f(ot);if(et==="function"){var j=s.indexOf(ot);j!==-1&&(a[j]=React.cloneElement($,_objectSpread$1(_objectSpread$1({},$.props),{},{as:null})))}else if(et==="object"){var rt=ot.name||ot.displayName,st=_.indexOf(rt);st!==-1&&(a[st]=React.cloneElement($,_objectSpread$1(_objectSpread$1({},$.props),{},{as:null})))}else if(et==="string"){var at=_.indexOf(ot);at!==-1&&(a[at]=$)}}}),a},getComponentName=function i(o){if(typeof o=="string")return o;if("type"in o){var s=_typeof$f(o.type);if(s==="function"||s==="object"){if("displayName"in o.type)return o.type.displayName;if("name"in o.type)return o.type.name}else if(s==="string")return o.type;return"undefined"}return"undefined"},allowedChildren=function i(o){return function(s,a,_){var $=o.map(function(ot){return ot.name||ot.displayName}),_e=React.Children.toArray(s[a]).find(function(ot){if(typeof ot=="string"&&ot.trim().length===0)return!1;if(o.indexOf(ot.type)===-1){var et,j,rt=(ot==null||(et=ot.props)===null||et===void 0?void 0:et.as)||(ot==null||(j=ot.props)===null||j===void 0?void 0:j.is),st=_typeof$f(rt);if(st==="function")return o.indexOf(rt)===-1;if(st==="object"){var at=rt.name||rt.displayName;return $.indexOf(at)===-1}else return st==="string"?$.indexOf(rt)===-1:!0}});if(typeof _e<"u"){var tt=getComponentName(_e),nt=o.map(function(ot){return ot.name||ot.displayName}).join(", "),it='"'.concat(tt,'" is not a valid child for ').concat(_,". Allowed types: ").concat(nt);return new Error(it)}}},_excluded$u=["children","size","className","max","activeIndex","hoverToFront"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$v.apply(this,arguments)}function _objectWithoutProperties$u(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$u(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$u(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var AvatarGroup=function i(o){var s=o.children,a=o.size,_=a===void 0?"md":a,$=o.className,_e=o.max,tt=o.activeIndex,nt=o.hoverToFront,it=_objectWithoutProperties$u(o,_excluded$u),ot="".concat(prefix,"-avatar-group"),et=typeof _e=="number"&&React.Children.count(s)>_e?React.Children.toArray(s).reverse().slice(0,_e):React.Children.toArray(s).reverse(),j=typeof tt=="number"?et.length-tt-1:void 0;return React.createElement("div",_extends$v({},it,{className:classNames(ot,"".concat(ot,"--").concat(_),$)}),et.map(function(rt,st){var at=typeof j=="number"?{active:j===st}:{};return nt===!0&&(at.className=classNames("".concat(prefix,"-avatar--active-on-hover"),rt.props.className)),React.cloneElement(rt,at)}))};AvatarGroup.displayName="AvatarGroup";var _excluded$t=["children","className","icon","border","labelPosition"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$u.apply(this,arguments)}function _objectWithoutProperties$t(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$t(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$t(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var Button=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_===void 0?"":_,_e=o.icon,tt=_e===void 0?void 0:_e,nt=o.border,it=nt===void 0?!1:nt,ot=o.labelPosition,et=ot===void 0?void 0:ot,j=_objectWithoutProperties$t(o,_excluded$t),rt="".concat(prefix,"-button"),st=typeof et<"u"?et:"right",at=React.Children.count(a)>0?"".concat(rt,"--").concat(st):"",lt=it===!0?"".concat(rt,"--border"):"";return React.createElement("button",_extends$u({},j,{className:classNames(rt,at,lt,$)}),st==="left"&&a,tt,st==="right"&&a)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function _typeof$e(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$e=function(o){return typeof o}:_typeof$e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$e(i)}function _classCallCheck$4(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(i,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass$4(i,o,s){return o&&_defineProperties$4(i.prototype,o),i}function _defineProperty$c(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _objectSpread(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{},a=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(_){return Object.getOwnPropertyDescriptor(s,_).enumerable}))),a.forEach(function(_){_defineProperty$c(i,_,s[_])})}return i}function _slicedToArray$7(i,o){return _arrayWithHoles$7(i)||_iterableToArrayLimit$7(i,o)||_nonIterableRest$7()}function _arrayWithHoles$7(i){if(Array.isArray(i))return i}function _iterableToArrayLimit$7(i,o){var s=[],a=!0,_=!1,$=void 0;try{for(var _e=i[Symbol.iterator](),tt;!(a=(tt=_e.next()).done)&&(s.push(tt.value),!(o&&s.length===o));a=!0);}catch(nt){_=!0,$=nt}finally{try{!a&&_e.return!=null&&_e.return()}finally{if(_)throw $}}return s}function _nonIterableRest$7(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var noop=function i(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(i){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function";~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var NAMESPACE_IDENTIFIER="___FONT_AWESOME___",DEFAULT_FAMILY_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var DUOTONE_CLASSES={GROUP:"group",PRIMARY:"primary",SECONDARY:"secondary"},initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(i){var o=DOCUMENT.querySelector("script["+i+"]");if(o)return o.getAttribute(i)}function coerce(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(i){var o=_slicedToArray$7(i,2),s=o[0],a=o[1],_=coerce(getAttrConfig(s));_!=null&&(initial[a]=_)})}var _default={familyPrefix:DEFAULT_FAMILY_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_config=_objectSpread({},_default,initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config=_objectSpread({},_config);WINDOW.FontAwesomeConfig=config;var w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function i(){DOCUMENT.removeEventListener("DOMContentLoaded",i),loaded=1,functions.map(function(o){return o()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));var PENDING="pending",SETTLED="settled",FULFILLED="fulfilled",REJECTED="rejected",NOOP=function i(){},isNode=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",asyncSetTimer=typeof setImmediate>"u"?setTimeout:setImmediate,asyncQueue=[],asyncTimer;function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(i,o){asyncQueue.push([i,o]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(i,o){function s(_){resolve(o,_)}function a(_){reject(o,_)}try{i(s,a)}catch(_){a(_)}}function invokeCallback(i){var o=i.owner,s=o._state,a=o._data,_=i[s],$=i.then;if(typeof _=="function"){s=FULFILLED;try{a=_(a)}catch(_e){reject($,_e)}}handleThenable($,a)||(s===FULFILLED&&resolve($,a),s===REJECTED&&reject($,a))}function handleThenable(i,o){var s;try{if(i===o)throw new TypeError("A promises callback cannot return that same promise.");if(o&&(typeof o=="function"||_typeof$e(o)==="object")){var a=o.then;if(typeof a=="function")return a.call(o,function(_){s||(s=!0,o===_?fulfill(i,_):resolve(i,_))},function(_){s||(s=!0,reject(i,_))}),!0}}catch(_){return s||reject(i,_),!0}return!1}function resolve(i,o){(i===o||!handleThenable(i,o))&&fulfill(i,o)}function fulfill(i,o){i._state===PENDING&&(i._state=SETTLED,i._data=o,asyncCall(publishFulfillment,i))}function reject(i,o){i._state===PENDING&&(i._state=SETTLED,i._data=o,asyncCall(publishRejection,i))}function publish(i){i._then=i._then.forEach(invokeCallback)}function publishFulfillment(i){i._state=FULFILLED,publish(i)}function publishRejection(i){i._state=REJECTED,publish(i),!i._handled&&isNode&&global.process.emit("unhandledRejection",i._data,i)}function notifyRejectionHandled(i){global.process.emit("rejectionHandled",i)}function P(i){if(typeof i!="function")throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof P))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],invokeResolver(i,this)}P.prototype={constructor:P,_state:PENDING,_then:null,_data:void 0,_handled:!1,then:function i(o,s){var a={owner:this,then:new this.constructor(NOOP),fulfilled:o,rejected:s};return(s||o)&&!this._handled&&(this._handled=!0,this._state===REJECTED&&isNode&&asyncCall(notifyRejectionHandled,this)),this._state===FULFILLED||this._state===REJECTED?asyncCall(invokeCallback,a):this._then.push(a),a.then},catch:function i(o){return this.then(null,o)}};P.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new P(function(o,s){var a=[],_=0;function $(nt){return _++,function(it){a[nt]=it,--_||o(a)}}for(var _e=0,tt;_e<i.length;_e++)tt=i[_e],tt&&typeof tt.then=="function"?tt.then($(_e),s):a[_e]=tt;_||o(a)})};P.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new P(function(o,s){for(var a=0,_;a<i.length;a++)_=i[a],_&&typeof _.then=="function"?_.then(o,s):o(_)})};P.resolve=function(i){return i&&_typeof$e(i)==="object"&&i.constructor===P?i:new P(function(o){o(i)})};P.reject=function(i){return new P(function(o,s){s(i)})};var meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(i){if(!(!i||!IS_DOM)){var o=DOCUMENT.createElement("style");o.setAttribute("type","text/css"),o.innerHTML=i;for(var s=DOCUMENT.head.childNodes,a=null,_=s.length-1;_>-1;_--){var $=s[_],_e=($.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(_e)>-1&&(a=$)}return DOCUMENT.head.insertBefore(o,a),i}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var i=12,o="";i-- >0;)o+=idPool[Math.random()*62|0];return o}function htmlEscape(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(i){return Object.keys(i||{}).reduce(function(o,s){return o+"".concat(s,'="').concat(htmlEscape(i[s]),'" ')},"").trim()}function joinStyles(i){return Object.keys(i||{}).reduce(function(o,s){return o+"".concat(s,": ").concat(i[s],";")},"")}function transformIsMeaningful(i){return i.size!==meaninglessTransform.size||i.x!==meaninglessTransform.x||i.y!==meaninglessTransform.y||i.rotate!==meaninglessTransform.rotate||i.flipX||i.flipY}function transformForSvg(i){var o=i.transform,s=i.containerWidth,a=i.iconWidth,_={transform:"translate(".concat(s/2," 256)")},$="translate(".concat(o.x*32,", ").concat(o.y*32,") "),_e="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),tt="rotate(".concat(o.rotate," 0 0)"),nt={transform:"".concat($," ").concat(_e," ").concat(tt)},it={transform:"translate(".concat(a/2*-1," -256)")};return{outer:_,inner:nt,path:it}}var ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||o)&&(i.attributes.fill="black"),i}function deGroup(i){return i.tag==="g"?i.children:[i]}function makeIconMasking(i){var o=i.children,s=i.attributes,a=i.main,_=i.mask,$=i.maskId,_e=i.transform,tt=a.width,nt=a.icon,it=_.width,ot=_.icon,et=transformForSvg({transform:_e,containerWidth:it,iconWidth:tt}),j={tag:"rect",attributes:_objectSpread({},ALL_SPACE,{fill:"white"})},rt=nt.children?{children:nt.children.map(fillBlack)}:{},st={tag:"g",attributes:_objectSpread({},et.inner),children:[fillBlack(_objectSpread({tag:nt.tag,attributes:_objectSpread({},nt.attributes,et.path)},rt))]},at={tag:"g",attributes:_objectSpread({},et.outer),children:[st]},lt="mask-".concat($||nextUniqueId()),ct="clip-".concat($||nextUniqueId()),ut={tag:"mask",attributes:_objectSpread({},ALL_SPACE,{id:lt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[j,at]},dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ct},children:deGroup(ot)},ut]};return o.push(dt,{tag:"rect",attributes:_objectSpread({fill:"currentColor","clip-path":"url(#".concat(ct,")"),mask:"url(#".concat(lt,")")},ALL_SPACE)}),{children:o,attributes:s}}function makeIconStandard(i){var o=i.children,s=i.attributes,a=i.main,_=i.transform,$=i.styles,_e=joinStyles($);if(_e.length>0&&(s.style=_e),transformIsMeaningful(_)){var tt=transformForSvg({transform:_,containerWidth:a.width,iconWidth:a.width});o.push({tag:"g",attributes:_objectSpread({},tt.outer),children:[{tag:"g",attributes:_objectSpread({},tt.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:_objectSpread({},a.icon.attributes,tt.path)}]}]})}else o.push(a.icon);return{children:o,attributes:s}}function asIcon(i){var o=i.children,s=i.main,a=i.mask,_=i.attributes,$=i.styles,_e=i.transform;if(transformIsMeaningful(_e)&&s.found&&!a.found){var tt=s.width,nt=s.height,it={x:tt/nt/2,y:.5};_.style=joinStyles(_objectSpread({},$,{"transform-origin":"".concat(it.x+_e.x/16,"em ").concat(it.y+_e.y/16,"em")}))}return[{tag:"svg",attributes:_,children:o}]}function asSymbol(i){var o=i.prefix,s=i.iconName,a=i.children,_=i.attributes,$=i.symbol,_e=$===!0?"".concat(o,"-").concat(config.familyPrefix,"-").concat(s):$;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread({},_,{id:_e}),children:a}]}]}function makeInlineSvgAbstract(i){var o=i.icons,s=o.main,a=o.mask,_=i.prefix,$=i.iconName,_e=i.transform,tt=i.symbol,nt=i.title,it=i.maskId,ot=i.titleId,et=i.extra,j=i.watchable,rt=j===void 0?!1:j,st=a.found?a:s,at=st.width,lt=st.height,ct=_==="fak",ut=ct?"":"fa-w-".concat(Math.ceil(at/lt*16)),dt=[config.replacementClass,$?"".concat(config.familyPrefix,"-").concat($):"",ut].filter(function(vt){return et.classes.indexOf(vt)===-1}).filter(function(vt){return vt!==""||!!vt}).concat(et.classes).join(" "),ft={children:[],attributes:_objectSpread({},et.attributes,{"data-prefix":_,"data-icon":$,class:dt,role:et.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(at," ").concat(lt)})},ht=ct&&!~et.classes.indexOf("fa-fw")?{width:"".concat(at/lt*16*.0625,"em")}:{};rt&&(ft.attributes[DATA_FA_I2SVG]=""),nt&&ft.children.push({tag:"title",attributes:{id:ft.attributes["aria-labelledby"]||"title-".concat(ot||nextUniqueId())},children:[nt]});var mt=_objectSpread({},ft,{prefix:_,iconName:$,main:s,mask:a,maskId:it,transform:_e,symbol:tt,styles:_objectSpread({},ht,et.styles)}),bt=a.found&&s.found?makeIconMasking(mt):makeIconStandard(mt),yt=bt.children,gt=bt.attributes;return mt.children=yt,mt.attributes=gt,tt?asSymbol(mt):asIcon(mt)}config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure;var reduce=function i(o,s,a,_){var $=Object.keys(o),_e=$.length,tt=s,nt,it,ot;for(a===void 0?(nt=1,ot=o[$[0]]):(nt=0,ot=a);nt<_e;nt++)it=$[nt],ot=tt(ot,o[it],it,o);return ot};function defineIcons(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.skipHooks,_=a===void 0?!1:a,$=Object.keys(o).reduce(function(_e,tt){var nt=o[tt],it=!!nt.icon;return it?_e[nt.iconName]=nt.icon:_e[tt]=nt,_e},{});typeof namespace.hooks.addPack=="function"&&!_?namespace.hooks.addPack(i,$):namespace.styles[i]=_objectSpread({},namespace.styles[i]||{},$),i==="fas"&&defineIcons("fa",o)}var styles=namespace.styles,shims=namespace.shims,build=function i(){var o=function(_){return reduce(styles,function($,_e,tt){return $[tt]=reduce(_e,_,{}),$},{})};o(function(a,_,$){return _[3]&&(a[_[3]]=$),a}),o(function(a,_,$){var _e=_[2];return a[$]=$,_e.forEach(function(tt){a[tt]=$}),a});var s="far"in styles;reduce(shims,function(a,_){var $=_[0],_e=_[1],tt=_[2];return _e==="far"&&!s&&(_e="fas"),a[$]={prefix:_e,iconName:tt},a},{})};build();namespace.styles;function iconFromMapping(i,o,s){if(i&&i[o]&&i[o][s])return{prefix:o,iconName:s,icon:i[o][s]}}function toHtml(i){var o=i.tag,s=i.attributes,a=s===void 0?{}:s,_=i.children,$=_===void 0?[]:_;return typeof i=="string"?htmlEscape(i):"<".concat(o," ").concat(joinAttributes(a),">").concat($.map(toHtml).join(""),"</").concat(o,">")}var parseTransformString=function i(o){var s={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return o?o.toLowerCase().split(" ").reduce(function(a,_){var $=_.toLowerCase().split("-"),_e=$[0],tt=$.slice(1).join("-");if(_e&&tt==="h")return a.flipX=!0,a;if(_e&&tt==="v")return a.flipY=!0,a;if(tt=parseFloat(tt),isNaN(tt))return a;switch(_e){case"grow":a.size=a.size+tt;break;case"shrink":a.size=a.size-tt;break;case"left":a.x=a.x-tt;break;case"right":a.x=a.x+tt;break;case"up":a.y=a.y-tt;break;case"down":a.y=a.y+tt;break;case"rotate":a.rotate=a.rotate+tt;break}return a},s):s};function MissingIcon(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=new Error().stack}MissingIcon.prototype=Object.create(Error.prototype);MissingIcon.prototype.constructor=MissingIcon;var FILL={fill:"currentColor"},ANIMATION_BASE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};_objectSpread({},FILL,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var OPACITY_ANIMATE=_objectSpread({},ANIMATION_BASE,{attributeName:"opacity"});_objectSpread({},FILL,{cx:"256",cy:"364",r:"28"}),_objectSpread({},ANIMATION_BASE,{attributeName:"r",values:"28;14;28;28;14;28;"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;1;1;0;1;"});_objectSpread({},FILL,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;0;0;0;1;"});_objectSpread({},FILL,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),_objectSpread({},OPACITY_ANIMATE,{values:"0;0;1;1;0;0;"});namespace.styles;function asFoundIcon(i){var o=i[0],s=i[1],a=i.slice(4),_=_slicedToArray$7(a,1),$=_[0],_e=null;return Array.isArray($)?_e={tag:"g",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:$[0]}},{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:$[1]}}]}:_e={tag:"path",attributes:{fill:"currentColor",d:$}},{found:!0,width:o,height:s,icon:_e}}namespace.styles;var baseStyles=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function css(){var i=DEFAULT_FAMILY_PREFIX,o=DEFAULT_REPLACEMENT_CLASS,s=config.familyPrefix,a=config.replacementClass,_=baseStyles;if(s!==i||a!==o){var $=new RegExp("\\.".concat(i,"\\-"),"g"),_e=new RegExp("\\--".concat(i,"\\-"),"g"),tt=new RegExp("\\.".concat(o),"g");_=_.replace($,".".concat(s,"-")).replace(_e,"--".concat(s,"-")).replace(tt,".".concat(a))}return _}var Library=function(){function i(){_classCallCheck$4(this,i),this.definitions={}}return _createClass$4(i,[{key:"add",value:function(){for(var s=this,a=arguments.length,_=new Array(a),$=0;$<a;$++)_[$]=arguments[$];var _e=_.reduce(this._pullDefinitions,{});Object.keys(_e).forEach(function(tt){s.definitions[tt]=_objectSpread({},s.definitions[tt]||{},_e[tt]),defineIcons(tt,_e[tt]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(s,a){var _=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(_).map(function($){var _e=_[$],tt=_e.prefix,nt=_e.iconName,it=_e.icon;s[tt]||(s[tt]={}),s[tt][nt]=it}),s}}]),i}();function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}function apiObject(i,o){return Object.defineProperty(i,"abstract",{get:o}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(a){return toHtml(a)})}}),Object.defineProperty(i,"node",{get:function(){if(IS_DOM){var a=DOCUMENT.createElement("div");return a.innerHTML=i.html,a.children}}}),i}function findIconDefinition(i){var o=i.prefix,s=o===void 0?"fa":o,a=i.iconName;if(a)return iconFromMapping(library.definitions,s,a)||iconFromMapping(namespace.styles,s,a)}function resolveIcons(i){return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(o||{}).icon?o:findIconDefinition(o||{}),_=s.mask;return _&&(_=(_||{}).icon?_:findIconDefinition(_||{})),i(a,_objectSpread({},s,{mask:_}))}}var library=new Library,_cssInserted=!1,parse={transform:function i(o){return parseTransformString(o)}},icon=resolveIcons(function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.transform,a=s===void 0?meaninglessTransform:s,_=o.symbol,$=_===void 0?!1:_,_e=o.mask,tt=_e===void 0?null:_e,nt=o.maskId,it=nt===void 0?null:nt,ot=o.title,et=ot===void 0?null:ot,j=o.titleId,rt=j===void 0?null:j,st=o.classes,at=st===void 0?[]:st,lt=o.attributes,ct=lt===void 0?{}:lt,ut=o.styles,dt=ut===void 0?{}:ut;if(i){var ft=i.prefix,ht=i.iconName,mt=i.icon;return apiObject(_objectSpread({type:"icon"},i),function(){return ensureCss(),config.autoA11y&&(et?ct["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(rt||nextUniqueId()):(ct["aria-hidden"]="true",ct.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(mt),mask:tt?asFoundIcon(tt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ft,iconName:ht,transform:_objectSpread({},meaninglessTransform,a),symbol:$,title:et,maskId:it,titleId:rt,extra:{attributes:ct,styles:dt,classes:at}})})}});function ownKeys(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);o&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(i,_).enumerable})),s.push.apply(s,a)}return s}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(a){_defineProperty$b(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}function _typeof$d(i){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$d(i)}function _defineProperty$b(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _objectWithoutPropertiesLoose$s(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function _objectWithoutProperties$s(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$s(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray$7(i)||_nonIterableSpread()}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray$7(i)}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _unsupportedIterableToArray$7(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$7(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$7(i,o)}}function _arrayLikeToArray$7(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(i){var o,s=i.beat,a=i.fade,_=i.beatFade,$=i.bounce,_e=i.shake,tt=i.flash,nt=i.spin,it=i.spinPulse,ot=i.spinReverse,et=i.pulse,j=i.fixedWidth,rt=i.inverse,st=i.border,at=i.listItem,lt=i.flip,ct=i.size,ut=i.rotation,dt=i.pull,ft=(o={"fa-beat":s,"fa-fade":a,"fa-beat-fade":_,"fa-bounce":$,"fa-shake":_e,"fa-flash":tt,"fa-spin":nt,"fa-spin-reverse":ot,"fa-spin-pulse":it,"fa-pulse":et,"fa-fw":j,"fa-inverse":rt,"fa-border":st,"fa-li":at,"fa-flip":lt===!0,"fa-flip-horizontal":lt==="horizontal"||lt==="both","fa-flip-vertical":lt==="vertical"||lt==="both"},_defineProperty$b(o,"fa-".concat(ct),typeof ct<"u"&&ct!==null),_defineProperty$b(o,"fa-rotate-".concat(ut),typeof ut<"u"&&ut!==null&&ut!==0),_defineProperty$b(o,"fa-pull-".concat(dt),typeof dt<"u"&&dt!==null),_defineProperty$b(o,"fa-swap-opacity",i.swapOpacity),o);return Object.keys(ft).map(function(ht){return ft[ht]?ht:null}).filter(function(ht){return ht})}function _isNumerical(i){return i=i-0,i===i}function camelize(i){return _isNumerical(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(o,s){return s?s.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var _excluded$1$1=["style"];function capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}function styleToObject(i){return i.split(";").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,s){var a=s.indexOf(":"),_=camelize(s.slice(0,a)),$=s.slice(a+1).trim();return _.startsWith("webkit")?o[capitalize(_)]=$:o[_]=$,o},{})}function convert(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof o=="string")return o;var a=(o.children||[]).map(function(nt){return convert(i,nt)}),_=Object.keys(o.attributes||{}).reduce(function(nt,it){var ot=o.attributes[it];switch(it){case"class":nt.attrs.className=ot,delete o.attributes.class;break;case"style":nt.attrs.style=styleToObject(ot);break;default:it.indexOf("aria-")===0||it.indexOf("data-")===0?nt.attrs[it.toLowerCase()]=ot:nt.attrs[camelize(it)]=ot}return nt},{attrs:{}}),$=s.style,_e=$===void 0?{}:$,tt=_objectWithoutProperties$s(s,_excluded$1$1);return _.attrs.style=_objectSpread2(_objectSpread2({},_.attrs.style),_e),i.apply(void 0,[o.tag,_objectSpread2(_objectSpread2({},_.attrs),tt)].concat(_toConsumableArray(a)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(i){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function normalizeIconArgs(i){if(i&&_typeof$d(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(parse.icon)return parse.icon(i);if(i===null)return null;if(i&&_typeof$d(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function objectWithKey(i,o){return Array.isArray(o)&&o.length>0||!Array.isArray(o)&&o?_defineProperty$b({},i,o):{}}var _excluded$s=["forwardedRef"];function FontAwesomeIcon(i){var o=i.forwardedRef,s=_objectWithoutProperties$s(i,_excluded$s),a=s.icon,_=s.mask,$=s.symbol,_e=s.className,tt=s.title,nt=s.titleId,it=s.maskId,ot=normalizeIconArgs(a),et=objectWithKey("classes",[].concat(_toConsumableArray(classList(s)),_toConsumableArray(_e.split(" ")))),j=objectWithKey("transform",typeof s.transform=="string"?parse.transform(s.transform):s.transform),rt=objectWithKey("mask",normalizeIconArgs(_)),st=icon(ot,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},et),j),rt),{},{symbol:$,title:tt,titleId:nt,maskId:it}));if(!st)return log("Could not find icon",ot),null;var at=st.abstract,lt={ref:o};return Object.keys(s).forEach(function(ct){FontAwesomeIcon.defaultProps.hasOwnProperty(ct)||(lt[ct]=s[ct])}),convertCurry(at[0],lt)}FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};FontAwesomeIcon.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var convertCurry=convert.bind(null,React.createElement),faArrowUp={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="arrow-up",a=448,_=512,$=[],_e="f062",tt="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faArrowUp=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faArrowUp);var faArrowRight={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="arrow-right",a=448,_=512,$=[],_e="f061",tt="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faArrowRight=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faArrowRight);var faArrowDown={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="arrow-down",a=448,_=512,$=[],_e="f063",tt="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faArrowDown=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faArrowDown);var faArrowLeft={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="arrow-left",a=448,_=512,$=[],_e="f060",tt="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faArrowLeft=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faArrowLeft);var _excluded$r=["className","direction","children"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$t.apply(this,arguments)}function _objectWithoutProperties$r(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$r(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$r(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ArrowButton=function i(o){var s=o.className,a=s===void 0?"":s,_=o.direction,$=_===void 0?"right":_,_e=o.children,tt=_objectWithoutProperties$r(o,_excluded$r),nt="".concat(prefix,"-button--arrow"),it=function(){if($==="up")return faArrowUp.faArrowUp;if($==="right")return faArrowRight.faArrowRight;if($==="down")return faArrowDown.faArrowDown;if($==="left")return faArrowLeft.faArrowLeft}();return React.createElement(Button,_extends$t({},tt,{className:classNames(nt,a),icon:React.createElement(FontAwesomeIcon,{icon:it})}),_e)},faEllipsisV={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="ellipsis-v",a=192,_=512,$=[],_e="f142",tt="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faEllipsisV=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faEllipsisV);var faPaperPlane={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="paper-plane",a=512,_=512,$=[],_e="f1d8",tt="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faPaperPlane=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faPaperPlane);var _excluded$q=["className","children"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$s.apply(this,arguments)}function _objectWithoutProperties$q(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$q(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$q(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var SendButton=function i(o){var s=o.className,a=s===void 0?"":s,_=o.children,$=_objectWithoutProperties$q(o,_excluded$q),_e="".concat(prefix,"-button--send");return React.createElement(Button,_extends$s({},$,{className:classNames(_e,a),icon:React.createElement(FontAwesomeIcon,{icon:faPaperPlane.faPaperPlane})}),_)},faPaperclip={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var o="fas",s="paperclip",a=448,_=512,$=[],_e="f0c6",tt="M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z";i.definition={prefix:o,iconName:s,icon:[a,_,$,_e,tt]},i.faPaperclip=i.definition,i.prefix=o,i.iconName=s,i.width=a,i.height=_,i.ligatures=$,i.unicode=_e,i.svgPathData=tt})(faPaperclip);var _excluded$p=["className","children"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$r.apply(this,arguments)}function _objectWithoutProperties$p(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$p(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$p(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var AttachmentButton=function i(o){var s=o.className,a=s===void 0?"":s,_=o.children,$=_objectWithoutProperties$p(o,_excluded$p),_e="".concat(prefix,"-button--attachment");return React.createElement(Button,_extends$r({},$,{className:classNames(_e,a),icon:React.createElement(FontAwesomeIcon,{icon:faPaperclip.faPaperclip})}),_)},_excluded$o=["onClick","children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$q.apply(this,arguments)}function _objectWithoutProperties$o(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$o(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$o(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ConversationHeaderBack=function i(o){var s=o.onClick,a=s===void 0?function(){}:s,_=o.children,$=_===void 0?void 0:_,_e=o.className,tt=_objectWithoutProperties$o(o,_excluded$o),nt="".concat(prefix,"-conversation-header__back");return React.createElement("div",_extends$q({},tt,{className:classNames(nt,_e)}),typeof $<"u"?$:React.createElement(ArrowButton,{direction:"left",onClick:a}))};ConversationHeaderBack.displayName="ConversationHeader.Back";var _excluded$n=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$p.apply(this,arguments)}function _objectWithoutProperties$n(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$n(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$n(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ConversationHeaderActions=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$n(o,_excluded$n),_e="".concat(prefix,"-conversation-header__actions");return React.createElement("section",_extends$p({},$,{className:classNames(_e,_)}),a)};ConversationHeaderActions.displayName="ConversationHeader.Actions";var _excluded$m=["userName","info","children","className"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$o.apply(this,arguments)}function _objectWithoutProperties$m(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$m(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$m(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ConversationHeaderContent=function i(o){var s=o.userName,a=s===void 0?"":s,_=o.info,$=_===void 0?"":_,_e=o.children,tt=_e===void 0?void 0:_e,nt=o.className,it=_objectWithoutProperties$m(o,_excluded$m),ot="".concat(prefix,"-conversation-header__content");return React.createElement("div",_extends$o({},it,{className:classNames(ot,nt)}),typeof tt<"u"?tt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-conversation-header__user-name")},a),React.createElement("div",{className:"".concat(prefix,"-conversation-header__info")},$)))};ConversationHeaderContent.displayName="ConversationHeader.Content";var _excluded$l=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$n.apply(this,arguments)}function _slicedToArray$6(i,o){return _arrayWithHoles$6(i)||_iterableToArrayLimit$6(i,o)||_unsupportedIterableToArray$6(i,o)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$6(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$6(i,o)}}function _arrayLikeToArray$6(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$6(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$6(i){if(Array.isArray(i))return i}function _objectWithoutProperties$l(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$l(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$l(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ConversationHeader=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$l(o,_excluded$l),_e="".concat(prefix,"-conversation-header"),tt=getChildren(a,[ConversationHeaderBack,Avatar,AvatarGroup,ConversationHeaderContent,ConversationHeaderActions]),nt=_slicedToArray$6(tt,5),it=nt[0],ot=nt[1],et=nt[2],j=nt[3],rt=nt[4];return React.createElement("div",_extends$n({},$,{className:classNames(_e,_)}),it,ot&&React.createElement("div",{className:"".concat(_e,"__avatar")},ot),!ot&&et&&React.createElement("div",{className:"".concat(_e,"__avatar")},et),j,rt)};ConversationHeader.displayName="ConversationHeader";ConversationHeader.Back=ConversationHeaderBack;ConversationHeader.Actions=ConversationHeaderActions;ConversationHeader.Content=ConversationHeaderContent;/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function get(i){return getComputedStyle(i)}function set(i,o){for(var s in o){var a=o[s];typeof a=="number"&&(a=a+"px"),i.style[s]=a}return i}function div(i){var o=document.createElement("div");return o.className=i,o}var elMatches=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function matches(i,o){if(!elMatches)throw new Error("No element matching method supported");return elMatches.call(i,o)}function remove(i){i.remove?i.remove():i.parentNode&&i.parentNode.removeChild(i)}function queryChildren(i,o){return Array.prototype.filter.call(i.children,function(s){return matches(s,o)})}var cls={main:"ps",rtl:"ps__rtl",element:{thumb:function i(o){return"ps__thumb-"+o},rail:function i(o){return"ps__rail-"+o},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function i(o){return"ps--active-"+o},scrolling:function i(o){return"ps--scrolling-"+o}}},scrollingClassTimeout={x:null,y:null};function addScrollingClass(i,o){var s=i.element.classList,a=cls.state.scrolling(o);s.contains(a)?clearTimeout(scrollingClassTimeout[o]):s.add(a)}function removeScrollingClass(i,o){scrollingClassTimeout[o]=setTimeout(function(){return i.isAlive&&i.element.classList.remove(cls.state.scrolling(o))},i.settings.scrollingThreshold)}function setScrollingClassInstantly(i,o){addScrollingClass(i,o),removeScrollingClass(i,o)}var EventElement=function i(o){this.element=o,this.handlers={}},prototypeAccessors={isEmpty:{configurable:!0}};EventElement.prototype.bind=function i(o,s){typeof this.handlers[o]>"u"&&(this.handlers[o]=[]),this.handlers[o].push(s);var a=["touchstart","wheel","touchmove"];a.indexOf(o)!==-1?this.element.addEventListener(o,s,{passive:!1}):this.element.addEventListener(o,s,!1)};EventElement.prototype.unbind=function i(o,s){var a=this;this.handlers[o]=this.handlers[o].filter(function(_){return s&&_!==s?!0:(a.element.removeEventListener(o,_,!1),!1)})};EventElement.prototype.unbindAll=function i(){for(var o in this.handlers)this.unbind(o)};prototypeAccessors.isEmpty.get=function(){var i=this;return Object.keys(this.handlers).every(function(o){return i.handlers[o].length===0})};Object.defineProperties(EventElement.prototype,prototypeAccessors);var EventManager=function i(){this.eventElements=[]};EventManager.prototype.eventElement=function i(o){var s=this.eventElements.filter(function(a){return a.element===o})[0];return s||(s=new EventElement(o),this.eventElements.push(s)),s};EventManager.prototype.bind=function i(o,s,a){this.eventElement(o).bind(s,a)};EventManager.prototype.unbind=function i(o,s,a){var _=this.eventElement(o);_.unbind(s,a),_.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(_),1)};EventManager.prototype.unbindAll=function i(){this.eventElements.forEach(function(o){return o.unbindAll()}),this.eventElements=[]};EventManager.prototype.once=function i(o,s,a){var _=this.eventElement(o),$=function _e(tt){_.unbind(s,_e),a(tt)};_.bind(s,$)};function createEvent(i){if(typeof window.CustomEvent=="function")return new CustomEvent(i);var o=document.createEvent("CustomEvent");return o.initCustomEvent(i,!1,!1,void 0),o}function processScrollDiff(i,o,s,a,_,$){a===void 0&&(a=!0),_===void 0&&(_=!1);var _e;if(o==="top")_e=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(o==="left")_e=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");processScrollDiff$1(i,s,_e,a,_,$)}function processScrollDiff$1(i,o,s,a,_,$){var _e=s[0],tt=s[1],nt=s[2],it=s[3],ot=s[4],et=s[5];a===void 0&&(a=!0),_===void 0&&(_=!1);var j=i.element;i.reach[it]=null;var rt=$===!0?i[_e]!==i[tt]:!0;rt&&j[nt]<1&&(i.reach[it]="start"),rt&&j[nt]>i[_e]-i[tt]-1&&(i.reach[it]="end"),o&&(j.dispatchEvent(createEvent("ps-scroll-"+it)),o<0?j.dispatchEvent(createEvent("ps-scroll-"+ot)):o>0&&j.dispatchEvent(createEvent("ps-scroll-"+et)),a&&setScrollingClassInstantly(i,it)),i.reach[it]&&(o||_)&&j.dispatchEvent(createEvent("ps-"+it+"-reach-"+i.reach[it]))}function toInt(i){return parseInt(i,10)||0}function isEditable(i){return matches(i,"input,[contenteditable]")||matches(i,"select,[contenteditable]")||matches(i,"textarea,[contenteditable]")||matches(i,"button,[contenteditable]")}function outerWidth(i){var o=get(i);return toInt(o.width)+toInt(o.paddingLeft)+toInt(o.paddingRight)+toInt(o.borderLeftWidth)+toInt(o.borderRightWidth)}var env={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints};function updateGeometry(i){var o=i.element,s=Math.floor(o.scrollTop),a=o.getBoundingClientRect();i.containerWidth=Math.round(a.width),i.containerHeight=Math.round(a.height),i.contentWidth=o.scrollWidth,i.contentHeight=o.scrollHeight,o.contains(i.scrollbarXRail)||(queryChildren(o,cls.element.rail("x")).forEach(function(_){return remove(_)}),o.appendChild(i.scrollbarXRail)),o.contains(i.scrollbarYRail)||(queryChildren(o,cls.element.rail("y")).forEach(function(_){return remove(_)}),o.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=getThumbSize(i,toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=toInt((i.negativeScrollAdjustment+o.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=getThumbSize(i,toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=toInt(s*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),updateCss(o,i),i.scrollbarXActive?o.classList.add(cls.state.active("x")):(o.classList.remove(cls.state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,o.scrollLeft=i.isRtl===!0?i.contentWidth:0),i.scrollbarYActive?o.classList.add(cls.state.active("y")):(o.classList.remove(cls.state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,o.scrollTop=0)}function getThumbSize(i,o){return i.settings.minScrollbarLength&&(o=Math.max(o,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(o=Math.min(o,i.settings.maxScrollbarLength)),o}function updateCss(i,o){var s={width:o.railXWidth},a=Math.floor(i.scrollTop);o.isRtl?s.left=o.negativeScrollAdjustment+i.scrollLeft+o.containerWidth-o.contentWidth:s.left=i.scrollLeft,o.isScrollbarXUsingBottom?s.bottom=o.scrollbarXBottom-a:s.top=o.scrollbarXTop+a,set(o.scrollbarXRail,s);var _={top:a,height:o.railYHeight};o.isScrollbarYUsingRight?o.isRtl?_.right=o.contentWidth-(o.negativeScrollAdjustment+i.scrollLeft)-o.scrollbarYRight-o.scrollbarYOuterWidth-9:_.right=o.scrollbarYRight-i.scrollLeft:o.isRtl?_.left=o.negativeScrollAdjustment+i.scrollLeft+o.containerWidth*2-o.contentWidth-o.scrollbarYLeft-o.scrollbarYOuterWidth:_.left=o.scrollbarYLeft+i.scrollLeft,set(o.scrollbarYRail,_),set(o.scrollbarX,{left:o.scrollbarXLeft,width:o.scrollbarXWidth-o.railBorderXWidth}),set(o.scrollbarY,{top:o.scrollbarYTop,height:o.scrollbarYHeight-o.railBorderYWidth})}function clickRail(i){i.element,i.event.bind(i.scrollbarY,"mousedown",function(o){return o.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(o){var s=o.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top,a=s>i.scrollbarYTop?1:-1;i.element.scrollTop+=a*i.containerHeight,updateGeometry(i),o.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(o){return o.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(o){var s=o.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left,a=s>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=a*i.containerWidth,updateGeometry(i),o.stopPropagation()})}function dragThumb(i){bindMouseScrollHandler(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bindMouseScrollHandler(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function bindMouseScrollHandler(i,o){var s=o[0],a=o[1],_=o[2],$=o[3],_e=o[4],tt=o[5],nt=o[6],it=o[7],ot=o[8],et=i.element,j=null,rt=null,st=null;function at(ut){ut.touches&&ut.touches[0]&&(ut[_]=ut.touches[0].pageY),et[nt]=j+st*(ut[_]-rt),addScrollingClass(i,it),updateGeometry(i),ut.stopPropagation(),ut.preventDefault()}function lt(){removeScrollingClass(i,it),i[ot].classList.remove(cls.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",at)}function ct(ut,dt){j=et[nt],dt&&ut.touches&&(ut[_]=ut.touches[0].pageY),rt=ut[_],st=(i[a]-i[s])/(i[$]-i[tt]),dt?i.event.bind(i.ownerDocument,"touchmove",at):(i.event.bind(i.ownerDocument,"mousemove",at),i.event.once(i.ownerDocument,"mouseup",lt),ut.preventDefault()),i[ot].classList.add(cls.state.clicking),ut.stopPropagation()}i.event.bind(i[_e],"mousedown",function(ut){ct(ut)}),i.event.bind(i[_e],"touchstart",function(ut){ct(ut,!0)})}function keyboard(i){var o=i.element,s=function(){return matches(o,":hover")},a=function(){return matches(i.scrollbarX,":focus")||matches(i.scrollbarY,":focus")};function _($,_e){var tt=Math.floor(o.scrollTop);if($===0){if(!i.scrollbarYActive)return!1;if(tt===0&&_e>0||tt>=i.contentHeight-i.containerHeight&&_e<0)return!i.settings.wheelPropagation}var nt=o.scrollLeft;if(_e===0){if(!i.scrollbarXActive)return!1;if(nt===0&&$<0||nt>=i.contentWidth-i.containerWidth&&$>0)return!i.settings.wheelPropagation}return!0}i.event.bind(i.ownerDocument,"keydown",function($){if(!($.isDefaultPrevented&&$.isDefaultPrevented()||$.defaultPrevented)&&!(!s()&&!a())){var _e=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(_e){if(_e.tagName==="IFRAME")_e=_e.contentDocument.activeElement;else for(;_e.shadowRoot;)_e=_e.shadowRoot.activeElement;if(isEditable(_e))return}var tt=0,nt=0;switch($.which){case 37:$.metaKey?tt=-i.contentWidth:$.altKey?tt=-i.containerWidth:tt=-30;break;case 38:$.metaKey?nt=i.contentHeight:$.altKey?nt=i.containerHeight:nt=30;break;case 39:$.metaKey?tt=i.contentWidth:$.altKey?tt=i.containerWidth:tt=30;break;case 40:$.metaKey?nt=-i.contentHeight:$.altKey?nt=-i.containerHeight:nt=-30;break;case 32:$.shiftKey?nt=i.containerHeight:nt=-i.containerHeight;break;case 33:nt=i.containerHeight;break;case 34:nt=-i.containerHeight;break;case 36:nt=i.contentHeight;break;case 35:nt=-i.contentHeight;break;default:return}i.settings.suppressScrollX&&tt!==0||i.settings.suppressScrollY&&nt!==0||(o.scrollTop-=nt,o.scrollLeft+=tt,updateGeometry(i),_(tt,nt)&&$.preventDefault())}})}function wheel(i){var o=i.element;function s(_e,tt){var nt=Math.floor(o.scrollTop),it=o.scrollTop===0,ot=nt+o.offsetHeight===o.scrollHeight,et=o.scrollLeft===0,j=o.scrollLeft+o.offsetWidth===o.scrollWidth,rt;return Math.abs(tt)>Math.abs(_e)?rt=it||ot:rt=et||j,rt?!i.settings.wheelPropagation:!0}function a(_e){var tt=_e.deltaX,nt=-1*_e.deltaY;return(typeof tt>"u"||typeof nt>"u")&&(tt=-1*_e.wheelDeltaX/6,nt=_e.wheelDeltaY/6),_e.deltaMode&&_e.deltaMode===1&&(tt*=10,nt*=10),tt!==tt&&nt!==nt&&(tt=0,nt=_e.wheelDelta),_e.shiftKey?[-nt,-tt]:[tt,nt]}function _(_e,tt,nt){if(!env.isWebKit&&o.querySelector("select:focus"))return!0;if(!o.contains(_e))return!1;for(var it=_e;it&&it!==o;){if(it.classList.contains(cls.element.consuming))return!0;var ot=get(it);if(nt&&ot.overflowY.match(/(scroll|auto)/)){var et=it.scrollHeight-it.clientHeight;if(et>0&&(it.scrollTop>0&&nt<0||it.scrollTop<et&&nt>0))return!0}if(tt&&ot.overflowX.match(/(scroll|auto)/)){var j=it.scrollWidth-it.clientWidth;if(j>0&&(it.scrollLeft>0&&tt<0||it.scrollLeft<j&&tt>0))return!0}it=it.parentNode}return!1}function $(_e){var tt=a(_e),nt=tt[0],it=tt[1];if(!_(_e.target,nt,it)){var ot=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(it?o.scrollTop-=it*i.settings.wheelSpeed:o.scrollTop+=nt*i.settings.wheelSpeed,ot=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(nt?o.scrollLeft+=nt*i.settings.wheelSpeed:o.scrollLeft-=it*i.settings.wheelSpeed,ot=!0):(o.scrollTop-=it*i.settings.wheelSpeed,o.scrollLeft+=nt*i.settings.wheelSpeed),updateGeometry(i),ot=ot||s(nt,it),ot&&!_e.ctrlKey&&(_e.stopPropagation(),_e.preventDefault())}}typeof window.onwheel<"u"?i.event.bind(o,"wheel",$):typeof window.onmousewheel<"u"&&i.event.bind(o,"mousewheel",$)}function touch(i){if(!env.supportsTouch&&!env.supportsIePointer)return;var o=i.element;function s(st,at){var lt=Math.floor(o.scrollTop),ct=Math.ceil(o.scrollLeft),ut=Math.abs(st),dt=Math.abs(at);if(!i.settings.wheelPropagation)return!0;if(dt>ut){if(i.settings.suppressScrollY)return!1;if(at>0)return lt!==0;if(at<0)return lt<i.contentHeight-i.containerHeight}else if(ut>dt){if(i.settings.suppressScrollX)return!1;if(st>0)return ct!==0;if(at<0)return ct<i.contentWidth-i.containerWidth}return!0}function a(st,at){o.scrollTop-=at,o.scrollLeft-=st,updateGeometry(i)}var _={},$=0,_e={},tt=null;function nt(st){return st.targetTouches?st.targetTouches[0]:st}function it(st){return st.pointerType&&st.pointerType==="pen"&&st.buttons===0?!1:!!(st.targetTouches&&st.targetTouches.length===1||st.pointerType&&st.pointerType!=="mouse"&&st.pointerType!==st.MSPOINTER_TYPE_MOUSE)}function ot(st){if(it(st)){var at=nt(st);_.pageX=at.pageX,_.pageY=at.pageY,$=new Date().getTime(),tt!==null&&clearInterval(tt)}}function et(st,at,lt){if(!o.contains(st))return!1;for(var ct=st;ct&&ct!==o;){if(ct.classList.contains(cls.element.consuming))return!0;var ut=get(ct);if(lt&&ut.overflowY.match(/(scroll|auto)/)){var dt=ct.scrollHeight-ct.clientHeight;if(dt>0&&(ct.scrollTop>0&&lt<0||ct.scrollTop<dt&&lt>0))return!0}if(at&&ut.overflowX.match(/(scroll|auto)/)){var ft=ct.scrollWidth-ct.clientWidth;if(ft>0&&(ct.scrollLeft>0&&at<0||ct.scrollLeft<ft&&at>0))return!0}ct=ct.parentNode}return!1}function j(st){if(it(st)){var at=nt(st),lt={pageX:at.pageX,pageY:at.pageY},ct=lt.pageX-_.pageX,ut=lt.pageY-_.pageY;if(et(st.target,ct,ut))return;a(ct,ut),_=lt;var dt=new Date().getTime(),ft=dt-$;ft>0&&(_e.x=ct/ft,_e.y=ut/ft,$=dt),st.cancelable&&s(ct,ut)&&st.preventDefault()}}function rt(){i.settings.swipeEasing&&(clearInterval(tt),tt=setInterval(function(){if(i.isInitialized){clearInterval(tt);return}if(!_e.x&&!_e.y){clearInterval(tt);return}if(Math.abs(_e.x)<.01&&Math.abs(_e.y)<.01){clearInterval(tt);return}a(_e.x*30,_e.y*30),_e.x*=.8,_e.y*=.8},10))}env.supportsTouch?(i.event.bind(o,"touchstart",ot),i.event.bind(o,"touchmove",j),i.event.bind(o,"touchend",rt)):env.supportsIePointer&&(window.PointerEvent?(i.event.bind(o,"pointerdown",ot),i.event.bind(o,"pointermove",j),i.event.bind(o,"pointerup",rt)):window.MSPointerEvent&&(i.event.bind(o,"MSPointerDown",ot),i.event.bind(o,"MSPointerMove",j),i.event.bind(o,"MSPointerUp",rt)))}var defaultSettings=function i(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},handlers={"click-rail":clickRail,"drag-thumb":dragThumb,keyboard,wheel,touch},PerfectScrollbar=function i(o,s){var a=this;if(s===void 0&&(s={}),typeof o=="string"&&(o=document.querySelector(o)),!o||!o.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=o,o.classList.add(cls.main),this.settings=defaultSettings();for(var _ in s)this.settings[_]=s[_];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var $=function(){return o.classList.add(cls.state.focus)},_e=function(){return o.classList.remove(cls.state.focus)};this.isRtl=get(o).direction==="rtl",this.isRtl===!0&&o.classList.add(cls.rtl),this.isNegativeScroll=function(){var it=o.scrollLeft,ot=null;return o.scrollLeft=-1,ot=o.scrollLeft<0,o.scrollLeft=it,ot}(),this.negativeScrollAdjustment=this.isNegativeScroll?o.scrollWidth-o.clientWidth:0,this.event=new EventManager,this.ownerDocument=o.ownerDocument||document,this.scrollbarXRail=div(cls.element.rail("x")),o.appendChild(this.scrollbarXRail),this.scrollbarX=div(cls.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",$),this.event.bind(this.scrollbarX,"blur",_e),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var tt=get(this.scrollbarXRail);this.scrollbarXBottom=parseInt(tt.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=toInt(tt.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=toInt(tt.borderLeftWidth)+toInt(tt.borderRightWidth),set(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=toInt(tt.marginLeft)+toInt(tt.marginRight),set(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=div(cls.element.rail("y")),o.appendChild(this.scrollbarYRail),this.scrollbarY=div(cls.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",$),this.event.bind(this.scrollbarY,"blur",_e),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var nt=get(this.scrollbarYRail);this.scrollbarYRight=parseInt(nt.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=toInt(nt.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?outerWidth(this.scrollbarY):null,this.railBorderYWidth=toInt(nt.borderTopWidth)+toInt(nt.borderBottomWidth),set(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=toInt(nt.marginTop)+toInt(nt.marginBottom),set(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:o.scrollLeft<=0?"start":o.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:o.scrollTop<=0?"start":o.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(it){return handlers[it](a)}),this.lastScrollTop=Math.floor(o.scrollTop),this.lastScrollLeft=o.scrollLeft,this.event.bind(this.element,"scroll",function(it){return a.onScroll(it)}),updateGeometry(this)};PerfectScrollbar.prototype.update=function i(o){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,set(this.scrollbarXRail,{display:"block"}),set(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=toInt(get(this.scrollbarXRail).marginLeft)+toInt(get(this.scrollbarXRail).marginRight),this.railYMarginHeight=toInt(get(this.scrollbarYRail).marginTop)+toInt(get(this.scrollbarYRail).marginBottom),set(this.scrollbarXRail,{display:"none"}),set(this.scrollbarYRail,{display:"none"}),updateGeometry(this),processScrollDiff(this,"top",0,!1,!0,o),processScrollDiff(this,"left",0,!1,!0,o),set(this.scrollbarXRail,{display:""}),set(this.scrollbarYRail,{display:""}))};PerfectScrollbar.prototype.onScroll=function i(o){this.isAlive&&(updateGeometry(this),processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop),processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};PerfectScrollbar.prototype.destroy=function i(){this.isAlive&&(this.event.unbindAll(),remove(this.scrollbarX),remove(this.scrollbarY),remove(this.scrollbarXRail),remove(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};PerfectScrollbar.prototype.removePsClasses=function i(){this.element.className=this.element.className.split(" ").filter(function(o){return!o.match(/^ps([-_].+|)$/)}).join(" ")};function _typeof$c(i){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$c(i)}var _excluded$k=["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$m.apply(this,arguments)}function _objectWithoutProperties$k(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$k(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$k(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function _classCallCheck$3(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(i,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,_toPropertyKey$b(a.key),a)}}function _createClass$3(i,o,s){return o&&_defineProperties$3(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$b(i){var o=_toPrimitive$b(i,"string");return _typeof$c(o)=="symbol"?o:String(o)}function _toPrimitive$b(i,o){if(_typeof$c(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _callSuper$3(i,o,s){return o=_getPrototypeOf$3(o),_possibleConstructorReturn$3(i,_isNativeReflectConstruct$3()?Reflect.construct(o,s||[],_getPrototypeOf$3(i).constructor):o.apply(i,s))}function _possibleConstructorReturn$3(i,o){if(o&&(_typeof$c(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(i)}function _isNativeReflectConstruct$3(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!i})()}function _getPrototypeOf$3(i){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$3(i)}function _assertThisInitialized$3(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inherits$3(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$3(i,o)}function _setPrototypeOf$3(i,o){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,_){return a.__proto__=_,a},_setPrototypeOf$3(i,o)}var handlerNameByEvent={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(handlerNameByEvent);var ScrollBar=function(i){_inherits$3(o,i);function o(s){var a;return _classCallCheck$3(this,o),a=_callSuper$3(this,o,[s]),a.handleRef=a.handleRef.bind(_assertThisInitialized$3(a)),a._handlerByEvent={},a}return _createClass$3(o,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new PerfectScrollbar(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(a){this._updateEventHook(a),this.updateScroll(),a.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var a=this;Object.keys(this._handlerByEvent).forEach(function(_){var $=a._handlerByEvent[_];$&&a._container.removeEventListener(_,$,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var a=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(handlerNameByEvent).forEach(function($){var _e=a.props[handlerNameByEvent[$]],tt=_[handlerNameByEvent[$]];if(_e!==tt){if(tt){var nt=a._handlerByEvent[$];a._container.removeEventListener($,nt,!1),a._handlerByEvent[$]=null}if(_e){var it=function(){return _e(a._container)};a._container.addEventListener($,it,!1),a._handlerByEvent[$]=it}}})}},{key:"_updateClassName",value:function(){var a=this.props.className,_=this._container.className.split(" ").filter(function($){return $.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container".concat(a?" ".concat(a):"").concat(_?" ".concat(_):""))}},{key:"updateScroll",value:function(){var a=this.props.onSync;typeof a=="function"?a(this._ps):this._ps.update()}},{key:"handleRef",value:function(a){var _,$;this._container=a,(_=($=this.props).containerRef)===null||_===void 0||_.call($,a)}},{key:"render",value:function(){var a=this.props;a.className;var _=a.style;a.option,a.options,a.containerRef,a.onScrollY,a.onScrollX,a.onScrollUp,a.onScrollDown,a.onScrollLeft,a.onScrollRight,a.onYReachStart,a.onYReachEnd,a.onXReachStart,a.onXReachEnd;var $=a.component;a.onSync;var _e=a.children,tt=_objectWithoutProperties$k(a,_excluded$k),nt=typeof $>"u"?"div":$;return React.createElement(nt,_extends$m({style:_,ref:this.handleRef},tt),_e)}}]),o}(reactExports.Component);function _typeof$b(i){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$b(i)}var _excluded$j=["className","variant","children"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$l.apply(this,arguments)}function _defineProperty$a(i,o,s){return o=_toPropertyKey$a(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$a(i){var o=_toPrimitive$a(i,"string");return _typeof$b(o)=="symbol"?o:String(o)}function _toPrimitive$a(i,o){if(_typeof$b(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$b(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$j(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$j(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$j(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var Loader=function i(o){var s=o.className,a=s===void 0?void 0:s,_=o.variant,$=_===void 0?"default":_,_e=o.children,tt=_objectWithoutProperties$j(o,_excluded$j),nt="".concat(prefix,"-loader"),it=React.Children.count(_e)>0?"".concat(nt,"--content"):"";return React.createElement("div",_extends$l({},tt,{className:classNames(nt,it,_defineProperty$a({},"".concat(nt,"--variant-").concat($),$!=="default"),a),role:"status"}),_e)};function _typeof$a(i){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$a(i)}var _excluded$i=["className","children","blur","grayscale"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$k.apply(this,arguments)}function _defineProperty$9(i,o,s){return o=_toPropertyKey$9(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$9(i){var o=_toPrimitive$9(i,"string");return _typeof$a(o)=="symbol"?o:String(o)}function _toPrimitive$9(i,o){if(_typeof$a(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$a(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$i(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$i(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$i(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var Overlay=function i(o){var s=o.className,a=s===void 0?"":s,_=o.children,$=_===void 0?void 0:_,_e=o.blur,tt=_e===void 0?!1:_e,nt=o.grayscale,it=nt===void 0?!1:nt,ot=_objectWithoutProperties$i(o,_excluded$i),et="".concat(prefix,"-overlay"),j="".concat(et,"--blur"),rt="".concat(et,"--grayscale");return React.createElement("div",_extends$k({},ot,{className:classNames(et,_defineProperty$9({},j,tt),_defineProperty$9({},rt,it),a)}),React.createElement("div",{className:"".concat(et,"__content")},$))},_excluded$h=["sender","sentTime","children","className"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$j.apply(this,arguments)}function _objectWithoutProperties$h(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$h(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$h(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageHeader=function i(o){var s=o.sender,a=s===void 0?"":s,_=o.sentTime,$=_===void 0?"":_,_e=o.children,tt=_e===void 0?void 0:_e,nt=o.className,it=_objectWithoutProperties$h(o,_excluded$h),ot="".concat(prefix,"-message__header");return React.createElement("div",_extends$j({},it,{className:classNames(ot,nt)}),typeof tt<"u"?tt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},a),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},$)))};MessageHeader.displayName="Message.Header";var _excluded$g=["sender","sentTime","children","className"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$i.apply(this,arguments)}function _objectWithoutProperties$g(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$g(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$g(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageFooter=function i(o){var s=o.sender,a=s===void 0?"":s,_=o.sentTime,$=_===void 0?"":_,_e=o.children,tt=_e===void 0?void 0:_e,nt=o.className,it=_objectWithoutProperties$g(o,_excluded$g),ot="".concat(prefix,"-message__footer");return React.createElement("div",_extends$i({},it,{className:classNames(ot,nt)}),typeof tt<"u"?tt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},a),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},$)))};MessageFooter.displayName="Message.Footer";var MessageCustomContent=function i(o){var s=o.children,a=o.className,_="".concat(prefix,"-message__custom-content");return React.createElement("div",{className:classNames(_,a)},s)};MessageCustomContent.displayName="Message.CustomContent";var MessageImageContent=function i(o){var s=o.src,a=o.width,_=o.height,$=o.alt,_e=o.className,tt="".concat(prefix,"-message__image-content"),nt={width:typeof a=="number"?"".concat(a,"px"):typeof a=="string"?a:void 0,height:typeof _=="number"?"".concat(_,"px"):typeof _=="string"?_:void 0};return React.createElement("div",{className:classNames(tt,_e)},React.createElement("img",{src:s,style:nt,alt:$}))};MessageImageContent.displayName="Message.ImageContent";var MessageHtmlContent=function i(o){var s=o.html,a=o.className,_="".concat(prefix,"-message__html-content"),$=function(){return{__html:s}};return React.createElement("div",{className:classNames(_,a),dangerouslySetInnerHTML:$()})};MessageHtmlContent.displayName="Message.HtmlContent";var MessageTextContent=function i(o){var s=o.text,a=o.className,_=o.children,$="".concat(prefix,"-message__text-content"),_e=_??s;return React.createElement("div",{className:classNames($,a)},_e)};MessageTextContent.displayName="Message.TextContent";var _excluded$f=["model","avatarSpacer","avatarPosition","type","payload","children","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$h.apply(this,arguments)}function _defineProperty$8(i,o,s){return o=_toPropertyKey$8(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$8(i){var o=_toPrimitive$8(i,"string");return _typeof$9(o)=="symbol"?o:String(o)}function _toPrimitive$8(i,o){if(_typeof$9(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$9(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _typeof$9(i){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$9(i)}function _slicedToArray$5(i,o){return _arrayWithHoles$5(i)||_iterableToArrayLimit$5(i,o)||_unsupportedIterableToArray$5(i,o)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$5(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$5(i,o)}}function _arrayLikeToArray$5(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$5(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$5(i){if(Array.isArray(i))return i}function _objectWithoutProperties$f(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$f(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$f(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var Message=function i(o){var s,a,_=o.model,$=_.message,_e=$===void 0?"":$,tt=_.sentTime,nt=tt===void 0?"":tt,it=_.sender,ot=it===void 0?"":it,et=_.direction,j=et===void 0?1:et,rt=_.position,st=_.type,at=_.payload,lt=o.avatarSpacer,ct=lt===void 0?!1:lt,ut=o.avatarPosition,dt=ut===void 0?void 0:ut,ft=o.type,ht=ft===void 0?"html":ft,mt=o.payload,bt=o.children,yt=o.className,gt=_objectWithoutProperties$f(o,_excluded$f),vt="".concat(prefix,"-message"),wt=getChildren(bt,[Avatar,MessageHeader,MessageFooter,MessageHtmlContent,MessageTextContent,MessageImageContent,MessageCustomContent]),Ct=_slicedToArray$5(wt,7),Rt=Ct[0],It=Ct[1],Pt=Ct[2],St=Ct[3],Ot=Ct[4],At=Ct[5],$t=Ct[6],Ft=function(){if(j===0||j==="incoming")return"".concat(vt,"--incoming");if(j===1||j==="outgoing")return"".concat(vt,"--outgoing")}(),Ut=function(Jt){var cr="".concat(vt,"--avatar-");if(Jt===0||Jt==="top-left"||Jt==="tl")return"".concat(cr,"tl");if(Jt===1||Jt==="top-right"||Jt==="tr")return"".concat(cr,"tr");if(Jt===2||Jt==="bottom-right"||Jt==="br")return"".concat(cr,"br");if(Jt===3||Jt==="bottom-left"||Jt==="bl")return"".concat(cr,"bl");if(Jt===4||Jt==="center-left"||Jt==="cl")return"".concat(cr,"cl");if(Jt===5||Jt==="center-right"||Jt==="cr")return"".concat(cr,"cr")}(dt),Kt=function(Jt){var cr="".concat(prefix,"-message--");if(Jt==="single"||Jt===0)return"".concat(cr,"single");if(Jt==="first"||Jt===1)return"".concat(cr,"first");if(Jt==="normal"||Jt===2)return"";if(Jt==="last"||Jt===3)return"".concat(cr,"last")}(rt),ar=function(){return(ot==null?void 0:ot.length)>0&&(nt==null?void 0:nt.length)>0?"".concat(ot,": ").concat(nt):(ot==null?void 0:ot.length)>0&&(typeof nt>"u"||(nt==null?void 0:nt.length)===0)?ot:null}(),lr=(s=(a=St??Ot)!==null&&a!==void 0?a:At)!==null&&s!==void 0?s:$t,rr=lr??function(){var Jt=st??ht,cr=at??_e,Xt=cr??mt,Lt=_typeof$9(Xt)==="object"?getComponentName(Xt):"";if(Jt==="html"&&Lt!=="Message.CustomContent")return React.createElement(MessageHtmlContent,{html:Xt});if(Jt==="text")return React.createElement(MessageTextContent,{text:Xt});if(Jt==="image")return React.createElement(MessageImageContent,Xt);if(Jt==="custom"||Lt==="Message.CustomContent")return Xt}();return React.createElement("section",_extends$h({},gt,{"aria-label":ar,className:classNames(vt,Ft,_defineProperty$8({},"".concat(vt,"--avatar-spacer"),ct),Kt,Ut,yt)},_defineProperty$8({},"data-".concat(prefix,"-message"),"")),typeof Rt<"u"&&React.createElement("div",{className:"".concat(vt,"__avatar")},Rt),React.createElement("div",{className:"".concat(vt,"__content-wrapper")},It,React.createElement("div",{className:"".concat(vt,"__content")},rr),Pt))};Message.Header=MessageHeader;Message.HtmlContent=MessageHtmlContent;Message.TextContent=MessageTextContent;Message.ImageContent=MessageImageContent;Message.CustomContent=MessageCustomContent;Message.Footer=MessageFooter;var _excluded$e=["children","className"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$g.apply(this,arguments)}function _objectWithoutProperties$e(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$e(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$e(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageGroupHeader=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$e(o,_excluded$e),_e="".concat(prefix,"-message-group__header");return React.createElement("div",_extends$g({},$,{className:classNames(_e,_)}),a)};MessageGroupHeader.displayName="MessageGroup.Header";var _excluded$d=["children","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$f.apply(this,arguments)}function _objectWithoutProperties$d(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$d(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$d(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageGroupFooter=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$d(o,_excluded$d),_e="".concat(prefix,"-message-group__footer");return React.createElement("div",_extends$f({},$,{className:classNames(_e,_)}),a)};MessageGroupFooter.displayName="MessageGroup.Footer";var _excluded$c=["children","className"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$e.apply(this,arguments)}function _objectWithoutProperties$c(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$c(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$c(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageGroupMessages=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$c(o,_excluded$c),_e="".concat(prefix,"-message-group");return React.createElement("div",_extends$e({},$,{className:classNames("".concat(_e,"__messages"),_)}),a)};MessageGroupMessages.displayName="MessageGroup.Messages";function _typeof$8(i){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$8(i)}var _excluded$b=["direction","avatarPosition","sender","sentTime","children","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$d.apply(this,arguments)}function _defineProperty$7(i,o,s){return o=_toPropertyKey$7(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$7(i){var o=_toPrimitive$7(i,"string");return _typeof$8(o)=="symbol"?o:String(o)}function _toPrimitive$7(i,o){if(_typeof$8(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$8(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$4(i,o){return _arrayWithHoles$4(i)||_iterableToArrayLimit$4(i,o)||_unsupportedIterableToArray$4(i,o)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$4(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$4(i,o)}}function _arrayLikeToArray$4(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$4(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$4(i){if(Array.isArray(i))return i}function _objectWithoutProperties$b(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$b(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$b(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageGroup=function i(o){var s=o.direction,a=s===void 0?"incoming":s,_=o.avatarPosition,$=_===void 0?void 0:_,_e=o.sender,tt=_e===void 0?"":_e,nt=o.sentTime,it=nt===void 0?"":nt,ot=o.children,et=o.className,j=_objectWithoutProperties$b(o,_excluded$b),rt="".concat(prefix,"-message-group"),st=function(){if(a===0||a==="incoming")return"".concat(rt,"--incoming");if(a===1||a==="outgoing")return"".concat(rt,"--outgoing")}(),at=function(){var bt="".concat(rt,"--avatar-");if(typeof $=="string"&&($==="tl"||$==="top-left"||$==="tr"||$==="top-right"||$==="bl"||$==="bottom-right"||$==="br"||$==="bottom-right"||$==="cl"||$==="center-left"||$==="cr"||$==="center-right"))return"".concat(bt).concat($)}(),lt=getChildren(ot,[Avatar,MessageGroupHeader,MessageGroupFooter,MessageGroupMessages]),ct=_slicedToArray$4(lt,4),ut=ct[0],dt=ct[1],ft=ct[2],ht=ct[3],mt=function(){return tt.length>0&&it.length>0?"".concat(tt,": ").concat(it):tt.length>0&&it.length===0?tt:null}();return React.createElement("section",_extends$d({"aria-label":mt},j,{className:classNames(rt,st,at,et)},_defineProperty$7({},"data-".concat(prefix,"-message-group"),"")),typeof ut<"u"&&React.createElement("div",{className:"".concat(rt,"__avatar")},ut),React.createElement("div",{className:"".concat(rt,"__content")},dt,ht,ft))};MessageGroup.Header=MessageGroupHeader;MessageGroup.Footer=MessageGroupFooter;MessageGroup.Messages=MessageGroupMessages;var _excluded$a=["content","as","children","className"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$c.apply(this,arguments)}function _objectWithoutProperties$a(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$a(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$a(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageSeparator=function i(o){var s=o.content,a=s===void 0?void 0:s,_=o.as,$=_===void 0?"div":_,_e=o.children,tt=_e===void 0?void 0:_e,nt=o.className,it=_objectWithoutProperties$a(o,_excluded$a),ot="".concat(prefix,"-message-separator"),et=function(){return typeof $=="string"&&$.length>0?$:"div"}();return React.createElement(et,_extends$c({},it,{className:classNames(ot,nt)}),isChildrenNil(tt)===!0?a:tt)},_excluded$9=["className","children"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$b.apply(this,arguments)}function _objectWithoutProperties$9(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$9(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$9(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MessageListContent=function i(o){var s=o.className,a=o.children,_=_objectWithoutProperties$9(o,_excluded$9);return React.createElement("div",_extends$b({},_,{className:s}),a)};MessageListContent.displayName="MessageList.Content";var _excluded$8=["children","typingIndicator","loading","loadingMore","loadingMorePosition","onYReachStart","onYReachEnd","className","disableOnYReachWhenNoScroll","scrollBehavior","autoScrollToBottom","autoScrollToBottomOnMount"];function _typeof$7(i){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$7(i)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$a.apply(this,arguments)}function _slicedToArray$3(i,o){return _arrayWithHoles$3(i)||_iterableToArrayLimit$3(i,o)||_unsupportedIterableToArray$3(i,o)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$3(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$3(i,o)}}function _arrayLikeToArray$3(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$3(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$3(i){if(Array.isArray(i))return i}function _objectWithoutProperties$8(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$8(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$8(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function _classCallCheck$2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(i,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,_toPropertyKey$6(a.key),a)}}function _createClass$2(i,o,s){return o&&_defineProperties$2(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$2(i,o,s){return o=_getPrototypeOf$2(o),_possibleConstructorReturn$2(i,_isNativeReflectConstruct$2()?Reflect.construct(o,s||[],_getPrototypeOf$2(i).constructor):o.apply(i,s))}function _possibleConstructorReturn$2(i,o){if(o&&(_typeof$7(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(i)}function _isNativeReflectConstruct$2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!i})()}function _getPrototypeOf$2(i){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$2(i)}function _assertThisInitialized$2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inherits$2(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$2(i,o)}function _setPrototypeOf$2(i,o){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,_){return a.__proto__=_,a},_setPrototypeOf$2(i,o)}function _defineProperty$6(i,o,s){return o=_toPropertyKey$6(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$6(i){var o=_toPrimitive$6(i,"string");return _typeof$7(o)=="symbol"?o:String(o)}function _toPrimitive$6(i,o){if(_typeof$7(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$7(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var MessageListInner=function(i){_inherits$2(o,i);function o(s){var a;return _classCallCheck$2(this,o),a=_callSuper$2(this,o,[s]),_defineProperty$6(_assertThisInitialized$2(a),"handleResize",function(){a.containerRef.current.clientHeight<a.lastClientHeight&&a.scrollToEnd(a.props.scrollBehavior),a.scrollRef.current.updateScroll()}),_defineProperty$6(_assertThisInitialized$2(a),"handleContainerResize",function(){a.resizeTicking===!1&&(window.requestAnimationFrame(function(){var _=a.containerRef.current;if(_){var $=_.clientHeight,_e=$-a.lastClientHeight;_e>=1?a.preventScrollTop===!1&&(_.scrollTop=Math.round(_.scrollTop)-_e):_.scrollTop=_.scrollTop-_e,a.lastClientHeight=_.clientHeight,a.scrollRef.current.updateScroll()}a.resizeTicking=!1}),a.resizeTicking=!0)}),_defineProperty$6(_assertThisInitialized$2(a),"isSticked",function(){var _=a.containerRef.current;return _.scrollHeight===Math.round(_.scrollTop+_.clientHeight)}),_defineProperty$6(_assertThisInitialized$2(a),"handleScroll",function(){a.scrollTicking===!1&&(window.requestAnimationFrame(function(){a.noScroll===!1?a.preventScrollTop=a.isSticked():a.noScroll=!1,a.scrollTicking=!1}),a.scrollTicking=!0)}),_defineProperty$6(_assertThisInitialized$2(a),"getLastMessageOrGroup",function(){var _=a.containerRef.current.querySelector("[data-".concat(prefix,"-message-list]>[data-").concat(prefix,"-message]:last-of-type,[data-").concat(prefix,"-message-list]>[data-").concat(prefix,"-message-group]:last-of-type")),$=_==null?void 0:_.querySelector("[data-".concat(prefix,"-message]:last-of-type"));return{lastElement:_,lastMessageInGroup:$}}),a.scrollPointRef=React.createRef(),a.containerRef=React.createRef(),a.scrollRef=React.createRef(),a.lastClientHeight=0,a.preventScrollTop=!1,a.resizeObserver=void 0,a.scrollTicking=!1,a.resizeTicking=!1,a.noScroll=void 0,a}return _createClass$2(o,[{key:"getSnapshotBeforeUpdate",value:function(){var a=this.containerRef.current,_=Math.round(a.scrollTop+a.clientHeight),$=a.scrollHeight===_||a.scrollHeight+1===_||a.scrollHeight-1===_;return{sticky:$,clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,lastMessageOrGroup:this.getLastMessageOrGroup(),diff:a.scrollHeight-a.scrollTop}}},{key:"componentDidMount",value:function(){this.props.autoScrollToBottomOnMount===!0&&this.scrollToEnd(this.props.scrollBehavior),this.lastClientHeight=this.containerRef.current.clientHeight,window.addEventListener("resize",this.handleResize),typeof window.ResizeObserver=="function"&&(this.resizeObserver=new ResizeObserver(this.handleContainerResize),this.resizeObserver.observe(this.containerRef.current)),this.containerRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(a,_,$){var _e=this.props.autoScrollToBottom;if(typeof $<"u"){var tt=this.containerRef.current,nt=this.getLastMessageOrGroup(),it=nt.lastElement,ot=nt.lastMessageInGroup;if(it===$.lastMessageOrGroup.lastElement&&(typeof ot>"u"||ot===$.lastMessageOrGroup.lastMessageInGroup)&&(tt.scrollTop=tt.scrollHeight-$.diff+(this.lastClientHeight-tt.clientHeight)),$.sticky===!0)_e===!0&&this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0;else if($.clientHeight<this.lastClientHeight){var et=tt.scrollTop+this.lastClientHeight;tt.scrollHeight===et||tt.scrollHeight+1===et||tt.scrollHeight-1===et?_e===!0&&(this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0):this.preventScrollTop=!1}else this.preventScrollTop=!1,it===$.lastMessageOrGroup.lastElement&&(typeof ot>"u"||ot===$.lastMessageOrGroup.lastMessageInGroup)&&tt.scrollTop===0&&tt.scrollHeight>$.scrollHeight&&(tt.scrollTop=tt.scrollHeight-$.scrollHeight);this.lastClientHeight=$.clientHeight}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),typeof this.resizeObserver<"u"&&this.resizeObserver.disconnect(),this.containerRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToEnd",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollBehavior,_=this.containerRef.current,$=this.scrollPointRef.current,_e=_.getBoundingClientRect(),tt=$.getBoundingClientRect(),nt=tt.top+_.scrollTop-_e.top;_.scrollBy?_.scrollBy({top:nt,behavior:a}):_.scrollTop=nt,this.lastClientHeight=_.clientHeight,this.noScroll=!0}},{key:"render",value:function(){var a=this,_=this.props,$=_.children,_e=_.typingIndicator,tt=_.loading,nt=_.loadingMore,it=_.loadingMorePosition,ot=_.onYReachStart,et=_.onYReachEnd,j=_.className,rt=_.disableOnYReachWhenNoScroll;_.scrollBehavior,_.autoScrollToBottom,_.autoScrollToBottomOnMount;var st=_objectWithoutProperties$8(_,_excluded$8),at="".concat(prefix,"-message-list"),lt=getChildren($,[MessageListContent]),ct=_slicedToArray$3(lt,1),ut=ct[0];return React.createElement("div",_extends$a({},st,{className:classNames(at,j)}),nt&&React.createElement("div",{className:classNames("".concat(at,"__loading-more"),_defineProperty$6({},"".concat(at,"__loading-more--bottom"),it==="bottom"))},React.createElement(Loader,null)),tt&&React.createElement(Overlay,null,React.createElement(Loader,null)),React.createElement(ScrollBar,_extends$a({onYReachStart:ot,onYReachEnd:et,onSync:function(ft){return ft.update(rt)},className:"".concat(at,"__scroll-wrapper"),ref:this.scrollRef,containerRef:function(ft){return a.containerRef.current=ft},options:{suppressScrollX:!0}},_defineProperty$6({},"data-".concat(prefix,"-message-list"),""),{style:{overscrollBehaviorY:"none",overflowAnchor:"auto",touchAction:"none"}}),ut||$,React.createElement("div",{className:"".concat(at,"__scroll-to"),ref:this.scrollPointRef})),typeof _e<"u"&&React.createElement("div",{className:"".concat(at,"__typing-indicator-container")},_e))}}]),o}(React.Component);MessageListInner.displayName="MessageList";function MessageListFunc(i,o){var s=reactExports.useRef(),a=function($){return s.current.scrollToEnd($)};return reactExports.useImperativeHandle(o,function(){return{scrollToBottom:a}}),React.createElement(MessageListInner,_extends$a({ref:s},i))}var MessageList=reactExports.forwardRef(MessageListFunc);MessageList.propTypes={children:allowedChildren([Message,MessageGroup,MessageSeparator,MessageListContent]),typingIndicator:PropTypes.node,loading:PropTypes.bool,loadingMore:PropTypes.bool,loadingMorePosition:PropTypes.oneOf(["top","bottom"]),onYReachStart:PropTypes.func,onYReachEnd:PropTypes.func,disableOnYReachWhenNoScroll:PropTypes.bool,autoScrollToBottom:PropTypes.bool,autoScrollToBottomOnMount:PropTypes.bool,scrollBehavior:PropTypes.oneOf(["auto","smooth"]),className:PropTypes.string};MessageList.defaultProps={typingIndicator:void 0,loading:!1,loadingMore:!1,loadingMorePosition:"top",disableOnYReachWhenNoScroll:!1,autoScrollToBottom:!0,autoScrollToBottomOnMount:!0,scrollBehavior:"auto"};MessageListInner.defaultProps=MessageList.defaultProps;MessageList.Content=MessageListContent;function _typeof$6(i){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(i)}function _classCallCheck$1(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(i,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,_toPropertyKey$5(a.key),a)}}function _createClass$1(i,o,s){return o&&_defineProperties$1(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$1(i,o,s){return o=_getPrototypeOf$1(o),_possibleConstructorReturn$1(i,_isNativeReflectConstruct$1()?Reflect.construct(o,s||[],_getPrototypeOf$1(i).constructor):o.apply(i,s))}function _possibleConstructorReturn$1(i,o){if(o&&(_typeof$6(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(i)}function _isNativeReflectConstruct$1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!i})()}function _getPrototypeOf$1(i){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$1(i)}function _assertThisInitialized$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inherits$1(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$1(i,o)}function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,_){return a.__proto__=_,a},_setPrototypeOf$1(i,o)}function _defineProperty$5(i,o,s){return o=_toPropertyKey$5(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$5(i){var o=_toPrimitive$5(i,"string");return _typeof$6(o)=="symbol"?o:String(o)}function _toPrimitive$5(i,o){if(_typeof$6(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$6(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var replaceCaret=function i(o,s){var a=document.activeElement===o,_=document.createTextNode("");if(o.appendChild(_),_!==null&&_.nodeValue!==null&&(a||s)){var $=window.getSelection();if($!==null){var _e=document.createRange();_e.setStart(_,_.nodeValue.length),_e.collapse(!0),$.removeAllRanges(),$.addRange(_e)}}},ContentEditable=function(i){_inherits$1(o,i);function o(s){var a;return _classCallCheck$1(this,o),a=_callSuper$1(this,o,[s]),_defineProperty$5(_assertThisInitialized$1(a),"innerHTML",function(){var _=_assertThisInitialized$1(a),$=_.props.value;return{__html:typeof $<"u"?$:""}}),_defineProperty$5(_assertThisInitialized$1(a),"handleKeyPress",function(_){var $=_assertThisInitialized$1(a),_e=$.props.onKeyPress;_e==null||_e(_)}),_defineProperty$5(_assertThisInitialized$1(a),"handleInput",function(_){var $=_assertThisInitialized$1(a),_e=$.props.onChange,tt=_.target;_e==null||_e(tt.innerHTML,tt.textContent,tt.innerText)}),a.msgRef=React.createRef(),a}return _createClass$1(o,[{key:"focus",value:function(){typeof this.msgRef.current<"u"&&this.msgRef.current.focus()}},{key:"componentDidMount",value:function(){this.props.autoFocus===!0&&this.msgRef.current.focus()}},{key:"shouldComponentUpdate",value:function(a){var _=this.msgRef,$=this.props,_e=$.placeholder,tt=$.disabled,nt=$.activateAfterChange;return typeof _.current>"u"||a.value!==_.current.innerHTML?!0:_e!==a.placeholder||tt!==a.disabled||nt!==a.activateAfterChange}},{key:"componentDidUpdate",value:function(){var a=this.msgRef,_=this.props,$=_.value,_e=_.activateAfterChange;$!==a.current.innerHTML&&(a.current.innerHTML=typeof $=="string"?$:""),replaceCaret(a.current,_e)}},{key:"render",value:function(){var a=this.msgRef,_=this.handleInput,$=this.handleKeyPress,_e=this.innerHTML,tt=this.props,nt=tt.placeholder,it=tt.disabled,ot=tt.className,et=typeof nt=="string"?nt:"";return React.createElement("div",{ref:a,className:ot,contentEditable:it===!1,disabled:it,"data-placeholder":et,onInput:_,onKeyPress:$,dangerouslySetInnerHTML:_e()})}}]),o}(reactExports.Component);function _typeof$5(i){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(i)}var _excluded$7=["fancyScroll","children","forwardedRef"],_excluded2=["value","onSend","onChange","autoFocus","placeholder","fancyScroll","className","activateAfterChange","disabled","sendDisabled","sendOnReturnDisabled","attachDisabled","sendButton","attachButton","onAttachClick"];function _defineProperty$4(i,o,s){return o=_toPropertyKey$4(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _slicedToArray$2(i,o){return _arrayWithHoles$2(i)||_iterableToArrayLimit$2(i,o)||_unsupportedIterableToArray$2(i,o)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$2(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$2(i,o)}}function _arrayLikeToArray$2(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$2(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$2(i){if(Array.isArray(i))return i}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$9.apply(this,arguments)}function _objectWithoutProperties$7(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$7(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$7(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,_toPropertyKey$4(a.key),a)}}function _createClass(i,o,s){return o&&_defineProperties(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$4(i){var o=_toPrimitive$4(i,"string");return _typeof$5(o)=="symbol"?o:String(o)}function _toPrimitive$4(i,o){if(_typeof$5(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$5(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _callSuper(i,o,s){return o=_getPrototypeOf(o),_possibleConstructorReturn(i,_isNativeReflectConstruct()?Reflect.construct(o,s||[],_getPrototypeOf(i).constructor):o.apply(i,s))}function _possibleConstructorReturn(i,o){if(o&&(_typeof$5(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!i})()}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf(i,o)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,_){return a.__proto__=_,a},_setPrototypeOf(i,o)}function editorContainer(){var i=function(o){_inherits(s,o);function s(){return _classCallCheck(this,s),_callSuper(this,s,arguments)}return _createClass(s,[{key:"render",value:function(){var _=this.props,$=_.fancyScroll,_e=_.children,tt=_.forwardedRef,nt=_objectWithoutProperties$7(_,_excluded$7);return React.createElement(React.Fragment,null,$===!0&&React.createElement(ScrollBar,_extends$9({ref:function(ot){return tt.current=ot}},nt,{options:{suppressScrollX:!0}}),_e),$===!1&&React.createElement("div",_extends$9({ref:tt},nt),_e))}}]),s}(reactExports.Component);return React.forwardRef(function(o,s){return React.createElement(i,_extends$9({forwardedRef:s},o))})}var EditorContainer=editorContainer(),useControllableState=function i(o,s){var a=typeof o<"u"?o:s,_=reactExports.useState(a),$=_slicedToArray$2(_,2),_e=$[0],tt=$[1],nt=typeof o<"u"?o:_e;return[nt,function(it){tt(it)}]};function MessageInputInner(i,o){var s=i.value,a=s===void 0?void 0:s,_=i.onSend,$=_===void 0?noop$1:_,_e=i.onChange,tt=_e===void 0?noop$1:_e,nt=i.autoFocus,it=nt===void 0?!1:nt,ot=i.placeholder,et=ot===void 0?"":ot,j=i.fancyScroll,rt=j===void 0?!0:j,st=i.className,at=i.activateAfterChange,lt=at===void 0?!1:at,ct=i.disabled,ut=ct===void 0?!1:ct,dt=i.sendDisabled,ft=i.sendOnReturnDisabled,ht=ft===void 0?!1:ft,mt=i.attachDisabled,bt=mt===void 0?!1:mt,yt=i.sendButton,gt=yt===void 0?!0:yt,vt=i.attachButton,wt=vt===void 0?!0:vt,Ct=i.onAttachClick,Rt=Ct===void 0?noop$1:Ct,It=_objectWithoutProperties$7(i,_excluded2),Pt=reactExports.useRef(),St=reactExports.useRef(),Ot=useControllableState(a,""),At=_slicedToArray$2(Ot,2),$t=At[0],Ft=At[1],Ut=useControllableState(dt,!0),Kt=_slicedToArray$2(Ut,2),ar=Kt[0],lr=Kt[1],rr=function(){typeof St.current<"u"&&St.current.focus()};reactExports.useImperativeHandle(o,function(){return{focus:rr}}),reactExports.useEffect(function(){it===!0&&rr()},[]),reactExports.useEffect(function(){typeof Pt.current.updateScroll=="function"&&Pt.current.updateScroll()});var Jt=function(){var nr=St.current.msgRef.current;return[nr.textContent,nr.innerText,nr.cloneNode(!0).childNodes]},cr=function(){if($t.length>0){a===void 0&&Ft(""),typeof dt>"u"&&lr(!0);var nr=Jt();$($t,nr[0],nr[1],nr[2])}},Xt=function(nr){nr.key==="Enter"&&nr.shiftKey===!1&&ht===!1&&(nr.preventDefault(),cr())},Lt=function(nr,gr,$r){Ft(nr),typeof dt>"u"&&lr(gr.length===0),typeof Pt.current.updateScroll=="function"&&Pt.current.updateScroll();var Mr=Jt();tt(nr,gr,$r,Mr[2])},Zt="".concat(prefix,"-message-input"),ur=typeof et=="string"?et:"";return React.createElement("div",_extends$9({},It,{className:classNames(Zt,_defineProperty$4({},"".concat(Zt,"--disabled"),ut),st)}),wt===!0&&React.createElement("div",{className:"".concat(Zt,"__tools")},React.createElement(AttachmentButton,{onClick:Rt,disabled:ut===!0||bt===!0})),React.createElement("div",{className:"".concat(Zt,"__content-editor-wrapper")},React.createElement(EditorContainer,{fancyScroll:rt,ref:Pt,className:"".concat(Zt,"__content-editor-container")},React.createElement(ContentEditable,{ref:St,className:"".concat(Zt,"__content-editor"),disabled:ut,placeholder:ur,onKeyPress:Xt,onChange:Lt,activateAfterChange:lt,value:$t}))),gt===!0&&React.createElement("div",{className:"".concat(Zt,"__tools")},React.createElement(SendButton,{onClick:cr,disabled:ut===!0||ar===!0})))}var MessageInput$1=reactExports.forwardRef(MessageInputInner);MessageInput$1.displayName="MessageInput";MessageInput$1.propTypes={value:PropTypes.string,placeholder:PropTypes.string,disabled:PropTypes.bool,sendOnReturnDisabled:PropTypes.bool,sendDisabled:PropTypes.bool,fancyScroll:PropTypes.bool,activateAfterChange:PropTypes.bool,autoFocus:PropTypes.bool,onChange:PropTypes.func,onSend:PropTypes.func,className:PropTypes.string,sendButton:PropTypes.bool,attachButton:PropTypes.bool,attachDisabled:PropTypes.bool,onAttachClick:PropTypes.func};var _excluded$6=["className","children"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$8.apply(this,arguments)}function _objectWithoutProperties$6(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$6(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$6(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var InputToolbox=function i(o){var s=o.className,a=o.children,_=_objectWithoutProperties$6(o,_excluded$6),$="".concat(prefix,"-input-toolbox");return React.createElement("div",_extends$8({},_,{className:classNames($,s)}),a)};InputToolbox.displayName="InputToolbox";var _excluded$5=["children","className"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$7.apply(this,arguments)}function _slicedToArray$1(i,o){return _arrayWithHoles$1(i)||_iterableToArrayLimit$1(i,o)||_unsupportedIterableToArray$1(i,o)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$1(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$1(i,o)}}function _arrayLikeToArray$1(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit$1(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles$1(i){if(Array.isArray(i))return i}function _objectWithoutProperties$5(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$5(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$5(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ChatContainer=function i(o){var s=o.children,a=s===void 0?void 0:s,_=o.className,$=_objectWithoutProperties$5(o,_excluded$5),_e="".concat(prefix,"-chat-container"),tt=getChildren(a,[ConversationHeader,MessageList,MessageInput$1,InputToolbox]),nt=_slicedToArray$1(tt,4),it=nt[0],ot=nt[1],et=nt[2],j=nt[3];return React.createElement("div",_extends$7({},$,{className:classNames(_e,_)}),it,ot,et,j)},cName="".concat(prefix,"-conversation");function _typeof$4(i){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(i)}var _excluded$4=["children","className","visible"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$6.apply(this,arguments)}function _defineProperty$3(i,o,s){return o=_toPropertyKey$3(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$3(i){var o=_toPrimitive$3(i,"string");return _typeof$4(o)=="symbol"?o:String(o)}function _toPrimitive$3(i,o){if(_typeof$4(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$4(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$4(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$4(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$4(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var ConversationOperations=function i(o){var s=o.children,a=o.className,_=o.visible,$=_objectWithoutProperties$4(o,_excluded$4);return React.createElement("div",_extends$6({},$,{className:classNames("".concat(cName,"__operations"),_defineProperty$3({},"".concat(cName,"__operations--visible"),_),a)}),React.Children.count(s)>0?s:React.createElement(FontAwesomeIcon,{icon:faEllipsisV.faEllipsisV}))};ConversationOperations.displayName="Conversation.Operations";var _excluded$3=["lastSenderName","info","name","children","className"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$5.apply(this,arguments)}function _typeof$3(i){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(i)}function _objectWithoutProperties$3(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$3(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$3(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var LastSenderName=function i(o){var s=o.name;return React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__last-sender")},s),":")},InfoContent=function i(o){var s=o.info;return React.createElement("div",{className:"".concat(cName,"__info-content")},s)},ConversationContent=function i(o){var s=o.lastSenderName,a=o.info,_=o.name,$=o.children,_e=o.className,tt=_objectWithoutProperties$3(o,_excluded$3),nt=_typeof$3(s);return React.createElement("div",_extends$5({},tt,{className:classNames("".concat(cName,"__content"),_e)}),React.Children.count($)>0?$:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__name")},_),React.createElement("div",{className:"".concat(cName,"__info")},nt!=="undefined"?React.createElement(React.Fragment,null,nt==="string"?React.createElement(LastSenderName,{name:s}):s," "):null,typeof a<"u"&&React.createElement(InfoContent,{info:a}))))};ConversationContent.displayName="Conversation.Content";function _typeof$2(i){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}var _excluded$2=["responsive","children","className"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$4.apply(this,arguments)}function _defineProperty$2(i,o,s){return o=_toPropertyKey$2(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$2(i){var o=_toPrimitive$2(i,"string");return _typeof$2(o)=="symbol"?o:String(o)}function _toPrimitive$2(i,o){if(_typeof$2(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$2(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$2(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$2(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var MainContainer=function i(o){var s=o.responsive,a=s===void 0?!1:s,_=o.children,$=_===void 0?void 0:_,_e=o.className,tt=_objectWithoutProperties$2(o,_excluded$2),nt="".concat(prefix,"-main-container");return React.createElement("div",_extends$4({},tt,{className:classNames(nt,_defineProperty$2({},"".concat(nt,"--responsive"),a),_e)}),$)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var faSearch={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},faTimes={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]};function _typeof$1(i){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}var _excluded$1=["placeholder","value","onChange","onClearClick","className","disabled"];function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$3.apply(this,arguments)}function _defineProperty$1(i,o,s){return o=_toPropertyKey$1(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey$1(i){var o=_toPrimitive$1(i,"string");return _typeof$1(o)=="symbol"?o:String(o)}function _toPrimitive$1(i,o){if(_typeof$1(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof$1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(i,o)}}function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}function _iterableToArrayLimit(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,_,$,_e,tt=[],nt=!0,it=!1;try{if($=(s=s.call(i)).next,o!==0)for(;!(nt=(a=$.call(s)).done)&&(tt.push(a.value),tt.length!==o);nt=!0);}catch(ot){it=!0,_=ot}finally{try{if(!nt&&s.return!=null&&(_e=s.return(),Object(_e)!==_e))return}finally{if(it)throw _}}return tt}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _objectWithoutProperties$1(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose$1(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}var useControlledOrNot=function i(o,s){return typeof s>"u"?reactExports.useState(o):[s,function(){}]};function SearchInner(i,o){var s=i.placeholder,a=s===void 0?"":s,_=i.value,$=_===void 0?void 0:_,_e=i.onChange,tt=_e===void 0?function(){}:_e,nt=i.onClearClick,it=nt===void 0?function(){}:nt,ot=i.className,et=i.disabled,j=et===void 0?!1:et,rt=_objectWithoutProperties$1(i,_excluded$1),st="".concat(prefix,"-search"),at=reactExports.useMemo(function(){return typeof $<"u"},[]),lt=useControlledOrNot("",$),ct=_slicedToArray(lt,2),ut=ct[0],dt=ct[1],ft=reactExports.useState(at?ut.length>0:!1),ht=_slicedToArray(ft,2),mt=ht[0],bt=ht[1];if(at!==typeof $<"u")throw"Search: Changing from controlled to uncontrolled component and vice versa is not allowed";var yt=reactExports.useRef(void 0),gt=function(){typeof yt.current<"u"&&yt.current.focus()};reactExports.useImperativeHandle(o,function(){return{focus:gt}});var vt=function(Rt){var It=Rt.target.value;bt(It.length>0),at===!1&&dt(It),tt(It)},wt=function(){at===!1&&dt(""),bt(!1),it()};return React.createElement("div",_extends$3({},rt,{className:classNames(st,_defineProperty$1({},"".concat(st,"--disabled"),j),ot)}),React.createElement(FontAwesomeIcon,{icon:faSearch,className:"".concat(st,"__search-icon")}),React.createElement("input",{ref:yt,type:"text",className:"".concat(st,"__input"),placeholder:a,onChange:vt,disabled:j,value:ut}),React.createElement(FontAwesomeIcon,{icon:faTimes,className:classNames("".concat(st,"__clear-icon"),_defineProperty$1({},"".concat(st,"__clear-icon--active"),mt)),onClick:wt}))}var Search=reactExports.forwardRef(SearchInner);Search.displayName="Search";Search.propTypes={placeholder:PropTypes.string,value:PropTypes.string,onChange:PropTypes.func,onClearClick:PropTypes.func,className:PropTypes.string,disabled:PropTypes.bool};function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}var _excluded=["className","children","size","selected","onChange","itemsTabIndex"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$2.apply(this,arguments)}function _defineProperty(i,o,s){return o=_toPropertyKey(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _toPropertyKey(i){var o=_toPrimitive(i,"string");return _typeof(o)=="symbol"?o:String(o)}function _toPrimitive(i,o){if(_typeof(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,o);if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,o),a,_;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(i);for(_=0;_<$.length;_++)a=$[_],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var s={},a=Object.keys(i),_,$;for($=0;$<a.length;$++)_=a[$],!(o.indexOf(_)>=0)&&(s[_]=i[_]);return s}function StatusListInner(i,o){var s=i.className,a=i.children,_=i.size,$=i.selected,_e=i.onChange,tt=_e===void 0?noop$1:_e,nt=i.itemsTabIndex,it=_objectWithoutProperties(i,_excluded),ot="".concat(prefix,"-status-list"),et=reactExports.useRef();reactExports.useImperativeHandle(o,function(){return{focus:function(st){var at=Array.from(et.current.querySelectorAll("li")),lt=at.filter(function(ct){return ct.parentNode===et.current});typeof lt[st]<"u"&&lt[st].focus()}}});var j=nt;return React.createElement("ul",_extends$2({ref:et},it,{className:classNames(ot,s,_defineProperty({},"".concat(ot,"--").concat(_),_))}),React.Children.map(a,function(rt){var st={};$&&(st.selected=rt.props.status===$),tt&&(st.onClick=function(ct){tt(rt.props.status),rt.onClick&&rt.onClick(ct)});var at=function(ut){tt&&ut.key==="Enter"&&ut.shiftKey===!1&&ut.altKey===!1&&tt(rt.props.status)},lt=function(){if(typeof j=="number")return j>0?j++:j}();return React.createElement("li",{tabIndex:lt,onKeyPress:at},React.cloneElement(rt,st))}))}var StatusList=reactExports.forwardRef(StatusListInner);StatusList.displayName="StatusList";StatusList.propTypes={children:allowedChildren([Status]),selected:PropTypes.oneOf(StatusEnum),size:PropTypes.oneOf(SizeEnum),itemsTabIndex:PropTypes.number,className:PropTypes.string,onChange:PropTypes.func};function ChatHistoryPanel(){const{t:i}=useTranslation(),{messages:o}=useChatHistory(),{confName:s}=useConfig(),{baseUrl:a}=useWebSocket(),_="Me",$=o.filter(_e=>_e.content||_e.type==="tool_call_status"&&_e.status==="running"||_e.type==="tool_call_status"&&_e.status==="completed"||_e.type==="tool_call_status"&&_e.status==="error");return jsxRuntimeExports.jsxs(Box,{h:"full",overflow:"hidden",bg:"gray.900",children:[jsxRuntimeExports.jsx(Global,{styles:chatPanelStyles}),jsxRuntimeExports.jsx(MainContainer,{children:jsxRuntimeExports.jsx(ChatContainer,{children:jsxRuntimeExports.jsx(MessageList,{children:$.length===0?jsxRuntimeExports.jsx(Box,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"whiteAlpha.500",fontSize:"sm",children:i("sidebar.noMessages")}):$.map(_e=>{if(_e.type==="tool_call_status")return jsxRuntimeExports.jsxs(Flex,{...sidebarStyles.toolCallIndicator.container,alignItems:"center",children:[jsxRuntimeExports.jsx(Icon,{as:FaTools,...sidebarStyles.toolCallIndicator.icon}),jsxRuntimeExports.jsx(Text,{...sidebarStyles.toolCallIndicator.text,children:_e.status==="running"?`${_e.name} is using tool ${_e.tool_name}`:`${_e.name} used tool ${_e.tool_name}`}),_e.status==="running"&&jsxRuntimeExports.jsx(Spinner,{size:"xs",color:sidebarStyles.toolCallIndicator.spinner.color,ml:sidebarStyles.toolCallIndicator.spinner.ml}),_e.status==="completed"&&jsxRuntimeExports.jsx(Icon,{as:FaCheck,...sidebarStyles.toolCallIndicator.completedIcon}),_e.status==="error"&&jsxRuntimeExports.jsx(Icon,{as:FaTimes,...sidebarStyles.toolCallIndicator.errorIcon})]},_e.id);const tt=_e.role==="ai",nt=_e.role==="human"&&_e.source==="twitch",it=tt?_e.name||s||"AI":nt?_e.name||"Twitch":_,ot=tt||nt?"incoming":"outgoing";return jsxRuntimeExports.jsx(Message,{model:{message:_e.content,sentTime:_e.timestamp,sender:it,direction:ot,position:"single"},avatarPosition:ot==="incoming"?"tl":"tr",avatarSpacer:!1,children:jsxRuntimeExports.jsx(Avatar,{children:ot==="incoming"?tt?_e.avatar?jsxRuntimeExports.jsx("img",{src:`${a}/avatars/${_e.avatar}`,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"50%"},onError:et=>{const j=et.target,rt=_e.name||s||"A";j.outerHTML=`<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 50%; background-color: var(--chakra-colors-blue-500); color: white; font-size: 14px;">${rt[0].toUpperCase()}</div>`}}):_e.name&&_e.name[0].toUpperCase()||s&&s[0].toUpperCase()||"A":it&&it[0].toUpperCase()||"T":_[0].toUpperCase()})},_e.id)})})})})]})}const useCameraPanel=()=>{const i=reactExports.useRef(null),[o,s]=reactExports.useState(""),[a,_]=reactExports.useState(!1),{isStreaming:$,stream:_e,startCamera:tt,stopCamera:nt}=useCamera();return{videoRef:i,error:o,isHovering:a,isStreaming:$,stream:_e,toggleCamera:async()=>{try{$?(await logAction("ui.click","camera.stop"),nt()):(await logAction("ui.click","camera.start"),await tt()),s("")}catch(j){let rt="Unable to access camera";j instanceof Error&&(rt=j.message),s(rt),logError("camera.toggle.failed",{error:rt})}},handleMouseEnter:()=>_(!0),handleMouseLeave:()=>_(!1)}};function LiveIndicator(){const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Box,{color:"red.500",display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Box,{w:"8px",h:"8px",borderRadius:"full",bg:"red.500",animation:"pulse 2s infinite"}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",children:i("sidebar.live")})]})}function CameraPlaceholder(){const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiCamera,{size:24}),jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.600",fontSize:"sm",textAlign:"center",children:i("footer.cameraControl")})]})}function VideoStream$1({videoRef:i,isStreaming:o}){return jsxRuntimeExports.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:sidebarStyles.cameraPanel.video,...o?{}:{display:"none"}})}function CameraPanel(){const{t:i}=useTranslation(),{videoRef:o,error:s,isHovering:a,isStreaming:_,stream:$,toggleCamera:_e,handleMouseEnter:tt,handleMouseLeave:nt}=useCameraPanel();return reactExports.useEffect(()=>{o.current&&(o.current.srcObject=$)},[$]),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.cameraPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.cameraPanel.header,children:_&&jsxRuntimeExports.jsx(LiveIndicator,{})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:i(_?"footer.cameraStopping":"footer.cameraControl"),open:a&&!s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.cameraPanel.videoContainer,onClick:_e,onMouseEnter:tt,onMouseLeave:nt,cursor:"pointer",position:"relative",_hover:{bg:"whiteAlpha.100"},children:s?jsxRuntimeExports.jsx(Text,{color:"red.300",fontSize:"sm",textAlign:"center",children:s}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VideoStream$1,{videoRef:o,isStreaming:_}),!_&&jsxRuntimeExports.jsx(CameraPlaceholder,{})]})})})]})}function useCaptureScreen(){const i=reactExports.useRef(null),[o,s]=reactExports.useState(!1),{stream:a,isStreaming:_,error:$,startCapture:_e,stopCapture:tt}=useScreenCaptureContext(),nt=async()=>{try{_?(await logAction("ui.click","screen.stop"),tt()):(await logAction("ui.click","screen.start"),_e())}catch(et){logError("screen.toggle.failed",{error:String(et)})}},it=()=>s(!0),ot=()=>s(!1);return reactExports.useEffect(()=>{i.current&&(i.current.srcObject=a)},[a]),{videoRef:i,error:$,isHovering:o,isStreaming:_,stream:a,toggleCapture:nt,handleMouseEnter:it,handleMouseLeave:ot}}function ScreenIndicator(){const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Box,{color:"red.500",display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Box,{w:"8px",h:"8px",borderRadius:"full",bg:"red.500",animation:"pulse 2s infinite"}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",children:i("sidebar.screen")})]})}function ScreenPlaceholder(){const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiMonitor,{size:24}),jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.600",fontSize:"sm",textAlign:"center",children:i("footer.screenControl")})]})}function VideoStream({videoRef:i,isStreaming:o}){return jsxRuntimeExports.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:sidebarStyles.screenPanel.video,...o?{}:{display:"none"}})}function ScreenPanel(){const{t:i}=useTranslation(),{videoRef:o,error:s,isHovering:a,isStreaming:_,toggleCapture:$,handleMouseEnter:_e,handleMouseLeave:tt}=useCaptureScreen();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.screenPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.screenPanel.header,children:_&&jsxRuntimeExports.jsx(ScreenIndicator,{})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:i(_?"footer.screenStopping":"footer.screenControl"),open:a&&!s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.screenPanel.screenContainer,onClick:$,onMouseEnter:_e,onMouseLeave:tt,cursor:"pointer",position:"relative",_hover:{bg:"whiteAlpha.100"},children:s?jsxRuntimeExports.jsx(Text,{color:"red.300",fontSize:"sm",textAlign:"center",children:s}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VideoStream,{videoRef:o,isStreaming:_}),!_&&jsxRuntimeExports.jsx(ScreenPlaceholder,{})]})})})]})}const BrowserContext=reactExports.createContext({browserViewData:null,setBrowserViewData:()=>{},clearBrowserViewData:()=>{}});function BrowserProvider({children:i}){const[o,s]=reactExports.useState(null),a=reactExports.useCallback($=>{s($)},[]),_=reactExports.useCallback(()=>{s(null)},[]);return jsxRuntimeExports.jsx(BrowserContext.Provider,{value:{browserViewData:o,setBrowserViewData:a,clearBrowserViewData:_},children:i})}function useBrowser(){const i=reactExports.useContext(BrowserContext);if(!i)throw new Error("useBrowser must be used within a BrowserProvider");return i}function BrowserPlaceholder(){const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiGlobe,{size:24}),jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.600",fontSize:"sm",textAlign:"center",children:i("sidebar.noBrowserSession")})]})}function BrowserPanel(){const{t:i}=useTranslation(),{browserViewData:o}=useBrowser(),[s,a]=reactExports.useState(!1),_=()=>a(!0),$=()=>a(!1);return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.browserPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.browserPanel.header,children:o&&jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"blue.300",children:i("sidebar.browserSession")})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:o?"Interactive browser view":i("sidebar.noBrowserSession"),open:s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.browserPanel.browserContainer,onMouseEnter:_,onMouseLeave:$,position:"relative",children:o?jsxRuntimeExports.jsx("iframe",{src:o.debuggerFullscreenUrl,style:sidebarStyles.browserPanel.iframe,sandbox:"allow-same-origin allow-scripts",allow:"clipboard-read; clipboard-write"}):jsxRuntimeExports.jsx(BrowserPlaceholder,{})})})]})}const TwitchContext=reactExports.createContext(null);function TwitchProvider({children:i}){const[o,s]=reactExports.useState({}),[a,_]=reactExports.useState([]),$=reactExports.useCallback(it=>s(it),[]),_e=reactExports.useCallback(it=>{_(ot=>{const et=ot[ot.length-1];return et&&et.user===it.user&&et.text===it.text&&(et.timestamp||"")===(it.timestamp||"")?ot:[...ot,it].slice(-100)})},[]),tt=reactExports.useCallback(()=>_([]),[]);reactExports.useEffect(()=>{const it=wsService.onMessage(ot=>{!ot||typeof ot!="object"||!ot.type||(ot.type==="twitch-status"?$({enabled:!!ot.enabled,connected:!!ot.connected,channel:ot.channel||""}):ot.type==="twitch-message"&&ot.user&&ot.text&&_e({user:String(ot.user),text:String(ot.text),timestamp:String(ot.timestamp||"")}))});return()=>{try{it.unsubscribe()}catch{}}},[$,_e]);const nt=reactExports.useMemo(()=>({status:o,messages:a,setStatus:$,pushMessage:_e,clear:tt}),[o,a,$,_e,tt]);return jsxRuntimeExports.jsx(TwitchContext.Provider,{value:nt,children:i})}function useTwitch(){const i=reactExports.useContext(TwitchContext);if(!i)throw new Error("useTwitch must be used within TwitchProvider");return i}function StreamPanel(){const{status:i,messages:o}=useTwitch(),s=reactExports.useRef(null);return reactExports.useEffect(()=>{const a=s.current;a&&(a.scrollTop=a.scrollHeight)},[o.length]),reactExports.useEffect(()=>{try{wsService.sendMessage({type:"twitch-fetch"})}catch{}},[]),jsxRuntimeExports.jsxs(VStack,{align:"start",gap:3,maxH:{base:"60vh",md:"75vh"},overflowY:"auto",w:"100%",children:[jsxRuntimeExports.jsxs(HStack,{gap:3,align:"center",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",children:"Twitch"}),jsxRuntimeExports.jsx(Badge,{colorPalette:i.connected?"green":"yellow",children:i.connected?"Connected":"Disconnected"}),i.channel&&jsxRuntimeExports.jsxs(Badge,{colorPalette:"blue",children:["#",i.channel]})]}),jsxRuntimeExports.jsxs(Box,{ref:s,w:"100%",fontSize:"sm",color:"whiteAlpha.800",overflowY:"auto",children:[o.map((a,_)=>{var $;return jsxRuntimeExports.jsxs(Box,{mb:2,children:[jsxRuntimeExports.jsxs(Text,{as:"span",color:"whiteAlpha.600",children:["[",(($=a.timestamp)==null?void 0:$.slice(11,19))||"","]"]})," ",jsxRuntimeExports.jsxs(Text,{as:"span",fontWeight:"semibold",children:[a.user,":"]})," ",jsxRuntimeExports.jsx(Text,{as:"span",children:a.text})]},`${_}-${a.timestamp||""}`)}),o.length===0&&jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.500",children:i.connected?"No messages yet":"Waiting for connection..."})]})]})}function BottomTab(){const{t:i}=useTranslation(),[o,s]=reactExports.useState(520),a=reactExports.useRef(!1),_=reactExports.useRef(0),$=reactExports.useRef(0),_e=reactExports.useCallback(it=>{if(!a.current)return;const ot=it.clientY-_.current,et=Math.min(Math.max($.current-ot,220),Math.floor(window.innerHeight*.85));s(et),it.preventDefault()},[]),tt=reactExports.useCallback(()=>{a.current&&(a.current=!1,document.body.style.cursor="",document.body.style.userSelect="")},[]),nt=reactExports.useCallback(it=>{a.current=!0,_.current=it.clientY,$.current=o,document.body.style.cursor="ns-resize",document.body.style.userSelect="none"},[o]);return reactExports.useEffect(()=>(window.addEventListener("mousemove",_e),window.addEventListener("mouseup",tt),()=>{window.removeEventListener("mousemove",_e),window.removeEventListener("mouseup",tt)}),[_e,tt]),jsxRuntimeExports.jsxs(Box,{position:"relative",height:`${o}px`,width:"97%",px:4,pt:3,zIndex:0,colorPalette:"gray",maxH:"calc(100vh - 240px)",overflowY:"auto",children:[jsxRuntimeExports.jsx(Box,{position:"absolute",top:0,left:0,right:0,h:"10px",cursor:"ns-resize",onMouseDown:nt,_before:{content:'""',position:"absolute",left:"40px",right:"40px",top:"1px",height:"6px",borderRadius:"full",bg:"whiteAlpha.300",_hover:{bg:"whiteAlpha.500"}}}),jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"camera",variant:"plain",style:{height:"100%",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs(TabsList,{...sidebarStyles.bottomTab.list,children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"camera",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiCamera,{}),i("sidebar.camera")]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"screen",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiMonitor,{}),i("sidebar.screen")]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"browser",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiGlobe,{}),i("sidebar.browser")]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"stream",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiCast,{}),i("sidebar.stream")||"Stream"]})]}),jsxRuntimeExports.jsxs(Box,{flex:"1 1 auto",overflow:"auto",children:[jsxRuntimeExports.jsx(TabsContent,{value:"camera",children:jsxRuntimeExports.jsx(CameraPanel,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"screen",children:jsxRuntimeExports.jsx(ScreenPanel,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"browser",children:jsxRuntimeExports.jsx(BrowserPanel,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"stream",children:jsxRuntimeExports.jsx(StreamPanel,{})})]})]})]})}const minutesInMonth=43200,minutesInDay=1440,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(i,o){return typeof i=="function"?i(o):i&&typeof i=="object"&&constructFromSymbol in i?i[constructFromSymbol](o):i instanceof Date?new i.constructor(o):new Date(o)}function toDate(i,o){return constructFrom(i,i)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(i){const o=toDate(i),s=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return s.setUTCFullYear(o.getFullYear()),+i-+s}function normalizeDates(i,...o){const s=constructFrom.bind(null,i||o.find(a=>typeof a=="object"));return o.map(s)}function compareAsc(i,o){const s=+toDate(i)-+toDate(o);return s<0?-1:s>0?1:s}function constructNow(i){return constructFrom(i,Date.now())}function differenceInCalendarMonths(i,o,s){const[a,_]=normalizeDates(s==null?void 0:s.in,i,o),$=a.getFullYear()-_.getFullYear(),_e=a.getMonth()-_.getMonth();return $*12+_e}function getRoundingMethod(i){return o=>{const a=(i?Math[i]:Math.trunc)(o);return a===0?0:a}}function differenceInMilliseconds(i,o){return+toDate(i)-+toDate(o)}function endOfDay(i,o){const s=toDate(i);return s.setHours(23,59,59,999),s}function endOfMonth(i,o){const s=toDate(i),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function isLastDayOfMonth(i,o){const s=toDate(i);return+endOfDay(s)==+endOfMonth(s)}function differenceInMonths(i,o,s){const[a,_,$]=normalizeDates(s==null?void 0:s.in,i,i,o),_e=compareAsc(_,$),tt=Math.abs(differenceInCalendarMonths(_,$));if(tt<1)return 0;_.getMonth()===1&&_.getDate()>27&&_.setDate(30),_.setMonth(_.getMonth()-_e*tt);let nt=compareAsc(_,$)===-_e;isLastDayOfMonth(a)&&tt===1&&compareAsc(a,$)===1&&(nt=!1);const it=_e*(tt-+nt);return it===0?0:it}function differenceInSeconds(i,o,s){const a=differenceInMilliseconds(i,o)/1e3;return getRoundingMethod(s==null?void 0:s.roundingMethod)(a)}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(i,o,s)=>{let a;const _=formatDistanceLocale[i];return typeof _=="string"?a=_:o===1?a=_.one:a=_.other.replace("{{count}}",o.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function buildFormatLongFn(i){return(o={})=>{const s=o.width?String(o.width):i.defaultWidth;return i.formats[s]||i.formats[i.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(i,o,s,a)=>formatRelativeLocale[i];function buildLocalizeFn(i){return(o,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let _;if(a==="formatting"&&i.formattingValues){const _e=i.defaultFormattingWidth||i.defaultWidth,tt=s!=null&&s.width?String(s.width):_e;_=i.formattingValues[tt]||i.formattingValues[_e]}else{const _e=i.defaultWidth,tt=s!=null&&s.width?String(s.width):i.defaultWidth;_=i.values[tt]||i.values[_e]}const $=i.argumentCallback?i.argumentCallback(o):o;return _[$]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(i,o)=>{const s=Number(i),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:i=>i-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(i){return(o,s={})=>{const a=s.width,_=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],$=o.match(_);if(!$)return null;const _e=$[0],tt=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],nt=Array.isArray(tt)?findIndex(tt,et=>et.test(_e)):findKey(tt,et=>et.test(_e));let it;it=i.valueCallback?i.valueCallback(nt):nt,it=s.valueCallback?s.valueCallback(it):it;const ot=o.slice(_e.length);return{value:it,rest:ot}}}function findKey(i,o){for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&o(i[s]))return s}function findIndex(i,o){for(let s=0;s<i.length;s++)if(o(i[s]))return s}function buildMatchPatternFn(i){return(o,s={})=>{const a=o.match(i.matchPattern);if(!a)return null;const _=a[0],$=o.match(i.parsePattern);if(!$)return null;let _e=i.valueCallback?i.valueCallback($[0]):$[0];_e=s.valueCallback?s.valueCallback(_e):_e;const tt=o.slice(_.length);return{value:_e,rest:tt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:i=>parseInt(i,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:i=>i+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function formatDistance(i,o,s){const a=getDefaultOptions(),_=(s==null?void 0:s.locale)??a.locale??enUS,$=2520,_e=compareAsc(i,o);if(isNaN(_e))throw new RangeError("Invalid time value");const tt=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:_e}),[nt,it]=normalizeDates(s==null?void 0:s.in,..._e>0?[o,i]:[i,o]),ot=differenceInSeconds(it,nt),et=(getTimezoneOffsetInMilliseconds(it)-getTimezoneOffsetInMilliseconds(nt))/1e3,j=Math.round((ot-et)/60);let rt;if(j<2)return s!=null&&s.includeSeconds?ot<5?_.formatDistance("lessThanXSeconds",5,tt):ot<10?_.formatDistance("lessThanXSeconds",10,tt):ot<20?_.formatDistance("lessThanXSeconds",20,tt):ot<40?_.formatDistance("halfAMinute",0,tt):ot<60?_.formatDistance("lessThanXMinutes",1,tt):_.formatDistance("xMinutes",1,tt):j===0?_.formatDistance("lessThanXMinutes",1,tt):_.formatDistance("xMinutes",j,tt);if(j<45)return _.formatDistance("xMinutes",j,tt);if(j<90)return _.formatDistance("aboutXHours",1,tt);if(j<minutesInDay){const st=Math.round(j/60);return _.formatDistance("aboutXHours",st,tt)}else{if(j<$)return _.formatDistance("xDays",1,tt);if(j<minutesInMonth){const st=Math.round(j/minutesInDay);return _.formatDistance("xDays",st,tt)}else if(j<minutesInMonth*2)return rt=Math.round(j/minutesInMonth),_.formatDistance("aboutXMonths",rt,tt)}if(rt=differenceInMonths(it,nt),rt<12){const st=Math.round(j/minutesInMonth);return _.formatDistance("xMonths",st,tt)}else{const st=rt%12,at=Math.trunc(rt/12);return st<3?_.formatDistance("aboutXYears",at,tt):st<9?_.formatDistance("overXYears",at,tt):_.formatDistance("almostXYears",at+1,tt)}}function formatDistanceToNow(i,o){return formatDistance(i,constructNow(i),o)}const DrawerContent=reactExports.forwardRef((i,o)=>{const{children:s,portalled:a=!0,portalRef:_,offset:$,..._e}=i;return jsxRuntimeExports.jsx(Portal,{disabled:!a,container:_,children:jsxRuntimeExports.jsx(DrawerPositioner,{padding:$,children:jsxRuntimeExports.jsx(DrawerContent$1,{ref:o,..._e,asChild:!1,children:s})})})}),DrawerCloseTrigger=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{position:"absolute",top:"2",insetEnd:"2",...i,asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",ref:o})})),DrawerTrigger=DrawerTrigger$1,DrawerRoot=DrawerRoot$1,DrawerFooter=DrawerFooter$1,DrawerHeader=DrawerHeader$1,DrawerBody=DrawerBody$1,DrawerBackdrop=DrawerBackdrop$1,DrawerTitle=DrawerTitle$1,DrawerActionTrigger=DrawerActionTrigger$1,useHistoryDrawer=()=>{const{t:i}=useTranslation(),[o,s]=reactExports.useState(!1),{historyList:a,currentHistoryUid:_,setCurrentHistoryUid:$,setHistoryList:_e,messages:tt,updateHistoryList:nt}=useChatHistory(),{sendMessage:it}=useWebSocket();return{open:o,setOpen:s,historyList:a,currentHistoryUid:_,fetchAndSetHistory:rt=>{if(!(!rt||rt===_)){if(_&&tt.length>0){const st=tt[tt.length-1];nt(_,st)}$(rt),it({type:"fetch-and-set-history",history_uid:rt})}},deleteHistory:rt=>{if(rt===_){toaster.create({title:i("error.cannotDeleteCurrentHistory"),type:"warning",duration:2e3});return}it({type:"delete-history",history_uid:rt}),_e(a.filter(st=>st.uid!==rt))},getLatestMessageContent:rt=>{var st;if(rt.uid===_&&tt.length>0){const at=tt[tt.length-1];return{content:at.content,timestamp:at.timestamp}}return{content:((st=rt.latest_message)==null?void 0:st.content)||"",timestamp:rt.timestamp}}}},HistoryItem=reactExports.memo(({isSelected:i,latestMessage:o,onSelect:s,onDelete:a,isDeleteDisabled:_})=>{const{t:$}=useTranslation();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyItem,...i?sidebarStyles.historyDrawer.historyItemSelected:{},onClick:s,children:[jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyHeader,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.timestamp,children:o.timestamp?formatDistanceToNow(new Date(o.timestamp),{addSuffix:!0}):$("history.noMessages")}),jsxRuntimeExports.jsx(Button$2,{onClick:a,disabled:_,...sidebarStyles.historyDrawer.deleteButton,children:jsxRuntimeExports.jsx(FiTrash2,{})})]}),o.content&&jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.messagePreview,children:o.content})]})});HistoryItem.displayName="HistoryItem";function HistoryDrawer({children:i}){const{t:o}=useTranslation(),{open:s,setOpen:a,historyList:_,currentHistoryUid:$,fetchAndSetHistory:_e,deleteHistory:tt,getLatestMessageContent:nt}=useHistoryDrawer();return jsxRuntimeExports.jsxs(DrawerRoot,{open:s,onOpenChange:it=>a(it.open),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:i}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:o("history.chatHistoryList")}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsx(DrawerBody,{children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.listContainer,children:_.map(it=>jsxRuntimeExports.jsx(HistoryItem,{isSelected:$===it.uid,latestMessage:nt(it),onSelect:()=>_e(it.uid),onDelete:ot=>{ot.stopPropagation(),tt(it.uid)},isDeleteDisabled:$===it.uid},it.uid))})}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$2,{...sidebarStyles.historyDrawer.drawer.actionButton,children:o("common.close")})})})]})]})}async function searchMemoryWithKinds(i,o,s,a=10,_,$,_e){const tt=new URL("/admin/memory/search",i);tt.searchParams.set("q",o),tt.searchParams.set("top_k",String(Math.min(Math.max(1,a||10),50))),_&&tt.searchParams.set("conf_uid",_),s.forEach(ot=>tt.searchParams.append("kinds",ot)),typeof $=="number"&&tt.searchParams.set("min_importance",String($));const nt=await fetch(tt.toString(),{method:"GET",credentials:_e!=null&&_e.withCredentials?"include":"omit"});if(!nt.ok)throw new Error(`searchMemoryWithKinds failed: ${nt.status}`);const it=await nt.json();return(it==null?void 0:it.items)??[]}async function updateRelationshipV2(i,o,s=0,a=0,_,$){const _e=await fetch(new URL("/admin/relationship/update",i).toString(),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:o,affinity_delta:s,trust_delta:a,username:_,realname:$})});if(!_e.ok)throw new Error(`updateRelationshipV2 failed: ${_e.status}`);return await _e.json()}async function exportMemory(i,o="json",s,a){const _=new URL("/admin/memory/export",i);_.searchParams.set("fmt",o),s!=null&&s.conf_uid&&_.searchParams.set("conf_uid",s.conf_uid),s!=null&&s.kind&&_.searchParams.set("kind",s.kind),_.searchParams.set("limit",String((s==null?void 0:s.limit)??1e3));const $=await fetch(_.toString(),{method:"GET",credentials:a!=null&&a.withCredentials?"include":"omit"});if(!$.ok)throw new Error(`exportMemory failed: ${$.status}`);return o==="json"?await $.json():await $.json()}async function importMemory(i,o,s,a,_,$="chat"){const _e=new URL("/admin/memory/import",i);_e.searchParams.set("fmt",s),_e.searchParams.set("conf_uid",a),_e.searchParams.set("history_uid",_),_e.searchParams.set("default_kind",$);const tt=new FormData;tt.append("file",o);const nt=await fetch(_e.toString(),{method:"POST",body:tt,credentials:"include"});if(!nt.ok)throw new Error(`importMemory failed: ${nt.status}`);return await nt.json()}async function pruneSessionTTL(i,o){const s=new URL("/admin/memory/prune_session_ttl",i);o!==void 0&&s.searchParams.set("ttl_sec",String(o));const a=await fetch(s.toString(),{method:"POST",credentials:"include"});if(!a.ok)throw new Error(`pruneSessionTTL failed: ${a.status}`);return await a.json()}async function consolidateMemory(i){const o=await fetch(new URL("/admin/memory/consolidate",i).toString(),{method:"POST",credentials:"include"});if(!o.ok)throw new Error(`consolidateMemory failed: ${o.status}`)}async function deepConsolidation(i){const o=await fetch(new URL("/admin/memory/deep_consolidation",i).toString(),{method:"POST",credentials:"include"});if(!o.ok)throw new Error(`deepConsolidation failed: ${o.status}`)}async function getRelationship(i,o){const s=new URL("/admin/relationship/get",i);s.searchParams.set("user_id",o);const a=await fetch(s.toString(),{method:"GET",credentials:"include"});if(!a.ok)throw new Error(`getRelationship failed: ${a.status}`);return await a.json()}async function listRecentRelationships(i,o=20){const s=new URL("/admin/relationship/list_recent",i);s.searchParams.set("limit",String(o));const a=await fetch(s.toString(),{method:"GET",credentials:"include"});if(!a.ok)throw new Error(`listRecentRelationships failed: ${a.status}`);const _=await a.json();return Array.isArray(_==null?void 0:_.items)?_.items:[]}async function deleteManyMemory(i,o,s){const a=await fetch(new URL("/admin/memory/delete_many",i).toString(),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify({ids:o})});if(!a.ok)throw new Error(`deleteManyMemory failed: ${a.status}`);return await a.json()}async function retagManyMemory(i,o,s,a){const _=await fetch(new URL("/admin/memory/retag_many",i).toString(),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify({ids:o,new_kind:s})});if(!_.ok)throw new Error(`retagManyMemory failed: ${_.status}`);return await _.json()}function MemoryDrawer({children:i}){const{t:o}=useTranslation(),{sendMessage:s}=useWebSocket(),[a,_]=reactExports.useState(!1),[$,_e]=reactExports.useState(()=>{try{const jt=localStorage.getItem("memorySettings");return jt?JSON.parse(jt).enabled!==!1:!0}catch{return!0}}),[tt,nt]=reactExports.useState(()=>{try{const jt=localStorage.getItem("memorySettings");return jt?Math.max(1,Math.min(20,Number(JSON.parse(jt).top_k||4))):4}catch{return 4}}),[it,ot]=reactExports.useState(""),[et,j]=reactExports.useState([]),[rt,st]=reactExports.useState(()=>{try{const jt=localStorage.getItem("memorySettings"),ir=jt?JSON.parse(jt).min_importance:void 0;return typeof ir=="number"?ir:void 0}catch{return}}),[at,lt]=reactExports.useState([]),ct=["FactsAboutUser","PastEvents","SelfBeliefs","Objectives","Emotions","Mood","KeyFacts"],ut={FactsAboutUser:"Факты о зрителях",PastEvents:"События на стриме",SelfBeliefs:"Убеждения Нейри",Objectives:"Цели Нейри",Emotions:"Эмоции",Mood:"Настроение",KeyFacts:"Важные факты"},dt={FactsAboutUser:"Факты о зрителях (ник, интересы, привычки, предпочтения)",PastEvents:"События, произошедшие на стриме (челленджи, шутки, конфликты)",SelfBeliefs:"Убеждения и установки самой Нейри (о себе, своей роли)",Objectives:"Цели, которые Нейри поставила в ходе стрима",Emotions:"Эмоции, которые Нейри испытывала к людям или в целом",Mood:"Агрегированное настроение пользователей",KeyFacts:"Любая важная информация для будущих стримов"},ft=jt=>jt?ut[jt]||jt:"Другое",ht=jt=>jt&&dt[jt]||"",[mt,bt]=reactExports.useState(()=>{try{const jt=localStorage.getItem("memorySettings"),ir=jt?JSON.parse(jt).kinds:[];return Array.isArray(ir)?ir.filter(qt=>typeof qt=="string"):[]}catch{return[]}}),[yt,gt]=reactExports.useState([]),[vt,wt]=reactExports.useState(new Set),[Ct,Rt]=reactExports.useState(""),[It,Pt]=reactExports.useState(""),[St,Ot]=reactExports.useState("FactsAboutUser"),[At,$t]=reactExports.useState(""),[Ft,Ut]=reactExports.useState(""),[Kt,ar]=reactExports.useState(""),[lr,rr]=reactExports.useState(""),[Jt,cr]=reactExports.useState(""),[Xt,Lt]=reactExports.useState(""),[Zt,ur]=reactExports.useState(""),[Qt,nr]=reactExports.useState(""),gr=reactExports.useCallback(()=>{if(!It.trim())return;const jt={text:It.trim(),kind:St};At&&(jt.user_id=At.trim()),Ft&&(jt.platform=Ft.trim()),Kt&&(jt.category=Kt.trim()),lr&&(jt.topics=lr.split(",").map(ir=>ir.trim()).filter(Boolean)),Jt&&(jt.tags=Jt.split(",").map(ir=>ir.trim()).filter(Boolean)),Xt!==""&&(jt.importance=Number(Xt)),Zt!==""&&(jt.emotion_score=Number(Zt)),Qt&&(jt.timestamp=Qt),s({type:"memory-add",entry:jt}),Pt(""),$t(""),Ut(""),ar(""),rr(""),cr(""),Lt(""),ur(""),nr("")},[It,St,At,Ft,Kt,lr,Jt,Xt,Zt,Qt,s]),$r=reactExports.useCallback(jt=>{const qt={...(()=>{try{return JSON.parse(localStorage.getItem("memorySettings")||"{}")}catch{return{}}})(),enabled:$,top_k:tt,min_importance:rt,kinds:mt,...jt};_e(!!qt.enabled),nt(Math.max(1,Math.min(20,Number(qt.top_k||4)))),localStorage.setItem("memorySettings",JSON.stringify(qt));try{const Or={type:"update-memory-settings"};typeof qt.enabled=="boolean"&&(Or.enabled=qt.enabled),typeof qt.top_k=="number"&&(Or.top_k=qt.top_k),typeof rt=="number"&&(Or.min_importance=rt),Array.isArray(mt)&&mt.length&&(Or.kinds=mt),s(Or)}catch{}},[$,tt,rt,mt,s]),Mr=reactExports.useCallback(()=>s({type:"memory-clear",scope:"current"}),[s]),Gr=reactExports.useCallback(()=>{confirm("Очистить всю память?")&&s({type:"memory-clear",scope:"all"})},[s]),{baseUrl:Er}=useWebSocket(),[Yr,Ur]=reactExports.useState("json"),[Lr,Rr]=reactExports.useState(""),Fr=reactExports.useCallback(()=>{Er?searchMemoryWithKinds(Er,it,mt,tt,Lr||void 0,rt).then(jt=>{j(jt.map(ir=>{var qt;return{id:ir.id,text:ir.text,kind:((qt=ir.metadata)==null?void 0:qt.kind)||ir.kind,metadata:ir.metadata}}))}).catch(()=>s({type:"memory-search-grouped",query:it,top_k:tt,min_importance:rt,kinds:mt})):s({type:"memory-search-grouped",query:it,top_k:tt,min_importance:rt,kinds:mt})},[s,it,tt,rt,mt,Er,Lr]),Xr=reactExports.useCallback(()=>{Er?consolidateMemory(Er).catch(()=>s({type:"memory-consolidate",reason:"manual"})):s({type:"memory-consolidate",reason:"manual"})},[s,Er]),xr=reactExports.useCallback(()=>{s({type:"fetch-history-list"})},[s]),yn=reactExports.useCallback(jt=>{wt(ir=>{const qt=new Set(ir);return qt.has(jt)?qt.delete(jt):qt.add(jt),qt})},[]),un=reactExports.useCallback(()=>{const jt=Ct===""?void 0:Number(Ct);Array.from(vt).forEach(ir=>{const qt={type:"memory-consolidate-history",history_uid:ir};typeof jt=="number"&&!isNaN(jt)&&(qt.limit_messages=jt),s(qt)})},[vt,Ct,s]),bn=reactExports.useCallback(()=>{if(Er){const ir=(isNaN(0),0);pruneSessionTTL(Er,ir||void 0).catch(()=>{s({type:"memory-prune"})})}else s({type:"memory-prune"})},[s,Er]);reactExports.useMemo(()=>wsService.onMessage(jt=>{if((jt==null?void 0:jt.type)==="memory-search-result"){const ir=Array.isArray(jt.hits)?jt.hits:[];j(ir.map(qt=>({id:qt.id,text:qt.text,score:qt.score,kind:qt.kind})))}else if((jt==null?void 0:jt.type)==="memory-search-grouped-result"){const ir=jt.groups||jt.result||jt.items||jt,qt=[];ir&&typeof ir=="object"&&Object.entries(ir).forEach(([Or,Br])=>{Array.isArray(Br)&&Br.forEach(Wr=>qt.push({id:Wr.id,text:Wr.text,score:Wr.score,kind:Or}))}),j(qt)}else if((jt==null?void 0:jt.type)==="history-list"){const ir=Array.isArray(jt.histories)?jt.histories:[];gt(ir.map(qt=>({uid:String(qt.uid),latest_message:qt.latest_message||null,timestamp:qt.timestamp||null,consolidated:!!qt.consolidated,consolidated_ts:qt.consolidated_ts||null}))),wt(qt=>new Set(Array.from(qt).filter(Or=>ir.find(Br=>String(Br.uid)===Or))))}else if((jt==null?void 0:jt.type)==="memory-consolidate-history-result")jt.ok&&jt.history_uid&&gt(ir=>ir.map(qt=>qt.uid===jt.history_uid?{...qt,consolidated:!0,consolidated_ts:new Date().toISOString()}:qt));else if((jt==null?void 0:jt.type)==="memory-list-result"){const ir=Array.isArray(jt.items)?jt.items:[];lt(ir.map(qt=>({id:String(qt.id||""),text:String(qt.text||""),kind:String(qt.kind||"")})))}else if((jt==null?void 0:jt.type)==="memory-list-grouped-result"){const ir=jt.groups||jt.result||jt.items||jt,qt=[];ir&&typeof ir=="object"&&Object.entries(ir).forEach(([Or,Br])=>{Array.isArray(Br)&&Br.forEach(Wr=>qt.push({id:String(Wr.id||""),text:String(Wr.text||""),kind:Or}))}),lt(qt)}}),[]);const en=$?"On":"Off",dn=$?"green":"red",tn=reactExports.useCallback(jt=>{const ir=String(jt||"");return mt.length>0?mt.includes(ir):!0},[mt]),Nr=reactExports.useCallback(jt=>jt.slice().sort((ir,qt)=>{var fn,hn,gn,mn;const Or=Number(((fn=ir==null?void 0:ir.metadata)==null?void 0:fn.timestamp)??0),Br=Number(((hn=qt==null?void 0:qt.metadata)==null?void 0:hn.timestamp)??0);if(Br!==Or)return Br-Or;const Wr=Number(((gn=ir==null?void 0:ir.metadata)==null?void 0:gn.importance)??0);return Number(((mn=qt==null?void 0:qt.metadata)==null?void 0:mn.importance)??0)-Wr}),[]),[Kr,mr]=reactExports.useState(""),[rn,En]=reactExports.useState("0"),[xn,nn]=reactExports.useState("0"),[Pr,on]=reactExports.useState(""),[pn,sn]=reactExports.useState(""),[fr,hr]=reactExports.useState(null),[yr,_n]=reactExports.useState([]);return jsxRuntimeExports.jsxs(DrawerRoot,{open:a,onOpenChange:jt=>_(jt.open),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:i}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:o("settings.tabs.memory")}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsxs(DrawerBody,{children:[jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,mb:3,alignItems:"center",flexWrap:"nowrap",overflowX:"auto",children:[jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:dn,variant:"solid",onClick:()=>$r({enabled:!$}),title:`Memory ${en}`,flexShrink:0,children:"Память"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"red",variant:"solid",onClick:Mr,title:"Очистить память текущей сессии",flexShrink:0,children:"Очистить чат"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"red",variant:"solid",onClick:Gr,title:"Очистить всю базу памяти",flexShrink:0,children:"Очистить всё"})]}),jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"search",children:[jsxRuntimeExports.jsxs(TabsList,{mb:3,children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"search",title:"Поиск и фильтры",children:"Поиск"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"consolidation",title:"Свести последние диалоги в структурированные записи",children:"Консолидация"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"maintenance",title:"Очистка устаревших/маловажных записей",children:"Обслуживание"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"relations",title:"Параметры отношений пользователей",children:"Отношения"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"search",children:[jsxRuntimeExports.jsx(Text,{mb:1,color:"white",children:"Поиск по долговременной памяти"}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",mb:2,flexWrap:"wrap",children:[jsxRuntimeExports.jsx(Input$1,{value:it,onChange:jt=>ot(jt.target.value),placeholder:"Поиск в памяти",title:"Строка поиска",maxW:"420px",color:"white",_placeholder:{color:"whiteAlpha.700"}}),jsxRuntimeExports.jsx(Button$2,{onClick:Fr,title:"Искать по памяти",colorPalette:"blue",variant:"solid",children:"Искать"}),jsxRuntimeExports.jsx(Button$2,{onClick:()=>{j([]),lt([])},title:"Очистить результаты",colorPalette:"blue",variant:"solid",children:"Сброс"})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",mb:2,flexWrap:"wrap",children:[jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"white",children:"Top‑K:"}),jsxRuntimeExports.jsx(Input$1,{type:"number",width:"80px",value:tt,min:1,max:20,step:1,onChange:jt=>$r({top_k:Number(jt.target.value)}),title:"Количество релевантных фрагментов памяти",color:"white",_placeholder:{color:"whiteAlpha.700"}})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"white",children:"min importance:"}),jsxRuntimeExports.jsx(Input$1,{type:"number",width:"140px",value:rt??"",onChange:jt=>st(jt.target.value===""?void 0:Number(jt.target.value)),title:"Минимальная важность записи [0..1]",color:"white",_placeholder:{color:"whiteAlpha.700"}})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",children:[jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"white",children:"kinds:"}),ct.map(jt=>jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,color:"white",fontSize:"12px"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt.includes(jt),onChange:ir=>{bt(qt=>ir.target.checked?Array.from(new Set([...qt,jt])):qt.filter(Or=>Or!==jt))}}),ut[jt]]},jt))]})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:3,children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"conf_uid (опционально)",value:Lr,onChange:jt=>Rr(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"260px"}),jsxRuntimeExports.jsxs("select",{value:Yr,onChange:jt=>Ur(jt.target.value),title:"Формат экспорта",children:[jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"yaml",children:"YAML"})]}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"blue",variant:"solid",title:"Экспорт памяти",onClick:async()=>{if(!Er)return alert("baseUrl not set");try{const jt=await exportMemory(Er,Yr,{conf_uid:Lr||void 0,limit:1e3}),ir=new Blob([Yr==="json"?JSON.stringify(jt,null,2):String(jt.data)],{type:"application/octet-stream"}),qt=document.createElement("a");qt.href=URL.createObjectURL(ir),qt.download=`memory_export.${Yr}`,qt.click()}catch{alert("Export failed")}},children:"Экспорт"}),jsxRuntimeExports.jsx("input",{id:"memory-import-file",type:"file",style:{display:"none"},title:"Импорт файла памяти (JSON/YAML)",onChange:async jt=>{var Wr;const ir=(Wr=jt.target.files)==null?void 0:Wr[0];if(!ir)return;if(!Er){alert("baseUrl not set"),jt.target.value="";return}const qt=ir.name.endsWith(".yaml")||ir.name.endsWith(".yml")?"yaml":"json",Or=prompt("history_uid для импорта:","")||"";if(!Or){jt.target.value="";return}const Br=Lr||prompt("conf_uid:","")||"";if(!Br){jt.target.value="";return}try{await importMemory(Er,ir,qt,Br,Or),alert("Импорт создан")}catch{alert("Import failed")}finally{jt.target.value=""}}}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"purple",variant:"outline",title:"Импорт памяти из файла",onClick:()=>{const jt=document.getElementById("memory-import-file");jt==null||jt.click()},children:"Импорт…"})]}),jsxRuntimeExports.jsx(Box,{mt:2,display:"flex",gap:3,flexWrap:"wrap",children:jsxRuntimeExports.jsx(Button$2,{onClick:()=>{j([]),lt([]);const jt={type:"memory-list-grouped",limit_per_kind:50};mt.length&&(jt.kinds=mt),s(jt)},title:"Показать последние записи (с учётом видов)",colorPalette:"green",variant:"solid",children:"Показать"})}),jsxRuntimeExports.jsxs(Box,{mt:3,display:"flex",flexDir:"column",gap:2,children:[Nr(et).filter(jt=>tn(jt.kind)).length===0&&jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.600",fontSize:"sm",children:"пусто"}),Object.entries(Nr(et).filter(jt=>tn(jt.kind)).reduce((jt,ir)=>{const qt=String(ir.kind||"Other");return(jt[qt]||(jt[qt]=[])).push(ir),jt},{})).map(([jt,ir])=>jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Box,{mb:1,fontSize:"sm",color:"whiteAlpha.800",title:ht(jt),children:ft(jt)}),jsxRuntimeExports.jsx(Box,{display:"flex",flexDir:"column",gap:1,children:Array.from(new Map(Nr(ir).map(qt=>[qt.text+"|"+(qt.id||""),qt])).values()).map((qt,Or)=>jsxRuntimeExports.jsxs(Box,{p:2,bg:"whiteAlpha.100",borderRadius:"md",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,children:[jsxRuntimeExports.jsx(Box,{flex:1,children:jsxRuntimeExports.jsx(Box,{children:qt.text})}),qt.id&&jsxRuntimeExports.jsx(Button$2,{size:"xs",colorPalette:"red",variant:"solid",onClick:()=>s({type:"memory-delete",ids:[qt.id]}),title:"Удалить эту запись",children:"Del"})]},qt.id||`${jt}-${Or}`))})]},jt))]}),jsxRuntimeExports.jsxs(Box,{mt:4,children:[at.filter(jt=>tn(jt.kind)).length===0&&jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.600",fontSize:"sm",children:"пусто"}),Object.entries(at.filter(jt=>tn(jt.kind)).reduce((jt,ir)=>{const qt=String(ir.kind||"Other");return(jt[qt]||(jt[qt]=[])).push(ir),jt},{})).map(([jt,ir])=>jsxRuntimeExports.jsxs(Box,{mt:3,children:[jsxRuntimeExports.jsx(Box,{mb:1,fontSize:"sm",color:"whiteAlpha.800",title:ht(jt),children:ft(jt)}),jsxRuntimeExports.jsx(Box,{display:"flex",flexDir:"column",gap:1,children:Array.from(new Map(ir.map(qt=>[qt.text+"|"+(qt.id||""),qt])).values()).map(qt=>jsxRuntimeExports.jsxs(Box,{p:2,bg:"whiteAlpha.50",borderRadius:"md",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,children:[jsxRuntimeExports.jsx(Box,{flex:1,children:jsxRuntimeExports.jsx(Box,{children:qt.text})}),qt.id&&jsxRuntimeExports.jsx(Button$2,{size:"xs",colorPalette:"red",variant:"outline",onClick:()=>s({type:"memory-delete",ids:[qt.id]}),title:"Удалить эту запись",children:"Del"})]},qt.id))})]},jt))]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"consolidation",children:[jsxRuntimeExports.jsx(Text,{mb:2,color:"white",children:"Свести последние сообщения в структурированные факты/события/эмоции"}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:3,children:[jsxRuntimeExports.jsx(Button$2,{onClick:Xr,title:"Запустить свёртку последних сообщений в память",colorPalette:"blue",variant:"solid",children:"Запустить консолидацию"}),jsxRuntimeExports.jsx(Button$2,{onClick:async()=>{if(!Er)return alert("baseUrl not set");try{await deepConsolidation(Er)}catch{alert("Deep consolidation failed")}},title:"Глубокая консолидация (LTM)",colorPalette:"purple",variant:"solid",children:"Deep"}),jsxRuntimeExports.jsx(Button$2,{onClick:bn,title:"Очистка по TTL (Session)",colorPalette:"orange",variant:"solid",children:"Принудительный TTL prune"})]}),jsxRuntimeExports.jsxs(Box,{mt:4,children:[jsxRuntimeExports.jsx(Text,{mb:2,color:"white",children:"Консолидация выбранных диалогов"}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:2,children:[jsxRuntimeExports.jsx(Button$2,{size:"sm",onClick:xr,colorPalette:"blue",variant:"solid",title:"Обновить список диалогов",children:"Обновить список"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"limit messages (optional)",width:"200px",value:Ct,onChange:jt=>Rt(jt.target.value),title:"Ограничение последних сообщений для свёртки",color:"white",_placeholder:{color:"whiteAlpha.700"}}),jsxRuntimeExports.jsx(Button$2,{size:"sm",onClick:un,colorPalette:"green",variant:"solid",title:"Свёртка выбранных",children:"Консолидировать выбранные"})]}),jsxRuntimeExports.jsx(Box,{display:"flex",flexDir:"column",gap:1,maxH:"240px",overflowY:"auto",children:yt.map(jt=>{var ir,qt;return jsxRuntimeExports.jsxs(Box,{p:2,bg:"whiteAlpha.50",borderRadius:"md",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,children:[jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"center",gap:2,flex:1,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:vt.has(jt.uid),onChange:()=>yn(jt.uid),title:"Выбрать диалог"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Box,{fontSize:"sm",children:jt.uid}),jsxRuntimeExports.jsx(Box,{fontSize:"xs",color:"whiteAlpha.700",children:((qt=(ir=jt.latest_message)==null?void 0:ir.content)==null?void 0:qt.slice(0,80))||"—"})]})]}),jsxRuntimeExports.jsx(Box,{fontSize:"xs",color:jt.consolidated?"green.300":"whiteAlpha.700",children:jt.consolidated?`consolidated${jt.consolidated_ts?` @ ${jt.consolidated_ts}`:""}`:"not consolidated"})]},jt.uid)})})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"maintenance",children:[jsxRuntimeExports.jsx(Text,{mb:2,color:"white",children:"Удаление старых/маловажных записей"}),jsxRuntimeExports.jsx(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",children:jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"orange",variant:"solid",onClick:bn,title:"Выполнить очистку по TTL/возрасту",children:"Очистить"})}),jsxRuntimeExports.jsxs(Box,{mt:5,children:[jsxRuntimeExports.jsx(Text,{mb:2,color:"white",children:"Add memory (ручное добавление записи)"}),jsxRuntimeExports.jsxs(Box,{display:"flex",flexDir:"column",gap:2,children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"text",value:It,onChange:jt=>Pt(jt.target.value),_placeholder:{color:"whiteAlpha.700"},title:"Текст записи",color:"white"}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,flexWrap:"wrap",children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"kind (e.g. FactsAboutUser)",value:St,onChange:jt=>Ot(jt.target.value),width:"240px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"user_id (Twitch:Igor)",value:At,onChange:jt=>$t(jt.target.value),width:"240px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"platform (Twitch/Local)",value:Ft,onChange:jt=>Ut(jt.target.value),width:"200px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"category (emotion/...)",value:Kt,onChange:jt=>ar(jt.target.value),width:"200px",_placeholder:{color:"whiteAlpha.700"},color:"white"})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,flexWrap:"wrap",children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"topics (comma)",value:lr,onChange:jt=>rr(jt.target.value),width:"260px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"tags (comma)",value:Jt,onChange:jt=>cr(jt.target.value),width:"240px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"importance [0..1]",value:Xt,onChange:jt=>Lt(jt.target.value),width:"180px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"emotion_score [-1..1]",value:Zt,onChange:jt=>ur(jt.target.value),width:"200px",_placeholder:{color:"whiteAlpha.700"},color:"white"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"timestamp (ISO или epoch)",value:Qt,onChange:jt=>nr(jt.target.value),width:"260px",_placeholder:{color:"whiteAlpha.700"},color:"white"})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"green",variant:"solid",onClick:gr,title:"Сохранить запись",children:"Сохранить"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"red",variant:"solid",onClick:()=>{Pt(""),$t(""),Ut(""),ar(""),rr(""),cr(""),Lt(""),ur(""),nr("")},title:"Очистить форму",children:"Сброс"})]})]})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"relations",children:[jsxRuntimeExports.jsx(Text,{mb:2,color:"white",children:"Отношения пользователей"}),jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",mb:3,children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"user_id",value:Kr,onChange:jt=>mr(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"200px"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"username (опц.)",value:Pr,onChange:jt=>on(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"200px"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"realname (опц.)",value:pn,onChange:jt=>sn(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"200px"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"Δaffinity (−100..100)",value:rn,onChange:jt=>En(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"180px",title:"Изменение affinity (дельта)"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"Δtrust (−100..100)",value:xn,onChange:jt=>nn(jt.target.value),color:"white",_placeholder:{color:"whiteAlpha.700"},width:"160px",title:"Изменение trust (дельта)"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",colorPalette:"green",variant:"solid",onClick:async()=>{if(!Er)return alert("baseUrl not set");if(!Kr)return alert("user_id обязателен");try{const jt=await updateRelationshipV2(Er,Kr,Number(rn||0),Number(xn||0),Pr||void 0,pn||void 0);hr(jt)}catch{alert("Relationship update failed")}},children:"Применить"}),jsxRuntimeExports.jsx(Button$2,{size:"sm",variant:"subtle",colorPalette:"blue",onClick:async()=>{if(!Er)return alert("baseUrl not set");if(!Kr)return alert("user_id обязателен");try{const jt=await getRelationship(Er,Kr);hr(jt)}catch{alert("Fetch failed")}},children:"Просмотр"})]}),fr&&jsxRuntimeExports.jsxs(Box,{color:"white",fontSize:"sm",mb:3,p:2,bg:"whiteAlpha.100",borderRadius:"md",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"user_id"}),": ",fr.user_id]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"username"}),": ",fr.username||"—"]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"realname"}),": ",fr.realname||"—"]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"affinity"}),": ",fr.affinity]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"trust"}),": ",fr.trust]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"interactions"}),": ",fr.interaction_count]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("b",{children:"last"}),": ",fr.last_interaction||"—"]})]}),jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"flex-start",gap:6,children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button$2,{size:"xs",variant:"subtle",onClick:async()=>{if(!Er)return alert("baseUrl not set");try{const jt=await listRecentRelationships(Er,20);_n(jt)}catch{alert("Fetch recent failed")}},children:"Последние контакты"})}),yr.length>0&&jsxRuntimeExports.jsx(Box,{maxH:"220px",overflowY:"auto",flex:1,p:2,bg:"whiteAlpha.100",borderRadius:"md",color:"white",children:yr.map(jt=>jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"center",gap:8,p:1,borderBottom:"1px solid rgba(255,255,255,0.08)",children:[jsxRuntimeExports.jsx(Button$2,{size:"xs",variant:"outline",onClick:()=>{mr(jt.user_id),on(jt.username||""),sn("realname"in jt&&jt.realname?String(jt.realname):""),hr(jt)},children:"Выбрать"}),jsxRuntimeExports.jsxs(Box,{fontSize:"xs",children:[jt.user_id," ",jt.username?`(${jt.username})`:""," — a:",jt.affinity," t:",jt.trust," i:",jt.interaction_count]})]},jt.user_id))})]}),jsxRuntimeExports.jsx(Box,{display:"flex",gap:2,flexWrap:"wrap",children:[{a:1,t:0,label:"+affinity 1"},{a:-1,t:0,label:"-affinity 1"},{a:5,t:0,label:"+affinity 5"},{a:-5,t:0,label:"-affinity 5"},{a:0,t:1,label:"+trust 1"},{a:0,t:-1,label:"-trust 1"},{a:0,t:5,label:"+trust 5"},{a:0,t:-5,label:"-trust 5"}].map(jt=>jsxRuntimeExports.jsx(Button$2,{size:"xs",variant:"outline",onClick:async()=>{if(!Er)return alert("baseUrl not set");if(!Kr)return alert("user_id обязателен");try{const ir=await updateRelationshipV2(Er,Kr,jt.a,jt.t,void 0);hr(qt=>({...qt||{},...ir}))}catch{}},children:jt.label},jt.label))})]})]})]}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$2,{children:o("common.close")})})})]})]})}const useSidebar=()=>{const i=useDisclosure(),{sendMessage:o}=useWebSocket(),{interrupt:s}=useInterrupt(),{currentHistoryUid:a,messages:_,updateHistoryList:$}=useChatHistory(),{setMode:_e,mode:tt,isElectron:nt}=useMode(),it=()=>{if(a&&_.length>0){const ot=_[_.length-1];$(a,ot)}s(),o({type:"create-new-history"})};return{settingsOpen:i.open,onSettingsOpen:i.onOpen,onSettingsClose:i.onClose,createNewHistory:it,setMode:_e,currentMode:tt,isElectron:nt}},ClipboardIcon=reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:jsxRuntimeExports.jsx(LuCheck,{}),...o,ref:s,children:jsxRuntimeExports.jsx(LuClipboard,{})})}),ClipboardCopyText=reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:"Copied",...o,ref:s,children:"Copy"})});reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardLabel,{textStyle:"sm",fontWeight:"medium",display:"inline-block",mb:"1",...o,ref:s})});const ClipboardButton=reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$2,{ref:s,size:"sm",variant:"surface",...o,children:[jsxRuntimeExports.jsx(ClipboardIcon,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{})]})})});reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$2,{unstyled:!0,variant:"plain",size:"xs",display:"inline-flex",alignItems:"center",gap:"2",ref:s,...o,children:[jsxRuntimeExports.jsx(LuLink,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{})]})})});reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(IconButton,{ref:s,size:"xs",variant:"subtle",...o,children:[jsxRuntimeExports.jsx(ClipboardIcon,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{srOnly:!0})]})})});reactExports.forwardRef(function i(o,s){return jsxRuntimeExports.jsx(ClipboardInput,{asChild:!0,children:jsxRuntimeExports.jsx(Input$1,{ref:s,...o})})});const ClipboardRoot=ClipboardRoot$1,useGroupDrawer=()=>{const{t:i}=useTranslation(),[o,s]=reactExports.useState(!1),[a,_]=reactExports.useState(""),{sendMessage:$}=useWebSocket(),_e=reactExports.useCallback(()=>{$({type:"request-group-info"})},[$]),tt=reactExports.useCallback(async()=>{if(!a.trim()){toaster.create({title:i("error.enterValidUuid"),type:"error",duration:2e3});return}$({type:"add-client-to-group",invitee_uid:a.trim()}),_(""),setTimeout(_e,100)},[a,$,_e,i]),nt=reactExports.useCallback(ot=>{$({type:"remove-client-from-group",target_uid:ot}),setTimeout(_e,100)},[$,_e]),it=reactExports.useCallback(ot=>{$({type:"remove-client-from-group",target_uid:ot}),setTimeout(_e,100)},[$,_e]);return{isOpen:o,setIsOpen:s,inviteUid:a,setInviteUid:_,handleInvite:tt,handleRemove:nt,handleLeaveGroup:it,requestGroupInfo:_e}},GroupContext=reactExports.createContext(null);function GroupProvider({children:i}){const[o,s]=reactExports.useState(""),[a,_]=reactExports.useState([]),[$,_e]=reactExports.useState(!1),tt=()=>{_([]),_e(!1)},nt=reactExports.useMemo(()=>a.includes(o)?[o,...a.filter(it=>it!==o)]:a,[a,o]);return jsxRuntimeExports.jsx(GroupContext.Provider,{value:{selfUid:o,groupMembers:a,isOwner:$,setSelfUid:s,setGroupMembers:_,setIsOwner:_e,sortedGroupMembers:nt,resetGroupState:tt},children:i})}function useGroup(){const i=reactExports.useContext(GroupContext);if(!i)throw new Error("useGroup must be used within a GroupProvider");return i}function GroupDrawer({children:i}){const{t:o}=useTranslation(),{selfUid:s,sortedGroupMembers:a,isOwner:_}=useGroup(),{isOpen:$,setIsOpen:_e,inviteUid:tt,setInviteUid:nt,handleInvite:it,handleRemove:ot,handleLeaveGroup:et,requestGroupInfo:j}=useGroupDrawer();return jsxRuntimeExports.jsxs(DrawerRoot,{open:$,onOpenChange:rt=>{_e(rt.open),rt.open&&j()},placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:i}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:o("group.management")}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsx(DrawerBody,{children:jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.listContainer,children:[jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:o("group.yourUuid")}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.memberItem,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.memberText,children:s}),jsxRuntimeExports.jsx(ClipboardRoot,{value:s,children:jsxRuntimeExports.jsx(ClipboardButton,{...sidebarStyles.groupDrawer.clipboardButton,size:"sm"})})]})]}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:o("group.inviteMember")}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.inviteBox,children:[jsxRuntimeExports.jsx(Input$1,{value:tt,onChange:rt=>nt(rt.target.value),placeholder:o("group.enterMemberUuid"),...sidebarStyles.groupDrawer.input}),jsxRuntimeExports.jsx(Button$2,{onClick:it,...sidebarStyles.groupDrawer.button,children:o("group.invite")})]})]}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:o("group.members")}),jsxRuntimeExports.jsx(Box,{...sidebarStyles.groupDrawer.memberList,children:a.map(rt=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.memberItem,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.memberText,children:rt===s?`${rt} (${o("group.you")})`:rt}),(_&&rt!==s||!_&&rt===s)&&jsxRuntimeExports.jsx(IconButton,{"aria-label":o(rt===s?"group.leaveGroup":"group.removeMember"),onClick:()=>rt===s?et(s):ot(rt),...sidebarStyles.groupDrawer.removeButton,size:"sm",title:o(rt===s?"group.leaveGroup":"group.removeMember"),children:rt===s?o("group.leave"):jsxRuntimeExports.jsx(FiX,{})})]},rt))})]})]})}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$2,{...sidebarStyles.historyDrawer.drawer.actionButton,children:o("common.close")})})})]})]})}const ToggleButton$1=reactExports.memo(({isCollapsed:i,onToggle:o})=>jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.toggleButton,style:{transform:i?"rotate(180deg)":"rotate(0deg)"},onClick:async()=>{await logAction("ui.click","sidebar.toggle",{to:i?"open":"close"}),o()},children:jsxRuntimeExports.jsx(FiChevronLeft,{})}));ToggleButton$1.displayName="ToggleButton";const ModeMenu=reactExports.memo(({setMode:i,currentMode:o,isElectron:s})=>jsxRuntimeExports.jsxs(MenuRoot,{children:[jsxRuntimeExports.jsx(MenuTrigger,{as:Button$2,"aria-label":"Mode Menu",title:"Change Mode",onClick:()=>logAction("ui.click","mode.menu.open"),children:jsxRuntimeExports.jsx(FiLayers,{})}),jsxRuntimeExports.jsx(MenuPositioner,{children:jsxRuntimeExports.jsx(MenuContent,{children:jsxRuntimeExports.jsxs(MenuRadioItemGroup,{value:o,children:[jsxRuntimeExports.jsxs(MenuRadioItem,{value:"window",onClick:()=>{logAction("ui.click","mode.select",{value:"window"}),i("window")},children:[jsxRuntimeExports.jsx(MenuItemIndicator,{}),"Live Mode"]}),jsxRuntimeExports.jsxs(MenuRadioItem,{value:"pet",onClick:()=>{s&&(logAction("ui.click","mode.select",{value:"pet"}),i("pet"))},disabled:!s,title:s?void 0:"Pet mode is only available in desktop app",children:[jsxRuntimeExports.jsx(MenuItemIndicator,{}),"Pet Mode"]})]})})})]}));ModeMenu.displayName="ModeMenu";const HeaderButtons=reactExports.memo(({onSettingsOpen:i,onNewHistory:o,setMode:s,currentMode:a,isElectron:_})=>jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,children:[jsxRuntimeExports.jsx(Button$2,{onClick:()=>{logAction("ui.click","settings.open"),i()},children:jsxRuntimeExports.jsx(FiSettings,{})}),jsxRuntimeExports.jsx(GroupDrawer,{children:jsxRuntimeExports.jsx(Button$2,{onClick:()=>logAction("ui.click","group.drawer.open"),children:jsxRuntimeExports.jsx(FiUsers,{})})}),jsxRuntimeExports.jsx(HistoryDrawer,{children:jsxRuntimeExports.jsx(Button$2,{onClick:()=>logAction("ui.click","history.drawer.open"),children:jsxRuntimeExports.jsx(FiClock,{})})}),jsxRuntimeExports.jsx(MemoryDrawer,{children:jsxRuntimeExports.jsx(Button$2,{title:"Memory",onClick:()=>logAction("ui.click","memory.drawer.open"),children:jsxRuntimeExports.jsx(FiDatabase,{})})}),jsxRuntimeExports.jsx(Button$2,{title:"Memory Lab",onClick:()=>{var $;if(logAction("ui.click","memory.lab.open"),($=window.api)!=null&&$.openMemoryLab)window.api.openMemoryLab();else{const _e=window.location.origin+window.location.pathname+"#/memory-lab";window.open(_e,"_blank","noopener,noreferrer")}},children:jsxRuntimeExports.jsx(FiTool,{})}),jsxRuntimeExports.jsx(Button$2,{onClick:()=>{logAction("ui.click","history.new"),o()},children:jsxRuntimeExports.jsx(FiPlus,{})}),jsxRuntimeExports.jsx(ModeMenu,{setMode:s,currentMode:a,isElectron:_})]}));HeaderButtons.displayName="HeaderButtons";const SidebarContent=reactExports.memo(({onSettingsOpen:i,onNewHistory:o,setMode:s,currentMode:a,isElectron:_})=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.content,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.header,children:jsxRuntimeExports.jsx(HeaderButtons,{onSettingsOpen:i,onNewHistory:o,setMode:s,currentMode:a,isElectron:_})}),jsxRuntimeExports.jsx(ChatHistoryPanel,{}),jsxRuntimeExports.jsx(BottomTab,{})]}));SidebarContent.displayName="SidebarContent";function Sidebar({isCollapsed:i=!1,onToggle:o}){const{settingsOpen:s,onSettingsOpen:a,onSettingsClose:_,createNewHistory:$,setMode:_e,currentMode:tt,isElectron:nt}=useSidebar();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.container(i),children:[jsxRuntimeExports.jsx(ToggleButton$1,{isCollapsed:i,onToggle:o}),!i&&!s&&jsxRuntimeExports.jsx(SidebarContent,{onSettingsOpen:a,onNewHistory:$,setMode:_e,currentMode:tt,isElectron:nt}),!i&&s&&jsxRuntimeExports.jsx(SettingUI,{open:s,onClose:_,onToggle:o})]})}function BsMicFill(i){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"},child:[]},{tag:"path",attr:{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"},child:[]}]})(i)}function BsMicMuteFill(i){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4 4 0 0 0 12 8V7a.5.5 0 0 1 1 0zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a5 5 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4m3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3"},child:[]},{tag:"path",attr:{d:"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607m-7.84-9.253 12 12 .708-.708-12-12z"},child:[]}]})(i)}function BsPaperclip(i){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"},child:[]}]})(i)}function IoHandRightSharp(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M82.42 209.08c15.06-6.62 32.38 1.31 38.5 17.62L156 312h11.27V80c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v151.75l14.78.25V32c0-17.6 13.3-32 29.55-32 16.3 0 29.55 14.4 29.55 32v199.75L315 232V64c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v183.75l14.78.25V128c0-17.6 13.3-32 29.55-32C434.7 96 448 110.4 448 128v216c0 75.8-37.13 168-169 168-40.8 0-79.42-7-100.66-21a121.41 121.41 0 0 1-33.72-33.31 138 138 0 0 1-16-31.78L66.16 250.77c-6.11-16.31 1.2-35.06 16.26-41.69z"},child:[]}]})(i)}const InputGroup=reactExports.forwardRef((i,o)=>{const{startElement:s,startElementProps:a,endElement:_,endElementProps:$,children:_e,startOffset:tt="6px",endOffset:nt="6px",...it}=i,ot=reactExports.Children.only(_e);return jsxRuntimeExports.jsxs(Group,{ref:o,...it,children:[s&&jsxRuntimeExports.jsx(InputElement,{pointerEvents:"none",...a,children:s}),reactExports.cloneElement(ot,{...s&&{ps:`calc(var(--input-height) - ${tt})`},..._&&{pe:`calc(var(--input-height) - ${nt})`},..._e.props}),_&&jsxRuntimeExports.jsx(InputElement,{placement:"end",...$,children:_})]})}),footerStyles={footer:{container:i=>({bg:i?"transparent":"gray.800",borderTopRadius:i?"none":"lg",transform:i?"translateY(calc(100% - 24px))":"translateY(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",position:"relative",overflow:i?"visible":"hidden",pb:"4"}),toggleButton:{height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"whiteAlpha.700",_hover:{color:"white"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},actionButton:{borderRadius:"12px",width:"50px",height:"50px",minW:"50px"},input:{bg:"gray.700",border:"none",height:"80px",borderRadius:"12px",fontSize:"18px",pl:"12",pr:"4",color:"whiteAlpha.900",_placeholder:{color:"whiteAlpha.500"},_focus:{border:"none",bg:"gray.700"},resize:"none",minHeight:"80px",maxHeight:"80px",py:"0",display:"flex",alignItems:"center",paddingTop:"28px",lineHeight:"1.4"},attachButton:{position:"absolute",left:"1",top:"50%",transform:"translateY(-50%)",color:"whiteAlpha.700",zIndex:2,_hover:{bg:"transparent",color:"white"}}},aiIndicator:{container:{bg:"#7C5CFF",color:"white",width:"110px",height:"30px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",overflow:"hidden"},text:{fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}};function AIStateIndicator(){const{t:i}=useTranslation(),{aiState:o}=useAiState(),s=footerStyles.aiIndicator;return jsxRuntimeExports.jsx(Box,{...s.container,children:jsxRuntimeExports.jsx(Text,{...s.text,children:i(`aiState.${o}`)})})}function genRequestId(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`}function useTextInput(){const[i,o]=reactExports.useState(""),[s,a]=reactExports.useState(!1),_=useWebSocket(),{aiState:$,setAiState:_e}=useAiState(),{interrupt:tt}=useInterrupt(),{appendHumanMessage:nt}=useChatHistory(),{stopMic:it,autoStopMic:ot}=useVAD(),{captureAllMedia:et}=useMediaCapture(),j=ct=>{o(ct.target.value)},rt=async()=>{if(!i.trim()||!_)return;$==="thinking-speaking"&&tt();const ct=await et(),ut=i.trim(),dt=genRequestId();nt(ut),await logAction("chat.send","text",{length:ut.length},dt),_.sendMessage({type:"text-input",text:ut,images:ct,request_id:dt}),_e("thinking-speaking"),ot&&it(),o("")};return{inputText:i,setInputText:j,handleSend:rt,handleKeyPress:ct=>{ct.key==="Enter"&&!ct.shiftKey&&(ct.preventDefault(),rt())},handleCompositionStart:()=>{a(!0),logAction("input.composition","start")},handleCompositionEnd:()=>{a(!1),logAction("input.composition","end")}}}const useFooter=()=>{const{inputText:i,setInputText:o,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:_}=useTextInput(),{interrupt:$}=useInterrupt(),{handleMicToggle:_e,micOn:tt,isDisabled:nt}=useMicToggle(),{setAiState:it,aiState:ot}=useAiState(),{sendTriggerSignal:et}=useTriggerSpeak(),{settings:j}=useProactiveSpeak();return{inputValue:i,handleInputChange:lt=>{o({target:{value:lt.target.value}}),it(AiStateEnum.WAITING)},handleKeyPress:lt=>{s(lt)},handleCompositionStart:a,handleCompositionEnd:_,handleInterrupt:()=>{logAction("ui.click","interrupt"),ot===AiStateEnum.THINKING_SPEAKING?$():j.allowButtonTrigger&&et(-1)},handleMicToggle:_e,micOn:tt,isDisabled:nt}},ToggleButton=reactExports.memo(({isCollapsed:i,onToggle:o})=>jsxRuntimeExports.jsx(Box,{...footerStyles.footer.toggleButton,onClick:()=>{logAction("ui.click","footer.toggle",{to:i?"open":"close"}),o==null||o()},color:"whiteAlpha.500",style:{transform:i?"rotate(180deg)":"rotate(0deg)"},children:jsxRuntimeExports.jsx(FiChevronDown,{})}));ToggleButton.displayName="ToggleButton";const ActionButtons=reactExports.memo(({micOn:i,disabled:o,onMicToggle:s,onInterrupt:a})=>jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(IconButton,{bg:i?"green.500":"red.500",...footerStyles.footer.actionButton,disabled:o,onClick:s,children:i?jsxRuntimeExports.jsx(BsMicFill,{}):jsxRuntimeExports.jsx(BsMicMuteFill,{})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Raise hand",bg:"yellow.500",...footerStyles.footer.actionButton,onClick:a,children:jsxRuntimeExports.jsx(IoHandRightSharp,{size:"24"})})]}));ActionButtons.displayName="ActionButtons";const MessageInput=reactExports.memo(({value:i,onChange:o,onKeyDown:s,onCompositionStart:a,onCompositionEnd:_})=>{const{t:$}=useTranslation();return jsxRuntimeExports.jsx(InputGroup,{flex:1,children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Attach file",variant:"ghost",...footerStyles.footer.attachButton,onClick:()=>logAction("ui.click","attach.open"),children:jsxRuntimeExports.jsx(BsPaperclip,{size:"24"})}),jsxRuntimeExports.jsx(Textarea,{value:i,onChange:o,onKeyDown:s,onCompositionStart:a,onCompositionEnd:_,placeholder:$("footer.typeYourMessage"),...footerStyles.footer.input})]})})});MessageInput.displayName="MessageInput";function Footer({isCollapsed:i=!1,onToggle:o}){const{inputValue:s,handleInputChange:a,handleKeyPress:_,handleCompositionStart:$,handleCompositionEnd:_e,handleInterrupt:tt,handleMicToggle:nt,micOn:it,isDisabled:ot}=useFooter();return jsxRuntimeExports.jsxs(Box,{...footerStyles.footer.container(i),children:[jsxRuntimeExports.jsx(ToggleButton,{isCollapsed:i,onToggle:o}),jsxRuntimeExports.jsx(Box,{pt:"0",px:"4",children:jsxRuntimeExports.jsxs(HStack,{width:"100%",gap:4,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Box,{mb:"1.5",children:jsxRuntimeExports.jsx(AIStateIndicator,{})}),jsxRuntimeExports.jsx(ActionButtons,{micOn:it,disabled:ot,onMicToggle:nt,onInterrupt:tt})]}),jsxRuntimeExports.jsx(MessageInput,{value:s,onChange:a,onKeyDown:_,onCompositionStart:$,onCompositionEnd:_e})]})})]})}const isElectron=window.api!==void 0,getAppHeight=()=>typeof window<"u"&&/Mobi|Android/i.test(navigator.userAgent)?`${window.innerHeight}px`:isElectron?"calc(100vh - 30px)":"100vh",layoutStyles={appContainer:{width:"100vw",height:getAppHeight(),bg:"gray.900",color:"white",overflow:"hidden",position:"relative",display:"flex",flexDirection:{base:"column",md:"row"},mt:isElectron?"30px":"0"},sidebar:{position:"relative",width:{base:"100%",md:"440px"},height:{base:"auto",md:"100%"},bg:"gray.800",borderRight:"1px solid",borderColor:"whiteAlpha.200",overflow:"hidden",flexShrink:0,transition:"all 0.2s"},mainContent:{flex:1,height:{base:"calc(100% - 120px)",md:"100%"},position:"relative",display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",overflow:"hidden"},footer:{width:"100%",height:{base:"100px",md:"120px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"transform",position:"relative",zIndex:1},collapsedFooter:{height:{base:"20px",md:"24px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},windowsTitleBar:{position:"fixed",top:0,left:0,width:"100vw",display:"flex",alignItems:"center",justifyContent:"space-between",height:"30px",backgroundColor:"gray.800",paddingX:"10px",zIndex:1e3,css:{"-webkit-app-region":"drag"}},macTitleBar:{position:"fixed",top:0,left:0,width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",height:"30px",backgroundColor:"gray.800",zIndex:1e3,css:{"-webkit-app-region":"drag","-webkit-user-select":"none"}},titleBarTitle:{fontSize:"sm",color:"whiteAlpha.800",textAlign:"center"},titleBarButtons:{display:"flex",gap:"1"},titleBarButton:{size:"sm",variant:"ghost",color:"whiteAlpha.800",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"whiteAlpha.200"}},closeButton:{size:"sm",variant:"ghost",color:"whiteAlpha.800",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"red.500"}}};function WebSocketHandler({children:i}){const{t:o}=useTranslation(),[s,a]=reactExports.useState("CLOSED"),[_,$]=useLocalStorage("wsUrl",defaultWsUrl),[_e,tt]=useLocalStorage("baseUrl",defaultBaseUrl),{aiState:nt,setAiState:it,backendSynthComplete:ot,setBackendSynthComplete:et}=useAiState(),{setModelInfo:j}=useLive2DConfig(),{setSubtitleText:rt}=useSubtitle(),{clearResponse:st,setForceNewMessage:at,appendHumanMessage:lt,appendOrUpdateToolCallMessage:ct}=useChatHistory(),{addAudioTask:ut}=useAudioTask(),dt=useBgUrl(),{confUid:ft,setConfName:ht,setConfUid:mt,setConfigFiles:bt,setTtsInfo:yt}=useConfig(),[gt,vt]=reactExports.useState(void 0),{setSelfUid:wt,setGroupMembers:Ct,setIsOwner:Rt}=useGroup(),{startMic:It,stopMic:Pt,autoStartMicOnConvEnd:St}=useVAD(),Ot=reactExports.useRef(St),{interrupt:At}=useInterrupt(),{setBrowserViewData:$t}=useBrowser(),{setStatus:Ft,pushMessage:Ut}=useTwitch(),{modelInfo:Kt}=useLive2DConfig();reactExports.useEffect(()=>{Ot.current=St},[St]),reactExports.useEffect(()=>{if(gt&&ft){if(Kt!=null&&Kt.url&&Kt.url===gt.url){vt(void 0);return}j(gt)}},[gt,j,ft]);const{setCurrentHistoryUid:ar,setMessages:lr,setHistoryList:rr}=useChatHistory();reactExports.useEffect(()=>{var ur,Qt;const Lt=(ur=wsService.ws)==null?void 0:ur.onerror;wsService.ws&&(wsService.ws.onerror=nr=>{logError("ws.error",{type:"ws",event:"error",detail:String(nr)}),Lt&&Lt(nr)});const Zt=(Qt=wsService.ws)==null?void 0:Qt.onclose;wsService.ws&&(wsService.ws.onclose=nr=>{logError("ws.close",{code:nr.code,reason:nr.reason}),Zt&&Zt(nr)})},[]),reactExports.useEffect(()=>{wsService.connect(_)},[_]);const Jt=reactExports.useCallback(Lt=>{switch(Lt){case"start-mic":console.log("Starting microphone..."),It();break;case"stop-mic":console.log("Stopping microphone..."),Pt();break;case"conversation-chain-start":it("thinking-speaking"),audioTaskQueue.clearQueue(),st();break;case"conversation-chain-end":audioTaskQueue.addTask(()=>new Promise(Zt=>{it(ur=>ur==="thinking-speaking"?(Ot.current&&setTimeout(()=>It({bypassLock:!0}),10),"idle"):ur),Zt()}));break;default:console.warn("Unknown control command:",Lt)}},[it,st,at,It,Pt]),cr=reactExports.useCallback(Lt=>{var Zt,ur;switch(console.log("Received message from server:",Lt),Lt.client_uid&&(wt(Lt.client_uid),setClientUid(Lt.client_uid)),Lt.type){case"control":Lt.text&&Jt(Lt.text);break;case"set-model-and-conf":if(it("loading"),Lt.conf_name&&ht(Lt.conf_name),Lt.conf_uid&&(mt(Lt.conf_uid),console.log("confUid",Lt.conf_uid)),Lt.tts_info&&yt(Lt.tts_info),Lt.client_uid&&(wt(Lt.client_uid),setClientUid(Lt.client_uid)),Lt.model_info&&!Lt.model_info.url.startsWith("http")){const Qt=_e+Lt.model_info.url;Lt.model_info.url=Qt}vt(Lt.model_info),it("idle");break;case"full-text":Lt.text&&rt(Lt.text);break;case"config-files":Lt.configs&&bt(Lt.configs);break;case"config-switched":it("idle"),rt(o("notification.characterLoaded")),toaster.create({title:o("notification.characterSwitched"),type:"success",duration:2e3}),wsService.sendMessage({type:"fetch-history-list"}),wsService.sendMessage({type:"create-new-history"});break;case"background-files":Lt.files&&(dt==null||dt.setBackgroundFiles(Lt.files));break;case"audio":nt==="interrupted"||nt==="listening"?console.log("Audio playback intercepted. Sentence:",(Zt=Lt.display_text)==null?void 0:Zt.text):(console.log("actions",Lt.actions),ut({audioBase64:Lt.audio||"",volumes:Lt.volumes||[],sliceLength:Lt.slice_length||0,displayText:Lt.display_text||null,expressions:((ur=Lt.actions)==null?void 0:ur.expressions)||null,forwarded:Lt.forwarded||!1}));break;case"history-data":Lt.messages&&lr(Lt.messages),toaster.create({title:o("notification.historyLoaded"),type:"success",duration:2e3});break;case"new-history-created":if(it("idle"),rt(o("notification.newConversation")),Lt.history_uid){ar(Lt.history_uid),lr([]);const Qt={uid:Lt.history_uid,latest_message:null,timestamp:new Date().toISOString()};rr(nr=>[Qt,...nr]),toaster.create({title:o("notification.newChatHistory"),type:"success",duration:2e3})}break;case"history-deleted":toaster.create({title:Lt.success?o("notification.historyDeleteSuccess"):o("notification.historyDeleteFail"),type:Lt.success?"success":"error",duration:2e3});break;case"history-list":Lt.histories&&(rr(Lt.histories),Lt.histories.length>0&&ar(Lt.histories[0].uid));break;case"user-input-transcription":console.log("user-input-transcription: ",Lt.text),Lt.text&&lt(Lt.text);break;case"twitch-message":Lt.text&&Lt.user&&(lt(Lt.text,Lt.user,"twitch"),Ut({user:Lt.user,text:Lt.text,timestamp:Lt.timestamp}));break;case"twitch-status":toaster.create({title:Lt.connected?o("notification.twitchConnected"):o("notification.twitchDisconnected"),description:Lt.channel?`${o("label.channel")}: ${Lt.channel}`:void 0,type:Lt.connected?"success":"warning",duration:2e3}),Ft({enabled:Lt.enabled,connected:Lt.connected,channel:Lt.channel});break;case"error":toaster.create({title:Lt.message,type:"error",duration:2e3});break;case"group-update":console.log("Received group-update:",Lt.members),Lt.members&&Ct(Lt.members),Lt.is_owner!==void 0&&Rt(Lt.is_owner);break;case"group-operation-result":toaster.create({title:Lt.message,type:Lt.success?"success":"error",duration:2e3});break;case"backend-synth-complete":et(!0);break;case"conversation-chain-end":audioTaskQueue.hasTask()||it(Qt=>Qt==="thinking-speaking"?"idle":Qt);break;case"force-new-message":at(!0);break;case"interrupt-signal":At(!1);break;case"tool_call_status":Lt.tool_id&&Lt.tool_name&&Lt.status?(Lt.browser_view&&(console.log("Browser view data received:",Lt.browser_view),$t(Lt.browser_view)),ct({id:Lt.tool_id,type:"tool_call_status",role:"ai",tool_id:Lt.tool_id,tool_name:Lt.tool_name,name:Lt.name,status:Lt.status,content:Lt.content||"",timestamp:Lt.timestamp||new Date().toISOString()})):console.warn("Received incomplete tool_call_status message:",Lt);break;default:console.warn("Unknown message type:",Lt.type)}},[nt,ut,lt,_e,dt,it,ht,mt,bt,ar,rr,lr,j,rt,It,Pt,wt,Ct,Rt,ot,et,st,Jt,ct,At,$t,o,Ut,Ft]);reactExports.useEffect(()=>{const Lt=wsService.onStateChange(a),Zt=wsService.onMessage(cr);return()=>{Lt.unsubscribe(),Zt.unsubscribe()}},[_,cr]);const Xt=reactExports.useMemo(()=>({sendMessage:wsService.sendMessage.bind(wsService),wsState:s,reconnect:()=>wsService.connect(_),wsUrl:_,setWsUrl:$,baseUrl:_e,setBaseUrl:tt}),[s,_,_e]);return jsxRuntimeExports.jsx(WebSocketContext.Provider,{value:Xt,children:i})}function TitleBar(){var nt;const[i,o]=reactExports.useState(!1),[s,a]=reactExports.useState(!1),_=((nt=window.electron)==null?void 0:nt.process.platform)==="darwin";reactExports.useEffect(()=>{var et,j;const it=(rt,st)=>{o(st)},ot=(rt,st)=>{a(st)};return(et=window.electron)==null||et.ipcRenderer.on("window-maximized-change",it),(j=window.electron)==null||j.ipcRenderer.on("window-fullscreen-change",ot),()=>{var rt,st;(rt=window.electron)==null||rt.ipcRenderer.removeAllListeners("window-maximized-change"),(st=window.electron)==null||st.ipcRenderer.removeAllListeners("window-fullscreen-change")}},[]);const $=()=>{var it,ot;s?(it=window.electron)==null||it.ipcRenderer.send("window-unfullscreen"):(ot=window.electron)==null||ot.ipcRenderer.send("window-maximize")},_e=()=>s?"Exit Full Screen":i?"Restore":"Maximize",tt=()=>s?jsxRuntimeExports.jsx(FiChevronsDown,{}):i?jsxRuntimeExports.jsx(FiMinimize2,{}):jsxRuntimeExports.jsx(FiMaximize2,{});return _?jsxRuntimeExports.jsx(Box,{...layoutStyles.macTitleBar,children:jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"})}):jsxRuntimeExports.jsxs(Box,{...layoutStyles.windowsTitleBar,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.titleBarButtons,children:[jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:()=>{var it;return(it=window.electron)==null?void 0:it.ipcRenderer.send("window-minimize")},"aria-label":"Minimize",children:jsxRuntimeExports.jsx(FiMinus,{})}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:$,"aria-label":_e(),children:tt()}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.closeButton,onClick:()=>{var it;return(it=window.electron)==null?void 0:it.ipcRenderer.send("window-close")},"aria-label":"Close",children:jsxRuntimeExports.jsx(FiX,{})})]})]})}function useInputSubtitle(){const{inputText:i,setInputText:o,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:_,handleSend:$}=useTextInput(),{messages:_e}=useChatHistory(),{handleMicToggle:tt,micOn:nt,isDisabled:it}=useMicToggle(),{aiState:ot,setAiState:et}=useAiState(),{interrupt:j}=useInterrupt(),rt=_e.filter(ut=>ut.role==="ai").slice(-1).map(ut=>ut.content)[0],st=_e.some(ut=>ut.role==="ai");return{inputValue:i,handleInputChange:ut=>{o({target:{value:ut.target.value}}),et(AiStateEnum.WAITING)},handleKeyPress:ut=>{s(ut)},handleCompositionStart:a,handleCompositionEnd:_,handleInterrupt:()=>{j()},handleMicToggle:tt,lastAIMessage:rt,hasAIMessages:st,aiState:ot,micOn:nt,isDisabled:it,handleSend:$}}function useDraggable({componentId:i}){const{mode:o}=useMode(),s=o==="pet",[a,_]=reactExports.useState(!1),$=reactExports.useRef({x:0,y:0}),_e=reactExports.useRef({x:0,y:0}),tt=reactExports.useRef(null);return{elementRef:tt,isDragging:a,handleMouseDown:et=>{_(!0),_e.current={x:et.clientX-$.current.x,y:et.clientY-$.current.y};const j=st=>{if(!tt.current)return;const at={x:st.clientX-_e.current.x,y:st.clientY-_e.current.y};$.current=at,tt.current.style.transform=`translateX(-50%) translate(${$.current.x}px, ${$.current.y}px)`},rt=()=>{_(!1),document.removeEventListener("mousemove",j,!0),document.removeEventListener("mouseup",rt,!0)};document.addEventListener("mousemove",j,!0),document.addEventListener("mouseup",rt,!0)},handleMouseEnter:()=>{var et;s&&((et=window.api)==null||et.updateComponentHover(i,!0))},handleMouseLeave:()=>{var et;s&&!a&&((et=window.api)==null||et.updateComponentHover(i,!1))}}}const inputSubtitleStyles={container:{display:"flex",alignItems:"flex-end",justifyContent:"center",maxW:"fit-content",position:"absolute",bottom:"120px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,userSelect:"none",willChange:"transform",padding:0},box:{w:"400px",rounded:"xl",overflow:"hidden",boxShadow:"lg",bg:"blackAlpha.700",backdropFilter:"blur(8px)",css:{WebkitUserSelect:"none"}},messageStack:{p:"3",gap:1,alignItems:"stretch",justify:"flex-end"},messageText:{color:"white",fontSize:"sm",lineHeight:"1.5",transition:"all 0.3s"},statusBox:{bg:"blackAlpha.600",p:"3",borderTop:"1px",borderColor:"whiteAlpha.200"},statusText:{fontSize:"xs",color:"whiteAlpha.800",transition:"all 0.3s"},iconButton:{size:"xs",variant:"ghost",color:"whiteAlpha.800",_hover:{bg:"whiteAlpha.200"}},inputBox:{bg:"blackAlpha.600",borderTop:"1px",borderColor:"whiteAlpha.200"},input:{size:"sm",bg:"blackAlpha.500",color:"white",_placeholder:{color:"whiteAlpha.500"},borderColor:"whiteAlpha.300",_focus:{borderColor:"whiteAlpha.500",outline:"none"},flex:"1"},sendButton:{p:"1.5",bg:"blackAlpha.500",rounded:"lg",_hover:{bg:"blackAlpha.600"},transition:"colors",color:"whiteAlpha.800",size:"sm"},draggableContainer:i=>({cursor:i?"grabbing":"grab",transition:i?"none":"transform 0.1s ease",_active:{cursor:"grabbing"}}),closeButton:{position:"absolute",top:0,right:0,size:"2xs",minW:"6",height:"6",padding:0,variant:"ghost",color:"whiteAlpha.400",bg:"transparent",_hover:{bg:"blackAlpha.300",color:"whiteAlpha.800"},zIndex:10}};function InputSubtitle(){const{inputValue:i,handleInputChange:o,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:_,handleInterrupt:$,handleMicToggle:_e,handleSend:tt,lastAIMessage:nt,hasAIMessages:it,aiState:ot,micOn:et,isDisabled:j}=useInputSubtitle(),{mode:rt}=useMode(),st=rt==="pet",{elementRef:at,isDragging:lt,handleMouseDown:ct,handleMouseEnter:ut,handleMouseLeave:dt}=useDraggable({componentId:"input-subtitle"}),[ft,ht]=reactExports.useState(!0),mt=reactExports.useCallback(()=>{var yt;st&&((yt=window.api)==null||yt.updateComponentHover("input-subtitle",!1)),ht(!1)},[st]),bt=()=>{ht(!0)};return reactExports.useEffect(()=>{var yt;if(st){const gt=(yt=window.api)==null?void 0:yt.onToggleInputSubtitle(()=>{ft?mt():bt()});return()=>gt==null?void 0:gt()}return()=>{}},[mt,st,ft]),reactExports.useEffect(()=>(window.inputSubtitle={open:bt,close:mt},()=>{delete window.inputSubtitle}),[st,mt]),ft?jsxRuntimeExports.jsx(Box,{ref:at,...inputSubtitleStyles.container,...inputSubtitleStyles.draggableContainer(lt),onMouseDown:ct,onMouseEnter:ut,onMouseLeave:dt,children:jsxRuntimeExports.jsxs(Box,{...inputSubtitleStyles.box,children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Close subtitle",onClick:mt,...inputSubtitleStyles.closeButton,children:jsxRuntimeExports.jsx(LuX,{size:12})}),it&&jsxRuntimeExports.jsx(VStack,{minH:nt?"32px":"0px",...inputSubtitleStyles.messageStack,children:nt&&jsxRuntimeExports.jsx(Text,{...inputSubtitleStyles.messageText,children:nt})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.statusBox,children:jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"space-between",color:"whiteAlpha.700",children:[jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"2",children:[jsxRuntimeExports.jsx(LuBell,{size:16}),jsxRuntimeExports.jsx(Text,{...inputSubtitleStyles.statusText,children:ot})]}),jsxRuntimeExports.jsxs(Flex,{gap:"2",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Toggle microphone",onClick:_e,disabled:j,...inputSubtitleStyles.iconButton,children:et?jsxRuntimeExports.jsx(LuMic,{size:16}):jsxRuntimeExports.jsx(LuMicOff,{size:16})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Interrupt",onClick:$,...inputSubtitleStyles.iconButton,children:jsxRuntimeExports.jsx(LuHand,{size:16})})]})]})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.inputBox,children:jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:"2",p:"2",children:[jsxRuntimeExports.jsx(Input$1,{value:i,onChange:o,onKeyDown:s,onCompositionStart:a,onCompositionEnd:_,placeholder:"Type your message...",...inputSubtitleStyles.input}),jsxRuntimeExports.jsx(Button$2,{onClick:tt,...inputSubtitleStyles.sendButton,children:jsxRuntimeExports.jsx(LuSend,{size:16})})]})})]})}):null}const canvasStyles={background:{container:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:"auto"},image:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1},video:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:"scaleX(-1)"}},subtitle:{container:{backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"15px 30px",borderRadius:"12px",minWidth:"60%",maxWidth:"95%"},text:{color:"white",fontSize:"1.5rem",textAlign:"center",lineHeight:"1.4",whiteSpace:"pre-wrap"}},wsStatus:{container:{position:"relative",zIndex:2,padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"medium",color:"white",transition:"all 0.2s",cursor:"pointer",userSelect:"none",_hover:{opacity:.8}}}},Background=reactExports.memo(({children:i})=>{const o=reactExports.useRef(null),{backgroundStream:s,isBackgroundStreaming:a,startBackgroundCamera:_,stopBackgroundCamera:$}=useCamera(),{useCameraBackground:_e,backgroundUrl:tt}=useBgUrl();return reactExports.useEffect(()=>{_e?_():$()},[_e,_,$]),reactExports.useEffect(()=>{o.current&&s&&(o.current.srcObject=s)},[s]),jsxRuntimeExports.jsxs(Box,{...canvasStyles.background.container,children:[_e?jsxRuntimeExports.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,style:{...canvasStyles.background.video,display:a?"block":"none",transform:"scaleX(-1)"}}):jsxRuntimeExports.jsx(Image$1,{...canvasStyles.background.image,src:tt,alt:"background"}),i]})});Background.displayName="Background";function MemoryLab(){const{baseUrl:i}=useWebSocket(),[o,s]=reactExports.useState("*"),[a,_]=reactExports.useState([]),[$,_e]=reactExports.useState(void 0),[tt,nt]=reactExports.useState([]),[it,ot]=reactExports.useState(new Set),[et,j]=reactExports.useState(""),rt=async()=>{if(!i)return;const ct=await searchMemoryWithKinds(i,o||"*",a,50,void 0,$,{withCredentials:!1});nt(ct)},st=async()=>{if(i)try{const ct=await exportMemory(i,"json",{limit:5e4},{withCredentials:!1}),ut=Array.isArray(ct==null?void 0:ct.items)?ct.items:[];nt(ut)}catch{alert("Export load failed")}};reactExports.useEffect(()=>{rt().catch(()=>{})},[]);const at=ct=>ot(ut=>{const dt=new Set(ut);return dt.has(ct)?dt.delete(ct):dt.add(ct),dt}),lt=reactExports.useMemo(()=>tt.filter(ct=>{var ut,dt;return!(a.length&&!a.includes(String(((ut=ct.metadata)==null?void 0:ut.kind)||ct.kind||""))||typeof $=="number"&&Number(((dt=ct.metadata)==null?void 0:dt.importance)??0)<$)}),[tt,a,$]);return jsxRuntimeExports.jsxs(Box,{p:3,color:"white",children:[jsxRuntimeExports.jsxs(Box,{display:"flex",gap:2,alignItems:"center",mb:3,flexWrap:"wrap",children:[jsxRuntimeExports.jsx(Input$1,{placeholder:"query (* for all)",value:o,onChange:ct=>s(ct.target.value),width:"260px"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"kinds (comma)",value:a.join(","),onChange:ct=>_(ct.target.value.split(",").map(ut=>ut.trim()).filter(Boolean)),width:"260px"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"min_importance",value:$??"",onChange:ct=>_e(ct.target.value===""?void 0:Number(ct.target.value)),width:"160px"}),jsxRuntimeExports.jsx(Button$2,{onClick:()=>rt(),children:"Load"}),jsxRuntimeExports.jsx(Button$2,{variant:"outline",onClick:()=>st(),title:"Load full memory via export",children:"Load All"})]}),lt.length===0&&jsxRuntimeExports.jsx(Text,{color:"whiteAlpha.700",mt:2,children:"Нет записей для отображения"}),lt.length>0&&jsxRuntimeExports.jsxs(TableRoot,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableColumnHeader,{w:"40px",children:"#"}),jsxRuntimeExports.jsx(TableColumnHeader,{w:"160px",children:"Kind"}),jsxRuntimeExports.jsx(TableColumnHeader,{children:"Text"}),jsxRuntimeExports.jsx(TableColumnHeader,{w:"120px",children:"Importance"}),jsxRuntimeExports.jsx(TableColumnHeader,{w:"160px",children:"Timestamp"})]})}),jsxRuntimeExports.jsx(TableBody,{children:lt.map((ct,ut)=>{var dt,ft,ht;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("input",{type:"checkbox","aria-label":"select row",title:"select row",checked:it.has(String(ct.id||"")),onChange:()=>at(String(ct.id||""))})}),jsxRuntimeExports.jsx(TableCell,{children:String(((dt=ct.metadata)==null?void 0:dt.kind)||ct.kind||"")}),jsxRuntimeExports.jsx(TableCell,{children:ct.text}),jsxRuntimeExports.jsx(TableCell,{children:String(((ft=ct.metadata)==null?void 0:ft.importance)??"")}),jsxRuntimeExports.jsx(TableCell,{children:String(((ht=ct.metadata)==null?void 0:ht.timestamp)??"")})]},ct.id||ut)})})]}),jsxRuntimeExports.jsxs(Box,{mt:3,display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Button$2,{variant:"outline",onClick:async()=>{if(!i)return alert("baseUrl not set");const ct=Array.from(it).filter(Boolean);if(!ct.length)return alert("Нужно выбрать записи");try{const ut=await deleteManyMemory(i,ct,{withCredentials:!1});alert(`Deleted: ${ut.deleted}`),await rt(),ot(new Set)}catch{alert("Bulk delete failed")}},children:"Bulk delete"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"new kind (retag)",value:et,onChange:ct=>j(ct.target.value),width:"200px"}),jsxRuntimeExports.jsx(Button$2,{variant:"outline",onClick:async()=>{if(!i)return alert("baseUrl not set");const ct=Array.from(it).filter(Boolean);if(!ct.length)return alert("Нужно выбрать записи");if(!et.trim())return alert("Укажи new kind");try{const ut=await retagManyMemory(i,ct,et.trim(),{withCredentials:!1});alert(`Updated: ${ut.updated}`),await rt(),ot(new Set)}catch{alert("Bulk retag failed")}},children:"Bulk retag"})]})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends$1.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(i){i===void 0&&(i={});function o(_,$){let{pathname:_e="/",search:tt="",hash:nt=""}=parsePath(_.location.hash.substr(1));return!_e.startsWith("/")&&!_e.startsWith(".")&&(_e="/"+_e),createLocation("",{pathname:_e,search:tt,hash:nt},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}function s(_,$){let _e=_.document.querySelector("base"),tt="";if(_e&&_e.getAttribute("href")){let nt=_.location.href,it=nt.indexOf("#");tt=it===-1?nt:nt.slice(0,it)}return tt+"#"+(typeof $=="string"?$:createPath($))}function a(_,$){warning(_.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify($)+")")}return getUrlBasedHistory(o,s,a,i)}function invariant(i,o){if(i===!1||i===null||typeof i>"u")throw new Error(o)}function warning(i,o){if(!i){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,o){return{usr:i.state,key:i.key,idx:o}}function createLocation(i,o,s,a){return s===void 0&&(s=null),_extends$1({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:s,key:o&&o.key||a||createKey()})}function createPath(i){let{pathname:o="/",search:s="",hash:a=""}=i;return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function parsePath(i){let o={};if(i){let s=i.indexOf("#");s>=0&&(o.hash=i.substr(s),i=i.substr(0,s));let a=i.indexOf("?");a>=0&&(o.search=i.substr(a),i=i.substr(0,a)),i&&(o.pathname=i)}return o}function getUrlBasedHistory(i,o,s,a){a===void 0&&(a={});let{window:_=document.defaultView,v5Compat:$=!1}=a,_e=_.history,tt=Action.Pop,nt=null,it=ot();it==null&&(it=0,_e.replaceState(_extends$1({},_e.state,{idx:it}),""));function ot(){return(_e.state||{idx:null}).idx}function et(){tt=Action.Pop;let lt=ot(),ct=lt==null?null:lt-it;it=lt,nt&&nt({action:tt,location:at.location,delta:ct})}function j(lt,ct){tt=Action.Push;let ut=createLocation(at.location,lt,ct);s&&s(ut,lt),it=ot()+1;let dt=getHistoryState(ut,it),ft=at.createHref(ut);try{_e.pushState(dt,"",ft)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;_.location.assign(ft)}$&&nt&&nt({action:tt,location:at.location,delta:1})}function rt(lt,ct){tt=Action.Replace;let ut=createLocation(at.location,lt,ct);s&&s(ut,lt),it=ot();let dt=getHistoryState(ut,it),ft=at.createHref(ut);_e.replaceState(dt,"",ft),$&&nt&&nt({action:tt,location:at.location,delta:0})}function st(lt){let ct=_.location.origin!=="null"?_.location.origin:_.location.href,ut=typeof lt=="string"?lt:createPath(lt);return ut=ut.replace(/ $/,"%20"),invariant(ct,"No window.location.(origin|href) available to create URL for href: "+ut),new URL(ut,ct)}let at={get action(){return tt},get location(){return i(_,_e)},listen(lt){if(nt)throw new Error("A history only accepts one active listener");return _.addEventListener(PopStateEventType,et),nt=lt,()=>{_.removeEventListener(PopStateEventType,et),nt=null}},createHref(lt){return o(_,lt)},createURL:st,encodeLocation(lt){let ct=st(lt);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:j,replace:rt,go(lt){return _e.go(lt)}};return at}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,o,s){return s===void 0&&(s="/"),matchRoutesImpl(i,o,s)}function matchRoutesImpl(i,o,s,a){let _=typeof o=="string"?parsePath(o):o,$=stripBasename(_.pathname||"/",s);if($==null)return null;let _e=flattenRoutes(i);rankRouteBranches(_e);let tt=null;for(let nt=0;tt==null&&nt<_e.length;++nt){let it=decodePath($);tt=matchRouteBranch(_e[nt],it)}return tt}function flattenRoutes(i,o,s,a){o===void 0&&(o=[]),s===void 0&&(s=[]),a===void 0&&(a="");let _=($,_e,tt)=>{let nt={relativePath:tt===void 0?$.path||"":tt,caseSensitive:$.caseSensitive===!0,childrenIndex:_e,route:$};nt.relativePath.startsWith("/")&&(invariant(nt.relativePath.startsWith(a),'Absolute route path "'+nt.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),nt.relativePath=nt.relativePath.slice(a.length));let it=joinPaths([a,nt.relativePath]),ot=s.concat(nt);$.children&&$.children.length>0&&(invariant($.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+it+'".')),flattenRoutes($.children,o,ot,it)),!($.path==null&&!$.index)&&o.push({path:it,score:computeScore(it,$.index),routesMeta:ot})};return i.forEach(($,_e)=>{var tt;if($.path===""||!((tt=$.path)!=null&&tt.includes("?")))_($,_e);else for(let nt of explodeOptionalSegments($.path))_($,_e,nt)}),o}function explodeOptionalSegments(i){let o=i.split("/");if(o.length===0)return[];let[s,...a]=o,_=s.endsWith("?"),$=s.replace(/\?$/,"");if(a.length===0)return _?[$,""]:[$];let _e=explodeOptionalSegments(a.join("/")),tt=[];return tt.push(..._e.map(nt=>nt===""?$:[$,nt].join("/"))),_&&tt.push(..._e),tt.map(nt=>i.startsWith("/")&&nt===""?"/":nt)}function rankRouteBranches(i){i.sort((o,s)=>o.score!==s.score?s.score-o.score:compareIndexes(o.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,o){let s=i.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),o&&(a+=indexRouteValue),s.filter(_=>!isSplat(_)).reduce((_,$)=>_+(paramRe.test($)?dynamicSegmentValue:$===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(i,o){return i.length===o.length&&i.slice(0,-1).every((a,_)=>a===o[_])?i[i.length-1]-o[o.length-1]:0}function matchRouteBranch(i,o,s){let{routesMeta:a}=i,_={},$="/",_e=[];for(let tt=0;tt<a.length;++tt){let nt=a[tt],it=tt===a.length-1,ot=$==="/"?o:o.slice($.length)||"/",et=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:it},ot),j=nt.route;if(!et)return null;Object.assign(_,et.params),_e.push({params:_,pathname:joinPaths([$,et.pathname]),pathnameBase:normalizePathname(joinPaths([$,et.pathnameBase])),route:j}),et.pathnameBase!=="/"&&($=joinPaths([$,et.pathnameBase]))}return _e}function matchPath(i,o){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,a]=compilePath(i.path,i.caseSensitive,i.end),_=o.match(s);if(!_)return null;let $=_[0],_e=$.replace(/(.)\/+$/,"$1"),tt=_.slice(1);return{params:a.reduce((it,ot,et)=>{let{paramName:j,isOptional:rt}=ot;if(j==="*"){let at=tt[et]||"";_e=$.slice(0,$.length-at.length).replace(/(.)\/+$/,"$1")}const st=tt[et];return rt&&!st?it[j]=void 0:it[j]=(st||"").replace(/%2F/g,"/"),it},{}),pathname:$,pathnameBase:_e,pattern:i}}function compilePath(i,o,s){o===void 0&&(o=!1),s===void 0&&(s=!0),warning(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],_="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_e,tt,nt)=>(a.push({paramName:tt,isOptional:nt!=null}),nt?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),_+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?_+="\\/*$":i!==""&&i!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,o?void 0:"i"),a]}function decodePath(i){try{return i.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),i}}function stripBasename(i,o){if(o==="/")return i;if(!i.toLowerCase().startsWith(o.toLowerCase()))return null;let s=o.endsWith("/")?o.length-1:o.length,a=i.charAt(s);return a&&a!=="/"?null:i.slice(s)||"/"}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutes(i,o){return useRoutesImpl(i,o)}function useRoutesImpl(i,o,s,a){useInRouterContext()||invariant(!1);let{navigator:_}=reactExports.useContext(NavigationContext),{matches:$}=reactExports.useContext(RouteContext),_e=$[$.length-1],tt=_e?_e.params:{};_e&&_e.pathname;let nt=_e?_e.pathnameBase:"/";_e&&_e.route;let it=useLocation(),ot;if(o){var et;let lt=typeof o=="string"?parsePath(o):o;nt==="/"||(et=lt.pathname)!=null&&et.startsWith(nt)||invariant(!1),ot=lt}else ot=it;let j=ot.pathname||"/",rt=j;if(nt!=="/"){let lt=nt.replace(/^\//,"").split("/");rt="/"+j.replace(/^\//,"").split("/").slice(lt.length).join("/")}let st=matchRoutes(i,{pathname:rt}),at=_renderMatches(st&&st.map(lt=>Object.assign({},lt,{params:Object.assign({},tt,lt.params),pathname:joinPaths([nt,_.encodeLocation?_.encodeLocation(lt.pathname).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?nt:joinPaths([nt,_.encodeLocation?_.encodeLocation(lt.pathnameBase).pathname:lt.pathnameBase])})),$,s,a);return o&&at?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},ot),navigationType:Action.Pop}},at):at}function DefaultErrorComponent(){let i=useRouteError(),o=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,_={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),s?reactExports.createElement("pre",{style:_},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){console.error("React Router caught the following error during render",o,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:o,match:s,children:a}=i,_=reactExports.useContext(DataRouterContext);return _&&_.static&&_.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(_.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:o},a)}function _renderMatches(i,o,s,a){var _;if(o===void 0&&(o=[]),s===void 0&&(s=null),a===void 0&&(a=null),i==null){var $;if(!s)return null;if(s.errors)i=s.matches;else if(($=a)!=null&&$.v7_partialHydration&&o.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let _e=i,tt=(_=s)==null?void 0:_.errors;if(tt!=null){let ot=_e.findIndex(et=>et.route.id&&(tt==null?void 0:tt[et.route.id])!==void 0);ot>=0||invariant(!1),_e=_e.slice(0,Math.min(_e.length,ot+1))}let nt=!1,it=-1;if(s&&a&&a.v7_partialHydration)for(let ot=0;ot<_e.length;ot++){let et=_e[ot];if((et.route.HydrateFallback||et.route.hydrateFallbackElement)&&(it=ot),et.route.id){let{loaderData:j,errors:rt}=s,st=et.route.loader&&j[et.route.id]===void 0&&(!rt||rt[et.route.id]===void 0);if(et.route.lazy||st){nt=!0,it>=0?_e=_e.slice(0,it+1):_e=[_e[0]];break}}}return _e.reduceRight((ot,et,j)=>{let rt,st=!1,at=null,lt=null;s&&(rt=tt&&et.route.id?tt[et.route.id]:void 0,at=et.route.errorElement||defaultErrorElement,nt&&(it<0&&j===0?(warningOnce("route-fallback"),st=!0,lt=null):it===j&&(st=!0,lt=et.route.hydrateFallbackElement||null)));let ct=o.concat(_e.slice(0,j+1)),ut=()=>{let dt;return rt?dt=at:st?dt=lt:et.route.Component?dt=reactExports.createElement(et.route.Component,null):et.route.element?dt=et.route.element:dt=ot,reactExports.createElement(RenderedRoute,{match:et,routeContext:{outlet:ot,matches:ct,isDataRoute:s!=null},children:dt})};return s&&(et.route.ErrorBoundary||et.route.errorElement||j===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:at,error:rt,children:ut(),routeContext:{outlet:null,matches:ct,isDataRoute:!0}}):ut()},null)}var DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterState(i){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(i){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(i){let o=useRouteContext(),s=o.matches[o.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var i;let o=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId();return o!==void 0?o:(i=s.errors)==null?void 0:i[a]}const alreadyWarned$1={};function warningOnce(i,o,s){alreadyWarned$1[i]||(alreadyWarned$1[i]=!0)}function logV6DeprecationWarnings(i,o){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Route(i){invariant(!1)}function Router(i){let{basename:o="/",children:s=null,location:a,navigationType:_=Action.Pop,navigator:$,static:_e=!1,future:tt}=i;useInRouterContext()&&invariant(!1);let nt=o.replace(/^\/*/,"/"),it=reactExports.useMemo(()=>({basename:nt,navigator:$,static:_e,future:_extends({v7_relativeSplatPath:!1},tt)}),[nt,tt,$,_e]);typeof a=="string"&&(a=parsePath(a));let{pathname:ot="/",search:et="",hash:j="",state:rt=null,key:st="default"}=a,at=reactExports.useMemo(()=>{let lt=stripBasename(ot,nt);return lt==null?null:{location:{pathname:lt,search:et,hash:j,state:rt,key:st},navigationType:_}},[nt,ot,et,j,rt,st,_]);return at==null?null:reactExports.createElement(NavigationContext.Provider,{value:it},reactExports.createElement(LocationContext.Provider,{children:s,value:at}))}function Routes(i){let{children:o,location:s}=i;return useRoutes(createRoutesFromChildren(o),s)}new Promise(()=>{});function createRoutesFromChildren(i,o){o===void 0&&(o=[]);let s=[];return reactExports.Children.forEach(i,(a,_)=>{if(!reactExports.isValidElement(a))return;let $=[...o,_];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,$));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let _e={id:a.props.id||$.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(_e.children=createRoutesFromChildren(a.props.children,$)),s.push(_e)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(i){}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(i){let{basename:o,children:s,future:a,window:_}=i,$=reactExports.useRef();$.current==null&&($.current=createHashHistory({window:_,v5Compat:!0}));let _e=$.current,[tt,nt]=reactExports.useState({action:_e.action,location:_e.location}),{v7_startTransition:it}=a||{},ot=reactExports.useCallback(et=>{it&&startTransitionImpl?startTransitionImpl(()=>nt(et)):nt(et)},[nt,it]);return reactExports.useLayoutEffect(()=>_e.listen(ot),[_e,ot]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:o,children:s,location:tt.location,navigationType:tt.action,navigator:_e,future:a})}var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const useWSStatus=()=>{const{wsState:i,reconnect:o}=useWebSocket(),s=reactExports.useCallback(()=>{i!=="OPEN"&&i!=="CONNECTING"&&o()},[i,o]);return reactExports.useMemo(()=>{switch(i){case"OPEN":return{color:"green.500",textKey:"wsStatus.connected",isDisconnected:!1,handleClick:s};case"CONNECTING":return{color:"yellow.500",textKey:"wsStatus.connecting",isDisconnected:!1,handleClick:s};default:return{color:"red.500",textKey:"wsStatus.clickToReconnect",isDisconnected:!0,handleClick:s}}},[i,s])},StatusContent=({textKey:i})=>{const{t:o}=useTranslation();return o(i)},MemoizedStatusContent=reactExports.memo(StatusContent),WebSocketStatus=reactExports.memo(()=>{const{color:i,textKey:o,handleClick:s,isDisconnected:a}=useWSStatus();return jsxRuntimeExports.jsx(Box,{...canvasStyles.wsStatus.container,backgroundColor:i,onClick:s,cursor:a?"pointer":"default",_hover:{opacity:a?.8:1},children:jsxRuntimeExports.jsx(MemoizedStatusContent,{textKey:o})})});WebSocketStatus.displayName="WebSocketStatus";const useSubtitleDisplay=()=>{const i=useSubtitle();return{subtitleText:reactExports.useMemo(()=>i?i.subtitleText:null,[i==null?void 0:i.subtitleText]),isLoaded:!!i}},SubtitleText=reactExports.memo(({text:i})=>jsxRuntimeExports.jsx(Text,{...canvasStyles.subtitle.text,children:i}));SubtitleText.displayName="SubtitleText";const Subtitle=reactExports.memo(()=>{const{subtitleText:i,isLoaded:o}=useSubtitleDisplay(),{showSubtitle:s}=useSubtitle();return!o||!i||!s?null:jsxRuntimeExports.jsx(Box,{...canvasStyles.subtitle.container,children:jsxRuntimeExports.jsx(SubtitleText,{text:i})})});Subtitle.displayName="Subtitle";function AppContent(){const[i,o]=reactExports.useState(!0),[s,a]=reactExports.useState(!1),{mode:_}=useMode(),$=window.api!==void 0,_e=reactExports.useRef(null);reactExports.useEffect(()=>{const ot=()=>{const et=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${et}px`)};return ot(),window.addEventListener("resize",ot),()=>window.removeEventListener("resize",ot)},[]),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.documentElement.style.height="100%",document.body.style.height="100%",document.documentElement.style.position="fixed",document.body.style.position="fixed",document.documentElement.style.width="100%",document.body.style.width="100%";const tt={position:"absolute",overflow:"hidden",transition:"all 0.3s ease-in-out",pointerEvents:"auto"},nt=ot=>({...tt,top:$?"30px":"0px",height:`calc(100% - ${$?"30px":"0px"})`,zIndex:5,left:{base:"0px",md:ot?"440px":"24px"},width:{base:"100%",md:`calc(100% - ${ot?"440px":"24px"})`}}),it={...tt,top:0,left:0,width:"100vw",height:"100vh",zIndex:15};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{ref:_e,..._==="window"?nt(i):it,children:jsxRuntimeExports.jsx(Live2D,{})}),_==="window"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$&&jsxRuntimeExports.jsx(TitleBar,{}),jsxRuntimeExports.jsxs(Flex,{...layoutStyles.appContainer,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.sidebar,...!i&&{width:"24px"},children:jsxRuntimeExports.jsx(Sidebar,{isCollapsed:!i,onToggle:()=>o(!i)})}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.mainContent,children:[jsxRuntimeExports.jsx(Background,{}),jsxRuntimeExports.jsx(Box,{position:"absolute",top:"20px",left:"20px",zIndex:10,children:jsxRuntimeExports.jsx(WebSocketStatus,{})}),jsxRuntimeExports.jsx(Box,{position:"absolute",bottom:s?"39px":"135px",left:"50%",transform:"translateX(-50%)",zIndex:10,width:"60%",children:jsxRuntimeExports.jsx(Subtitle,{})}),jsxRuntimeExports.jsx(Box,{...layoutStyles.footer,zIndex:10,...s&&layoutStyles.collapsedFooter,children:jsxRuntimeExports.jsx(Footer,{isCollapsed:s,onToggle:()=>a(!s)})})]})]})]}),_==="pet"&&jsxRuntimeExports.jsx(InputSubtitle,{})]})}function App(){return jsxRuntimeExports.jsx(ChakraProvider,{value:defaultSystem,children:jsxRuntimeExports.jsx(ModeProvider,{children:jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/memory-lab",element:jsxRuntimeExports.jsx(MemoryLab,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(AppWithGlobalStyles,{})})]})})})})}function AppWithGlobalStyles(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CameraProvider,{children:jsxRuntimeExports.jsx(ScreenCaptureProvider,{children:jsxRuntimeExports.jsx(CharacterConfigProvider,{children:jsxRuntimeExports.jsx(ChatHistoryProvider,{children:jsxRuntimeExports.jsx(AiStateProvider,{children:jsxRuntimeExports.jsx(ProactiveSpeakProvider,{children:jsxRuntimeExports.jsx(Live2DConfigProvider,{children:jsxRuntimeExports.jsx(SubtitleProvider,{children:jsxRuntimeExports.jsx(VADProvider,{children:jsxRuntimeExports.jsx(BgUrlProvider,{children:jsxRuntimeExports.jsx(GroupProvider,{children:jsxRuntimeExports.jsx(BrowserProvider,{children:jsxRuntimeExports.jsx(TwitchProvider,{children:jsxRuntimeExports.jsxs(WebSocketHandler,{children:[jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(AppContent,{})]})})})})})})})})})})})})})})})}let s_adapter_instance=null;class LAppAdapter{static getInstance(){return s_adapter_instance==null&&(s_adapter_instance=new LAppAdapter),s_adapter_instance}getMgr(){return LAppLive2DManager.getInstance()}getModel(){return this.getMgr().getModel(0)}getIdManager(){return CubismFramework.getIdManager()}getMotionGroups(){var s,a;let o=[];for(let _=0;_<((s=this.getModel())==null?void 0:s._modelSetting.getMotionGroupCount());_++)o.push(((a=this.getModel())==null?void 0:a._modelSetting.getMotionGroupName(_))??"");return o}getMotionCount(o){var s;return((s=this.getModel())==null?void 0:s._modelSetting.getMotionCount(o))??0}startMotion(o,s,a,_){var $;return(($=this.getModel())==null?void 0:$.startMotion(o,s,a,_))??InvalidMotionQueueEntryHandleValue}getExpressionCount(){var o;return((o=this.getModel())==null?void 0:o._expressions.getSize())??0}getExpressionName(o){var s,a;return((a=(s=this.getModel())==null?void 0:s._modelSetting)==null?void 0:a.getExpressionName(o))??""}setExpression(o){var s;(s=this.getModel())==null||s.setExpression(o)}nextChara(){this.getMgr().nextScene()}setChara(o,s){var $;const a=(o.endsWith("/")?o:o+"/")+s+"/",_=s+".model3.json";this.getMgr().releaseAllModel(),this.getMgr()._models.pushBack(new LAppModel),($=this.getMgr()._models.at(0))==null||$.loadAssets(a,_)}getModelPosition(){const o=this.getModel();if(o&&o._modelMatrix){const s=o._modelMatrix.getArray();return{x:s[12],y:s[13]}}return{x:0,y:0}}setModelPosition(o,s){const a=this.getModel();if(a&&a._modelMatrix){const $=[...a._modelMatrix.getArray()];$[12]=o,$[13]=s,a._modelMatrix.setMatrix($)}}}const{slice,forEach}=[];function defaults(i){return forEach.call(slice.call(arguments,1),o=>{if(o)for(const s in o)i[s]===void 0&&(i[s]=o[s])}),i}function hasXSS(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(i))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(i,o){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},_=encodeURIComponent(o);let $=`${i}=${_}`;if(a.maxAge>0){const _e=a.maxAge-0;if(Number.isNaN(_e))throw new Error("maxAge should be a Number");$+=`; Max-Age=${Math.floor(_e)}`}if(a.domain){if(!fieldContentRegExp.test(a.domain))throw new TypeError("option domain is invalid");$+=`; Domain=${a.domain}`}if(a.path){if(!fieldContentRegExp.test(a.path))throw new TypeError("option path is invalid");$+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");$+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&($+="; HttpOnly"),a.secure&&($+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"strict":$+="; SameSite=Strict";break;case"none":$+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return $},cookie={create(i,o,s,a){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(_.expires=new Date,_.expires.setTime(_.expires.getTime()+s*60*1e3)),a&&(_.domain=a),document.cookie=serializeCookie(i,encodeURIComponent(o),_)},read(i){const o=`${i}=`,s=document.cookie.split(";");for(let a=0;a<s.length;a++){let _=s[a];for(;_.charAt(0)===" ";)_=_.substring(1,_.length);if(_.indexOf(o)===0)return _.substring(o.length,_.length)}return null},remove(i){this.create(i,"",-1)}};var cookie$1={name:"cookie",lookup(i){let{lookupCookie:o}=i;if(o&&typeof document<"u")return cookie.read(o)||void 0},cacheUserLanguage(i,o){let{lookupCookie:s,cookieMinutes:a,cookieDomain:_,cookieOptions:$}=o;s&&typeof document<"u"&&cookie.create(s,i,a,_,$)}},querystring={name:"querystring",lookup(i){var a;let{lookupQuerystring:o}=i,s;if(typeof window<"u"){let{search:_}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(_=window.location.hash.substring(window.location.hash.indexOf("?")));const _e=_.substring(1).split("&");for(let tt=0;tt<_e.length;tt++){const nt=_e[tt].indexOf("=");nt>0&&_e[tt].substring(0,nt)===o&&(s=_e[tt].substring(nt+1))}}return s}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(i){let{lookupLocalStorage:o}=i;if(o&&localStorageAvailable())return window.localStorage.getItem(o)||void 0},cacheUserLanguage(i,o){let{lookupLocalStorage:s}=o;s&&localStorageAvailable()&&window.localStorage.setItem(s,i)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(i){let{lookupSessionStorage:o}=i;if(o&&sessionStorageAvailable())return window.sessionStorage.getItem(o)||void 0},cacheUserLanguage(i,o){let{lookupSessionStorage:s}=o;s&&sessionStorageAvailable()&&window.sessionStorage.setItem(s,i)}},navigator$1={name:"navigator",lookup(i){const o=[];if(typeof navigator<"u"){const{languages:s,userLanguage:a,language:_}=navigator;if(s)for(let $=0;$<s.length;$++)o.push(s[$]);a&&o.push(a),_&&o.push(_)}return o.length>0?o:void 0}},htmlTag={name:"htmlTag",lookup(i){let{htmlTag:o}=i,s;const a=o||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(s=a.getAttribute("lang")),s}},path={name:"path",lookup(i){var _;let{lookupFromPathIndex:o}=i;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(_=s[typeof o=="number"?o:0])==null?void 0:_.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(i){var _,$;let{lookupFromSubdomainIndex:o}=i;const s=typeof o=="number"?o+1:1,a=typeof window<"u"&&(($=(_=window.location)==null?void 0:_.hostname)==null?void 0:$.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[s]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch(i){}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class Browser{constructor(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(o,s)}init(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=o,this.options=defaults(s,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=_=>_.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(o){return this.detectors[o.name]=o,this}detect(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return o.forEach(a=>{if(this.detectors[a]){let _=this.detectors[a].lookup(this.options);_&&typeof _=="string"&&(_=[_]),_&&(s=s.concat(_))}}),s=s.filter(a=>a!=null&&!hasXSS(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(o)>-1||s.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(o,this.options)}))}}Browser.type="languageDetector";const common$2={save:"Save",cancel:"Cancel",settings:"Settings",close:"Close",accept:"Accept"},settings$2={tabs:{general:"General",live2d:"Live2D",asr:"ASR",tts:"TTS",agent:"Agent",about:"About",sampling:"Sampling",memory:"Memory"},general:{language:"Language",useCameraBackground:"Use Camera Background",showSubtitle:"Show Subtitle",backgroundImage:"Background Image",customBgUrlPlaceholder:"Enter image URL",customBgUrl:"Or enter a custom background URL",characterPreset:"Character Preset",wsUrl:"WebSocket URL",baseUrl:"Base URL",imageCompressionQuality:"Image Compression Quality",imageCompressionQualityPlaceholder:"Enter compression quality (0-100)",imageMaxWidth:"Image Max Width",imageMaxWidthPlaceholder:"Enter maximum width in pixels"},live2d:{pointerInteractive:"Pointer Interactive",scrollToResize:"Enable Scroll to Resize"},asr:{autoStopMic:"Auto Stop Mic When AI Start Speaking",autoStopMicDesc:"Automatically stops microphone when AI begins speaking to prevent audio feedback",autoStartMicOnConvEnd:"Auto Start Mic When Conversation End",autoStartMicOnConvEndDesc:"Automatically restarts microphone when AI finishes speaking for seamless conversation",autoStartMicOn:"Auto Start Mic When AI Interrupted",autoStartMicOnDesc:"Automatically restarts microphone when you interrupt AI for continuous interaction",positiveSpeechThreshold:"Speech Prob Threshold",positiveSpeechThresholdDesc:"Minimum confidence level (1-100) required to detect speech. Higher values reduce false positives",negativeSpeechThreshold:"Negative Speech Threshold",negativeSpeechThresholdDesc:"Confidence level (0-100) below which speech detection stops. Lower values make detection less sensitive",redemptionFrames:"Redemption Frames",redemptionFramesDesc:"Number of consecutive frames (1-100) needed to confirm speech detection. Higher values reduce noise triggers"},agent:{allowProactiveSpeak:"Allow AI to Speak Proactively",idleSecondsToSpeak:"Idle seconds allow AI to speak",allowButtonTrigger:"Prompt AI to Speak via Raise Hand Button"},about:{title:"Open LLM VTuber Frontend",version:"Version",projectLinks:"Project Links",github:"GitHub",documentation:"Documentation",license:"License",copyright:"Copyright",viewLicense:"View License"},tts:{currentEngine:"Current TTS engine",unknown:"Unknown",note:"Options depend on the selected TTS"},sampling:{temperature:"Temperature",top_p:"Top P",frequency_penalty:"Frequency penalty",presence_penalty:"Presence penalty",max_tokens:"Max tokens",seed:"Seed",presets:{strict:"Strict",balanced:"Balanced",creative:"Creative"}},memory:{enabled:"Enable long-term memory",top_k:"Top‑K retrieval",clear_current:"Clear current character",clear_all:"Clear ALL"}},footer$2={typeYourMessage:"Type your message...",cameraControl:"Click to start camera",cameraStopping:"Click to stop camera",screenControl:"Click to start screen capture",screenStopping:"Click to stop screen capture"},sidebar$2={camera:"Camera",screen:"Screen",browser:"Browser",live:"Live",stream:"Stream",noMessages:"No messages yet. Start a conversation!",noBrowserSession:"No active browser session",browserSession:"Browser Session"},label$2={channel:"Channel"},group$2={management:"Group Management",yourUuid:"Your UUID",inviteMember:"Invite Member",enterMemberUuid:"Enter member UUID",invite:"Invite",members:"Members",you:"You",leaveGroup:"Leave Group",removeMember:"Remove Member",leave:"Leave"},history$2={chatHistoryList:"Chat History List",noMessages:"No messages"},notification$2={characterLoaded:"New Character Loaded",characterSwitched:"Character switched",historyLoaded:"History loaded",newConversation:"New Conversation Started",newChatHistory:"New chat history created",historyDeleteSuccess:"History deleted successfully",historyDeleteFail:"Failed to delete history",twitchConnected:"Twitch connected",twitchDisconnected:"Twitch disconnected"},error$2={cameraApiNotSupported:"Camera API is not supported on this device",noCameraFound:"No camera found on this device",failedStartCamera:"Failed to start camera",failedStartBackgroundCamera:"Failed to start background camera",failedStartScreenCapture:"Failed to start screen capture",failedStartVAD:"Failed to start VAD",llmCantHear:"The LLM can't hear you.",audioPlayback:"Audio playback error",enterValidUuid:"Please enter a valid UUID",cannotDeleteCurrentHistory:"Cannot delete current chat history",failedCapture:"Failed to capture {{source}} frame",failedParseWebSocket:"Failed to parse WebSocket message",websocketNotOpen:"WebSocket is not open.",vadMisfire:"Voice detected but too brief. Try speaking louder/longer, or adjust settings (lower speech threshold, lower negative threshold, reduce redemption frames)."},aiState$2={idle:"idle","thinking-speaking":"thinking/speaking",interrupted:"interrupted",loading:"loading",listening:"listening",waiting:"waiting"},wsStatus$2={connected:"Connected",connecting:"Connecting",clickToReconnect:"Click to Reconnect"},enTranslation={common:common$2,settings:settings$2,footer:footer$2,sidebar:sidebar$2,label:label$2,group:group$2,history:history$2,notification:notification$2,error:error$2,aiState:aiState$2,wsStatus:wsStatus$2},common$1={save:"保存",cancel:"取消",settings:"设置",close:"关闭",accept:"接受"},settings$1={tabs:{general:"常规",live2d:"Live2D",asr:"识别",tts:"合成",agent:"代理",about:"关于",sampling:"采样",memory:"记忆"},general:{language:"语言",useCameraBackground:"使用摄像头背景",showSubtitle:"显示字幕",backgroundImage:"背景图片",customBgUrlPlaceholder:"输入图片URL",customBgUrl:"或输入自定义背景URL",characterPreset:"角色预设",wsUrl:"WebSocket地址",baseUrl:"基础URL",imageCompressionQuality:"图片压缩质量",imageMaxWidth:"图片最大宽度"},live2d:{pointerInteractive:"鼠标交互",scrollToResize:"启用滚轮缩放"},asr:{autoStopMic:"AI开始说话时自动关闭麦克风",autoStopMicDesc:"当AI开始说话时自动关闭麦克风，防止音频反馈",autoStartMicOnConvEnd:"对话结束时自动开启麦克风",autoStartMicOnConvEndDesc:"AI说话结束时自动重新开启麦克风，实现无缝对话",autoStartMicOn:"AI被打断时自动开启麦克风",autoStartMicOnDesc:"当您打断AI时自动重新开启麦克风，保持连续交互",positiveSpeechThreshold:"语音识别阈值",positiveSpeechThresholdDesc:"检测语音所需的最低置信度(1-100)，数值越高越能减少误检测",negativeSpeechThreshold:"负面语音阈值",negativeSpeechThresholdDesc:"停止语音检测的置信度下限(0-100)，数值越低检测越不敏感",redemptionFrames:"验证帧数",redemptionFramesDesc:"确认语音检测所需的连续帧数(1-100)，数值越高越能减少噪音触发"},agent:{allowProactiveSpeak:"允许AI主动发言",idleSecondsToSpeak:"空闲多少秒后AI可发言",allowButtonTrigger:"通过举手按钮提示AI发言"},about:{title:"Open LLM VTuber 前端",version:"版本",projectLinks:"项目链接",github:"GitHub",documentation:"文档",copyright:"版权",viewLicense:"查看许可证"},tts:{currentEngine:"当前TTS引擎",unknown:"未知",note:"选定TTS的可用选项"},sampling:{temperature:"温度",top_p:"Top P",frequency_penalty:"频率惩罚",presence_penalty:"存在惩罚",max_tokens:"最大tokens",seed:"种子",presets:{strict:"严格",balanced:"均衡",creative:"创意"}},memory:{enabled:"启用长期记忆",top_k:"Top‑K 检索",clear_current:"清除当前角色记忆",clear_all:"清除所有记忆"}},footer$1={typeYourMessage:"输入您的消息...",cameraControl:"点击启动摄像头",cameraStopping:"点击停止摄像头",screenControl:"点击开始屏幕共享",screenStopping:"点击停止屏幕共享"},sidebar$1={camera:"摄像头",screen:"屏幕",browser:"浏览器",live:"直播",stream:"直播流",noMessages:"暂无消息。开始对话吧！",noBrowserSession:"无活跃浏览器会话",browserSession:"浏览器会话"},label$1={channel:"频道"},group$1={management:"群组管理",yourUuid:"您的UUID",inviteMember:"邀请成员",enterMemberUuid:"输入成员UUID",invite:"邀请",members:"成员",you:"您",leaveGroup:"离开群组",removeMember:"移除成员",leave:"离开"},history$1={chatHistoryList:"聊天历史列表",noMessages:"暂无消息"},notification$1={characterLoaded:"新角色已加载",characterSwitched:"角色已切换",historyLoaded:"历史记录已加载",newConversation:"新对话已开始",newChatHistory:"新聊天历史已创建",historyDeleteSuccess:"历史记录删除成功",historyDeleteFail:"删除历史记录失败",twitchConnected:"Twitch已连接",twitchDisconnected:"Twitch已断开"},error$1={cameraApiNotSupported:"此设备不支持摄像头API",noCameraFound:"未找到摄像头设备",failedStartCamera:"启动摄像头失败",failedStartBackgroundCamera:"启动背景摄像头失败",failedStartScreenCapture:"启动屏幕捕获失败",failedStartVAD:"启动语音活动检测失败",llmCantHear:"AI无法听到您的声音",audioPlayback:"音频播放错误",enterValidUuid:"请输入有效的UUID",cannotDeleteCurrentHistory:"无法删除当前聊天记录",failedCapture:"捕获{{source}}帧失败",failedParseWebSocket:"解析WebSocket消息失败",websocketNotOpen:"WebSocket未连接",vadMisfire:"检测到语音但过于简短，请尝试提高音量或说得更久一些，或调整识别设置（降低语音识别阈值、降低负面语音阈值、减少验证帧数）"},aiState$1={idle:"空闲","thinking-speaking":"思考/说话中",interrupted:"已打断",loading:"加载中",listening:"聆听中",waiting:"等待中"},wsStatus$1={connected:"已连接",connecting:"连接中",clickToReconnect:"点击重新连接"},zhTranslation={common:common$1,settings:settings$1,footer:footer$1,sidebar:sidebar$1,label:label$1,group:group$1,history:history$1,notification:notification$1,error:error$1,aiState:aiState$1,wsStatus:wsStatus$1},common={save:"Сохранить",cancel:"Отмена",settings:"Настройки",close:"Закрыть",accept:"Принять"},settings={tabs:{general:"Общие",live2d:"Live2D",asr:"ASR",tts:"TTS",agent:"Агент",sampling:"Семплинг",memory:"Память",about:"О программе"},general:{language:"Язык",useCameraBackground:"Использовать камеру как фон",showSubtitle:"Показывать субтитры",backgroundImage:"Фоновое изображение",customBgUrlPlaceholder:"Введите URL изображения",customBgUrl:"Или введите пользовательский URL",characterPreset:"Пресет персонажа",wsUrl:"WebSocket URL",baseUrl:"Базовый URL",imageCompressionQuality:"Качество сжатия изображений",imageCompressionQualityPlaceholder:"Введите качество (0-100)",imageMaxWidth:"Макс ширина изображения",imageMaxWidthPlaceholder:"Введите ширину в пикселях"},live2d:{pointerInteractive:"Интерактивность указателем",scrollToResize:"Масштаб колесом мыши"},asr:{autoStopMic:"Авто-выкл. микрофон когда ИИ говорит",autoStopMicDesc:"Автоматически выключать микрофон во время речи ИИ, чтобы избежать петли",autoStartMicOnConvEnd:"Авто-вкл. микрофон по завершении",autoStartMicOnConvEndDesc:"Автоматически включать микрофон после завершения речи ИИ",autoStartMicOn:"Авто-вкл. микрофон при прерывании",autoStartMicOnDesc:"Автоматически включать микрофон, когда вы прерываете ИИ",positiveSpeechThreshold:"Порог распознавания речи",positiveSpeechThresholdDesc:"Мин. уверенность (1-100) для детекции речи",negativeSpeechThreshold:"Отрицательный порог речи",negativeSpeechThresholdDesc:"Ниже этого значения детекция останавливается",redemptionFrames:"Число подтверждающих кадров",redemptionFramesDesc:"Сколько подряд кадров нужно для подтверждения"},agent:{allowProactiveSpeak:"Разрешить проактивную речь",idleSecondsToSpeak:"Секунд простоя до речи",allowButtonTrigger:"Подсказывать ИИ кнопкой"},about:{title:"Open LLM VTuber Фронтенд",version:"Версия",projectLinks:"Ссылки",github:"GitHub",documentation:"Документация",license:"Лицензия",copyright:"Авторские права",viewLicense:"Открыть лицензию"},tts:{currentEngine:"Активный TTS движок",unknown:"Неизвестно",note:"Параметры зависят от выбранного TTS"},sampling:{temperature:"Температура",top_p:"Top P",frequency_penalty:"Штраф частоты",presence_penalty:"Штраф присутствия",max_tokens:"Макс. токенов",seed:"Seed",presets:{strict:"Строгий",balanced:"Баланс",creative:"Креатив"}},memory:{enabled:"Включить долговременную память",top_k:"Top‑K результатов",clear_current:"Очистить память персонажа",clear_all:"Очистить ВСЮ память"}},footer={typeYourMessage:"Введите сообщение...",cameraControl:"Нажмите, чтобы включить камеру",cameraStopping:"Нажмите, чтобы выключить камеру",screenControl:"Нажмите, чтобы начать захват экрана",screenStopping:"Нажмите, чтобы остановить захват экрана"},sidebar={camera:"Камера",screen:"Экран",browser:"Браузер",live:"Live",stream:"Стрим",noMessages:"Сообщений пока нет. Начните разговор!",noBrowserSession:"Нет активной сессии браузера",browserSession:"Сессия браузера"},group={management:"Управление группой",yourUuid:"Ваш UUID",inviteMember:"Пригласить участника",enterMemberUuid:"Введите UUID участника",invite:"Пригласить",members:"Участники",you:"Вы",leaveGroup:"Покинуть группу",removeMember:"Удалить участника",leave:"Выйти"},history={chatHistoryList:"История чатов",noMessages:"Нет сообщений"},label={channel:"Канал"},notification={characterLoaded:"Новый персонаж загружен",characterSwitched:"Персонаж переключен",historyLoaded:"История загружена",newConversation:"Начат новый диалог",newChatHistory:"Создана новая история чата",historyDeleteSuccess:"История удалена",historyDeleteFail:"Не удалось удалить историю",twitchConnected:"Twitch подключён",twitchDisconnected:"Twitch отключён"},error={cameraApiNotSupported:"API камеры не поддерживается этим устройством",noCameraFound:"Камера не найдена",failedStartCamera:"Не удалось запустить камеру",failedStartBackgroundCamera:"Не удалось запустить фоновую камеру",failedStartScreenCapture:"Не удалось запустить захват экрана",failedStartVAD:"Не удалось запустить VAD",llmCantHear:"ИИ не слышит вас",audioPlayback:"Ошибка воспроизведения аудио",enterValidUuid:"Введите корректный UUID",cannotDeleteCurrentHistory:"Нельзя удалить текущую историю",failedCapture:"Ошибка захвата кадра {{source}}",failedParseWebSocket:"Не удалось разобрать сообщение WebSocket",websocketNotOpen:"WebSocket не открыт",vadMisfire:"Обнаружена слишком короткая речь. Повысьте громкость/длительность или снизьте пороги."},aiState={idle:"ожидание","thinking-speaking":"думаю/говорю",interrupted:"прервано",loading:"загрузка",listening:"слушаю",waiting:"ожидание"},wsStatus={connected:"Подключено",connecting:"Подключение",clickToReconnect:"Нажмите для переподключения"},ruTranslation={common,settings,footer,sidebar,group,history,label,notification,error,aiState,wsStatus};instance.use(Browser).use(initReactI18next).init({fallbackLng:"en",debug:!1,defaultNS:"translation",ns:["translation"],resources:{en:{translation:enTranslation},zh:{translation:zhTranslation},ru:{translation:ruTranslation}},detection:{order:["localStorage","navigator"],caches:["localStorage"],htmlTag:document.documentElement},interpolation:{escapeValue:!1},react:{useSuspense:!0}});instance.on("languageChanged",i=>{localStorage.setItem("i18nextLng",i),document.documentElement.lang=i});const originalConsoleWarn=console.warn;console.warn=(...i)=>{typeof i[0]=="string"&&i[0].includes("onnxruntime")||originalConsoleWarn.apply(console,i)};const originalConsoleError=console.error,errorMessagesToIgnore=["Warning: Failed"];console.error=(...i)=>{typeof i[0]=="string"&&errorMessagesToIgnore.some(s=>i[0].startsWith(s))||originalConsoleError.apply(console,i)};typeof window<"u"&&(window.getLAppAdapter=()=>LAppAdapter.getInstance(),window.getLive2DManager=()=>{var o,s;return(s=(o=window.LAppLive2DManager)==null?void 0:o.getInstance)==null?void 0:s.call(o)},new Promise((o,s)=>{const a=document.createElement("script");a.src="./libs/live2dcubismcore.js",a.onload=()=>{console.log("Live2D Cubism Core loaded successfully."),o()},a.onerror=_=>{console.error("Failed to load Live2D Cubism Core:",_),s(_)},document.head.appendChild(a)}).then(()=>{createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}))}).catch(o=>{console.error("Application failed to start due to script loading error:",o);const s=document.getElementById("root");s&&(s.innerHTML="Error loading required components. Please check the console for details.")}));
